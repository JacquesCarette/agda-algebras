% -*- TeX-master: "ualib-part1.tex" -*-
%%% Local Variables: 
%%% mode: latex
%%% TeX-engine: 'xetex
%%% End:
This module defines (or imports) the most basic and important types of \defn{Martin-LoÃàf dependent type theory} (MLTT).  Although this is standard, we take this opportunity to highlight aspects of the \ualib syntax that may differ from that of ``standard Agda.''
% Although we don't discuss all of the types on which the library depends here, Appendix Section~\ref{sec:imports-from-type} provides a comprehensive list of the components from \MartinEscardo's \typetopology library~\cite{MHE} that are imported at one place or another in the \ualib.

\subsubsection{Logical foundations}\label{sec:logical-foundations}
% Mainly for the benefit of readers who are not yet proficient in Agda or type theory, we briefly describe the type theoretic foundations of the \ualib, including the most important basic types and features that are used throughout the library. 
The \ualib is based on a minimal version of \mltt that is the same or very close to the type theory on which \MartinEscardo's \TypeTopology Agda library is based.
% This is also the type theory that \escardo taught us in the short course \ufcourse at the Midlands Graduate School in the Foundations of Computing Science at University of Birmingham in 2019.}
We won't go into great detail here because there are already other very nice resources available, such as the section \href{https://www.cs.bham.ac.uk/~mhe/HoTT-UF-in-Agda-Lecture-Notes/HoTT-UF-Agda.html\#mlttinagda}{A spartan Martin-L√∂f type theory} of the lecture notes by \escardo just mentioned, the \href{https://ncatlab.org/nlab/show/Martin-L\%C3\%B6f+dependent+type+theory}{ncatlab entry on Martin-LoÃàf dependent type theory}, as well as the HoTT Book~\cite{HoTT}.

We begin by noting that only a very small collection of objects is assumed at the jumping-off point for MLTT. We have the \defn{primitive types} (\ad ùüò, \ad ùüô, and \ad ‚Ñï, denoting the empty type, one-element type, and natural numbers), the \defn{type formers} (\ad +, \ad Œ†, \ad Œ£, \ad{Id}, denoting \defn{binary sum}, \defn{product}, \defn{sum}, and the \defn{identity} type), and an infinite collection of \defn{type universes} (types of types) and universe variables to denote them.  Like Escard\'o's, our universe variables are typically upper-case caligraphic letters from the latter half of the English alphabet (e.g., \ab ùì§, \ab ùì•, \ab ùì¶, etc.).

\paragraph*{Specifying logical foundations in Agda}
An Agda program typically begins by setting some options and by importing types from existing Agda libraries.
Options are specified with the \AgdaKeyword{OPTIONS} \emph{pragma} and control the way Agda behaves by, for example, specifying the logical axioms and deduction rules we wish to assume when the program is type-checked to verify its correctness. Every Agda program in the \ualib begins with the following line.
\ccpad
\begin{code}[number=code:options]
\>[0]\AgdaSymbol{\{-\#}\AgdaSpace{}%
\AgdaKeyword{OPTIONS}\AgdaSpace{}%
\AgdaPragma{--without-K}\AgdaSpace{}%
\AgdaPragma{--exact-split}\AgdaSpace{}%
\AgdaPragma{--safe}\AgdaSpace{}%
\AgdaSymbol{\#-\}}\<%
\end{code}
\ccpad
These options control certain foundational assumptions that Agda makes when type-checking the program to verify its correctness.
\begin{itemize}
\item \AgdaPragma{--without-K} disables \axiomk; see~\cite{agdaref-axiomk};
\item \AgdaPragma{--exact-split} makes Agda accept only definitions that are \emph{judgmental} equalities; see~\cite{agdatools-patternmatching};
\item \AgdaPragma{--safe} ensures that nothing is postulated outright---every non-MLTT axiom has to be an explicit assumption (e.g., an argument to a function or module); see~\cite{agdaref-safeagda} and~\cite{agdatools-patternmatching}.
\end{itemize}
%% \end{enumerate}
Throughout this paper we take assumptions 1--3 for granted without mentioning them explicitly.


\subsubsection{Agda Modules}\label{sec:agda-modules}
The \ak{OPTIONS} pragma is usually followed by the start of a module.  For example, the \ualibhtml{Prelude.Preliminaries} module begins with the following line.
\ccpad
\begin{code}%
\>[0]\AgdaKeyword{module}\AgdaSpace{}%
\AgdaModule{Prelude.Preliminaries}\AgdaSpace{}%
\AgdaKeyword{where}\<%
\end{code}
\ccpad
Sometimes we want to declare parameters that will be assumed throughout the module.  For instance, when working with algebras, we often assume they come from a particular fixed signature, and this signature is something we could fix as a parameter at the start of a module. Thus, we might start an \defn{anonymous submodule} of the main module with a line like\footnote{The \af{Signature} type will be defined in Section~\ref{sec:oper-sign}.}
\ccpad
\begin{code}%
\>[0]\AgdaKeyword{module}\AgdaSpace{}%
\AgdaUnderscore\AgdaSpace{}%
\AgdaSymbol{\{}\AgdaBound{ùëÜ}\AgdaSpace{}%
\AgdaSymbol{:}\AgdaSpace{}%
\AgdaFunction{Signature}\AgdaSpace{}%
\AgdaBound{ùìû}\AgdaSpace{}%
\AgdaBound{ùì•}\AgdaSymbol{\}}\AgdaSpace{}%
\AgdaKeyword{where}\<%
\end{code}
\ccpad
Such a module is called \emph{anonymous} because an underscore appears in place of a module name. Agda determines where a submodule ends by indentation.  This can take some getting used to, but after a short time it will feel very natural. The main module of a file must have the same name as the file, without the \texttt{.agda} or \texttt{.lagda} file extension.  The code inside the main module is not indented. Submodules are declared inside the main module and code inside these submodules must be indented to a fixed column.  As long as the code is indented, Agda considers it part of the submodule.  A submodule is exited as soon as a nonindented line of code appears.



\subsubsection{Agda Universes}\label{universes}

For the very small amount of background we require about the notion of \emph{type universe} (or \emph{level}), we refer the reader to the brief \href{https://agda.readthedocs.io/en/v2.6.1.3/language/universe-levels.html}{section
on universe-levels} in the \href{https://agda.readthedocs.io/en/v2.6.1.3/language/universe-levels.html}{Agda
documentation}.\footnote{See \url{https://agda.readthedocs.io/en/v2.6.1.3/language/universe-levels.html}.}

Throughout the \agdaualib we use many of the nice tools that Mart√≠n Escard√≥ has developed and made available in the \typetopology
repository of Agda code for the \emph{Univalent Foundations} of mathematics.\footnote{%
Escard√≥ has written an outstanding set of notes called
\href{https://www.cs.bham.ac.uk/~mhe/HoTT-UF-in-Agda-Lecture-Notes/index.html}{Introduction to Univalent Foundations of Mathematics with Agda}, which we highly recommend to anyone looking for more details than we provide
here about \mltt and Univalent Foundations/HoTT in Agda.~\cite{MHE}.}
The first of these is the \am{Universes} module which we import as follows.
\ccpad
\begin{code}%
\>[0]\AgdaKeyword{open}\AgdaSpace{}%
\AgdaKeyword{import}\AgdaSpace{}%
\AgdaModule{Universes}\AgdaSpace{}%
\AgdaKeyword{public}\<%
\end{code}
\ccpad
Since we use the \ak{public} directive, the \am{Universes} module will be available to all modules that import
the present module (\ualibhtml{Prelude.Preliminaries}).

The \am{Universes} module includes a number of symbols used to denote universes in Agda. In particular, following Escard√≥, we refer to universes using capitalized script letters from near the end of the alphabet, e.g., \ab ùì§, \ab ùì•, \ab ùì¶, \ab ùìß, \ab ùì®, \abùì©, etc. To this list we add one more that we will use later to denote the universe level of operation symbol types (defined in the \ualibhtml{Algebras.Signatures} module).
\ccpad
\begin{code}%
\>[0]\AgdaKeyword{variable}\AgdaSpace{}%
\AgdaGeneralizable{ùìû}\AgdaSpace{}%
\AgdaSymbol{:}\AgdaSpace{}%
\AgdaPostulate{Universe}\<%
\end{code}
\ccpad
The \am{Universes} module also provides elegant notation for the few primitive operations on universes that Agda supports. Specifically, the \af Ãá operator maps a universe level \ab ùì§ to the type \ad{Set}~\ab ùì§, and the latter has type \apt{Set}~(\apr{lsuc}~\ab ùì§). The Agda level \apr{lzero} is renamed \apr{ùì§‚ÇÄ}, so \apr{ùì§‚ÇÄ}\af Ãá is an alias for \apr{Set}~\apr{lzero}. Thus, \ab ùì§\af Ãá is simply an alias for \apr{Set}~\ab ùì§, and we have \apr{Set}~\ab ùì§~\as :~\apr{Set}~(\apr{lsuc}~\ab ùì§). Finally, \apr{Set}~(\apr{lsuc}~\apr{lzero}) is equivalent to \apr{Set}~\apr{ùì§‚ÇÄ}\af ‚Å∫, which we (and Escard√≥) denote by \apr{ùì§‚ÇÄ}\af ‚Å∫\af Ãá.

% The following dictionary translates between standard Agda syntax and Type Topology/UALib notation.

% \begin{Shaded}
% \begin{Highlighting}[]
% \NormalTok{Agda              Type Topology/UALib}
% \NormalTok{====              ===================}
% \NormalTok{Level             Universe}
% \NormalTok{lzero             ùì§‚ÇÄ}
% \NormalTok{ùì§ }\OtherTok{:}\NormalTok{ Level         ùì§ }\OtherTok{:}\NormalTok{ Universe}
% \DataTypeTok{Set}\NormalTok{ lzero         ùì§‚ÇÄ Ãá}
% \DataTypeTok{Set}\NormalTok{ ùì§             ùì§ Ãá}
% \NormalTok{lsuc lzero        ùì§‚ÇÄ ‚Å∫}
% \NormalTok{lsuc ùì§            ùì§ ‚Å∫}
% \DataTypeTok{Set} \OtherTok{(}\NormalTok{lsuc lzero}\OtherTok{)}\NormalTok{  ùì§‚ÇÄ ‚Å∫ Ãá}
% \DataTypeTok{Set} \OtherTok{(}\NormalTok{lsuc ùì§}\OtherTok{)}\NormalTok{      ùì§ ‚Å∫ Ãá}
% \NormalTok{Setœâ              ùì§œâ}
% \end{Highlighting}
% \end{Shaded}

To justify the introduction of this somewhat nonstandard notation for universe levels, Escard√≥ points out that the Agda library uses \apr{Level} for universes (so what we write as \ab ùì§\af Ãá is written \apr{Set}~\ab ùì§ in standard Agda), but in univalent mathematics the types in \ab ùì§\af Ãá need not be sets, so the standard Agda notation can be
a bit confusing, especially to newcomers.

There will be many occasions calling for a type living in the universe that is the least upper bound of two universes, say, \ab ùì§\af Ãá and \ab ùì•\af Ãá. The universe \ab ùì§~\apr ‚äî~\ab ùì•\af Ãá denotes this least upper bound. Here \ab ùì§~\apr ‚äî~\ab ùì• is used to denote the universe level corresponding to the least upper bound of the levels \ab ùì§ and \ab ùì•, where the \apr{\AgdaUnderscore{}‚äî\AgdaUnderscore{}} is an Agda primitive designed for precisely this purpose.


\subsubsection{Dependent types}\label{sec:dependent-types}

\newcommand\FstUnder{\AgdaOperator{\AgdaFunction{‚à£\AgdaUnderscore{}‚à£}}\xspace}
\newcommand\SndUnder{\AgdaOperator{\AgdaFunction{‚à•\AgdaUnderscore{}‚à•}}\xspace}
% Convenient notations for the first and second projections out of a product are \FstUnder and \SndUnder, respectively. However, to improve readability or to avoid notation clashes with other modules, we sometimes use more standard alternatives, such as \AgdaFunction{pr‚ÇÅ} and \AgdaFunction{pr‚ÇÇ}, or \AgdaFunction{fst} and \AgdaFunction{snd}, or some combination of these. The definitions are standard so we omit them.\footnote{For details see~\cite{DeMeo:2021} or \ualiburl{Prelude.Preliminaries}.}








\paragraph*{Sigma types (dependent pairs)} %\label{ssec:dependent-pairs}

Given universes \ab ùì§ and \ab ùì•, a type \ab{A} \as : \ab ùì§\af Ãá, and a type family \ab{B}~\as :~\ab A~\as ‚Üí~\ab ùì•\af Ãá, the \defn{Sigma type} (or \defn{dependent pair type}, or \defn{dependent product type}) is denoted by \ar{Œ£}~\abt{x}{A} ,~\ab B~\ab x and generalizes the Cartesian product \ab A~\af √ó~\ab B by allowing the type \ab{B x} of the second argument of the ordered pair (\ab x \af , \ab y) to depend on the value \ab{x} of the first. That is, an inhabitant of the type \ar{Œ£}~\abt{x}{A}~,~\ab B~\ab x is a pair (\ab{x}~\af ,~\ab y) such that \abt{x}{A} and \abt{y}{B x}.

The dependent product type is defined in the \typetopology in a standard way. For pedagogical purposes we repeat the definition here.\footnote{In the \ualib we put such redundant definitions inside ``hidden'' modules so that they doesn't conflict with the original definitions which we import and use. It may seem odd to define something in a hidden module only to import and use an alternative definition, but we do this in order to exhibit all of the types on which the \ualib depends while ensuring that this cannot be misinterpreted as a claim to originality.}
\ccpad
\begin{code}%
\>[1]\AgdaKeyword{record}\AgdaSpace{}%
\AgdaRecord{Œ£}\AgdaSpace{}%
\AgdaSymbol{\{}\AgdaBound{ùì§}\AgdaSpace{}%
\AgdaBound{ùì•}\AgdaSymbol{\}}\AgdaSpace{}%
\AgdaSymbol{\{}\AgdaBound{A}\AgdaSpace{}%
\AgdaSymbol{:}\AgdaSpace{}%
\AgdaBound{ùì§}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{Ãá}}\AgdaSpace{}%
\AgdaSymbol{\}}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaBound{B}\AgdaSpace{}%
\AgdaSymbol{:}\AgdaSpace{}%
\AgdaBound{A}\AgdaSpace{}%
\AgdaSymbol{‚Üí}\AgdaSpace{}%
\AgdaBound{ùì•}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{Ãá}}\AgdaSpace{}%
\AgdaSymbol{)}\AgdaSpace{}%
\AgdaSymbol{:}\AgdaSpace{}%
\AgdaBound{ùì§}\AgdaSpace{}%
\AgdaOperator{\AgdaPrimitive{‚äî}}\AgdaSpace{}%
\AgdaBound{ùì•}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{Ãá}}%
\>[53]\AgdaKeyword{where}\<%
\\
\>[1][@{}l@{\AgdaIndent{0}}]%
\>[2]\AgdaKeyword{constructor}\AgdaSpace{}%
\AgdaOperator{\AgdaInductiveConstructor{\AgdaUnderscore{},\AgdaUnderscore{}}}\<%
\\
%
\>[2]\AgdaKeyword{field}\<%
\\
\>[2][@{}l@{\AgdaIndent{0}}]%
\>[3]\AgdaField{pr‚ÇÅ}\AgdaSpace{}%
\AgdaSymbol{:}\AgdaSpace{}%
\AgdaBound{A}\<%
\\
%
\>[3]\AgdaField{pr‚ÇÇ}\AgdaSpace{}%
\AgdaSymbol{:}\AgdaSpace{}%
\AgdaBound{B}\AgdaSpace{}%
\AgdaField{pr‚ÇÅ}\<%
\end{code}
\ccpad
Agda's default syntax for this type is \AgdaRecord{Œ£}\sP{3}\AgdaSymbol{Œª}(\ab x\sP{3}Íûâ\sP{3}\ab A)\sP{3}\as ‚Üí\sP{3}\ab B, but we prefer the notation \AgdaRecord{Œ£}~\abt{x}{A}~,~\ab B, which is closer to the standard syntax described in the preceding paragraph. Fortunately, the \typetopology library makes the preferred notation available with the following type definition and \ak{syntax} declaration (see~\cite[Œ£ types]{MHE}).\footnote{\label{fncolon}\textbf{Attention!} The symbol \af Íûâ that appears in the special syntax defined here for the \AgdaFunction{Œ£} type, and below for the \af{Œ†} type, is not the ordinary colon; rather, it is the symbol obtained by typing \texttt{\textbackslash{}:4} in \agdatwomode.} 
\ccpad
\begin{code}%
\>[1]\AgdaFunction{-Œ£}\AgdaSpace{}%
\AgdaSymbol{:}\AgdaSpace{}%
\AgdaSymbol{\{}\AgdaBound{ùì§}\AgdaSpace{}%
\AgdaBound{ùì•}\AgdaSpace{}%
\AgdaSymbol{:}\AgdaSpace{}%
\AgdaPostulate{Universe}\AgdaSymbol{\}}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaBound{A}\AgdaSpace{}%
\AgdaSymbol{:}\AgdaSpace{}%
\AgdaBound{ùì§}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{Ãá}}\AgdaSpace{}%
\AgdaSymbol{)}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaBound{B}\AgdaSpace{}%
\AgdaSymbol{:}\AgdaSpace{}%
\AgdaBound{A}\AgdaSpace{}%
\AgdaSymbol{‚Üí}\AgdaSpace{}%
\AgdaBound{ùì•}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{Ãá}}\AgdaSpace{}%
\AgdaSymbol{)}\AgdaSpace{}%
\AgdaSymbol{‚Üí}\AgdaSpace{}%
\AgdaBound{ùì§}\AgdaSpace{}%
\AgdaOperator{\AgdaPrimitive{‚äî}}\AgdaSpace{}%
\AgdaBound{ùì•}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{Ãá}}\<%
\\
%
\>[1]\AgdaFunction{-Œ£}\AgdaSpace{}%
\AgdaBound{A}\AgdaSpace{}%
\AgdaBound{B}\AgdaSpace{}%
\AgdaSymbol{=}\AgdaSpace{}%
\AgdaRecord{Œ£}\AgdaSpace{}%
\AgdaBound{B}\<%
\\
%
\\[\AgdaEmptyExtraSkip]%
%
\>[1]\AgdaKeyword{syntax}\AgdaSpace{}%
\AgdaFunction{-Œ£}\AgdaSpace{}%
\AgdaBound{A}\AgdaSpace{}%
\AgdaSymbol{(Œª}\AgdaSpace{}%
\AgdaBound{x}\AgdaSpace{}%
\AgdaSymbol{‚Üí}\AgdaSpace{}%
\AgdaBound{B}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaSymbol{=}\AgdaSpace{}%
\AgdaFunction{Œ£}\AgdaSpace{}%
\AgdaBound{x}\AgdaSpace{}%
\AgdaFunction{Íûâ}\AgdaSpace{}%
\AgdaBound{A}\AgdaSpace{}%
\AgdaFunction{,}\AgdaSpace{}%
\AgdaBound{B}\<%
\end{code}
\scpad
% \textbf{WARNING!} The symbol \af Íûâ is not the same as \as : despite how similar they may look. The correct colon in the expression \ar{Œ£}~\ab x~\af Íûâ~\ab A~\af ,~\ab y, above is obtained by typing \texttt{\textbackslash{}:4} in \agdamode.

A special case of the Sigma type is the one in which the type \ab{B} doesn't depend on \ab{A}. This is the usual Cartesian product, defined in Agda as follows.
\ccpad
\begin{code}%
\>[1]\AgdaOperator{\AgdaFunction{\AgdaUnderscore{}√ó\AgdaUnderscore{}}}\AgdaSpace{}%
\AgdaSymbol{:}\AgdaSpace{}%
\AgdaGeneralizable{ùì§}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{Ãá}}\AgdaSpace{}%
\AgdaSymbol{‚Üí}\AgdaSpace{}%
\AgdaGeneralizable{ùì•}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{Ãá}}\AgdaSpace{}%
\AgdaSymbol{‚Üí}\AgdaSpace{}%
\AgdaGeneralizable{ùì§}\AgdaSpace{}%
\AgdaOperator{\AgdaPrimitive{‚äî}}\AgdaSpace{}%
\AgdaGeneralizable{ùì•}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{Ãá}}\<%
\\
%
\>[1]\AgdaBound{A}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{√ó}}\AgdaSpace{}%
\AgdaBound{B}\AgdaSpace{}%
\AgdaSymbol{=}\AgdaSpace{}%
\AgdaFunction{Œ£}\AgdaSpace{}%
\AgdaBound{x}\AgdaSpace{}%
\AgdaFunction{Íûâ}\AgdaSpace{}%
\AgdaBound{A}\AgdaSpace{}%
\AgdaFunction{,}\AgdaSpace{}%
\AgdaBound{B}\<%
\end{code}





\paragraph*{Pi types (dependent functions)} %\label{ssec:dependent-functions}
Given universes \ab ùì§ and \ab ùì•, a type \ab{A} \as : \ab ùì§\af Ãá, and a type family \ab{B}~\as :~\ab A~\as ‚Üí~\ab ùì•\af Ãá, the \defn{Pi type} (or \defn{dependent function type}) is denoted by \ar Œ†~\abt{x}{A} ,~\ab B~\ab x and generalizes the function type \ab A~\as ‚Üí~\ab B by letting the type \ab B~\ab x of the codomain depend on the value \ab x of the domain type. The dependent function type is defined in the \typetopology in a standard way.  For the reader's benefit, however, we repeat the definition here.  (In the \ualib this definition is included in a named or ``hidden'' module.)
\ccpad
\begin{code}%
\>[1]\AgdaFunction{Œ†}\AgdaSpace{}%
\AgdaSymbol{:}\AgdaSpace{}%
\AgdaSymbol{\{}\AgdaBound{A}\AgdaSpace{}%
\AgdaSymbol{:}\AgdaSpace{}%
\AgdaBound{ùì§}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{Ãá}}\AgdaSpace{}%
\AgdaSymbol{\}}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaBound{A}\AgdaSpace{}%
\AgdaSymbol{:}\AgdaSpace{}%
\AgdaBound{A}\AgdaSpace{}%
\AgdaSymbol{‚Üí}\AgdaSpace{}%
\AgdaBound{ùì¶}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{Ãá}}\AgdaSpace{}%
\AgdaSymbol{)}\AgdaSpace{}%
\AgdaSymbol{‚Üí}\AgdaSpace{}%
\AgdaBound{ùì§}\AgdaSpace{}%
\AgdaOperator{\AgdaPrimitive{‚äî}}\AgdaSpace{}%
\AgdaBound{ùì¶}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{Ãá}}\<%
\\
%
\>[1]\AgdaFunction{Œ†}\AgdaSpace{}%
\AgdaSymbol{\{}\AgdaBound{A}\AgdaSymbol{\}}\AgdaSpace{}%
\AgdaBound{A}\AgdaSpace{}%
\AgdaSymbol{=}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaBound{x}\AgdaSpace{}%
\AgdaSymbol{:}\AgdaSpace{}%
\AgdaBound{A}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaSymbol{‚Üí}\AgdaSpace{}%
\AgdaBound{A}\AgdaSpace{}%
\AgdaBound{x}\<%
\end{code}
\ccpad
To make the syntax for \af{Œ†} conform to the standard notation for Pi types, \escardo uses the same trick as the one used above for Sigma types.\cref{fncolon}
\ccpad
\begin{code}
\>[1]\AgdaFunction{-Œ†}\AgdaSpace{}%
\AgdaSymbol{:}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaBound{A}\AgdaSpace{}%
\AgdaSymbol{:}\AgdaSpace{}%
\AgdaBound{ùì§}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{Ãá}}\AgdaSpace{}%
\AgdaSymbol{)(}\AgdaBound{B}\AgdaSpace{}%
\AgdaSymbol{:}\AgdaSpace{}%
\AgdaBound{A}\AgdaSpace{}%
\AgdaSymbol{‚Üí}\AgdaSpace{}%
\AgdaBound{ùì¶}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{Ãá}}\AgdaSpace{}%
\AgdaSymbol{)}\AgdaSpace{}%
\AgdaSymbol{‚Üí}\AgdaSpace{}%
\AgdaBound{ùì§}\AgdaSpace{}%
\AgdaOperator{\AgdaPrimitive{‚äî}}\AgdaSpace{}%
\AgdaBound{ùì¶}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{Ãá}}\<%
\\
%
\>[1]\AgdaFunction{-Œ†}\AgdaSpace{}%
\AgdaBound{A}\AgdaSpace{}%
\AgdaBound{B}\AgdaSpace{}%
\AgdaSymbol{=}\AgdaSpace{}%
\AgdaFunction{Œ†}\AgdaSpace{}%
\AgdaBound{B}\<%
\\
%
\\[\AgdaEmptyExtraSkip]%
\>[1]\AgdaKeyword{syntax}\AgdaSpace{}%
\AgdaFunction{-Œ†}\AgdaSpace{}%
\AgdaBound{A}\AgdaSpace{}%
\AgdaSymbol{(Œª}\AgdaSpace{}%
\AgdaBound{x}\AgdaSpace{}%
\AgdaSymbol{‚Üí}\AgdaSpace{}%
\AgdaBound{b}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaSymbol{=}\AgdaSpace{}%
\AgdaFunction{Œ†}\AgdaSpace{}%
\AgdaBound{x}\AgdaSpace{}%
\AgdaFunction{Íûâ}\AgdaSpace{}%
\AgdaBound{A}\AgdaSpace{}%
\AgdaFunction{,}\AgdaSpace{}%
\AgdaBound{b}\<%
\end{code}
\ccpad
Once we have studied the types, defined in the \typetopology library and repeated here for illustration purposes, the original definitions are imported like so.
\ccpad
\begin{code}%
\>[0]\AgdaKeyword{open}\AgdaSpace{}%
\AgdaKeyword{import}\AgdaSpace{}%
\AgdaModule{Sigma-Type}\AgdaSpace{}\<%
\\
\>[0]\AgdaKeyword{open}\AgdaSpace{}%
\AgdaKeyword{import}\AgdaSpace{}%
\AgdaModule{MGS-MLTT}\AgdaSpace{}%
\AgdaKeyword{using}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaFunction{pr‚ÇÅ}\AgdaSymbol{;}\AgdaSpace{}%
\AgdaFunction{pr‚ÇÇ}\AgdaSymbol{;}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{\AgdaUnderscore{}√ó\AgdaUnderscore{}}}\AgdaSymbol{;}\AgdaSpace{}%
\AgdaFunction{-Œ£}\AgdaSymbol{;}\AgdaSpace{}%
\AgdaFunction{Œ†}\AgdaSymbol{;}\AgdaSpace{}%
\AgdaFunction{-Œ†}\AgdaSymbol{)}\<%
\end{code}
\ccpad
We use the \ak{public} directive so that the types are available to all modules that import the present module.
% the \ualibhtml{Prelude.Preliminaries} module.

\paragraph*{Notation for the first and second projections}

The definition of \ar Œ£ (and thus \af √ó) includes the fields  \af{pr‚ÇÅ} and \af{pr‚ÇÇ} representing the first and second projections out of the product.  Sometimes we prefer to denote these projections by \af{‚à£\_‚à£} and \af{‚à•\_‚à•}, respectively. However, for emphasis or readability we alternate between these and the following standard notations: \af{pr‚ÇÅ} and \af{fst} for the first projection, \af{pr‚ÇÇ} and \af{snd} for the second.  We define these alternative notations for projections as follows.\footnote{We put these definitions inside an \defn{anonymous module}, which starts with the \ak{module} keyword followed by an underscore (instead of a module name). The purpose is to move some of the postulated typing judgments---the ``parameters'' of the module (e.g., \ab ùì§ \as : \AgdaPostulate{Universe})---out of the way so they don't obfuscate the definitions inside the module. N.B. In library documentation like the present paper we often omit such module directives, while the collection of html pages at \ualibdotorg---most current and comprehensive documentation of the \ualib---omits nothing.}
% \footnote{We have made a concerted effort to avoid duplicating types that are already provided elsewhere, such as the \typetopology library.  We occasionally repeat the definitions of such types for pedagogical purposes, but we always import and work with the original definitions in order to make the sources known and to credit the original authors.}
\ccpad
\begin{code}%
\>[0]\AgdaKeyword{module}\AgdaSpace{}%
\AgdaModule{\AgdaUnderscore{}}\AgdaSpace{}%
\AgdaSymbol{\{}\AgdaBound{ùì§}\AgdaSpace{}%
\AgdaSymbol{:}\AgdaSpace{}%
\AgdaPostulate{Universe}\AgdaSymbol{\}}\AgdaSpace{}%
\AgdaKeyword{where}\<%
\\
%
\\[\AgdaEmptyExtraSkip]%
\>[0][@{}l@{\AgdaIndent{0}}]%
\>[1]\AgdaOperator{\AgdaFunction{‚à£\AgdaUnderscore{}‚à£}}\AgdaSpace{}%
\AgdaFunction{fst}\AgdaSpace{}%
\AgdaSymbol{:}\AgdaSpace{}%
\AgdaSymbol{\{}\AgdaBound{A}\AgdaSpace{}%
\AgdaSymbol{:}\AgdaSpace{}%
\AgdaBound{ùì§}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{Ãá}}\AgdaSpace{}%
\AgdaSymbol{\}\{}\AgdaBound{B}\AgdaSpace{}%
\AgdaSymbol{:}\AgdaSpace{}%
\AgdaBound{A}\AgdaSpace{}%
\AgdaSymbol{‚Üí}\AgdaSpace{}%
\AgdaGeneralizable{ùì•}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{Ãá}}\AgdaSymbol{\}}\AgdaSpace{}%
\AgdaSymbol{‚Üí}\AgdaSpace{}%
\AgdaRecord{Œ£}\AgdaSpace{}%
\AgdaBound{B}\AgdaSpace{}%
\AgdaSymbol{‚Üí}\AgdaSpace{}%
\AgdaBound{A}\<%
\\
%
\>[1]\AgdaOperator{\AgdaFunction{‚à£}}\AgdaSpace{}%
\AgdaBound{x}\AgdaSpace{}%
\AgdaOperator{\AgdaInductiveConstructor{,}}\AgdaSpace{}%
\AgdaBound{y}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{‚à£}}\AgdaSpace{}%
\AgdaSymbol{=}\AgdaSpace{}%
\AgdaBound{x}\<%
\\
%
\>[1]\AgdaFunction{fst}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaBound{x}\AgdaSpace{}%
\AgdaOperator{\AgdaInductiveConstructor{,}}\AgdaSpace{}%
\AgdaBound{y}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaSymbol{=}\AgdaSpace{}%
\AgdaBound{x}\<%
\\
%
\\[\AgdaEmptyExtraSkip]%
%
\>[1]\AgdaOperator{\AgdaFunction{‚à•\AgdaUnderscore{}‚à•}}\AgdaSpace{}%
\AgdaFunction{snd}\AgdaSpace{}%
\AgdaSymbol{:}\AgdaSpace{}%
\AgdaSymbol{\{}\AgdaBound{A}\AgdaSpace{}%
\AgdaSymbol{:}\AgdaSpace{}%
\AgdaBound{ùì§}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{Ãá}}\AgdaSpace{}%
\AgdaSymbol{\}\{}\AgdaBound{B}\AgdaSpace{}%
\AgdaSymbol{:}\AgdaSpace{}%
\AgdaBound{A}\AgdaSpace{}%
\AgdaSymbol{‚Üí}\AgdaSpace{}%
\AgdaGeneralizable{ùì•}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{Ãá}}\AgdaSpace{}%
\AgdaSymbol{\}}\AgdaSpace{}%
\AgdaSymbol{‚Üí}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaBound{z}\AgdaSpace{}%
\AgdaSymbol{:}\AgdaSpace{}%
\AgdaRecord{Œ£}\AgdaSpace{}%
\AgdaBound{B}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaSymbol{‚Üí}\AgdaSpace{}%
\AgdaBound{B}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaFunction{pr‚ÇÅ}\AgdaSpace{}%
\AgdaBound{z}\AgdaSymbol{)}\<%
\\
%
\>[1]\AgdaOperator{\AgdaFunction{‚à•}}\AgdaSpace{}%
\AgdaBound{x}\AgdaSpace{}%
\AgdaOperator{\AgdaInductiveConstructor{,}}\AgdaSpace{}%
\AgdaBound{y}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{‚à•}}\AgdaSpace{}%
\AgdaSymbol{=}\AgdaSpace{}%
\AgdaBound{y}\<%
\\
%
\>[1]\AgdaFunction{snd}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaBound{x}\AgdaSpace{}%
\AgdaOperator{\AgdaInductiveConstructor{,}}\AgdaSpace{}%
\AgdaBound{y}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaSymbol{=}\AgdaSpace{}%
\AgdaBound{y}\<%
\end{code}
\ccpad
