<!DOCTYPE html>
<html>
  <head>
    <title>The Agda Universal Algebra Library (UALib) </title>
    <link rel="stylesheet" type="text/css" href="css/Agda.css">
  </head>
  <body>
	<style>
	body, html {
        width: 800px;
        margin:0 auto;
	}
	code {
	color: MidnightBlue;
	}
	</style>
    <div class="container">
      <!--

LICENSE:

The software in this file is subject to the GNU General Public License v3.0.

The text and software is copyright of the author. It can be used for scholarly purposes subject to the usual academic conventions of citation.

-->

<!--

  * The file ualib.lagda is *not* meant to be read by people.

  * It is used to automatically generate the following files, which are meant to be read by people:

    - https://ualib.org/ualib.html

    - https://ualib.org/ualib.pdf

  * The html file is better rendered and probably easier to read than the pdf file, but both have internal links, including to the Agda definitions.

  * Warning: this file takes a long time to be checked by Agda.  We are avoiding a modular development so that a single pdf file with internal links, including to the Agda definitions, can be produced. This works by first using Agda to generate html for the Agda code, then using jekyll to process the markdown code to generate html for everything else, and finally using google-chrome in headless mode to generate pdf from the html code.  See the makefile.

-->

<h1 id="the-agda-universal-algebra-library-ualib">The Agda Universal Algebra Library (UALib)</h1>

<p>version of 16 October 2020, 11:58.</p>

<ul>
  <li><a href="https://williamdemeo.gitlab.io">William DeMeo</a>, Department of Algebra, Faculty of Mathematics and Physics, Charles University, Czech Republic</li>
  <li><a href="https://hyeyoungshin.github.io">Hyeyoung Shin</a>, Faculty of Information Technology, Czech Technical University, Czech Republic</li>
  <li><a href="http://www.cs.cmu.edu/~ssomayya/">Siva Somayyajula</a>, Department of Computer Science, Carnegie Mellon University, USA</li>
</ul>

<hr />

<p><a href="ualib.html#contents"><sub>Table of contents ⇓</sub></a></p>
<h2 id="preface">Preface</h2>

<p>To support formalization in type theory of research level mathematics in universal algebra and related fields, we are developing a software library, called the <a href="https://github.com/UniversalAlgebra/agda-ualib/">Agda Universal Algebra Library</a> (<a href="https://ualib.org">UALib</a> ). Our library contains formal statements and proofs of some of the core, foundational definitions and results universal algebra and is written in <a href="https://wiki.portal.chalmers.se/agda/pmwiki.php">Agda</a>.</p>

<p><a href="https://wiki.portal.chalmers.se/agda/pmwiki.php">Agda</a> is a programming language and <a href="https://en.wikipedia.org/wiki/Proof_assistant">proof assistant</a>, or “interactive theorem prover” (ITP), that not only supports dependent and inductive types, but also provides powerful <em>proof tactics</em> for proving things about the objects that inhabit these types.</p>

<h3 id="vision-and-goals">Vision and Goals</h3>

<p>The idea for the the Agda Universal Algebra Library (<a href="https://ualib.org">UALib</a>) originated with the observation that, on the one hand a number of basic and important constructs in universal algebra can be defined recursively, and theorems about them proved inductively, while on the other hand the <em>types</em> (of <a href="https://en.wikipedia.org/wiki/Type_theory">type theory</a> —in particular, <a href="https://en.wikipedia.org/wiki/Dependent_type">dependent types</a> and <a href="https://en.wikipedia.org/wiki/Intuitionistic_type_theory#Inductive_types">inductive types</a>) make possible elegant formal representations of recursively defined objects, and constructive (<em>computable</em>) proofs of their properties. These observations suggest that there is much to gain from implementing universal algebra in a language that facilitates working with dependent and inductive types.</p>

<h4 id="primary-goals">Primary Goals</h4>

<p>The first goal of the <a href="https://ualib.org">UALib</a> project is to demonstrate that it is possible to express the foundations of universal algebra in type theory and to formalize (and formally verify) the foundations in the Agda programming language. We will formalize a substantial portion of the edifice on which our own mathematical research depends, and demonstrate that our research can also be expressed in type theory and formally implemented in such a way that we and other working mathematicians can understand and verify the results. The resulting library will also serve to educate our peers, and encourage and help them to formally verify their own mathematics research.</p>

<p>Our field is deep and wide and codifying all of its foundations may seem like a daunting task and possibly risky investment of time and resources. However, we believe our subject is well served by a new, modern, constructive presentation of its foundations. Our new presentation expresses the foundations of universal algebra in the language of type theory, and uses the Agda proof assistant to codify and formally verify everything.</p>

<h4 id="secondary-goals">Secondary Goals</h4>

<p>We wish to emphasize that our ultimate objective is not merely to translate existing results into a more modern and formal language. Indeed, one important goal is to develop a system that is useful for conducting research in mathematics, and that is how we intend to use our library once we have achieved our immediate objective of implementing the basic foundational core of universal algebra in Agda.</p>

<p>To this end, our intermediate-term objectives include</p>

<ul>
  <li>developing domain specific “proof tactics” to express the idioms of universal algebra,</li>
  <li>incorporating automated proof search for universal algebra, and</li>
  <li>formalizing theorems emerging from our own mathematics research,</li>
  <li>documenting the resulting software libraries so they are usable by other working mathematicians.</li>
</ul>

<p>For our own mathematics research, we believe a proof assistant equipped with specialized libraries for universal algebra, as well as domain-specific tactics to automate proof idioms of our field, will be extremely useful. Thus, a secondary goal is to demonstrate (to ourselves and colleagues) the utility of such libraries and tactics for proving new theorems.</p>

<h3 id="intended-audience">Intended audience</h3>

<p>This document describes the Agda Universal Algebra Library (<a href="https://ualib.org">UALib</a>) in enough detail so that working mathematicians (and possibly some normal people, too) might be able to learn enough about Agda and its libraries to put them to use when creating, formalizing, and verifying new mathematics.</p>

<p>While there are no strict prerequisites, we expect anyone with an interest in this work will have been motivated by prior exposure to universal algebra, as presented in, say, Bergman:2012 or McKenzie:1987, and to a lesser extent category theory, as presented in <a href="https://categorytheory.gitlab.io">categorytheory.gitlab.io</a> or Riehl:2017.</p>

<p>Some prior exposure to <a href="https://en.wikipedia.org/wiki/Type_theory">type theory</a> and Agda would be helpful, but even without this background one might still be able to get something useful out of this by referring to the appendix and glossary, while simultaneously consulting one or more of the references mentioned in references to fill in gaps as needed.</p>

<p>Finally, it is assumed that while reading these materials the reader is actively experimenting with <a href="https://wiki.portal.chalmers.se/agda/pmwiki.php">Agda</a> using
<a href="https://www.gnu.org/software/emacs/">emacs</a> with its <a href="https://agda.readthedocs.io/en/v2.6.0.1/tools/emacs-mode.html">agda2-mode</a> extension installed. If not, follow the directions on <a href="Agda">the main Agda website</a> to install them.</p>

<h3 id="installing-the-library">Installing the library</h3>

<p>The main repository for the <a href="https://ualib.org">UALib</a> is <a href="https://gitlab.com/ualib/ualib.gitlab.io">https://gitlab.com/ualib/ualib.gitlab.io</a>.</p>

<p>There are installation instructions in the main README.md file in that repository, but really all you need to do is have a working Agda (and <a href="https://agda.readthedocs.io/en/v2.6.0.1/tools/emacs-mode.html">agda2-mode</a>) installation and clone the <a href="https://ualib.org">UALib</a> repository with, e.g.,</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git clone git@gitlab.com:ualib/ualib.gitlab.io.git
</code></pre></div></div>

<p>OR</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git clone https://gitlab.com/ualib/ualib.gitlab.io.git
</code></pre></div></div>

<h3 id="unicode-hints">Unicode hints</h3>

<p>Information about unicode symbols is readily available in Emacs <a href="https://agda.readthedocs.io/en/v2.6.0.1/tools/emacs-mode.html">agda2-mode</a>; simply place the cursor on the character of interest and enter the command <code class="language-plaintext highlighter-rouge">M-x describe-char</code> (or <code class="language-plaintext highlighter-rouge">M-m h d c</code>). To see a full list of available characters, enter <code class="language-plaintext highlighter-rouge">M-x describe-input-method</code> (or <code class="language-plaintext highlighter-rouge">C-h I</code>).</p>

<h3 id="acknowledgments">Acknowledgments</h3>

<p>Besides the main authors and developers of <a href="https://ualib.org">UALib</a>, a number of other people have contributed to the project in one way or another.</p>

<p>Special thanks go to <a href="https://orion.math.iastate.edu/cbergman/">Clifford Bergman</a>, <a href="https://www.duplavis.com/venanzio/">Venanzio Capretta</a>, <a href="http://www.andrej.com/index.html">Andrej Bauer</a>, <a href="http://www.math.u-szeged.hu/~mmaroti/">Miklós Maróti</a>, and <a href="https://math.hawaii.edu/~ralph/">Ralph Freese</a>, for many helpful discussions, as well as the invaluable instruction, advice, and encouragement that they continue to lend to this project, often without even knowing it.</p>

<p>The first author would also like to thank his postdoctoral advisors and their institutions for supporting (sometimes without their knowledge) work on this project. These include <a href="http://math.colorado.edu/~mayr/">Peter Mayr</a> and University of Colorado in Boulder (Aug 2017–May 2019), <a href="https://math.hawaii.edu/~ralph/">Ralph Freese</a> and the University of Hawaii in Honolulu (Aug 2016–May 2017), <a href="https://orion.math.iastate.edu/cbergman/">Cliff Bergman</a> and Iowa State University in Ames (Aug 2014–May 2016).</p>

<h3 id="attributions-and-citations">Attributions and citations</h3>

<p>Regarding the mathematical results that are implemented in the <a href="https://ualib.org">UALib</a> library, as well as the presentation and informal statements of these results in the documentation, The Authors makes no claims to originality.</p>

<p>Regarding the Agda source code in the <a href="https://ualib.org">UALib</a> library, this is mainly due to The Authors.</p>

<p>HOWEVER, we have benefited from the outstanding lecture notes on <a href="https://www.cs.bham.ac.uk/~mhe/HoTT-UF-in-Agda-Lecture-Notes">Univalent Foundations and Homotopy Type Theory</a> and the <a href="https://github.com/martinescardo/TypeTopology">Type Topology</a> Agda Library, both by <a href="https://www.cs.bham.ac.uk/~mhe">Martin Hötzel Escardo</a>. The first author is greatly indebted to Martin for teaching him about type theory in Agda at the <a href="http://events.cs.bham.ac.uk/mgs2019/">Midlands Graduate School in the Foundations of Computing Science</a> in Birmingham in 2019.</p>

<p>The development of the <a href="https://ualib.org">UALib</a> and its documentation is informed by and benefits from the references listed in the references section below.</p>

<h3 id="references">References</h3>

<p>The following Agda documentation and tutorials are excellent. They have been quite helpful to The Author of
<a href="https://ualib.org">UALib</a>, and have informed the development of the latter and its documentation.</p>

<ul>
  <li>Altenkirk, <a href="http://www.cs.nott.ac.uk/~psztxa/g53cfr/">Computer Aided Formal Reasoning</a></li>
  <li>Bove and Dybjer, <a href="http://www.cse.chalmers.se/~peterd/papers/DependentTypesAtWork.pdf">Dependent Types at Work</a></li>
  <li>Escardo, <a href="https://www.cs.bham.ac.uk/~mhe/HoTT-UF-in-Agda-Lecture-Notes/index.html)">Introduction to Univalent Foundations of Mathematics with Agda</a></li>
  <li>Gunther, Gadea, Pagano, <a href="http://www.sciencedirect.com/science/article/pii/S1571066118300768">Formalization of Universal Algebra in Agda</a></li>
  <li>János, <a href="https://people.inf.elte.hu/pgj/agda/tutorial/Index.html">Agda Tutorial</a></li>
  <li>Norell and Chapman, <a href="http://www.cse.chalmers.se/~ulfn/papers/afp08/tutorial.pdf">Dependently Typed Programming in Agda</a></li>
  <li>Wadler, <a href="https://plfa.github.io/">Programming Language Foundations in Agda</a></li>
</ul>

<p>Finally, the official <a href="https://wiki.portal.chalmers.se/agda/pmwiki.php">Agda Wiki</a>, <a href="https://agda.readthedocs.io/en/v2.6.1/">Agda User’s Manual</a>, <a href="https://agda.readthedocs.io/en/v2.6.1/language">Agda Language Reference</a>, and the (open source) <a href="https://agda.github.io/agda-stdlib/">Agda Standard Library</a> source code are also quite useful.</p>

<hr />

<h3 id="-table-of-contents"><a id="contents"></a> Table of contents</h3>

<ol>
  <li><a href="#preface">Preface</a>
    <ol>
      <li><a href="#vision-and-goals">Vision and Goals</a></li>
      <li><a href="#intended-audience">Intended audience</a></li>
      <li><a href="#installing-the-library">Installing the library</a></li>
      <li><a href="#unicode-hints">Unicode hints</a></li>
      <li><a href="#acknowledgments">Acknowledgments</a></li>
      <li><a href="#attributions-and-citations">Attributions and citations</a></li>
      <li><a href="#references">References</a></li>
      <li><a href="ualib.html#contents">Table of contents</a></li>
    </ol>
  </li>
  <li><a href="#agda-preliminaries">Agda Preliminaries</a>
    <ol>
      <li><a href="#universes">Universes</a></li>
      <li><a href="#public-imports">Public imports</a></li>
      <li><a href="#dependent-pair-type">Dependent pair type</a></li>
      <li><a href="#dependent-function-type">Dependent function type</a></li>
      <li><a href="#application">Application</a></li>
      <li><a href="#function-extensionality">Function extensionality</a></li>
      <li><a href="#predicates-subsets">Predicates, Subsets</a></li>
      <li><a href="#the-membership-relation">The membership relation</a></li>
      <li><a href="#subset-relations-and-operations">Subset relations and operations</a></li>
      <li><a href="#miscellany">Miscellany</a></li>
      <li><a href="#more-extensionality">More extensionality</a></li>
    </ol>
  </li>
  <li><a href="#algebras-in-agda">Algebras in Agda</a>
    <ol>
      <li><a href="#operation-type">Operation type</a></li>
      <li><a href="#signature-type">Signature type</a></li>
      <li><a href="#algebra-type">Algebra type</a></li>
      <li><a href="#example">Example</a></li>
      <li><a href="#syntactic-sugar-for-operation-interpretation">Syntactic sugar for operation interpretation</a></li>
      <li><a href="#products-of-algebras">Products of algebras</a></li>
      <li><a href="#arbitrarily-many-variable-symbols">Arbitrarily many variable symbols</a></li>
      <li><a href="#unicode-hints-1">Unicode Hints 1</a></li>
    </ol>
  </li>
  <li><a href="#congruences-in-agda">Congruences in Agda</a>
    <ol>
      <li><a href="#binary-relation-type">Binary relation type</a></li>
      <li><a href="#kernels">Kernels</a></li>
      <li><a href="#implication">Implication</a></li>
      <li><a href="#properties-of-binary-relations">Properties of binary relations</a></li>
      <li><a href="#types-for-equivalences">Types for equivalences</a></li>
      <li><a href="#types-for-congruences">Types for congruences</a></li>
      <li><a href="#the-trivial-congruence">The trivial congruence</a></li>
      <li><a href="#unicode-hints-2">Unicode Hints 2</a></li>
    </ol>
  </li>
  <li><a href="#homomorphisms-in-agda">Homomorphisms in Agda</a>
    <ol>
      <li><a href="#types-for-homomorphisms">Types for homomorphisms</a></li>
      <li><a href="#composition">Composition</a></li>
      <li><a href="#factorization">Factorization</a></li>
      <li><a href="#isomorphism">Isomorphism</a></li>
      <li><a href="#homomorphic-images">Homomorphic images</a></li>
      <li><a href="#unicode-hints-3">Unicode Hints 3</a></li>
    </ol>
  </li>
  <li><a href="#terms-in-agda">Terms in Agda</a>
    <ol>
      <li><a href="#types-for-terms">Types for terms</a></li>
      <li><a href="#the-term-algebra">The term algebra</a></li>
      <li><a href="#the-universal-property">The universal property</a></li>
      <li><a href="#interpretation">Interpretation</a></li>
      <li><a href="#compatibility-of-terms">Compatibility of terms</a></li>
    </ol>
  </li>
  <li><a href="#subalgebras-in-agda">Subalgebras in Agda</a>
    <ol>
      <li><a href="#preliminaries">Preliminaries</a></li>
      <li><a href="#types-for-subuniverses">Types for subuniverses</a></li>
      <li><a href="#subuniverse-generation">Subuniverse generation</a></li>
      <li><a href="#closure-under-intersection">Closure under intersection</a></li>
      <li><a href="#generation-with-terms">Generation with terms</a></li>
      <li><a href="#homomorphic-images-are-subuniverses">Homomorphic images are subuniverses</a></li>
      <li><a href="#types-for-subalgebras">Types for subalgebras</a></li>
      <li><a href="#unicode-hints-4">Unicode Hints 4</a></li>
    </ol>
  </li>
  <li><a href="#equational-logic-in-agda">Equational Logic in Agda</a>
    <ol>
      <li><a href="#closure-operators-and-varieties">Closure operators and varieties</a></li>
      <li><a href="#types-for-identities">Types for identities</a></li>
      <li><a href="#equational-theories-and-classes">Equational theories and classes</a></li>
      <li><a href="#compatibility-of-identities">Compatibility of identities</a></li>
      <li><a href="#axiomatization-of-a-class">Axiomatization of a class</a></li>
      <li><a href="#the-free-algebra-in-agda">The free algebra in Agda</a></li>
      <li><a href="#more-tools-for-birkhoffs-theorem">More tools for Birkhoff’s theorem</a></li>
      <li><a href="#unicode-hints-5">Unicode Hints 5</a></li>
    </ol>
  </li>
  <li><a href="#hsp-theorem-in-agda">HSP Theorem in Agda</a>
    <ol>
      <li><a href="#equalizers-in-agda">Equalizers in Agda</a></li>
      <li><a href="#homomorphism-determination">Homomorphism determination</a></li>
      <li><a href="#a-formal-proof-of-birkhoffs-theorem">A formal proof of Birkhoff’s theorem</a></li>
    </ol>
  </li>
</ol>

<hr />

<h2 id="agda-preliminaries">Agda Preliminaries</h2>

<p><strong>Notation</strong>. Here are some acronyms that we use frequently.</p>

<ul>
  <li>MHE = <a href="https://www.cs.bham.ac.uk/~mhe/">Martin Hötzel Escardo</a></li>
  <li>MLTT = <a href="https://ncatlab.org/nlab/show/Martin-L%C3%B6f+dependent+type+theory">Martin-Löf Type Theory</a></li>
</ul>

<p>All but the most trivial Agda programs begin by setting some options that effect how Agda behaves and importing from existing libraries (e.g., the <a href="https://agda.github.io/agda-stdlib/">Agda Standard Library</a> or, in our case, MHE’s <a href="https://github.com/martinescardo/TypeTopology">Type Topology</a> library). In particular, logical axioms and deduction rules can be specified according to what one wishes to assume.</p>

<p>For example, we begin our agda development with the line</p>

<pre class="Agda">
<a id="15636" class="Symbol">{-#</a> <a id="15640" class="Keyword">OPTIONS</a> <a id="15648" class="Pragma">--without-K</a> <a id="15660" class="Pragma">--exact-split</a> <a id="15674" class="Pragma">--safe</a> <a id="15681" class="Symbol">#-}</a>

<a id="15686" class="Keyword">module</a> <a id="15693" href="ualib.html" class="Module">ualib</a> <a id="15699" class="Keyword">where</a>

<a id="15706" class="Keyword">module</a> <a id="prelude"></a><a id="15713" href="ualib.html#15713" class="Module">prelude</a> <a id="15721" class="Keyword">where</a>

 <a id="15729" class="Keyword">open</a> <a id="15734" class="Keyword">import</a> <a id="15741" href="Universes.html" class="Module">Universes</a> <a id="15751" class="Keyword">public</a>
</pre>

<p>This specifies Agda <code class="language-plaintext highlighter-rouge">OPTIONS</code> that we will use throughout the library.</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">without-K</code> disables <a href="https://ncatlab.org/nlab/show/axiom+K+%28type+theory%29">Streicher’s K axiom</a>; see also the <a href="https://agda.readthedocs.io/en/v2.6.1/language/without-k.html">section on axiom K</a> in the <a href="https://agda.readthedocs.io/en/v2.6.1/language">Agda Language Reference</a> manual.</li>
  <li><code class="language-plaintext highlighter-rouge">exact-split</code> makes Agda accept only those definitions that behave like so-called <em>judgmental</em> or <em>definitional</em> equalities. MHE explains this by saying it “makes sure that pattern matching corresponds to Martin-Löf eliminators;” see also the <a href="https://agda.readthedocs.io/en/v2.6.1/tools/command-line-options.html#pattern-matching-and-equality">Pattern matching and equality section</a> of the <a href="https://agda.readthedocs.io/en/v2.6.1/tools/">Agda Tools</a> documentation.</li>
  <li><code class="language-plaintext highlighter-rouge">safe</code> ensures that nothing is postulated outright—every non-MLTT axiom has to be an explicit assumption (e.g., an argument to a function or module); see also <a href="https://agda.readthedocs.io/en/v2.6.1/tools/command-line-options.html#cmdoption-safe">this section</a> of the <a href="https://agda.readthedocs.io/en/v2.6.1/tools/">Agda Tools</a> documentation and the <a href="https://agda.readthedocs.io/en/v2.6.1/language/safe-agda.html#safe-agda">Safe Agda section</a> of the <a href="https://agda.readthedocs.io/en/v2.6.1/language">Agda Language Reference</a>.</li>
</ul>

<h3 id="universes">Universes</h3>

<p>We import the <code class="language-plaintext highlighter-rouge">Universes</code> module from MHE’s <a href="https://github.com/martinescardo/TypeTopology">Type Topology</a> library.</p>

<pre class="Agda">
 <a id="16931" class="Keyword">open</a> <a id="16936" class="Keyword">import</a> <a id="16943" href="Universes.html" class="Module">Universes</a> <a id="16953" class="Keyword">public</a>
</pre>

<p>This <code class="language-plaintext highlighter-rouge">Universes</code> module provides, among other things, an elegant notation for type universes that we have fully adopted and we use MHE’s notation throughout the <a href="https://ualib.org">UALib</a>.</p>

<p>MHE has authored an outstanding set of notes on <a href="https://www.cs.bham.ac.uk/~mhe/HoTT-UF-in-Agda-Lecture-Notes/HoTT-UF-Agda.html">HoTT-UF-in-Agda</a> called <a href="https://www.cs.bham.ac.uk/~mhe/HoTT-UF-in-Agda-Lecture-Notes/index.html)">Introduction to Univalent Foundations of Mathematics with Agda</a>. We highly recommend these notes to anyone wanting more details than we provide here about MLTT and the Univalent Foundations/HoTT extensions thereof.</p>

<p>Following MHE, we refer to universes using capitalized script letters 𝓤,𝓥,𝓦,𝓣. We add a few more to Martin’s list.</p>

<pre class="Agda">
 <a id="17569" class="Keyword">variable</a> <a id="17578" href="ualib.html#17578" class="Generalizable">𝓘</a> <a id="17580" href="ualib.html#17580" class="Generalizable">𝓙</a> <a id="17582" href="ualib.html#17582" class="Generalizable">𝓚</a> <a id="17584" href="ualib.html#17584" class="Generalizable">𝓛</a> <a id="17586" href="ualib.html#17586" class="Generalizable">𝓜</a> <a id="17588" href="ualib.html#17588" class="Generalizable">𝓝</a> <a id="17590" href="ualib.html#17590" class="Generalizable">𝓞</a> <a id="17592" href="ualib.html#17592" class="Generalizable">𝓠</a> <a id="17594" href="ualib.html#17594" class="Generalizable">𝓡</a> <a id="17596" href="ualib.html#17596" class="Generalizable">𝓢</a> <a id="17598" href="ualib.html#17598" class="Generalizable">𝓧</a> <a id="17600" class="Symbol">:</a> <a id="17602" href="Agda.Primitive.html#423" class="Postulate">Universe</a>
</pre>

<p>In the <code class="language-plaintext highlighter-rouge">Universes</code> module, MHE defines the ̇ operator which maps a universe 𝓤 (i.e., a level) to <code class="language-plaintext highlighter-rouge">Set 𝓤</code>, and the latter has type <code class="language-plaintext highlighter-rouge">Set (lsuc 𝓤)</code>. The level <code class="language-plaintext highlighter-rouge">lzero</code> is renamed 𝓤₀, so 𝓤₀ ̇ is an alias for <code class="language-plaintext highlighter-rouge">Set lzero</code>.</p>

<p>Although it is nice and short, we won’t show all of the <code class="language-plaintext highlighter-rouge">Universes</code> module here. Instead, we highlight the few lines of code from MHE’s <code class="language-plaintext highlighter-rouge">Universes.lagda</code> file that makes available the notational devices that we just described and will adopt throughout the <a href="https://ualib.org">UALib</a>.</p>

<p>Thus, 𝓤 ̇ is simply an alias for <code class="language-plaintext highlighter-rouge">Set 𝓤</code>, and we have <code class="language-plaintext highlighter-rouge">Set 𝓤 : Set (lsuc 𝓤)</code>. Finally, <code class="language-plaintext highlighter-rouge">Set (lsuc lzero)</code> is denoted by <code class="language-plaintext highlighter-rouge">Set 𝓤₀ ⁺</code> which (MHE and) we denote by <code class="language-plaintext highlighter-rouge">𝓤₀ ⁺ ̇</code>.</p>

<p>The following dictionary translates between standard Agda syntax and MHE/<a href="https://ualib.org">UALib</a>.</p>

<pre><code class="language-agda">Agda              MHE/UALib
====              ==============
Level             Universe
lzero             𝓤₀
𝓤 : Level         𝓤 : Universe
Set lzero         𝓤₀ ̇
Set 𝓤             𝓤 ̇
lsuc lzero        𝓤₀ ⁺
lsuc 𝓤            𝓤 ⁺
Set (lsuc lzero)  𝓤₀ ⁺ ̇
Set (lsuc 𝓤)      𝓤 ⁺ ̇
Setω              𝓤ω
</code></pre>

<p>To justify the introduction of this somewhat nonstandard notation for universe levels, MHE points out that the Agda library uses <code class="language-plaintext highlighter-rouge">Level</code> for universes (so what we write as 𝓤 ̇ is written <code class="language-plaintext highlighter-rouge">Set 𝓤</code> in standard Agda), but in univalent mathematics the types in 𝓤 ̇ need not be sets, so the standard Agda notation can be misleading. Furthermore, the standard notation places emphasis on levels rather than universes themselves.</p>

<p>There will be many occasions calling for a type living in the universe that is the least upper bound of two universes, say, 𝓤 ̇ and 𝓥 ̇ . The universe 𝓤 ⊔ 𝓥 ̇ denotes this least upper bound. Here 𝓤 ⊔ 𝓥 is used to denote the universe level corresponding to the least upper bound of the levels 𝓤 and 𝓥, where the <code class="language-plaintext highlighter-rouge">_⊔_</code> is an Agda primitive designed for
precisely this purpose.</p>

<h3 id="public-imports">Public imports</h3>

<p>Next we import other parts of MHE’s <a href="https://github.com/martinescardo/TypeTopology">Type Topology</a> library, using the Agda directive <code class="language-plaintext highlighter-rouge">public</code>, which means these imports will be available wherever the <code class="language-plaintext highlighter-rouge">prelude</code> module in imported. We describe some of these imports later, when making use of them, but we don’t describe each one in detail. (The interested or confused reader should consult
<a href="https://www.cs.bham.ac.uk/~mhe/HoTT-UF-in-Agda-Lecture-Notes/HoTT-UF-Agda.html">HoTT-UF-in-Agda</a> to learn more.)</p>

<pre class="Agda">
 <a id="19890" class="Keyword">open</a> <a id="19895" class="Keyword">import</a> <a id="19902" href="Identity-Type.html" class="Module">Identity-Type</a> <a id="19916" class="Keyword">renaming</a> <a id="19925" class="Symbol">(</a><a id="19926" href="Identity-Type.html#121" class="Datatype Operator">_≡_</a> <a id="19930" class="Symbol">to</a> <a id="19933" class="Keyword">infix</a> <a id="19939" class="Number">0</a> <a id="_≡_"></a><a id="19941" href="ualib.html#19941" class="Datatype Operator">_≡_</a> <a id="19945" class="Symbol">;</a> <a id="19947" href="Identity-Type.html#162" class="InductiveConstructor">refl</a> <a id="19952" class="Symbol">to</a> <a id="_≡_.refl"></a><a id="19955" href="ualib.html#19955" class="InductiveConstructor">𝓇ℯ𝒻𝓁</a><a id="19959" class="Symbol">)</a> <a id="19961" class="Keyword">public</a>

 <a id="19970" class="Keyword">pattern</a> <a id="prelude.refl"></a><a id="19978" href="ualib.html#19978" class="InductiveConstructor">refl</a> <a id="19983" href="ualib.html#19997" class="Bound">x</a> <a id="19985" class="Symbol">=</a> <a id="19987" href="ualib.html#19955" class="InductiveConstructor">𝓇ℯ𝒻𝓁</a> <a id="19992" class="Symbol">{</a>x <a id="19995" class="Symbol">=</a> <a id="19997" href="ualib.html#19997" class="Bound">x</a><a id="19998" class="Symbol">}</a>

 <a id="20002" class="Keyword">open</a> <a id="20007" class="Keyword">import</a> <a id="20014" href="Sigma-Type.html" class="Module">Sigma-Type</a> <a id="20025" class="Keyword">renaming</a> <a id="20034" class="Symbol">(</a><a id="20035" href="Sigma-Type.html#188" class="InductiveConstructor Operator">_,_</a> <a id="20039" class="Symbol">to</a> <a id="20042" class="Keyword">infixr</a> <a id="20049" class="Number">50</a> <a id="_,_"></a><a id="20052" href="ualib.html#20052" class="InductiveConstructor Operator">_,_</a><a id="20055" class="Symbol">)</a> <a id="20057" class="Keyword">public</a>

 <a id="20066" class="Keyword">open</a> <a id="20071" class="Keyword">import</a> <a id="20078" href="MGS-MLTT.html" class="Module">MGS-MLTT</a> <a id="20087" class="Keyword">using</a> <a id="20093" class="Symbol">(</a><a id="20094" href="MGS-MLTT.html#3813" class="Function Operator">_∘_</a><a id="20097" class="Symbol">;</a> <a id="20099" href="MGS-MLTT.html#3944" class="Function">domain</a><a id="20105" class="Symbol">;</a> <a id="20107" href="MGS-MLTT.html#4021" class="Function">codomain</a><a id="20115" class="Symbol">;</a> <a id="20117" href="MGS-MLTT.html#4946" class="Function">transport</a><a id="20126" class="Symbol">;</a>
  <a id="20130" href="MGS-MLTT.html#5997" class="Function Operator">_≡⟨_⟩_</a><a id="20136" class="Symbol">;</a> <a id="20138" href="MGS-MLTT.html#6079" class="Function Operator">_∎</a><a id="20140" class="Symbol">;</a> <a id="20142" href="MGS-MLTT.html#2942" class="Function">pr₁</a><a id="20145" class="Symbol">;</a> <a id="20147" href="MGS-MLTT.html#3001" class="Function">pr₂</a><a id="20150" class="Symbol">;</a> <a id="20152" href="MGS-MLTT.html#3074" class="Function">-Σ</a><a id="20154" class="Symbol">;</a> <a id="20156" href="MGS-MLTT.html#3562" class="Function">Π</a><a id="20157" class="Symbol">;</a> <a id="20159" href="MGS-MLTT.html#956" class="Function">¬</a><a id="20160" class="Symbol">;</a> <a id="20162" href="MGS-MLTT.html#3515" class="Function Operator">_×_</a><a id="20165" class="Symbol">;</a> <a id="20167" href="MGS-MLTT.html#3778" class="Function">𝑖𝑑</a><a id="20169" class="Symbol">;</a> <a id="20171" href="MGS-MLTT.html#6747" class="Function Operator">_∼_</a><a id="20174" class="Symbol">;</a> <a id="20176" href="MGS-MLTT.html#2104" class="Datatype Operator">_+_</a><a id="20179" class="Symbol">;</a> <a id="20181" href="MGS-MLTT.html#712" class="Function">𝟘</a><a id="20182" class="Symbol">;</a> <a id="20184" href="MGS-MLTT.html#408" class="Function">𝟙</a><a id="20185" class="Symbol">;</a> <a id="20187" href="MGS-MLTT.html#2482" class="Function">𝟚</a><a id="20188" class="Symbol">;</a>
  <a id="20192" href="MGS-MLTT.html#7080" class="Function Operator">_⇔_</a><a id="20195" class="Symbol">;</a> <a id="20197" href="MGS-MLTT.html#7133" class="Function">lr-implication</a><a id="20211" class="Symbol">;</a> <a id="20213" href="MGS-MLTT.html#7214" class="Function">rl-implication</a><a id="20227" class="Symbol">;</a> <a id="20229" href="MGS-MLTT.html#3744" class="Function">id</a><a id="20231" class="Symbol">;</a> <a id="20233" href="MGS-MLTT.html#6125" class="Function Operator">_⁻¹</a><a id="20236" class="Symbol">;</a> <a id="20238" href="MGS-MLTT.html#6613" class="Function">ap</a><a id="20240" class="Symbol">)</a> <a id="20242" class="Keyword">public</a>

 <a id="20251" class="Keyword">open</a> <a id="20256" class="Keyword">import</a> <a id="20263" href="MGS-Equivalences.html" class="Module">MGS-Equivalences</a> <a id="20280" class="Keyword">using</a> <a id="20286" class="Symbol">(</a><a id="20287" href="MGS-Equivalences.html#868" class="Function">is-equiv</a><a id="20295" class="Symbol">;</a> <a id="20297" href="MGS-Equivalences.html#979" class="Function">inverse</a><a id="20304" class="Symbol">;</a>
  <a id="20308" href="MGS-Equivalences.html#370" class="Function">invertible</a><a id="20318" class="Symbol">)</a> <a id="20320" class="Keyword">public</a>

 <a id="20329" class="Keyword">open</a> <a id="20334" class="Keyword">import</a> <a id="20341" href="MGS-Subsingleton-Theorems.html" class="Module">MGS-Subsingleton-Theorems</a> <a id="20367" class="Keyword">using</a> <a id="20373" class="Symbol">(</a><a id="20374" href="MGS-FunExt-from-Univalence.html#393" class="Function">funext</a><a id="20380" class="Symbol">;</a>
  <a id="20384" href="MGS-FunExt-from-Univalence.html#2039" class="Function">dfunext</a><a id="20391" class="Symbol">;</a> <a id="20393" href="MGS-Basic-UF.html#428" class="Function">is-singleton</a><a id="20405" class="Symbol">;</a> <a id="20407" href="MGS-Basic-UF.html#743" class="Function">is-subsingleton</a><a id="20422" class="Symbol">;</a> <a id="20424" href="MGS-Basic-UF.html#1827" class="Function">is-prop</a><a id="20431" class="Symbol">;</a> <a id="20433" href="MGS-Subsingleton-Theorems.html#2964" class="Function">Univalence</a><a id="20443" class="Symbol">;</a>
  <a id="20447" href="MGS-Subsingleton-Theorems.html#3468" class="Function">global-dfunext</a><a id="20461" class="Symbol">;</a> <a id="20463" href="MGS-Subsingleton-Theorems.html#3528" class="Function">univalence-gives-global-dfunext</a><a id="20494" class="Symbol">;</a> <a id="20496" href="MGS-Equivalences.html#6164" class="Function Operator">_●_</a><a id="20499" class="Symbol">;</a> <a id="20501" href="MGS-Equivalences.html#5035" class="Function Operator">_≃_</a><a id="20504" class="Symbol">;</a>
  <a id="20508" href="MGS-Solved-Exercises.html#5136" class="Function">logically-equivalent-subsingletons-are-equivalent</a><a id="20557" class="Symbol">;</a>
  <a id="20561" href="MGS-Subsingleton-Theorems.html#393" class="Function">Π-is-subsingleton</a><a id="20578" class="Symbol">)</a> <a id="20580" class="Keyword">public</a>

 <a id="20589" class="Keyword">open</a> <a id="20594" class="Keyword">import</a> <a id="20601" href="MGS-Powerset.html" class="Module">MGS-Powerset</a> <a id="20614" class="Keyword">renaming</a> <a id="20623" class="Symbol">(</a><a id="20624" href="MGS-Powerset.html#4924" class="Function Operator">_∈_</a> <a id="20628" class="Symbol">to</a> <a id="_∈_"></a><a id="20631" href="ualib.html#20631" class="Function Operator">_∈₀_</a><a id="20635" class="Symbol">;</a> <a id="20637" href="MGS-Powerset.html#4976" class="Function Operator">_⊆_</a> <a id="20641" class="Symbol">to</a> <a id="_⊆_"></a><a id="20644" href="ualib.html#20644" class="Function Operator">_⊆₀_</a><a id="20648" class="Symbol">)</a>
  <a id="20652" class="Keyword">using</a> <a id="20658" class="Symbol">(</a><a id="20659" href="MGS-Powerset.html#4551" class="Function">𝓟</a><a id="20660" class="Symbol">;</a> <a id="20662" href="MGS-Powerset.html#5040" class="Function">∈-is-subsingleton</a><a id="20679" class="Symbol">;</a> <a id="20681" href="MGS-Solved-Exercises.html#1652" class="Function">equiv-to-subsingleton</a><a id="20702" class="Symbol">;</a>
  <a id="20706" href="MGS-Powerset.html#4586" class="Function">powersets-are-sets&#39;</a><a id="20725" class="Symbol">;</a> <a id="20727" href="MGS-Powerset.html#6079" class="Function">subset-extensionality&#39;</a><a id="20749" class="Symbol">;</a> <a id="20751" href="MGS-Powerset.html#382" class="Function">propext</a><a id="20758" class="Symbol">)</a> <a id="20760" class="Keyword">public</a>

 <a id="20769" class="Keyword">open</a> <a id="20774" class="Keyword">import</a> <a id="20781" href="MGS-Embeddings.html" class="Module">MGS-Embeddings</a> <a id="20796" class="Keyword">using</a> <a id="20802" class="Symbol">(</a><a id="20803" href="MGS-Embeddings.html#384" class="Function">is-embedding</a><a id="20815" class="Symbol">;</a> <a id="20817" href="MGS-Embeddings.html#1089" class="Function">pr₁-embedding</a><a id="20830" class="Symbol">;</a>
  <a id="20834" href="MGS-Basic-UF.html#1929" class="Function">is-set</a><a id="20840" class="Symbol">;</a> <a id="20842" href="MGS-Embeddings.html#6370" class="Function Operator">_↪_</a><a id="20845" class="Symbol">;</a> <a id="20847" href="MGS-Embeddings.html#3808" class="Function">embedding-gives-ap-is-equiv</a><a id="20874" class="Symbol">;</a> <a id="20876" href="MGS-Embeddings.html#4830" class="Function">embeddings-are-lc</a><a id="20893" class="Symbol">;</a>
  <a id="20897" href="MGS-Solved-Exercises.html#6381" class="Function">×-is-subsingleton</a><a id="20914" class="Symbol">)</a> <a id="20916" class="Keyword">public</a>

 <a id="20925" class="Keyword">open</a> <a id="20930" class="Keyword">import</a> <a id="20937" href="MGS-Solved-Exercises.html" class="Module">MGS-Solved-Exercises</a> <a id="20958" class="Keyword">using</a> <a id="20964" class="Symbol">(</a><a id="20965" href="MGS-Solved-Exercises.html#4076" class="Function">to-subtype-≡</a><a id="20977" class="Symbol">)</a> <a id="20979" class="Keyword">public</a>

 <a id="20988" class="Keyword">open</a> <a id="20993" class="Keyword">import</a> <a id="21000" href="MGS-Subsingleton-Truncation.html" class="Module">MGS-Subsingleton-Truncation</a> <a id="21028" class="Keyword">hiding</a> <a id="21035" class="Symbol">(</a><a id="21036" href="MGS-MLTT.html#4242" class="InductiveConstructor">refl</a><a id="21040" class="Symbol">;</a> <a id="21042" href="MGS-Powerset.html#4924" class="Function Operator">_∈_</a><a id="21045" class="Symbol">;</a> <a id="21047" href="MGS-Powerset.html#4976" class="Function Operator">_⊆_</a><a id="21050" class="Symbol">)</a> <a id="21052" class="Keyword">public</a>
</pre>

<h3 id="dependent-pair-type">Dependent pair type</h3>

<p>Our preferred notations for the first and second projections of a
product are <code class="language-plaintext highlighter-rouge">∣_∣</code> and <code class="language-plaintext highlighter-rouge">∥_∥</code>, respectively; however, we will sometimes
use the more standard <code class="language-plaintext highlighter-rouge">pr₁</code> and <code class="language-plaintext highlighter-rouge">pr₂</code>, or even <code class="language-plaintext highlighter-rouge">fst</code> and <code class="language-plaintext highlighter-rouge">snd</code>, for
emphasis, readability, or compatibility with other libraries.</p>

<pre class="Agda">
 <a id="prelude.∣_∣"></a><a id="21378" href="ualib.html#21378" class="Function Operator">∣_∣</a> <a id="prelude.fst"></a><a id="21382" href="ualib.html#21382" class="Function">fst</a> <a id="21386" class="Symbol">:</a> <a id="21388" class="Symbol">{</a><a id="21389" href="ualib.html#21389" class="Bound">X</a> <a id="21391" class="Symbol">:</a> <a id="21393" href="Universes.html#260" class="Generalizable">𝓤</a> <a id="21395" href="Universes.html#403" class="Function Operator">̇</a> <a id="21397" class="Symbol">}{</a><a id="21399" href="ualib.html#21399" class="Bound">Y</a> <a id="21401" class="Symbol">:</a> <a id="21403" href="ualib.html#21389" class="Bound">X</a> <a id="21405" class="Symbol">→</a> <a id="21407" href="Universes.html#262" class="Generalizable">𝓥</a> <a id="21409" href="Universes.html#403" class="Function Operator">̇</a><a id="21410" class="Symbol">}</a> <a id="21412" class="Symbol">→</a> <a id="21414" href="Sigma-Type.html#120" class="Record">Σ</a> <a id="21416" href="ualib.html#21399" class="Bound">Y</a> <a id="21418" class="Symbol">→</a> <a id="21420" href="ualib.html#21389" class="Bound">X</a>
 <a id="21423" href="ualib.html#21378" class="Function Operator">∣</a> <a id="21425" href="ualib.html#21425" class="Bound">x</a> <a id="21427" href="ualib.html#20052" class="InductiveConstructor Operator">,</a> <a id="21429" href="ualib.html#21429" class="Bound">y</a> <a id="21431" href="ualib.html#21378" class="Function Operator">∣</a> <a id="21433" class="Symbol">=</a> <a id="21435" href="ualib.html#21425" class="Bound">x</a>
 <a id="21438" href="ualib.html#21382" class="Function">fst</a> <a id="21442" class="Symbol">(</a><a id="21443" href="ualib.html#21443" class="Bound">x</a> <a id="21445" href="ualib.html#20052" class="InductiveConstructor Operator">,</a> <a id="21447" href="ualib.html#21447" class="Bound">y</a><a id="21448" class="Symbol">)</a> <a id="21450" class="Symbol">=</a> <a id="21452" href="ualib.html#21443" class="Bound">x</a>

 <a id="prelude.∥_∥"></a><a id="21456" href="ualib.html#21456" class="Function Operator">∥_∥</a> <a id="prelude.snd"></a><a id="21460" href="ualib.html#21460" class="Function">snd</a> <a id="21464" class="Symbol">:</a> <a id="21466" class="Symbol">{</a><a id="21467" href="ualib.html#21467" class="Bound">X</a> <a id="21469" class="Symbol">:</a> <a id="21471" href="Universes.html#260" class="Generalizable">𝓤</a> <a id="21473" href="Universes.html#403" class="Function Operator">̇</a> <a id="21475" class="Symbol">}{</a><a id="21477" href="ualib.html#21477" class="Bound">Y</a> <a id="21479" class="Symbol">:</a> <a id="21481" href="ualib.html#21467" class="Bound">X</a> <a id="21483" class="Symbol">→</a> <a id="21485" href="Universes.html#262" class="Generalizable">𝓥</a> <a id="21487" href="Universes.html#403" class="Function Operator">̇</a> <a id="21489" class="Symbol">}</a> <a id="21491" class="Symbol">→</a> <a id="21493" class="Symbol">(</a><a id="21494" href="ualib.html#21494" class="Bound">z</a> <a id="21496" class="Symbol">:</a> <a id="21498" href="Sigma-Type.html#120" class="Record">Σ</a> <a id="21500" href="ualib.html#21477" class="Bound">Y</a><a id="21501" class="Symbol">)</a> <a id="21503" class="Symbol">→</a> <a id="21505" href="ualib.html#21477" class="Bound">Y</a> <a id="21507" class="Symbol">(</a><a id="21508" href="MGS-MLTT.html#2942" class="Function">pr₁</a> <a id="21512" href="ualib.html#21494" class="Bound">z</a><a id="21513" class="Symbol">)</a>
 <a id="21516" href="ualib.html#21456" class="Function Operator">∥</a> <a id="21518" href="ualib.html#21518" class="Bound">x</a> <a id="21520" href="ualib.html#20052" class="InductiveConstructor Operator">,</a> <a id="21522" href="ualib.html#21522" class="Bound">y</a> <a id="21524" href="ualib.html#21456" class="Function Operator">∥</a> <a id="21526" class="Symbol">=</a> <a id="21528" href="ualib.html#21522" class="Bound">y</a>
 <a id="21531" href="ualib.html#21460" class="Function">snd</a> <a id="21535" class="Symbol">(</a><a id="21536" href="ualib.html#21536" class="Bound">x</a> <a id="21538" href="ualib.html#20052" class="InductiveConstructor Operator">,</a> <a id="21540" href="ualib.html#21540" class="Bound">y</a><a id="21541" class="Symbol">)</a> <a id="21543" class="Symbol">=</a> <a id="21545" href="ualib.html#21540" class="Bound">y</a>
</pre>

<p>For the dependent pair type, we prefer the notation <code class="language-plaintext highlighter-rouge">Σ x ꞉ X , y</code>, which
is more pleasing (and more standard in the literature) than Agda’s
default syntax (<code class="language-plaintext highlighter-rouge">Σ λ(x ꞉ X) → y</code>), and MHE has a useful trick that makes
the preferred notation available by making index type explicit.</p>

<pre><code class="language-agda">infixr -1 -Σ
-Σ : {𝓤 𝓥 : Universe} (X : 𝓤 ̇ ) (Y : X → 𝓥 ̇ ) → 𝓤 ⊔ 𝓥 ̇
-Σ X Y = Σ Y
syntax -Σ X (λ x → y) = Σ x ꞉ X , y -- type `꞉` as `\:4`
</code></pre>

<div class="admonition warning">

The symbol ꞉ is not the same as : despite how similar they may appear.
The correct colon in the expression `Σ x ꞉ X , y` above is obtained by
typing `\:4` in
[agda2-mode](https://agda.readthedocs.io/en/v2.6.0.1/tools/emacs-mode.html).

</div>

<p>MHE explains Sigma induction as follows: “To prove that <code class="language-plaintext highlighter-rouge">A z</code> holds for
all <code class="language-plaintext highlighter-rouge">z : Σ Y</code>, for a given property <code class="language-plaintext highlighter-rouge">A</code>, we just prove that we have
<code class="language-plaintext highlighter-rouge">A (x , y)</code> for all <code class="language-plaintext highlighter-rouge">x : X</code> and <code class="language-plaintext highlighter-rouge">y : Y x</code>. This is called <code class="language-plaintext highlighter-rouge">Σ</code> induction
or <code class="language-plaintext highlighter-rouge">Σ</code> elimination (or <code class="language-plaintext highlighter-rouge">uncurry</code>).</p>

<pre><code class="language-agda">Σ-induction : {X : 𝓤 ̇ }{Y : X → 𝓥 ̇ }{A : Σ Y → 𝓦 ̇ }
 →            ((x : X)(y : Y x) → A (x , y))
              -------------------------------
 →            ((x , y) : Σ Y) → A (x , y)
Σ-induction g (x , y) = g x y

curry : {X : 𝓤 ̇ }{Y : X → 𝓥 ̇ }{A : Σ Y → 𝓦 ̇ }
 →      (((x , y) : Σ Y ) → A (x , y))
       ---------------------------------
 →      ((x : X) (y : Y x) → A (x , y))
curry f x y = f (x , y)
</code></pre>

<p>The special case in which the type <code class="language-plaintext highlighter-rouge">Y</code> doesn’t depend on <code class="language-plaintext highlighter-rouge">X</code> is of
course the usual Cartesian product.</p>

<pre><code class="language-agda">infixr 30 _×_
_×_ : 𝓤 ̇ → 𝓥 ̇ → 𝓤 ⊔ 𝓥 ̇
X × Y = Σ x ꞉ X , Y
</code></pre>

<h3 id="dependent-function-type">Dependent function type</h3>

<p>To make the syntax for <code class="language-plaintext highlighter-rouge">Π</code> conform to the standard notation for “Pi
types” (or dependent function type), MHE uses the same trick as the one
used above for “Sigma types.”</p>

<pre><code class="language-agda">Π : {X : 𝓤 ̇ } (A : X → 𝓥 ̇ ) → 𝓤 ⊔ 𝓥 ̇
Π {𝓤} {𝓥} {X} A = (x : X) → A x

-Π : {𝓤 𝓥 : Universe}(X : 𝓤 ̇ )(Y : X → 𝓥 ̇ ) → 𝓤 ⊔ 𝓥 ̇
-Π X Y = Π Y
infixr -1 -Π
syntax -Π A (λ x → b) = Π x ꞉ A , b
</code></pre>

<h3 id="application">Application</h3>

<p>An important tool that we use often in Agda proofs is application of a
function to an identification <code class="language-plaintext highlighter-rouge">p : x ≡ x'</code>. We apply the <code class="language-plaintext highlighter-rouge">ap</code> operator
to obtain the identification <code class="language-plaintext highlighter-rouge">ap f p : f x ≡ f x'</code> when given
<code class="language-plaintext highlighter-rouge">p : x ≡ x'</code> and <code class="language-plaintext highlighter-rouge">f : X → Y</code>.</p>

<p>Since <code class="language-plaintext highlighter-rouge">ap</code> is already defined in MHE’s Type Topolgy library, we don’t
redefine it here. However, we do define some variations of <code class="language-plaintext highlighter-rouge">ap</code> that are
sometimes useful.</p>

<pre class="Agda">
 <a id="prelude.ap-cong"></a><a id="23953" href="ualib.html#23953" class="Function">ap-cong</a> <a id="23961" class="Symbol">:</a> <a id="23963" class="Symbol">{</a><a id="23964" href="ualib.html#23964" class="Bound">X</a> <a id="23966" class="Symbol">:</a> <a id="23968" href="Universes.html#260" class="Generalizable">𝓤</a> <a id="23970" href="Universes.html#403" class="Function Operator">̇</a><a id="23971" class="Symbol">}{</a><a id="23973" href="ualib.html#23973" class="Bound">Y</a> <a id="23975" class="Symbol">:</a> <a id="23977" href="Universes.html#262" class="Generalizable">𝓥</a> <a id="23979" href="Universes.html#403" class="Function Operator">̇</a><a id="23980" class="Symbol">}{</a><a id="23982" href="ualib.html#23982" class="Bound">f</a> <a id="23984" href="ualib.html#23984" class="Bound">g</a> <a id="23986" class="Symbol">:</a> <a id="23988" href="ualib.html#23964" class="Bound">X</a> <a id="23990" class="Symbol">→</a> <a id="23992" href="ualib.html#23973" class="Bound">Y</a><a id="23993" class="Symbol">}</a> <a id="23995" class="Symbol">{</a><a id="23996" href="ualib.html#23996" class="Bound">a</a> <a id="23998" href="ualib.html#23998" class="Bound">b</a> <a id="24000" class="Symbol">:</a> <a id="24002" href="ualib.html#23964" class="Bound">X</a><a id="24003" class="Symbol">}</a>
  <a id="24007" class="Symbol">→</a>        <a id="24016" href="ualib.html#23982" class="Bound">f</a> <a id="24018" href="ualib.html#19941" class="Datatype Operator">≡</a> <a id="24020" href="ualib.html#23984" class="Bound">g</a>  <a id="24023" class="Symbol">→</a>  <a id="24026" href="ualib.html#23996" class="Bound">a</a> <a id="24028" href="ualib.html#19941" class="Datatype Operator">≡</a> <a id="24030" href="ualib.html#23998" class="Bound">b</a>
           <a id="24043" class="Comment">-----------------</a>
  <a id="24063" class="Symbol">→</a>        <a id="24072" href="ualib.html#23982" class="Bound">f</a> <a id="24074" href="ualib.html#23996" class="Bound">a</a> <a id="24076" href="ualib.html#19941" class="Datatype Operator">≡</a> <a id="24078" href="ualib.html#23984" class="Bound">g</a> <a id="24080" href="ualib.html#23998" class="Bound">b</a>

 <a id="24084" href="ualib.html#23953" class="Function">ap-cong</a> <a id="24092" class="Symbol">(</a><a id="24093" href="ualib.html#19978" class="InductiveConstructor">refl</a> <a id="24098" class="Symbol">_)</a> <a id="24101" class="Symbol">(</a><a id="24102" href="ualib.html#19978" class="InductiveConstructor">refl</a> <a id="24107" class="Symbol">_)</a> <a id="24110" class="Symbol">=</a> <a id="24112" href="ualib.html#19978" class="InductiveConstructor">refl</a> <a id="24117" class="Symbol">_</a>
</pre>

<p>Here is a related tool that we borrow from the <a href="https://agda.github.io/agda-stdlib/v1.1/Relation.Binary.PropositionalEquality.html">Relation/Binary/PropositionalEquality.agda</a> module of the <a href="https://agda.github.io/agda-stdlib/">Agda standard library</a>.</p>

<pre class="Agda">
 <a id="prelude.cong-app"></a><a id="24316" href="ualib.html#24316" class="Function">cong-app</a> <a id="24325" class="Symbol">:</a> <a id="24327" class="Symbol">{</a><a id="24328" href="ualib.html#24328" class="Bound">A</a> <a id="24330" class="Symbol">:</a> <a id="24332" href="Universes.html#260" class="Generalizable">𝓤</a> <a id="24334" href="Universes.html#403" class="Function Operator">̇</a><a id="24335" class="Symbol">}{</a><a id="24337" href="ualib.html#24337" class="Bound">B</a> <a id="24339" class="Symbol">:</a> <a id="24341" href="ualib.html#24328" class="Bound">A</a> <a id="24343" class="Symbol">→</a> <a id="24345" href="Universes.html#264" class="Generalizable">𝓦</a> <a id="24347" href="Universes.html#403" class="Function Operator">̇</a><a id="24348" class="Symbol">}{</a><a id="24350" href="ualib.html#24350" class="Bound">f</a> <a id="24352" href="ualib.html#24352" class="Bound">g</a> <a id="24354" class="Symbol">:</a> <a id="24356" class="Symbol">(</a><a id="24357" href="ualib.html#24357" class="Bound">a</a> <a id="24359" class="Symbol">:</a> <a id="24361" href="ualib.html#24328" class="Bound">A</a><a id="24362" class="Symbol">)</a> <a id="24364" class="Symbol">→</a> <a id="24366" href="ualib.html#24337" class="Bound">B</a> <a id="24368" href="ualib.html#24357" class="Bound">a</a><a id="24369" class="Symbol">}</a>
  <a id="24373" class="Symbol">→</a>          <a id="24384" href="ualib.html#24350" class="Bound">f</a> <a id="24386" href="ualib.html#19941" class="Datatype Operator">≡</a> <a id="24388" href="ualib.html#24352" class="Bound">g</a>   <a id="24392" class="Symbol">→</a>   <a id="24396" class="Symbol">(</a><a id="24397" href="ualib.html#24397" class="Bound">a</a> <a id="24399" class="Symbol">:</a> <a id="24401" href="ualib.html#24328" class="Bound">A</a><a id="24402" class="Symbol">)</a>
           <a id="24415" class="Comment">-----------------------</a>
  <a id="24441" class="Symbol">→</a>              <a id="24456" href="ualib.html#24350" class="Bound">f</a> <a id="24458" href="ualib.html#24397" class="Bound">a</a> <a id="24460" href="ualib.html#19941" class="Datatype Operator">≡</a> <a id="24462" href="ualib.html#24352" class="Bound">g</a> <a id="24464" href="ualib.html#24397" class="Bound">a</a>

 <a id="24468" href="ualib.html#24316" class="Function">cong-app</a> <a id="24477" class="Symbol">(</a><a id="24478" href="ualib.html#19978" class="InductiveConstructor">refl</a> <a id="24483" class="Symbol">_)</a> <a id="24486" href="ualib.html#24486" class="Bound">a</a> <a id="24488" class="Symbol">=</a> <a id="24490" href="ualib.html#19978" class="InductiveConstructor">refl</a> <a id="24495" class="Symbol">_</a>
</pre>

<h3 id="function-extensionality">Function extensionality</h3>

<p>Extensional equality of functions, or function extensionality, means that any two point-wise equal functions are equal. As MHE points out, this is known to be not provable or disprovable in Martin-Löf Type Theory (MLTT).</p>

<p>Nonetheless, we will mainly work with pointwise equality of functions, which MHE defines (in <a href="%3Chttps://github.com/martinescardo/TypeTopology%3E%60_">Type Topology</a> ) as follows:</p>

<pre><code class="language-agda">_∼_ : {X : 𝓤 ̇ } {A : X → 𝓥 ̇ } → Π A → Π A → 𝓤 ⊔ 𝓥 ̇ 
f ∼ g = ∀ x → f x ≡ g x
infix 0 _∼_
</code></pre>

<p>(The <code class="language-plaintext highlighter-rouge">_∼_</code> relation will be equivalent to equality of functions, once we have the principle of <em>univalence</em> at our disposal.)</p>

<h3 id="predicates-subsets">Predicates, Subsets</h3>

<p>We need a mechanism for implementing the notion of subsets in Agda. A typical one is called <code class="language-plaintext highlighter-rouge">Pred</code> (for predicate). More generally, <code class="language-plaintext highlighter-rouge">Pred A 𝓤</code> can be viewed as the type of a property that elements of type <code class="language-plaintext highlighter-rouge">A</code> might satisfy. We write <code class="language-plaintext highlighter-rouge">P : Pred A 𝓤</code> (read “<code class="language-plaintext highlighter-rouge">P</code> has type <code class="language-plaintext highlighter-rouge">Pred A 𝓤</code>”) to represent the subset of elements of <code class="language-plaintext highlighter-rouge">A</code> that satisfy property <code class="language-plaintext highlighter-rouge">P</code>.</p>

<p>Here is the definition (which is similar to the one found in the <code class="language-plaintext highlighter-rouge">Relation/Unary.agda</code> file of <a href="https://agda.github.io/agda-stdlib/">Agda standard
library</a> ).</p>

<pre class="Agda">
 <a id="prelude.Pred"></a><a id="25725" href="ualib.html#25725" class="Function">Pred</a> <a id="25730" class="Symbol">:</a> <a id="25732" href="Universes.html#260" class="Generalizable">𝓤</a> <a id="25734" href="Universes.html#403" class="Function Operator">̇</a> <a id="25736" class="Symbol">→</a> <a id="25738" class="Symbol">(</a><a id="25739" href="ualib.html#25739" class="Bound">𝓥</a> <a id="25741" class="Symbol">:</a> <a id="25743" href="Agda.Primitive.html#423" class="Postulate">Universe</a><a id="25751" class="Symbol">)</a> <a id="25753" class="Symbol">→</a> <a id="25755" href="Universes.html#260" class="Generalizable">𝓤</a> <a id="25757" href="Agda.Primitive.html#636" class="Primitive Operator">⊔</a> <a id="25759" href="ualib.html#25739" class="Bound">𝓥</a> <a id="25761" href="Agda.Primitive.html#606" class="Primitive Operator">⁺</a> <a id="25763" href="Universes.html#403" class="Function Operator">̇</a>
 <a id="25766" href="ualib.html#25725" class="Function">Pred</a> <a id="25771" href="ualib.html#25771" class="Bound">A</a> <a id="25773" href="ualib.html#25773" class="Bound">𝓥</a> <a id="25775" class="Symbol">=</a> <a id="25777" href="ualib.html#25771" class="Bound">A</a> <a id="25779" class="Symbol">→</a> <a id="25781" href="ualib.html#25773" class="Bound">𝓥</a> <a id="25783" href="Universes.html#403" class="Function Operator">̇</a>
</pre>

<p>Below we will often consider predicates over the class of all algebras
of a particular type. We will define the type of algebras <code class="language-plaintext highlighter-rouge">Algebra 𝓤 𝑆</code>
(for some universe level 𝓤). Like all types, <code class="language-plaintext highlighter-rouge">Algebra 𝓤 𝑆</code> itself has a
type which happens to be 𝓞 ⊔ 𝓥 ⊔ 𝓤 ⁺ ̇ (as we will see in algebra type).
Therefore, the type of <code class="language-plaintext highlighter-rouge">Pred (Algebra 𝓤 𝑆) 𝓤</code> will be 𝓞 ⊔ 𝓥 ⊔ 𝓤 ⁺ ̇ as
well.</p>

<p>The inhabitants of the type <code class="language-plaintext highlighter-rouge">Pred (Algebra 𝓤 𝑆) 𝓤</code> are maps of the form
𝑨 → 𝓤 ̇; indeed, given an algebra 𝑨 : Algebra 𝓤 𝑆, we have Pred 𝑨 𝓤 = 𝑨 →
𝓤 ̇.</p>

<h3 id="the-membership-relation">The membership relation</h3>

<p>We introduce notation so that we may indicate that <code class="language-plaintext highlighter-rouge">x</code> “belongs to” a
“subset” <code class="language-plaintext highlighter-rouge">P</code>, or that <code class="language-plaintext highlighter-rouge">x</code> “has property” <code class="language-plaintext highlighter-rouge">P</code>, by writing either <code class="language-plaintext highlighter-rouge">x ∈ P</code>
or <code class="language-plaintext highlighter-rouge">P x</code> (cf. <code class="language-plaintext highlighter-rouge">Relation/Unary.agda</code> in the <a href="https://agda.github.io/agda-stdlib/">Agda standard
library</a> ).</p>

<pre class="Agda">
 <a id="26608" class="Keyword">infix</a> <a id="26614" class="Number">4</a> <a id="26616" href="ualib.html#26625" class="Function Operator">_∈_</a> <a id="26620" href="ualib.html#26678" class="Function Operator">_∉_</a>
 <a id="prelude._∈_"></a><a id="26625" href="ualib.html#26625" class="Function Operator">_∈_</a> <a id="26629" class="Symbol">:</a> <a id="26631" class="Symbol">{</a><a id="26632" href="ualib.html#26632" class="Bound">A</a> <a id="26634" class="Symbol">:</a> <a id="26636" href="Universes.html#260" class="Generalizable">𝓤</a> <a id="26638" href="Universes.html#403" class="Function Operator">̇</a> <a id="26640" class="Symbol">}</a> <a id="26642" class="Symbol">→</a> <a id="26644" href="ualib.html#26632" class="Bound">A</a> <a id="26646" class="Symbol">→</a> <a id="26648" href="ualib.html#25725" class="Function">Pred</a> <a id="26653" href="ualib.html#26632" class="Bound">A</a> <a id="26655" href="Universes.html#264" class="Generalizable">𝓦</a> <a id="26657" class="Symbol">→</a> <a id="26659" href="Universes.html#264" class="Generalizable">𝓦</a> <a id="26661" href="Universes.html#403" class="Function Operator">̇</a>
 <a id="26664" href="ualib.html#26664" class="Bound">x</a> <a id="26666" href="ualib.html#26625" class="Function Operator">∈</a> <a id="26668" href="ualib.html#26668" class="Bound">P</a> <a id="26670" class="Symbol">=</a> <a id="26672" href="ualib.html#26668" class="Bound">P</a> <a id="26674" href="ualib.html#26664" class="Bound">x</a>

 <a id="prelude._∉_"></a><a id="26678" href="ualib.html#26678" class="Function Operator">_∉_</a> <a id="26682" class="Symbol">:</a> <a id="26684" class="Symbol">{</a><a id="26685" href="ualib.html#26685" class="Bound">A</a> <a id="26687" class="Symbol">:</a> <a id="26689" href="Universes.html#260" class="Generalizable">𝓤</a> <a id="26691" href="Universes.html#403" class="Function Operator">̇</a> <a id="26693" class="Symbol">}</a> <a id="26695" class="Symbol">→</a> <a id="26697" href="ualib.html#26685" class="Bound">A</a> <a id="26699" class="Symbol">→</a> <a id="26701" href="ualib.html#25725" class="Function">Pred</a> <a id="26706" href="ualib.html#26685" class="Bound">A</a> <a id="26708" href="Universes.html#264" class="Generalizable">𝓦</a> <a id="26710" class="Symbol">→</a> <a id="26712" href="Universes.html#264" class="Generalizable">𝓦</a> <a id="26714" href="Universes.html#403" class="Function Operator">̇</a>
 <a id="26717" href="ualib.html#26717" class="Bound">x</a> <a id="26719" href="ualib.html#26678" class="Function Operator">∉</a> <a id="26721" href="ualib.html#26721" class="Bound">P</a> <a id="26723" class="Symbol">=</a> <a id="26725" href="MGS-MLTT.html#956" class="Function">¬</a> <a id="26727" class="Symbol">(</a><a id="26728" href="ualib.html#26717" class="Bound">x</a> <a id="26730" href="ualib.html#26625" class="Function Operator">∈</a> <a id="26732" href="ualib.html#26721" class="Bound">P</a><a id="26733" class="Symbol">)</a>
</pre>

<h3 id="subset-relations-and-operations">Subset relations and operations</h3>

<p>The subset relation is then denoted, as usual, with the <code class="language-plaintext highlighter-rouge">⊆</code> symbol (cf. <code class="language-plaintext highlighter-rouge">Relation/Unary.agda</code> in the <a href="https://agda.github.io/agda-stdlib/">Agda standard
library</a> ).</p>

<pre class="Agda">
 <a id="26965" class="Keyword">infix</a> <a id="26971" class="Number">4</a> <a id="26973" href="ualib.html#26982" class="Function Operator">_⊆_</a> <a id="26977" href="ualib.html#27068" class="Function Operator">_⊇_</a>
 <a id="prelude._⊆_"></a><a id="26982" href="ualib.html#26982" class="Function Operator">_⊆_</a> <a id="26986" class="Symbol">:</a> <a id="26988" class="Symbol">{</a><a id="26989" href="ualib.html#26989" class="Bound">A</a> <a id="26991" class="Symbol">:</a> <a id="26993" href="Universes.html#260" class="Generalizable">𝓤</a> <a id="26995" href="Universes.html#403" class="Function Operator">̇</a> <a id="26997" class="Symbol">}</a> <a id="26999" class="Symbol">→</a> <a id="27001" href="ualib.html#25725" class="Function">Pred</a> <a id="27006" href="ualib.html#26989" class="Bound">A</a> <a id="27008" href="Universes.html#264" class="Generalizable">𝓦</a> <a id="27010" class="Symbol">→</a> <a id="27012" href="ualib.html#25725" class="Function">Pred</a> <a id="27017" href="ualib.html#26989" class="Bound">A</a> <a id="27019" href="Universes.html#266" class="Generalizable">𝓣</a> <a id="27021" class="Symbol">→</a> <a id="27023" href="Universes.html#260" class="Generalizable">𝓤</a> <a id="27025" href="Agda.Primitive.html#636" class="Primitive Operator">⊔</a> <a id="27027" href="Universes.html#264" class="Generalizable">𝓦</a> <a id="27029" href="Agda.Primitive.html#636" class="Primitive Operator">⊔</a> <a id="27031" href="Universes.html#266" class="Generalizable">𝓣</a> <a id="27033" href="Universes.html#403" class="Function Operator">̇</a>
 <a id="27036" href="ualib.html#27036" class="Bound">P</a> <a id="27038" href="ualib.html#26982" class="Function Operator">⊆</a> <a id="27040" href="ualib.html#27040" class="Bound">Q</a> <a id="27042" class="Symbol">=</a> <a id="27044" class="Symbol">∀</a> <a id="27046" class="Symbol">{</a><a id="27047" href="ualib.html#27047" class="Bound">x</a><a id="27048" class="Symbol">}</a> <a id="27050" class="Symbol">→</a> <a id="27052" href="ualib.html#27047" class="Bound">x</a> <a id="27054" href="ualib.html#26625" class="Function Operator">∈</a> <a id="27056" href="ualib.html#27036" class="Bound">P</a> <a id="27058" class="Symbol">→</a> <a id="27060" href="ualib.html#27047" class="Bound">x</a> <a id="27062" href="ualib.html#26625" class="Function Operator">∈</a> <a id="27064" href="ualib.html#27040" class="Bound">Q</a>

 <a id="prelude._⊇_"></a><a id="27068" href="ualib.html#27068" class="Function Operator">_⊇_</a> <a id="27072" class="Symbol">:</a> <a id="27074" class="Symbol">{</a><a id="27075" href="ualib.html#27075" class="Bound">A</a> <a id="27077" class="Symbol">:</a> <a id="27079" href="Universes.html#260" class="Generalizable">𝓤</a> <a id="27081" href="Universes.html#403" class="Function Operator">̇</a> <a id="27083" class="Symbol">}</a> <a id="27085" class="Symbol">→</a> <a id="27087" href="ualib.html#25725" class="Function">Pred</a> <a id="27092" href="ualib.html#27075" class="Bound">A</a> <a id="27094" href="Universes.html#264" class="Generalizable">𝓦</a> <a id="27096" class="Symbol">→</a> <a id="27098" href="ualib.html#25725" class="Function">Pred</a> <a id="27103" href="ualib.html#27075" class="Bound">A</a> <a id="27105" href="Universes.html#266" class="Generalizable">𝓣</a> <a id="27107" class="Symbol">→</a> <a id="27109" href="Universes.html#260" class="Generalizable">𝓤</a> <a id="27111" href="Agda.Primitive.html#636" class="Primitive Operator">⊔</a> <a id="27113" href="Universes.html#264" class="Generalizable">𝓦</a> <a id="27115" href="Agda.Primitive.html#636" class="Primitive Operator">⊔</a> <a id="27117" href="Universes.html#266" class="Generalizable">𝓣</a> <a id="27119" href="Universes.html#403" class="Function Operator">̇</a>
 <a id="27122" href="ualib.html#27122" class="Bound">P</a> <a id="27124" href="ualib.html#27068" class="Function Operator">⊇</a> <a id="27126" href="ualib.html#27126" class="Bound">Q</a> <a id="27128" class="Symbol">=</a> <a id="27130" href="ualib.html#27126" class="Bound">Q</a> <a id="27132" href="ualib.html#26982" class="Function Operator">⊆</a> <a id="27134" href="ualib.html#27122" class="Bound">P</a>

 <a id="27138" class="Keyword">infixr</a> <a id="27145" class="Number">1</a> <a id="27147" href="ualib.html#27178" class="Datatype Operator">_⊎_</a>

 <a id="27153" class="Comment">-- Disjoint Union.</a>
 <a id="27173" class="Keyword">data</a> <a id="prelude._⊎_"></a><a id="27178" href="ualib.html#27178" class="Datatype Operator">_⊎_</a> <a id="27182" class="Symbol">(</a><a id="27183" href="ualib.html#27183" class="Bound">A</a> <a id="27185" class="Symbol">:</a> <a id="27187" href="Universes.html#260" class="Generalizable">𝓤</a> <a id="27189" href="Universes.html#403" class="Function Operator">̇</a><a id="27190" class="Symbol">)</a> <a id="27192" class="Symbol">(</a><a id="27193" href="ualib.html#27193" class="Bound">B</a> <a id="27195" class="Symbol">:</a> <a id="27197" href="Universes.html#262" class="Generalizable">𝓥</a> <a id="27199" href="Universes.html#403" class="Function Operator">̇</a><a id="27200" class="Symbol">)</a> <a id="27202" class="Symbol">:</a> <a id="27204" href="ualib.html#27187" class="Bound">𝓤</a> <a id="27206" href="Agda.Primitive.html#636" class="Primitive Operator">⊔</a> <a id="27208" href="ualib.html#27197" class="Bound">𝓥</a> <a id="27210" href="Universes.html#403" class="Function Operator">̇</a> <a id="27212" class="Keyword">where</a>
   <a id="prelude._⊎_.inj₁"></a><a id="27221" href="ualib.html#27221" class="InductiveConstructor">inj₁</a> <a id="27226" class="Symbol">:</a> <a id="27228" class="Symbol">(</a><a id="27229" href="ualib.html#27229" class="Bound">x</a> <a id="27231" class="Symbol">:</a> <a id="27233" href="ualib.html#27183" class="Bound">A</a><a id="27234" class="Symbol">)</a> <a id="27236" class="Symbol">→</a> <a id="27238" href="ualib.html#27183" class="Bound">A</a> <a id="27240" href="ualib.html#27178" class="Datatype Operator">⊎</a> <a id="27242" href="ualib.html#27193" class="Bound">B</a>
   <a id="prelude._⊎_.inj₂"></a><a id="27247" href="ualib.html#27247" class="InductiveConstructor">inj₂</a> <a id="27252" class="Symbol">:</a> <a id="27254" class="Symbol">(</a><a id="27255" href="ualib.html#27255" class="Bound">y</a> <a id="27257" class="Symbol">:</a> <a id="27259" href="ualib.html#27193" class="Bound">B</a><a id="27260" class="Symbol">)</a> <a id="27262" class="Symbol">→</a> <a id="27264" href="ualib.html#27183" class="Bound">A</a> <a id="27266" href="ualib.html#27178" class="Datatype Operator">⊎</a> <a id="27268" href="ualib.html#27193" class="Bound">B</a>

 <a id="27272" class="Comment">-- Union.</a>
 <a id="27283" class="Keyword">infixr</a> <a id="27290" class="Number">6</a> <a id="27292" href="ualib.html#27297" class="Function Operator">_∪_</a>
 <a id="prelude._∪_"></a><a id="27297" href="ualib.html#27297" class="Function Operator">_∪_</a> <a id="27301" class="Symbol">:</a> <a id="27303" class="Symbol">{</a><a id="27304" href="ualib.html#27304" class="Bound">A</a> <a id="27306" class="Symbol">:</a> <a id="27308" href="Universes.html#260" class="Generalizable">𝓤</a> <a id="27310" href="Universes.html#403" class="Function Operator">̇</a><a id="27311" class="Symbol">}</a> <a id="27313" class="Symbol">→</a> <a id="27315" href="ualib.html#25725" class="Function">Pred</a> <a id="27320" href="ualib.html#27304" class="Bound">A</a> <a id="27322" href="Universes.html#262" class="Generalizable">𝓥</a> <a id="27324" class="Symbol">→</a> <a id="27326" href="ualib.html#25725" class="Function">Pred</a> <a id="27331" href="ualib.html#27304" class="Bound">A</a> <a id="27333" href="Universes.html#264" class="Generalizable">𝓦</a> <a id="27335" class="Symbol">→</a> <a id="27337" href="ualib.html#25725" class="Function">Pred</a> <a id="27342" href="ualib.html#27304" class="Bound">A</a> <a id="27344" class="Symbol">_</a>
 <a id="27347" href="ualib.html#27347" class="Bound">P</a> <a id="27349" href="ualib.html#27297" class="Function Operator">∪</a> <a id="27351" href="ualib.html#27351" class="Bound">Q</a> <a id="27353" class="Symbol">=</a> <a id="27355" class="Symbol">λ</a> <a id="27357" href="ualib.html#27357" class="Bound">x</a> <a id="27359" class="Symbol">→</a> <a id="27361" href="ualib.html#27357" class="Bound">x</a> <a id="27363" href="ualib.html#26625" class="Function Operator">∈</a> <a id="27365" href="ualib.html#27347" class="Bound">P</a> <a id="27367" href="ualib.html#27178" class="Datatype Operator">⊎</a> <a id="27369" href="ualib.html#27357" class="Bound">x</a> <a id="27371" href="ualib.html#26625" class="Function Operator">∈</a> <a id="27373" href="ualib.html#27351" class="Bound">Q</a>


 <a id="27378" class="Comment">-- The empty set.</a>
 <a id="prelude.∅"></a><a id="27397" href="ualib.html#27397" class="Function">∅</a> <a id="27399" class="Symbol">:</a> <a id="27401" class="Symbol">{</a><a id="27402" href="ualib.html#27402" class="Bound">A</a> <a id="27404" class="Symbol">:</a> <a id="27406" href="Universes.html#260" class="Generalizable">𝓤</a> <a id="27408" href="Universes.html#403" class="Function Operator">̇</a><a id="27409" class="Symbol">}</a> <a id="27411" class="Symbol">→</a> <a id="27413" href="ualib.html#25725" class="Function">Pred</a> <a id="27418" href="ualib.html#27402" class="Bound">A</a> <a id="27420" href="Agda.Primitive.html#590" class="Primitive">𝓤₀</a>
 <a id="27424" href="ualib.html#27397" class="Function">∅</a> <a id="27426" class="Symbol">=</a> <a id="27428" class="Symbol">λ</a> <a id="27430" href="ualib.html#27430" class="Bound">_</a> <a id="27432" class="Symbol">→</a> <a id="27434" href="MGS-MLTT.html#712" class="Function">𝟘</a>
</pre>

<h3 id="miscellany">Miscellany</h3>

<p>Finally, we include the following list of “utilities” that will come in
handy later. Most of these are self-explanatory, but we make a few
remarks below when we feel there is something worth noting.</p>

<pre class="Agda">
 <a id="prelude._∈∈_"></a><a id="27679" href="ualib.html#27679" class="Function Operator">_∈∈_</a> <a id="27684" class="Symbol">:</a> <a id="27686" class="Symbol">{</a><a id="27687" href="ualib.html#27687" class="Bound">A</a> <a id="27689" class="Symbol">:</a> <a id="27691" href="Universes.html#260" class="Generalizable">𝓤</a> <a id="27693" href="Universes.html#403" class="Function Operator">̇</a> <a id="27695" class="Symbol">}</a> <a id="27697" class="Symbol">{</a><a id="27698" href="ualib.html#27698" class="Bound">B</a> <a id="27700" class="Symbol">:</a> <a id="27702" href="Universes.html#264" class="Generalizable">𝓦</a> <a id="27704" href="Universes.html#403" class="Function Operator">̇</a> <a id="27706" class="Symbol">}</a> <a id="27708" class="Symbol">→</a> <a id="27710" class="Symbol">(</a><a id="27711" href="ualib.html#27687" class="Bound">A</a>  <a id="27714" class="Symbol">→</a>  <a id="27717" href="ualib.html#27698" class="Bound">B</a><a id="27718" class="Symbol">)</a> <a id="27720" class="Symbol">→</a> <a id="27722" href="ualib.html#25725" class="Function">Pred</a> <a id="27727" href="ualib.html#27698" class="Bound">B</a> <a id="27729" href="Universes.html#266" class="Generalizable">𝓣</a> <a id="27731" class="Symbol">→</a> <a id="27733" href="Universes.html#260" class="Generalizable">𝓤</a> <a id="27735" href="Agda.Primitive.html#636" class="Primitive Operator">⊔</a> <a id="27737" href="Universes.html#266" class="Generalizable">𝓣</a> <a id="27739" href="Universes.html#403" class="Function Operator">̇</a>
 <a id="27742" href="ualib.html#27679" class="Function Operator">_∈∈_</a> <a id="27747" href="ualib.html#27747" class="Bound">f</a> <a id="27749" href="ualib.html#27749" class="Bound">S</a> <a id="27751" class="Symbol">=</a> <a id="27753" class="Symbol">(</a><a id="27754" href="ualib.html#27754" class="Bound">x</a> <a id="27756" class="Symbol">:</a> <a id="27758" class="Symbol">_)</a> <a id="27761" class="Symbol">→</a> <a id="27763" href="ualib.html#27747" class="Bound">f</a> <a id="27765" href="ualib.html#27754" class="Bound">x</a> <a id="27767" href="ualib.html#26625" class="Function Operator">∈</a> <a id="27769" href="ualib.html#27749" class="Bound">S</a>

 <a id="prelude.Im_⊆_"></a><a id="27773" href="ualib.html#27773" class="Function Operator">Im_⊆_</a> <a id="27779" class="Symbol">:</a> <a id="27781" class="Symbol">{</a><a id="27782" href="ualib.html#27782" class="Bound">A</a> <a id="27784" class="Symbol">:</a> <a id="27786" href="Universes.html#260" class="Generalizable">𝓤</a> <a id="27788" href="Universes.html#403" class="Function Operator">̇</a> <a id="27790" class="Symbol">}</a> <a id="27792" class="Symbol">{</a><a id="27793" href="ualib.html#27793" class="Bound">B</a> <a id="27795" class="Symbol">:</a> <a id="27797" href="Universes.html#262" class="Generalizable">𝓥</a> <a id="27799" href="Universes.html#403" class="Function Operator">̇</a> <a id="27801" class="Symbol">}</a> <a id="27803" class="Symbol">→</a> <a id="27805" class="Symbol">(</a><a id="27806" href="ualib.html#27782" class="Bound">A</a> <a id="27808" class="Symbol">→</a> <a id="27810" href="ualib.html#27793" class="Bound">B</a><a id="27811" class="Symbol">)</a> <a id="27813" class="Symbol">→</a> <a id="27815" href="ualib.html#25725" class="Function">Pred</a> <a id="27820" href="ualib.html#27793" class="Bound">B</a> <a id="27822" href="Universes.html#266" class="Generalizable">𝓣</a> <a id="27824" class="Symbol">→</a> <a id="27826" href="Universes.html#260" class="Generalizable">𝓤</a> <a id="27828" href="Agda.Primitive.html#636" class="Primitive Operator">⊔</a> <a id="27830" href="Universes.html#266" class="Generalizable">𝓣</a> <a id="27832" href="Universes.html#403" class="Function Operator">̇</a>
 <a id="27835" href="ualib.html#27773" class="Function Operator">Im_⊆_</a> <a id="27841" class="Symbol">{</a><a id="27842" class="Argument">A</a> <a id="27844" class="Symbol">=</a> <a id="27846" href="ualib.html#27846" class="Bound">A</a><a id="27847" class="Symbol">}</a> <a id="27849" href="ualib.html#27849" class="Bound">f</a> <a id="27851" href="ualib.html#27851" class="Bound">S</a> <a id="27853" class="Symbol">=</a> <a id="27855" class="Symbol">(</a><a id="27856" href="ualib.html#27856" class="Bound">x</a> <a id="27858" class="Symbol">:</a> <a id="27860" href="ualib.html#27846" class="Bound">A</a><a id="27861" class="Symbol">)</a> <a id="27863" class="Symbol">→</a> <a id="27865" href="ualib.html#27849" class="Bound">f</a> <a id="27867" href="ualib.html#27856" class="Bound">x</a> <a id="27869" href="ualib.html#26625" class="Function Operator">∈</a> <a id="27871" href="ualib.html#27851" class="Bound">S</a>

 <a id="prelude.img"></a><a id="27875" href="ualib.html#27875" class="Function">img</a> <a id="27879" class="Symbol">:</a> <a id="27881" class="Symbol">{</a><a id="27882" href="ualib.html#27882" class="Bound">X</a> <a id="27884" class="Symbol">:</a> <a id="27886" href="Universes.html#260" class="Generalizable">𝓤</a> <a id="27888" href="Universes.html#403" class="Function Operator">̇</a> <a id="27890" class="Symbol">}</a> <a id="27892" class="Symbol">{</a><a id="27893" href="ualib.html#27893" class="Bound">Y</a> <a id="27895" class="Symbol">:</a> <a id="27897" href="Universes.html#260" class="Generalizable">𝓤</a> <a id="27899" href="Universes.html#403" class="Function Operator">̇</a> <a id="27901" class="Symbol">}</a>
       <a id="27910" class="Symbol">(</a><a id="27911" href="ualib.html#27911" class="Bound">f</a> <a id="27913" class="Symbol">:</a> <a id="27915" href="ualib.html#27882" class="Bound">X</a> <a id="27917" class="Symbol">→</a> <a id="27919" href="ualib.html#27893" class="Bound">Y</a><a id="27920" class="Symbol">)</a> <a id="27922" class="Symbol">(</a><a id="27923" href="ualib.html#27923" class="Bound">P</a> <a id="27925" class="Symbol">:</a> <a id="27927" href="ualib.html#25725" class="Function">Pred</a> <a id="27932" href="ualib.html#27893" class="Bound">Y</a> <a id="27934" href="Universes.html#260" class="Generalizable">𝓤</a><a id="27935" class="Symbol">)</a>
  <a id="27939" class="Symbol">→</a>    <a id="27944" href="ualib.html#27773" class="Function Operator">Im</a> <a id="27947" href="ualib.html#27911" class="Bound">f</a> <a id="27949" href="ualib.html#27773" class="Function Operator">⊆</a> <a id="27951" href="ualib.html#27923" class="Bound">P</a> <a id="27953" class="Symbol">→</a>  <a id="27956" href="ualib.html#27882" class="Bound">X</a> <a id="27958" class="Symbol">→</a> <a id="27960" href="Sigma-Type.html#120" class="Record">Σ</a> <a id="27962" href="ualib.html#27923" class="Bound">P</a>
 <a id="27965" href="ualib.html#27875" class="Function">img</a> <a id="27969" class="Symbol">{</a><a id="27970" class="Argument">Y</a> <a id="27972" class="Symbol">=</a> <a id="27974" href="ualib.html#27974" class="Bound">Y</a><a id="27975" class="Symbol">}</a> <a id="27977" href="ualib.html#27977" class="Bound">f</a> <a id="27979" href="ualib.html#27979" class="Bound">P</a> <a id="27981" href="ualib.html#27981" class="Bound">Imf⊆P</a> <a id="27987" class="Symbol">=</a> <a id="27989" class="Symbol">λ</a> <a id="27991" href="ualib.html#27991" class="Bound">x₁</a> <a id="27994" class="Symbol">→</a> <a id="27996" href="ualib.html#27977" class="Bound">f</a> <a id="27998" href="ualib.html#27991" class="Bound">x₁</a> <a id="28001" href="ualib.html#20052" class="InductiveConstructor Operator">,</a> <a id="28003" href="ualib.html#27981" class="Bound">Imf⊆P</a> <a id="28009" href="ualib.html#27991" class="Bound">x₁</a>

 <a id="prelude.≡-elim-left"></a><a id="28014" href="ualib.html#28014" class="Function">≡-elim-left</a> <a id="28026" class="Symbol">:</a> <a id="28028" class="Symbol">{</a><a id="28029" href="ualib.html#28029" class="Bound">A₁</a> <a id="28032" href="ualib.html#28032" class="Bound">A₂</a> <a id="28035" class="Symbol">:</a> <a id="28037" href="Universes.html#260" class="Generalizable">𝓤</a> <a id="28039" href="Universes.html#403" class="Function Operator">̇</a> <a id="28041" class="Symbol">}</a> <a id="28043" class="Symbol">{</a><a id="28044" href="ualib.html#28044" class="Bound">B₁</a> <a id="28047" href="ualib.html#28047" class="Bound">B₂</a> <a id="28050" class="Symbol">:</a> <a id="28052" href="Universes.html#264" class="Generalizable">𝓦</a> <a id="28054" href="Universes.html#403" class="Function Operator">̇</a> <a id="28056" class="Symbol">}</a>
  <a id="28060" class="Symbol">→</a>            <a id="28073" class="Symbol">(</a><a id="28074" href="ualib.html#28029" class="Bound">A₁</a> <a id="28077" href="ualib.html#20052" class="InductiveConstructor Operator">,</a> <a id="28079" href="ualib.html#28044" class="Bound">B₁</a><a id="28081" class="Symbol">)</a> <a id="28083" href="ualib.html#19941" class="Datatype Operator">≡</a> <a id="28085" class="Symbol">(</a><a id="28086" href="ualib.html#28032" class="Bound">A₂</a> <a id="28089" href="ualib.html#20052" class="InductiveConstructor Operator">,</a> <a id="28091" href="ualib.html#28047" class="Bound">B₂</a><a id="28093" class="Symbol">)</a>
               <a id="28110" class="Comment">----------------------</a>
  <a id="28135" class="Symbol">→</a>                   <a id="28155" href="ualib.html#28029" class="Bound">A₁</a> <a id="28158" href="ualib.html#19941" class="Datatype Operator">≡</a> <a id="28160" href="ualib.html#28032" class="Bound">A₂</a>
 <a id="28164" href="ualib.html#28014" class="Function">≡-elim-left</a> <a id="28176" href="ualib.html#28176" class="Bound">e</a> <a id="28178" class="Symbol">=</a> <a id="28180" href="MGS-MLTT.html#6613" class="Function">ap</a> <a id="28183" href="MGS-MLTT.html#2942" class="Function">pr₁</a> <a id="28187" href="ualib.html#28176" class="Bound">e</a>

 <a id="prelude.≡-elim-right"></a><a id="28191" href="ualib.html#28191" class="Function">≡-elim-right</a> <a id="28204" class="Symbol">:</a> <a id="28206" class="Symbol">{</a><a id="28207" href="ualib.html#28207" class="Bound">A₁</a> <a id="28210" href="ualib.html#28210" class="Bound">A₂</a> <a id="28213" class="Symbol">:</a> <a id="28215" href="Universes.html#260" class="Generalizable">𝓤</a> <a id="28217" href="Universes.html#403" class="Function Operator">̇</a> <a id="28219" class="Symbol">}{</a><a id="28221" href="ualib.html#28221" class="Bound">B₁</a> <a id="28224" href="ualib.html#28224" class="Bound">B₂</a> <a id="28227" class="Symbol">:</a> <a id="28229" href="Universes.html#264" class="Generalizable">𝓦</a> <a id="28231" href="Universes.html#403" class="Function Operator">̇</a> <a id="28233" class="Symbol">}</a>
  <a id="28237" class="Symbol">→</a>             <a id="28251" class="Symbol">(</a><a id="28252" href="ualib.html#28207" class="Bound">A₁</a> <a id="28255" href="ualib.html#20052" class="InductiveConstructor Operator">,</a> <a id="28257" href="ualib.html#28221" class="Bound">B₁</a><a id="28259" class="Symbol">)</a> <a id="28261" href="ualib.html#19941" class="Datatype Operator">≡</a> <a id="28263" class="Symbol">(</a><a id="28264" href="ualib.html#28210" class="Bound">A₂</a> <a id="28267" href="ualib.html#20052" class="InductiveConstructor Operator">,</a> <a id="28269" href="ualib.html#28224" class="Bound">B₂</a><a id="28271" class="Symbol">)</a>
               <a id="28288" class="Comment">-----------------------</a>
  <a id="28314" class="Symbol">→</a>                    <a id="28335" href="ualib.html#28221" class="Bound">B₁</a> <a id="28338" href="ualib.html#19941" class="Datatype Operator">≡</a> <a id="28340" href="ualib.html#28224" class="Bound">B₂</a>
 <a id="28344" href="ualib.html#28191" class="Function">≡-elim-right</a> <a id="28357" href="ualib.html#28357" class="Bound">e</a> <a id="28359" class="Symbol">=</a> <a id="28361" href="MGS-MLTT.html#6613" class="Function">ap</a> <a id="28364" href="MGS-MLTT.html#3001" class="Function">pr₂</a> <a id="28368" href="ualib.html#28357" class="Bound">e</a>

 <a id="prelude.≡-×-intro"></a><a id="28372" href="ualib.html#28372" class="Function">≡-×-intro</a> <a id="28382" class="Symbol">:</a> <a id="28384" class="Symbol">{</a><a id="28385" href="ualib.html#28385" class="Bound">A₁</a> <a id="28388" href="ualib.html#28388" class="Bound">A₂</a> <a id="28391" class="Symbol">:</a> <a id="28393" href="Universes.html#260" class="Generalizable">𝓤</a> <a id="28395" href="Universes.html#403" class="Function Operator">̇</a> <a id="28397" class="Symbol">}</a> <a id="28399" class="Symbol">{</a><a id="28400" href="ualib.html#28400" class="Bound">B₁</a> <a id="28403" href="ualib.html#28403" class="Bound">B₂</a> <a id="28406" class="Symbol">:</a> <a id="28408" href="Universes.html#264" class="Generalizable">𝓦</a> <a id="28410" href="Universes.html#403" class="Function Operator">̇</a> <a id="28412" class="Symbol">}</a>
  <a id="28416" class="Symbol">→</a>           <a id="28428" href="ualib.html#28385" class="Bound">A₁</a> <a id="28431" href="ualib.html#19941" class="Datatype Operator">≡</a> <a id="28433" href="ualib.html#28388" class="Bound">A₂</a>  <a id="28437" class="Symbol">→</a>  <a id="28440" href="ualib.html#28400" class="Bound">B₁</a> <a id="28443" href="ualib.html#19941" class="Datatype Operator">≡</a> <a id="28445" href="ualib.html#28403" class="Bound">B₂</a>
           <a id="28459" class="Comment">------------------------</a>
  <a id="28486" class="Symbol">→</a>          <a id="28497" class="Symbol">(</a><a id="28498" href="ualib.html#28385" class="Bound">A₁</a> <a id="28501" href="ualib.html#20052" class="InductiveConstructor Operator">,</a> <a id="28503" href="ualib.html#28400" class="Bound">B₁</a><a id="28505" class="Symbol">)</a> <a id="28507" href="ualib.html#19941" class="Datatype Operator">≡</a> <a id="28509" class="Symbol">(</a><a id="28510" href="ualib.html#28388" class="Bound">A₂</a> <a id="28513" href="ualib.html#20052" class="InductiveConstructor Operator">,</a> <a id="28515" href="ualib.html#28403" class="Bound">B₂</a><a id="28517" class="Symbol">)</a>
 <a id="28520" href="ualib.html#28372" class="Function">≡-×-intro</a> <a id="28530" class="Symbol">(</a><a id="28531" href="ualib.html#19978" class="InductiveConstructor">refl</a> <a id="28536" class="Symbol">_</a> <a id="28538" class="Symbol">)</a> <a id="28540" class="Symbol">(</a><a id="28541" href="ualib.html#19978" class="InductiveConstructor">refl</a> <a id="28546" class="Symbol">_</a> <a id="28548" class="Symbol">)</a> <a id="28550" class="Symbol">=</a> <a id="28552" class="Symbol">(</a><a id="28553" href="ualib.html#19978" class="InductiveConstructor">refl</a> <a id="28558" class="Symbol">_</a> <a id="28560" class="Symbol">)</a>

 <a id="prelude.cong-app-pred"></a><a id="28564" href="ualib.html#28564" class="Function">cong-app-pred</a> <a id="28578" class="Symbol">:</a> <a id="28580" class="Symbol">∀{</a><a id="28582" href="ualib.html#28582" class="Bound">A</a> <a id="28584" class="Symbol">:</a> <a id="28586" href="Universes.html#260" class="Generalizable">𝓤</a> <a id="28588" href="Universes.html#403" class="Function Operator">̇</a> <a id="28590" class="Symbol">}{</a><a id="28592" href="ualib.html#28592" class="Bound">B₁</a> <a id="28595" href="ualib.html#28595" class="Bound">B₂</a> <a id="28598" class="Symbol">:</a> <a id="28600" href="ualib.html#25725" class="Function">Pred</a> <a id="28605" href="ualib.html#28582" class="Bound">A</a> <a id="28607" href="Universes.html#260" class="Generalizable">𝓤</a><a id="28608" class="Symbol">}</a>
                 <a id="28627" class="Symbol">(</a><a id="28628" href="ualib.html#28628" class="Bound">x</a> <a id="28630" class="Symbol">:</a> <a id="28632" href="ualib.html#28582" class="Bound">A</a><a id="28633" class="Symbol">)</a> <a id="28635" class="Symbol">→</a>  <a id="28638" href="ualib.html#28628" class="Bound">x</a> <a id="28640" href="ualib.html#26625" class="Function Operator">∈</a> <a id="28642" href="ualib.html#28592" class="Bound">B₁</a>  <a id="28646" class="Symbol">→</a>  <a id="28649" href="ualib.html#28592" class="Bound">B₁</a> <a id="28652" href="ualib.html#19941" class="Datatype Operator">≡</a> <a id="28654" href="ualib.html#28595" class="Bound">B₂</a>
                <a id="28673" class="Comment">------------------------------</a>
  <a id="28706" class="Symbol">→</a>                         <a id="28732" href="ualib.html#28628" class="Bound">x</a> <a id="28734" href="ualib.html#26625" class="Function Operator">∈</a> <a id="28736" href="ualib.html#28595" class="Bound">B₂</a>
 <a id="28740" href="ualib.html#28564" class="Function">cong-app-pred</a> <a id="28754" href="ualib.html#28754" class="Bound">x</a> <a id="28756" href="ualib.html#28756" class="Bound">x∈B₁</a> <a id="28761" class="Symbol">(</a><a id="28762" href="ualib.html#19978" class="InductiveConstructor">refl</a> <a id="28767" class="Symbol">_</a> <a id="28769" class="Symbol">)</a> <a id="28771" class="Symbol">=</a> <a id="28773" href="ualib.html#28756" class="Bound">x∈B₁</a>

 <a id="prelude.cong-pred"></a><a id="28780" href="ualib.html#28780" class="Function">cong-pred</a> <a id="28790" class="Symbol">:</a> <a id="28792" class="Symbol">{</a><a id="28793" href="ualib.html#28793" class="Bound">A</a> <a id="28795" class="Symbol">:</a> <a id="28797" href="Universes.html#260" class="Generalizable">𝓤</a> <a id="28799" href="Universes.html#403" class="Function Operator">̇</a> <a id="28801" class="Symbol">}{</a><a id="28803" href="ualib.html#28803" class="Bound">B</a> <a id="28805" class="Symbol">:</a> <a id="28807" href="ualib.html#25725" class="Function">Pred</a> <a id="28812" href="ualib.html#28793" class="Bound">A</a> <a id="28814" href="Universes.html#260" class="Generalizable">𝓤</a><a id="28815" class="Symbol">}</a>
             <a id="28830" class="Symbol">(</a><a id="28831" href="ualib.html#28831" class="Bound">x</a> <a id="28833" href="ualib.html#28833" class="Bound">y</a> <a id="28835" class="Symbol">:</a> <a id="28837" href="ualib.html#28793" class="Bound">A</a><a id="28838" class="Symbol">)</a> <a id="28840" class="Symbol">→</a>  <a id="28843" href="ualib.html#28831" class="Bound">x</a> <a id="28845" href="ualib.html#26625" class="Function Operator">∈</a> <a id="28847" href="ualib.html#28803" class="Bound">B</a>  <a id="28850" class="Symbol">→</a>  <a id="28853" href="ualib.html#28831" class="Bound">x</a> <a id="28855" href="ualib.html#19941" class="Datatype Operator">≡</a> <a id="28857" href="ualib.html#28833" class="Bound">y</a>
             <a id="28872" class="Comment">----------------------------</a>
  <a id="28903" class="Symbol">→</a>                       <a id="28927" href="ualib.html#28833" class="Bound">y</a> <a id="28929" href="ualib.html#26625" class="Function Operator">∈</a> <a id="28931" href="ualib.html#28803" class="Bound">B</a>
 <a id="28934" href="ualib.html#28780" class="Function">cong-pred</a> <a id="28944" href="ualib.html#28944" class="Bound">x</a> <a id="28946" class="DottedPattern Symbol">.</a><a id="28947" href="ualib.html#28944" class="DottedPattern Bound">x</a> <a id="28949" href="ualib.html#28949" class="Bound">x∈B</a> <a id="28953" class="Symbol">(</a><a id="28954" href="ualib.html#19978" class="InductiveConstructor">refl</a> <a id="28959" class="Symbol">_</a> <a id="28961" class="Symbol">)</a> <a id="28963" class="Symbol">=</a> <a id="28965" href="ualib.html#28949" class="Bound">x∈B</a>


 <a id="28972" class="Keyword">data</a> <a id="prelude.Image_∋_"></a><a id="28977" href="ualib.html#28977" class="Datatype Operator">Image_∋_</a> <a id="28986" class="Symbol">{</a><a id="28987" href="ualib.html#28987" class="Bound">A</a> <a id="28989" class="Symbol">:</a> <a id="28991" href="Universes.html#260" class="Generalizable">𝓤</a> <a id="28993" href="Universes.html#403" class="Function Operator">̇</a> <a id="28995" class="Symbol">}{</a><a id="28997" href="ualib.html#28997" class="Bound">B</a> <a id="28999" class="Symbol">:</a> <a id="29001" href="Universes.html#264" class="Generalizable">𝓦</a> <a id="29003" href="Universes.html#403" class="Function Operator">̇</a> <a id="29005" class="Symbol">}(</a><a id="29007" href="ualib.html#29007" class="Bound">f</a> <a id="29009" class="Symbol">:</a> <a id="29011" href="ualib.html#28987" class="Bound">A</a> <a id="29013" class="Symbol">→</a> <a id="29015" href="ualib.html#28997" class="Bound">B</a><a id="29016" class="Symbol">)</a> <a id="29018" class="Symbol">:</a> <a id="29020" href="ualib.html#28997" class="Bound">B</a> <a id="29022" class="Symbol">→</a> <a id="29024" href="ualib.html#28991" class="Bound">𝓤</a> <a id="29026" href="Agda.Primitive.html#636" class="Primitive Operator">⊔</a> <a id="29028" href="ualib.html#29001" class="Bound">𝓦</a> <a id="29030" href="Universes.html#403" class="Function Operator">̇</a>
   <a id="29035" class="Keyword">where</a>
   <a id="prelude.Image_∋_.im"></a><a id="29044" href="ualib.html#29044" class="InductiveConstructor">im</a> <a id="29047" class="Symbol">:</a> <a id="29049" class="Symbol">(</a><a id="29050" href="ualib.html#29050" class="Bound">x</a> <a id="29052" class="Symbol">:</a> <a id="29054" href="ualib.html#28987" class="Bound">A</a><a id="29055" class="Symbol">)</a> <a id="29057" class="Symbol">→</a> <a id="29059" href="ualib.html#28977" class="Datatype Operator">Image</a> <a id="29065" href="ualib.html#29007" class="Bound">f</a> <a id="29067" href="ualib.html#28977" class="Datatype Operator">∋</a> <a id="29069" href="ualib.html#29007" class="Bound">f</a> <a id="29071" href="ualib.html#29050" class="Bound">x</a>
   <a id="prelude.Image_∋_.eq"></a><a id="29076" href="ualib.html#29076" class="InductiveConstructor">eq</a> <a id="29079" class="Symbol">:</a> <a id="29081" class="Symbol">(</a><a id="29082" href="ualib.html#29082" class="Bound">b</a> <a id="29084" class="Symbol">:</a> <a id="29086" href="ualib.html#28997" class="Bound">B</a><a id="29087" class="Symbol">)</a> <a id="29089" class="Symbol">→</a> <a id="29091" class="Symbol">(</a><a id="29092" href="ualib.html#29092" class="Bound">a</a> <a id="29094" class="Symbol">:</a> <a id="29096" href="ualib.html#28987" class="Bound">A</a><a id="29097" class="Symbol">)</a> <a id="29099" class="Symbol">→</a> <a id="29101" href="ualib.html#29082" class="Bound">b</a> <a id="29103" href="ualib.html#19941" class="Datatype Operator">≡</a> <a id="29105" href="ualib.html#29007" class="Bound">f</a> <a id="29107" href="ualib.html#29092" class="Bound">a</a> <a id="29109" class="Symbol">→</a> <a id="29111" href="ualib.html#28977" class="Datatype Operator">Image</a> <a id="29117" href="ualib.html#29007" class="Bound">f</a> <a id="29119" href="ualib.html#28977" class="Datatype Operator">∋</a> <a id="29121" href="ualib.html#29082" class="Bound">b</a>

 <a id="prelude.ImageIsImage"></a><a id="29125" href="ualib.html#29125" class="Function">ImageIsImage</a> <a id="29138" class="Symbol">:</a> <a id="29140" class="Symbol">{</a><a id="29141" href="ualib.html#29141" class="Bound">A</a> <a id="29143" class="Symbol">:</a> <a id="29145" href="Universes.html#260" class="Generalizable">𝓤</a> <a id="29147" href="Universes.html#403" class="Function Operator">̇</a> <a id="29149" class="Symbol">}{</a><a id="29151" href="ualib.html#29151" class="Bound">B</a> <a id="29153" class="Symbol">:</a> <a id="29155" href="Universes.html#264" class="Generalizable">𝓦</a> <a id="29157" href="Universes.html#403" class="Function Operator">̇</a> <a id="29159" class="Symbol">}</a>
                <a id="29177" class="Symbol">(</a><a id="29178" href="ualib.html#29178" class="Bound">f</a> <a id="29180" class="Symbol">:</a> <a id="29182" href="ualib.html#29141" class="Bound">A</a> <a id="29184" class="Symbol">→</a> <a id="29186" href="ualib.html#29151" class="Bound">B</a><a id="29187" class="Symbol">)</a> <a id="29189" class="Symbol">(</a><a id="29190" href="ualib.html#29190" class="Bound">b</a> <a id="29192" class="Symbol">:</a> <a id="29194" href="ualib.html#29151" class="Bound">B</a><a id="29195" class="Symbol">)</a> <a id="29197" class="Symbol">(</a><a id="29198" href="ualib.html#29198" class="Bound">a</a> <a id="29200" class="Symbol">:</a> <a id="29202" href="ualib.html#29141" class="Bound">A</a><a id="29203" class="Symbol">)</a>
  <a id="29207" class="Symbol">→</a>              <a id="29222" href="ualib.html#29190" class="Bound">b</a> <a id="29224" href="ualib.html#19941" class="Datatype Operator">≡</a> <a id="29226" href="ualib.html#29178" class="Bound">f</a> <a id="29228" href="ualib.html#29198" class="Bound">a</a>
               <a id="29245" class="Comment">----------------------------</a>
  <a id="29276" class="Symbol">→</a>              <a id="29291" href="ualib.html#28977" class="Datatype Operator">Image</a> <a id="29297" href="ualib.html#29178" class="Bound">f</a> <a id="29299" href="ualib.html#28977" class="Datatype Operator">∋</a> <a id="29301" href="ualib.html#29190" class="Bound">b</a>
 <a id="29304" href="ualib.html#29125" class="Function">ImageIsImage</a> <a id="29317" class="Symbol">{</a><a id="29318" class="Argument">A</a> <a id="29320" class="Symbol">=</a> <a id="29322" href="ualib.html#29322" class="Bound">A</a><a id="29323" class="Symbol">}{</a><a id="29325" class="Argument">B</a> <a id="29327" class="Symbol">=</a> <a id="29329" href="ualib.html#29329" class="Bound">B</a><a id="29330" class="Symbol">}</a> <a id="29332" href="ualib.html#29332" class="Bound">f</a> <a id="29334" href="ualib.html#29334" class="Bound">b</a> <a id="29336" href="ualib.html#29336" class="Bound">a</a> <a id="29338" href="ualib.html#29338" class="Bound">b≡fa</a> <a id="29343" class="Symbol">=</a> <a id="29345" href="ualib.html#29076" class="InductiveConstructor">eq</a> <a id="29348" href="ualib.html#29334" class="Bound">b</a> <a id="29350" href="ualib.html#29336" class="Bound">a</a> <a id="29352" href="ualib.html#29338" class="Bound">b≡fa</a>
</pre>

<p>N.B. the assertion <code class="language-plaintext highlighter-rouge">Image f ∋ y</code> must come with a proof, which is of the
form <code class="language-plaintext highlighter-rouge">∃a f a = y</code>, so we have a witness. Thus, the inverse can be
“computed” in the following way:</p>

<pre class="Agda">
 <a id="prelude.Inv"></a><a id="29556" href="ualib.html#29556" class="Function">Inv</a> <a id="29560" class="Symbol">:</a> <a id="29562" class="Symbol">{</a><a id="29563" href="ualib.html#29563" class="Bound">A</a> <a id="29565" class="Symbol">:</a> <a id="29567" href="Universes.html#260" class="Generalizable">𝓤</a> <a id="29569" href="Universes.html#403" class="Function Operator">̇</a> <a id="29571" class="Symbol">}{</a><a id="29573" href="ualib.html#29573" class="Bound">B</a> <a id="29575" class="Symbol">:</a> <a id="29577" href="Universes.html#264" class="Generalizable">𝓦</a> <a id="29579" href="Universes.html#403" class="Function Operator">̇</a> <a id="29581" class="Symbol">}(</a><a id="29583" href="ualib.html#29583" class="Bound">f</a> <a id="29585" class="Symbol">:</a> <a id="29587" href="ualib.html#29563" class="Bound">A</a> <a id="29589" class="Symbol">→</a> <a id="29591" href="ualib.html#29573" class="Bound">B</a><a id="29592" class="Symbol">)(</a><a id="29594" href="ualib.html#29594" class="Bound">b</a> <a id="29596" class="Symbol">:</a> <a id="29598" href="ualib.html#29573" class="Bound">B</a><a id="29599" class="Symbol">)</a> <a id="29601" class="Symbol">→</a> <a id="29603" href="ualib.html#28977" class="Datatype Operator">Image</a> <a id="29609" href="ualib.html#29583" class="Bound">f</a> <a id="29611" href="ualib.html#28977" class="Datatype Operator">∋</a> <a id="29613" href="ualib.html#29594" class="Bound">b</a>  <a id="29616" class="Symbol">→</a>  <a id="29619" href="ualib.html#29563" class="Bound">A</a>
 <a id="29622" href="ualib.html#29556" class="Function">Inv</a> <a id="29626" href="ualib.html#29626" class="Bound">f</a> <a id="29628" class="DottedPattern Symbol">.(</a><a id="29630" href="ualib.html#29626" class="DottedPattern Bound">f</a> <a id="29632" href="ualib.html#29639" class="DottedPattern Bound">a</a><a id="29633" class="DottedPattern Symbol">)</a> <a id="29635" class="Symbol">(</a><a id="29636" href="ualib.html#29044" class="InductiveConstructor">im</a> <a id="29639" href="ualib.html#29639" class="Bound">a</a><a id="29640" class="Symbol">)</a> <a id="29642" class="Symbol">=</a> <a id="29644" href="ualib.html#29639" class="Bound">a</a>
 <a id="29647" href="ualib.html#29556" class="Function">Inv</a> <a id="29651" href="ualib.html#29651" class="Bound">f</a> <a id="29653" href="ualib.html#29653" class="Bound">b</a> <a id="29655" class="Symbol">(</a><a id="29656" href="ualib.html#29076" class="InductiveConstructor">eq</a> <a id="29659" href="ualib.html#29653" class="Bound">b</a> <a id="29661" href="ualib.html#29661" class="Bound">a</a> <a id="29663" href="ualib.html#29663" class="Bound">b≡fa</a><a id="29667" class="Symbol">)</a> <a id="29669" class="Symbol">=</a> <a id="29671" href="ualib.html#29661" class="Bound">a</a>
</pre>

<p>The special case for Set (i.e., <code class="language-plaintext highlighter-rouge">𝓤₀ ̇</code>) is</p>

<pre class="Agda">
 <a id="prelude.inv"></a><a id="29743" href="ualib.html#29743" class="Function">inv</a> <a id="29747" class="Symbol">:</a> <a id="29749" class="Symbol">{</a><a id="29750" href="ualib.html#29750" class="Bound">A</a> <a id="29752" href="ualib.html#29752" class="Bound">B</a> <a id="29754" class="Symbol">:</a> <a id="29756" href="Agda.Primitive.html#590" class="Primitive">𝓤₀</a> <a id="29759" href="Universes.html#403" class="Function Operator">̇</a> <a id="29761" class="Symbol">}(</a><a id="29763" href="ualib.html#29763" class="Bound">f</a> <a id="29765" class="Symbol">:</a> <a id="29767" href="ualib.html#29750" class="Bound">A</a> <a id="29769" class="Symbol">→</a> <a id="29771" href="ualib.html#29752" class="Bound">B</a><a id="29772" class="Symbol">)(</a><a id="29774" href="ualib.html#29774" class="Bound">b</a> <a id="29776" class="Symbol">:</a> <a id="29778" href="ualib.html#29752" class="Bound">B</a><a id="29779" class="Symbol">)</a> <a id="29781" class="Symbol">→</a> <a id="29783" href="ualib.html#28977" class="Datatype Operator">Image</a> <a id="29789" href="ualib.html#29763" class="Bound">f</a> <a id="29791" href="ualib.html#28977" class="Datatype Operator">∋</a> <a id="29793" href="ualib.html#29774" class="Bound">b</a> <a id="29795" class="Symbol">→</a> <a id="29797" href="ualib.html#29750" class="Bound">A</a>
 <a id="29800" href="ualib.html#29743" class="Function">inv</a> <a id="29804" class="Symbol">{</a><a id="29805" href="ualib.html#29805" class="Bound">A</a><a id="29806" class="Symbol">}</a> <a id="29808" class="Symbol">{</a><a id="29809" href="ualib.html#29809" class="Bound">B</a><a id="29810" class="Symbol">}</a> <a id="29812" class="Symbol">=</a> <a id="29814" href="ualib.html#29556" class="Function">Inv</a> <a id="29818" class="Symbol">{</a><a id="29819" href="Agda.Primitive.html#590" class="Primitive">𝓤₀</a><a id="29821" class="Symbol">}{</a><a id="29823" href="Agda.Primitive.html#590" class="Primitive">𝓤₀</a><a id="29825" class="Symbol">}{</a><a id="29827" href="ualib.html#29805" class="Bound">A</a><a id="29828" class="Symbol">}{</a><a id="29830" href="ualib.html#29809" class="Bound">B</a><a id="29831" class="Symbol">}</a>

 <a id="prelude.InvIsInv"></a><a id="29835" href="ualib.html#29835" class="Function">InvIsInv</a> <a id="29844" class="Symbol">:</a> <a id="29846" class="Symbol">{</a><a id="29847" href="ualib.html#29847" class="Bound">A</a> <a id="29849" class="Symbol">:</a> <a id="29851" href="Universes.html#260" class="Generalizable">𝓤</a> <a id="29853" href="Universes.html#403" class="Function Operator">̇</a> <a id="29855" class="Symbol">}</a> <a id="29857" class="Symbol">{</a><a id="29858" href="ualib.html#29858" class="Bound">B</a> <a id="29860" class="Symbol">:</a> <a id="29862" href="Universes.html#264" class="Generalizable">𝓦</a> <a id="29864" href="Universes.html#403" class="Function Operator">̇</a> <a id="29866" class="Symbol">}</a> <a id="29868" class="Symbol">(</a><a id="29869" href="ualib.html#29869" class="Bound">f</a> <a id="29871" class="Symbol">:</a> <a id="29873" href="ualib.html#29847" class="Bound">A</a> <a id="29875" class="Symbol">→</a> <a id="29877" href="ualib.html#29858" class="Bound">B</a><a id="29878" class="Symbol">)</a>
            <a id="29892" class="Symbol">(</a><a id="29893" href="ualib.html#29893" class="Bound">b</a> <a id="29895" class="Symbol">:</a> <a id="29897" href="ualib.html#29858" class="Bound">B</a><a id="29898" class="Symbol">)</a> <a id="29900" class="Symbol">(</a><a id="29901" href="ualib.html#29901" class="Bound">b∈Imgf</a> <a id="29908" class="Symbol">:</a> <a id="29910" href="ualib.html#28977" class="Datatype Operator">Image</a> <a id="29916" href="ualib.html#29869" class="Bound">f</a> <a id="29918" href="ualib.html#28977" class="Datatype Operator">∋</a> <a id="29920" href="ualib.html#29893" class="Bound">b</a><a id="29921" class="Symbol">)</a>
           <a id="29934" class="Comment">---------------------------------</a>
  <a id="29970" class="Symbol">→</a>         <a id="29980" href="ualib.html#29869" class="Bound">f</a> <a id="29982" class="Symbol">(</a><a id="29983" href="ualib.html#29556" class="Function">Inv</a> <a id="29987" href="ualib.html#29869" class="Bound">f</a> <a id="29989" href="ualib.html#29893" class="Bound">b</a> <a id="29991" href="ualib.html#29901" class="Bound">b∈Imgf</a><a id="29997" class="Symbol">)</a> <a id="29999" href="ualib.html#19941" class="Datatype Operator">≡</a> <a id="30001" href="ualib.html#29893" class="Bound">b</a>
 <a id="30004" href="ualib.html#29835" class="Function">InvIsInv</a> <a id="30013" href="ualib.html#30013" class="Bound">f</a> <a id="30015" class="DottedPattern Symbol">.(</a><a id="30017" href="ualib.html#30013" class="DottedPattern Bound">f</a> <a id="30019" href="ualib.html#30026" class="DottedPattern Bound">a</a><a id="30020" class="DottedPattern Symbol">)</a> <a id="30022" class="Symbol">(</a><a id="30023" href="ualib.html#29044" class="InductiveConstructor">im</a> <a id="30026" href="ualib.html#30026" class="Bound">a</a><a id="30027" class="Symbol">)</a> <a id="30029" class="Symbol">=</a> <a id="30031" href="ualib.html#19978" class="InductiveConstructor">refl</a> <a id="30036" class="Symbol">_</a>
 <a id="30039" href="ualib.html#29835" class="Function">InvIsInv</a> <a id="30048" href="ualib.html#30048" class="Bound">f</a> <a id="30050" href="ualib.html#30050" class="Bound">b</a> <a id="30052" class="Symbol">(</a><a id="30053" href="ualib.html#29076" class="InductiveConstructor">eq</a> <a id="30056" href="ualib.html#30050" class="Bound">b</a> <a id="30058" href="ualib.html#30058" class="Bound">a</a> <a id="30060" href="ualib.html#30060" class="Bound">b≡fa</a><a id="30064" class="Symbol">)</a> <a id="30066" class="Symbol">=</a> <a id="30068" href="ualib.html#30060" class="Bound">b≡fa</a> <a id="30073" href="MGS-MLTT.html#6125" class="Function Operator">⁻¹</a>
</pre>

<p>An epic (or surjective) function from 𝓤 ̇ to 𝓦 ̇ (and the special case for <code class="language-plaintext highlighter-rouge">𝓤₀ ̇</code>) is defined as follows.</p>

<pre class="Agda">
 <a id="prelude.Epic"></a><a id="30209" href="ualib.html#30209" class="Function">Epic</a> <a id="30214" class="Symbol">:</a> <a id="30216" class="Symbol">{</a><a id="30217" href="ualib.html#30217" class="Bound">A</a> <a id="30219" class="Symbol">:</a> <a id="30221" href="Universes.html#260" class="Generalizable">𝓤</a> <a id="30223" href="Universes.html#403" class="Function Operator">̇</a> <a id="30225" class="Symbol">}</a> <a id="30227" class="Symbol">{</a><a id="30228" href="ualib.html#30228" class="Bound">B</a> <a id="30230" class="Symbol">:</a> <a id="30232" href="Universes.html#264" class="Generalizable">𝓦</a> <a id="30234" href="Universes.html#403" class="Function Operator">̇</a> <a id="30236" class="Symbol">}</a> <a id="30238" class="Symbol">(</a><a id="30239" href="ualib.html#30239" class="Bound">g</a> <a id="30241" class="Symbol">:</a> <a id="30243" href="ualib.html#30217" class="Bound">A</a> <a id="30245" class="Symbol">→</a> <a id="30247" href="ualib.html#30228" class="Bound">B</a><a id="30248" class="Symbol">)</a> <a id="30250" class="Symbol">→</a>  <a id="30253" href="Universes.html#260" class="Generalizable">𝓤</a> <a id="30255" href="Agda.Primitive.html#636" class="Primitive Operator">⊔</a> <a id="30257" href="Universes.html#264" class="Generalizable">𝓦</a> <a id="30259" href="Universes.html#403" class="Function Operator">̇</a>
 <a id="30262" href="ualib.html#30209" class="Function">Epic</a> <a id="30267" href="ualib.html#30267" class="Bound">g</a> <a id="30269" class="Symbol">=</a> <a id="30271" class="Symbol">∀</a> <a id="30273" href="ualib.html#30273" class="Bound">y</a> <a id="30275" class="Symbol">→</a> <a id="30277" href="ualib.html#28977" class="Datatype Operator">Image</a> <a id="30283" href="ualib.html#30267" class="Bound">g</a> <a id="30285" href="ualib.html#28977" class="Datatype Operator">∋</a> <a id="30287" href="ualib.html#30273" class="Bound">y</a>

 <a id="prelude.epic"></a><a id="30291" href="ualib.html#30291" class="Function">epic</a> <a id="30296" class="Symbol">:</a> <a id="30298" class="Symbol">{</a><a id="30299" href="ualib.html#30299" class="Bound">A</a> <a id="30301" href="ualib.html#30301" class="Bound">B</a> <a id="30303" class="Symbol">:</a> <a id="30305" href="Agda.Primitive.html#590" class="Primitive">𝓤₀</a> <a id="30308" href="Universes.html#403" class="Function Operator">̇</a> <a id="30310" class="Symbol">}</a> <a id="30312" class="Symbol">(</a><a id="30313" href="ualib.html#30313" class="Bound">g</a> <a id="30315" class="Symbol">:</a> <a id="30317" href="ualib.html#30299" class="Bound">A</a> <a id="30319" class="Symbol">→</a> <a id="30321" href="ualib.html#30301" class="Bound">B</a><a id="30322" class="Symbol">)</a> <a id="30324" class="Symbol">→</a> <a id="30326" href="Agda.Primitive.html#590" class="Primitive">𝓤₀</a> <a id="30329" href="Universes.html#403" class="Function Operator">̇</a>
 <a id="30332" href="ualib.html#30291" class="Function">epic</a> <a id="30337" class="Symbol">=</a> <a id="30339" href="ualib.html#30209" class="Function">Epic</a> <a id="30344" class="Symbol">{</a><a id="30345" href="Agda.Primitive.html#590" class="Primitive">𝓤₀</a><a id="30347" class="Symbol">}</a> <a id="30349" class="Symbol">{</a><a id="30350" href="Agda.Primitive.html#590" class="Primitive">𝓤₀</a><a id="30352" class="Symbol">}</a>
</pre>

<p>The (pseudo-)inverse of an epic function is</p>

<pre class="Agda">
 <a id="prelude.EpicInv"></a><a id="30425" href="ualib.html#30425" class="Function">EpicInv</a> <a id="30433" class="Symbol">:</a> <a id="30435" class="Symbol">{</a><a id="30436" href="ualib.html#30436" class="Bound">A</a> <a id="30438" class="Symbol">:</a> <a id="30440" href="Universes.html#260" class="Generalizable">𝓤</a> <a id="30442" href="Universes.html#403" class="Function Operator">̇</a> <a id="30444" class="Symbol">}</a> <a id="30446" class="Symbol">{</a><a id="30447" href="ualib.html#30447" class="Bound">B</a> <a id="30449" class="Symbol">:</a> <a id="30451" href="Universes.html#264" class="Generalizable">𝓦</a> <a id="30453" href="Universes.html#403" class="Function Operator">̇</a> <a id="30455" class="Symbol">}</a> <a id="30457" class="Symbol">(</a><a id="30458" href="ualib.html#30458" class="Bound">f</a> <a id="30460" class="Symbol">:</a> <a id="30462" href="ualib.html#30436" class="Bound">A</a> <a id="30464" class="Symbol">→</a> <a id="30466" href="ualib.html#30447" class="Bound">B</a><a id="30467" class="Symbol">)</a> <a id="30469" class="Symbol">→</a> <a id="30471" href="ualib.html#30209" class="Function">Epic</a> <a id="30476" href="ualib.html#30458" class="Bound">f</a> <a id="30478" class="Symbol">→</a> <a id="30480" href="ualib.html#30447" class="Bound">B</a> <a id="30482" class="Symbol">→</a> <a id="30484" href="ualib.html#30436" class="Bound">A</a>
 <a id="30487" href="ualib.html#30425" class="Function">EpicInv</a> <a id="30495" href="ualib.html#30495" class="Bound">f</a> <a id="30497" href="ualib.html#30497" class="Bound">fEpic</a> <a id="30503" href="ualib.html#30503" class="Bound">b</a> <a id="30505" class="Symbol">=</a> <a id="30507" href="ualib.html#29556" class="Function">Inv</a> <a id="30511" href="ualib.html#30495" class="Bound">f</a> <a id="30513" href="ualib.html#30503" class="Bound">b</a> <a id="30515" class="Symbol">(</a><a id="30516" href="ualib.html#30497" class="Bound">fEpic</a> <a id="30522" href="ualib.html#30503" class="Bound">b</a><a id="30523" class="Symbol">)</a>

 <a id="30527" class="Comment">-- The (psudo-)inverse of an epic is the right inverse.</a>
 <a id="prelude.EInvIsRInv"></a><a id="30584" href="ualib.html#30584" class="Function">EInvIsRInv</a> <a id="30595" class="Symbol">:</a> <a id="30597" href="MGS-FunExt-from-Univalence.html#393" class="Function">funext</a> <a id="30604" href="Universes.html#264" class="Generalizable">𝓦</a> <a id="30606" href="Universes.html#264" class="Generalizable">𝓦</a> <a id="30608" class="Symbol">→</a> <a id="30610" class="Symbol">{</a><a id="30611" href="ualib.html#30611" class="Bound">A</a> <a id="30613" class="Symbol">:</a> <a id="30615" href="Universes.html#260" class="Generalizable">𝓤</a> <a id="30617" href="Universes.html#403" class="Function Operator">̇</a> <a id="30619" class="Symbol">}</a> <a id="30621" class="Symbol">{</a><a id="30622" href="ualib.html#30622" class="Bound">B</a> <a id="30624" class="Symbol">:</a> <a id="30626" href="Universes.html#264" class="Generalizable">𝓦</a> <a id="30628" href="Universes.html#403" class="Function Operator">̇</a> <a id="30630" class="Symbol">}</a>
              <a id="30646" class="Symbol">(</a><a id="30647" href="ualib.html#30647" class="Bound">f</a> <a id="30649" class="Symbol">:</a> <a id="30651" href="ualib.html#30611" class="Bound">A</a> <a id="30653" class="Symbol">→</a> <a id="30655" href="ualib.html#30622" class="Bound">B</a><a id="30656" class="Symbol">)</a>  <a id="30659" class="Symbol">(</a><a id="30660" href="ualib.html#30660" class="Bound">fEpic</a> <a id="30666" class="Symbol">:</a> <a id="30668" href="ualib.html#30209" class="Function">Epic</a> <a id="30673" href="ualib.html#30647" class="Bound">f</a><a id="30674" class="Symbol">)</a>
             <a id="30689" class="Comment">---------------------------------</a>
  <a id="30725" class="Symbol">→</a>           <a id="30737" href="ualib.html#30647" class="Bound">f</a> <a id="30739" href="MGS-MLTT.html#3813" class="Function Operator">∘</a> <a id="30741" class="Symbol">(</a><a id="30742" href="ualib.html#30425" class="Function">EpicInv</a> <a id="30750" href="ualib.html#30647" class="Bound">f</a> <a id="30752" href="ualib.html#30660" class="Bound">fEpic</a><a id="30757" class="Symbol">)</a> <a id="30759" href="ualib.html#19941" class="Datatype Operator">≡</a> <a id="30761" href="MGS-MLTT.html#3778" class="Function">𝑖𝑑</a> <a id="30764" href="ualib.html#30622" class="Bound">B</a>
 <a id="30767" href="ualib.html#30584" class="Function">EInvIsRInv</a> <a id="30778" href="ualib.html#30778" class="Bound">fe</a> <a id="30781" href="ualib.html#30781" class="Bound">f</a> <a id="30783" href="ualib.html#30783" class="Bound">fEpic</a> <a id="30789" class="Symbol">=</a> <a id="30791" href="ualib.html#30778" class="Bound">fe</a> <a id="30794" class="Symbol">(λ</a> <a id="30797" href="ualib.html#30797" class="Bound">x</a> <a id="30799" class="Symbol">→</a> <a id="30801" href="ualib.html#29835" class="Function">InvIsInv</a> <a id="30810" href="ualib.html#30781" class="Bound">f</a> <a id="30812" href="ualib.html#30797" class="Bound">x</a> <a id="30814" class="Symbol">(</a><a id="30815" href="ualib.html#30783" class="Bound">fEpic</a> <a id="30821" href="ualib.html#30797" class="Bound">x</a><a id="30822" class="Symbol">))</a>
</pre>

<p>Monics (or injective) functions are defined this way.</p>

<pre class="Agda">
 <a id="prelude.monic"></a><a id="30906" href="ualib.html#30906" class="Function">monic</a> <a id="30912" class="Symbol">:</a> <a id="30914" class="Symbol">{</a><a id="30915" href="ualib.html#30915" class="Bound">A</a> <a id="30917" class="Symbol">:</a> <a id="30919" href="Universes.html#260" class="Generalizable">𝓤</a> <a id="30921" href="Universes.html#403" class="Function Operator">̇</a> <a id="30923" class="Symbol">}</a> <a id="30925" class="Symbol">{</a><a id="30926" href="ualib.html#30926" class="Bound">B</a> <a id="30928" class="Symbol">:</a> <a id="30930" href="Universes.html#264" class="Generalizable">𝓦</a> <a id="30932" href="Universes.html#403" class="Function Operator">̇</a> <a id="30934" class="Symbol">}</a> <a id="30936" class="Symbol">(</a><a id="30937" href="ualib.html#30937" class="Bound">g</a> <a id="30939" class="Symbol">:</a> <a id="30941" href="ualib.html#30915" class="Bound">A</a> <a id="30943" class="Symbol">→</a> <a id="30945" href="ualib.html#30926" class="Bound">B</a><a id="30946" class="Symbol">)</a> <a id="30948" class="Symbol">→</a> <a id="30950" href="Universes.html#260" class="Generalizable">𝓤</a> <a id="30952" href="Agda.Primitive.html#636" class="Primitive Operator">⊔</a> <a id="30954" href="Universes.html#264" class="Generalizable">𝓦</a> <a id="30956" href="Universes.html#403" class="Function Operator">̇</a>
 <a id="30959" href="ualib.html#30906" class="Function">monic</a> <a id="30965" href="ualib.html#30965" class="Bound">g</a> <a id="30967" class="Symbol">=</a> <a id="30969" class="Symbol">∀</a> <a id="30971" href="ualib.html#30971" class="Bound">a₁</a> <a id="30974" href="ualib.html#30974" class="Bound">a₂</a> <a id="30977" class="Symbol">→</a> <a id="30979" href="ualib.html#30965" class="Bound">g</a> <a id="30981" href="ualib.html#30971" class="Bound">a₁</a> <a id="30984" href="ualib.html#19941" class="Datatype Operator">≡</a> <a id="30986" href="ualib.html#30965" class="Bound">g</a> <a id="30988" href="ualib.html#30974" class="Bound">a₂</a> <a id="30991" class="Symbol">→</a> <a id="30993" href="ualib.html#30971" class="Bound">a₁</a> <a id="30996" href="ualib.html#19941" class="Datatype Operator">≡</a> <a id="30998" href="ualib.html#30974" class="Bound">a₂</a>
 <a id="prelude.monic₀"></a><a id="31002" href="ualib.html#31002" class="Function">monic₀</a> <a id="31009" class="Symbol">:</a> <a id="31011" class="Symbol">{</a><a id="31012" href="ualib.html#31012" class="Bound">A</a> <a id="31014" href="ualib.html#31014" class="Bound">B</a> <a id="31016" class="Symbol">:</a> <a id="31018" href="Agda.Primitive.html#590" class="Primitive">𝓤₀</a> <a id="31021" href="Universes.html#403" class="Function Operator">̇</a> <a id="31023" class="Symbol">}</a> <a id="31025" class="Symbol">(</a><a id="31026" href="ualib.html#31026" class="Bound">g</a> <a id="31028" class="Symbol">:</a> <a id="31030" href="ualib.html#31012" class="Bound">A</a> <a id="31032" class="Symbol">→</a> <a id="31034" href="ualib.html#31014" class="Bound">B</a><a id="31035" class="Symbol">)</a> <a id="31037" class="Symbol">→</a> <a id="31039" href="Agda.Primitive.html#590" class="Primitive">𝓤₀</a> <a id="31042" href="Universes.html#403" class="Function Operator">̇</a>
 <a id="31045" href="ualib.html#31002" class="Function">monic₀</a> <a id="31052" class="Symbol">=</a> <a id="31054" href="ualib.html#30906" class="Function">monic</a> <a id="31060" class="Symbol">{</a><a id="31061" href="Agda.Primitive.html#590" class="Primitive">𝓤₀</a><a id="31063" class="Symbol">}{</a><a id="31065" href="Agda.Primitive.html#590" class="Primitive">𝓤₀</a><a id="31067" class="Symbol">}</a>

 <a id="31071" class="Comment">--The (pseudo-)inverse of a monic function</a>
 <a id="prelude.monic-inv"></a><a id="31115" href="ualib.html#31115" class="Function">monic-inv</a> <a id="31125" class="Symbol">:</a> <a id="31127" class="Symbol">{</a><a id="31128" href="ualib.html#31128" class="Bound">A</a> <a id="31130" class="Symbol">:</a> <a id="31132" href="Universes.html#260" class="Generalizable">𝓤</a> <a id="31134" href="Universes.html#403" class="Function Operator">̇</a> <a id="31136" class="Symbol">}</a> <a id="31138" class="Symbol">{</a><a id="31139" href="ualib.html#31139" class="Bound">B</a> <a id="31141" class="Symbol">:</a> <a id="31143" href="Universes.html#264" class="Generalizable">𝓦</a> <a id="31145" href="Universes.html#403" class="Function Operator">̇</a> <a id="31147" class="Symbol">}</a> <a id="31149" class="Symbol">(</a><a id="31150" href="ualib.html#31150" class="Bound">f</a> <a id="31152" class="Symbol">:</a> <a id="31154" href="ualib.html#31128" class="Bound">A</a> <a id="31156" class="Symbol">→</a> <a id="31158" href="ualib.html#31139" class="Bound">B</a><a id="31159" class="Symbol">)</a> <a id="31161" class="Symbol">→</a> <a id="31163" href="ualib.html#30906" class="Function">monic</a> <a id="31169" href="ualib.html#31150" class="Bound">f</a>
  <a id="31173" class="Symbol">→</a>           <a id="31185" class="Symbol">(</a><a id="31186" href="ualib.html#31186" class="Bound">b</a> <a id="31188" class="Symbol">:</a> <a id="31190" href="ualib.html#31139" class="Bound">B</a><a id="31191" class="Symbol">)</a> <a id="31193" class="Symbol">→</a> <a id="31195" href="ualib.html#28977" class="Datatype Operator">Image</a> <a id="31201" href="ualib.html#31150" class="Bound">f</a> <a id="31203" href="ualib.html#28977" class="Datatype Operator">∋</a> <a id="31205" href="ualib.html#31186" class="Bound">b</a> <a id="31207" class="Symbol">→</a> <a id="31209" href="ualib.html#31128" class="Bound">A</a>
 <a id="31212" href="ualib.html#31115" class="Function">monic-inv</a> <a id="31222" href="ualib.html#31222" class="Bound">f</a> <a id="31224" href="ualib.html#31224" class="Bound">fmonic</a>  <a id="31232" class="Symbol">=</a> <a id="31234" class="Symbol">λ</a> <a id="31236" href="ualib.html#31236" class="Bound">b</a> <a id="31238" href="ualib.html#31238" class="Bound">Imf∋b</a> <a id="31244" class="Symbol">→</a> <a id="31246" href="ualib.html#29556" class="Function">Inv</a> <a id="31250" href="ualib.html#31222" class="Bound">f</a> <a id="31252" href="ualib.html#31236" class="Bound">b</a> <a id="31254" href="ualib.html#31238" class="Bound">Imf∋b</a>

 <a id="31262" class="Comment">--The (psudo-)inverse of a monic is the left inverse.</a>
 <a id="prelude.monic-inv-is-linv"></a><a id="31317" href="ualib.html#31317" class="Function">monic-inv-is-linv</a> <a id="31335" class="Symbol">:</a> <a id="31337" class="Symbol">{</a><a id="31338" href="ualib.html#31338" class="Bound">A</a> <a id="31340" class="Symbol">:</a> <a id="31342" href="Universes.html#260" class="Generalizable">𝓤</a> <a id="31344" href="Universes.html#403" class="Function Operator">̇</a> <a id="31346" class="Symbol">}{</a><a id="31348" href="ualib.html#31348" class="Bound">B</a> <a id="31350" class="Symbol">:</a> <a id="31352" href="Universes.html#264" class="Generalizable">𝓦</a> <a id="31354" href="Universes.html#403" class="Function Operator">̇</a> <a id="31356" class="Symbol">}</a>
                     <a id="31379" class="Symbol">(</a><a id="31380" href="ualib.html#31380" class="Bound">f</a> <a id="31382" class="Symbol">:</a> <a id="31384" href="ualib.html#31338" class="Bound">A</a> <a id="31386" class="Symbol">→</a> <a id="31388" href="ualib.html#31348" class="Bound">B</a><a id="31389" class="Symbol">)</a> <a id="31391" class="Symbol">(</a><a id="31392" href="ualib.html#31392" class="Bound">fmonic</a> <a id="31399" class="Symbol">:</a> <a id="31401" href="ualib.html#30906" class="Function">monic</a> <a id="31407" href="ualib.html#31380" class="Bound">f</a><a id="31408" class="Symbol">)(</a><a id="31410" href="ualib.html#31410" class="Bound">x</a> <a id="31412" class="Symbol">:</a> <a id="31414" href="ualib.html#31338" class="Bound">A</a><a id="31415" class="Symbol">)</a>
                    <a id="31437" class="Comment">----------------------------------------</a>
   <a id="31481" class="Symbol">→</a>                 <a id="31499" class="Symbol">(</a><a id="31500" href="ualib.html#31115" class="Function">monic-inv</a> <a id="31510" href="ualib.html#31380" class="Bound">f</a> <a id="31512" href="ualib.html#31392" class="Bound">fmonic</a><a id="31518" class="Symbol">)</a> <a id="31520" class="Symbol">(</a><a id="31521" href="ualib.html#31380" class="Bound">f</a> <a id="31523" href="ualib.html#31410" class="Bound">x</a><a id="31524" class="Symbol">)</a> <a id="31526" class="Symbol">(</a><a id="31527" href="ualib.html#29044" class="InductiveConstructor">im</a> <a id="31530" href="ualib.html#31410" class="Bound">x</a><a id="31531" class="Symbol">)</a> <a id="31533" href="ualib.html#19941" class="Datatype Operator">≡</a> <a id="31535" href="ualib.html#31410" class="Bound">x</a>
 <a id="31538" href="ualib.html#31317" class="Function">monic-inv-is-linv</a> <a id="31556" href="ualib.html#31556" class="Bound">f</a> <a id="31558" href="ualib.html#31558" class="Bound">fmonic</a> <a id="31565" href="ualib.html#31565" class="Bound">x</a> <a id="31567" class="Symbol">=</a> <a id="31569" href="ualib.html#19978" class="InductiveConstructor">refl</a> <a id="31574" class="Symbol">_</a>
</pre>

<p>Finally, we define bijective functions as follows.</p>

<pre class="Agda">
 <a id="prelude.bijective"></a><a id="31654" href="ualib.html#31654" class="Function">bijective</a> <a id="31664" class="Symbol">:</a> <a id="31666" class="Symbol">{</a><a id="31667" href="ualib.html#31667" class="Bound">A</a> <a id="31669" href="ualib.html#31669" class="Bound">B</a> <a id="31671" class="Symbol">:</a> <a id="31673" href="Agda.Primitive.html#590" class="Primitive">𝓤₀</a> <a id="31676" href="Universes.html#403" class="Function Operator">̇</a> <a id="31678" class="Symbol">}(</a><a id="31680" href="ualib.html#31680" class="Bound">g</a> <a id="31682" class="Symbol">:</a> <a id="31684" href="ualib.html#31667" class="Bound">A</a> <a id="31686" class="Symbol">→</a> <a id="31688" href="ualib.html#31669" class="Bound">B</a><a id="31689" class="Symbol">)</a> <a id="31691" class="Symbol">→</a> <a id="31693" href="Agda.Primitive.html#590" class="Primitive">𝓤₀</a> <a id="31696" href="Universes.html#403" class="Function Operator">̇</a>
 <a id="31699" href="ualib.html#31654" class="Function">bijective</a> <a id="31709" href="ualib.html#31709" class="Bound">g</a> <a id="31711" class="Symbol">=</a> <a id="31713" href="ualib.html#30291" class="Function">epic</a> <a id="31718" href="ualib.html#31709" class="Bound">g</a> <a id="31720" href="MGS-MLTT.html#3515" class="Function Operator">×</a> <a id="31722" href="ualib.html#30906" class="Function">monic</a> <a id="31728" href="ualib.html#31709" class="Bound">g</a>

 <a id="prelude.Bijective"></a><a id="31732" href="ualib.html#31732" class="Function">Bijective</a> <a id="31742" class="Symbol">:</a> <a id="31744" class="Symbol">{</a><a id="31745" href="ualib.html#31745" class="Bound">A</a> <a id="31747" class="Symbol">:</a> <a id="31749" href="Universes.html#260" class="Generalizable">𝓤</a> <a id="31751" href="Universes.html#403" class="Function Operator">̇</a> <a id="31753" class="Symbol">}{</a><a id="31755" href="ualib.html#31755" class="Bound">B</a> <a id="31757" class="Symbol">:</a> <a id="31759" href="Universes.html#264" class="Generalizable">𝓦</a> <a id="31761" href="Universes.html#403" class="Function Operator">̇</a> <a id="31763" class="Symbol">}(</a><a id="31765" href="ualib.html#31765" class="Bound">g</a> <a id="31767" class="Symbol">:</a> <a id="31769" href="ualib.html#31745" class="Bound">A</a> <a id="31771" class="Symbol">→</a> <a id="31773" href="ualib.html#31755" class="Bound">B</a><a id="31774" class="Symbol">)</a> <a id="31776" class="Symbol">→</a> <a id="31778" href="Universes.html#260" class="Generalizable">𝓤</a> <a id="31780" href="Agda.Primitive.html#636" class="Primitive Operator">⊔</a> <a id="31782" href="Universes.html#264" class="Generalizable">𝓦</a> <a id="31784" href="Universes.html#403" class="Function Operator">̇</a>
 <a id="31787" href="ualib.html#31732" class="Function">Bijective</a> <a id="31797" href="ualib.html#31797" class="Bound">g</a> <a id="31799" class="Symbol">=</a> <a id="31801" href="ualib.html#30209" class="Function">Epic</a> <a id="31806" href="ualib.html#31797" class="Bound">g</a> <a id="31808" href="MGS-MLTT.html#3515" class="Function Operator">×</a> <a id="31810" href="ualib.html#30906" class="Function">monic</a> <a id="31816" href="ualib.html#31797" class="Bound">g</a>
</pre>

<h3 id="more-extensionality">More extensionality</h3>

<p>Here we collect miscellaneous definitions and proofs related to
extensionality that will come in handy later.</p>

<pre class="Agda">
 <a id="31981" class="Comment">--Ordinary function extensionality</a>
 <a id="prelude.extensionality"></a><a id="32017" href="ualib.html#32017" class="Function">extensionality</a> <a id="32032" class="Symbol">:</a> <a id="32034" class="Symbol">∀</a> <a id="32036" href="ualib.html#32036" class="Bound">𝓤</a> <a id="32038" href="ualib.html#32038" class="Bound">𝓦</a>  <a id="32041" class="Symbol">→</a> <a id="32043" href="ualib.html#32036" class="Bound">𝓤</a> <a id="32045" href="Agda.Primitive.html#606" class="Primitive Operator">⁺</a> <a id="32047" href="Agda.Primitive.html#636" class="Primitive Operator">⊔</a> <a id="32049" href="ualib.html#32038" class="Bound">𝓦</a> <a id="32051" href="Agda.Primitive.html#606" class="Primitive Operator">⁺</a> <a id="32053" href="Universes.html#403" class="Function Operator">̇</a>
 <a id="32056" href="ualib.html#32017" class="Function">extensionality</a> <a id="32071" href="ualib.html#32071" class="Bound">𝓤</a> <a id="32073" href="ualib.html#32073" class="Bound">𝓦</a> <a id="32075" class="Symbol">=</a> <a id="32077" class="Symbol">{</a><a id="32078" href="ualib.html#32078" class="Bound">A</a> <a id="32080" class="Symbol">:</a> <a id="32082" href="ualib.html#32071" class="Bound">𝓤</a> <a id="32084" href="Universes.html#403" class="Function Operator">̇</a> <a id="32086" class="Symbol">}</a> <a id="32088" class="Symbol">{</a><a id="32089" href="ualib.html#32089" class="Bound">B</a> <a id="32091" class="Symbol">:</a> <a id="32093" href="ualib.html#32073" class="Bound">𝓦</a> <a id="32095" href="Universes.html#403" class="Function Operator">̇</a> <a id="32097" class="Symbol">}</a> <a id="32099" class="Symbol">{</a><a id="32100" href="ualib.html#32100" class="Bound">f</a> <a id="32102" href="ualib.html#32102" class="Bound">g</a> <a id="32104" class="Symbol">:</a> <a id="32106" href="ualib.html#32078" class="Bound">A</a> <a id="32108" class="Symbol">→</a> <a id="32110" href="ualib.html#32089" class="Bound">B</a><a id="32111" class="Symbol">}</a>
  <a id="32115" class="Symbol">→</a>                <a id="32132" href="ualib.html#32100" class="Bound">f</a> <a id="32134" href="MGS-MLTT.html#6747" class="Function Operator">∼</a> <a id="32136" href="ualib.html#32102" class="Bound">g</a>   <a id="32140" class="Symbol">→</a>   <a id="32144" href="ualib.html#32100" class="Bound">f</a> <a id="32146" href="ualib.html#19941" class="Datatype Operator">≡</a> <a id="32148" href="ualib.html#32102" class="Bound">g</a>

 <a id="32152" class="Comment">--Opposite of function extensionality</a>
 <a id="prelude.intensionality"></a><a id="32191" href="ualib.html#32191" class="Function">intensionality</a> <a id="32206" class="Symbol">:</a> <a id="32208" class="Symbol">∀</a> <a id="32210" class="Symbol">{</a><a id="32211" href="ualib.html#32211" class="Bound">𝓤</a> <a id="32213" href="ualib.html#32213" class="Bound">𝓦</a><a id="32214" class="Symbol">}</a> <a id="32216" class="Symbol">{</a><a id="32217" href="ualib.html#32217" class="Bound">A</a> <a id="32219" class="Symbol">:</a> <a id="32221" href="ualib.html#32211" class="Bound">𝓤</a> <a id="32223" href="Universes.html#403" class="Function Operator">̇</a> <a id="32225" class="Symbol">}</a> <a id="32227" class="Symbol">{</a><a id="32228" href="ualib.html#32228" class="Bound">B</a> <a id="32230" class="Symbol">:</a> <a id="32232" href="ualib.html#32213" class="Bound">𝓦</a> <a id="32234" href="Universes.html#403" class="Function Operator">̇</a> <a id="32236" class="Symbol">}</a> <a id="32238" class="Symbol">{</a><a id="32239" href="ualib.html#32239" class="Bound">f</a> <a id="32241" href="ualib.html#32241" class="Bound">g</a> <a id="32243" class="Symbol">:</a> <a id="32245" href="ualib.html#32217" class="Bound">A</a> <a id="32247" class="Symbol">→</a> <a id="32249" href="ualib.html#32228" class="Bound">B</a><a id="32250" class="Symbol">}</a>
  <a id="32254" class="Symbol">→</a>                <a id="32271" href="ualib.html#32239" class="Bound">f</a> <a id="32273" href="ualib.html#19941" class="Datatype Operator">≡</a> <a id="32275" href="ualib.html#32241" class="Bound">g</a>  <a id="32278" class="Symbol">→</a>  <a id="32281" class="Symbol">(</a><a id="32282" href="ualib.html#32282" class="Bound">x</a> <a id="32284" class="Symbol">:</a> <a id="32286" href="ualib.html#32217" class="Bound">A</a><a id="32287" class="Symbol">)</a>
                   <a id="32308" class="Comment">------------------</a>
  <a id="32329" class="Symbol">→</a>                    <a id="32350" href="ualib.html#32239" class="Bound">f</a> <a id="32352" href="ualib.html#32282" class="Bound">x</a> <a id="32354" href="ualib.html#19941" class="Datatype Operator">≡</a> <a id="32356" href="ualib.html#32241" class="Bound">g</a> <a id="32358" href="ualib.html#32282" class="Bound">x</a>

 <a id="32362" href="ualib.html#32191" class="Function">intensionality</a>  <a id="32378" class="Symbol">(</a><a id="32379" href="ualib.html#19978" class="InductiveConstructor">refl</a> <a id="32384" class="Symbol">_</a> <a id="32386" class="Symbol">)</a> <a id="32388" class="Symbol">_</a>  <a id="32391" class="Symbol">=</a> <a id="32393" href="ualib.html#19978" class="InductiveConstructor">refl</a> <a id="32398" class="Symbol">_</a>

 <a id="32402" class="Comment">--Dependent intensionality</a>
 <a id="prelude.dep-intensionality"></a><a id="32430" href="ualib.html#32430" class="Function">dep-intensionality</a> <a id="32449" class="Symbol">:</a> <a id="32451" class="Symbol">∀</a> <a id="32453" class="Symbol">{</a><a id="32454" href="ualib.html#32454" class="Bound">𝓤</a> <a id="32456" href="ualib.html#32456" class="Bound">𝓦</a><a id="32457" class="Symbol">}{</a><a id="32459" href="ualib.html#32459" class="Bound">A</a> <a id="32461" class="Symbol">:</a> <a id="32463" href="ualib.html#32454" class="Bound">𝓤</a> <a id="32465" href="Universes.html#403" class="Function Operator">̇</a> <a id="32467" class="Symbol">}{</a><a id="32469" href="ualib.html#32469" class="Bound">B</a> <a id="32471" class="Symbol">:</a> <a id="32473" href="ualib.html#32459" class="Bound">A</a> <a id="32475" class="Symbol">→</a> <a id="32477" href="ualib.html#32456" class="Bound">𝓦</a> <a id="32479" href="Universes.html#403" class="Function Operator">̇</a> <a id="32481" class="Symbol">}</a>
                      <a id="32505" class="Symbol">{</a><a id="32506" href="ualib.html#32506" class="Bound">f</a> <a id="32508" href="ualib.html#32508" class="Bound">g</a> <a id="32510" class="Symbol">:</a> <a id="32512" class="Symbol">∀(</a><a id="32514" href="ualib.html#32514" class="Bound">x</a> <a id="32516" class="Symbol">:</a> <a id="32518" href="ualib.html#32459" class="Bound">A</a><a id="32519" class="Symbol">)</a> <a id="32521" class="Symbol">→</a> <a id="32523" href="ualib.html#32469" class="Bound">B</a> <a id="32525" href="ualib.html#32514" class="Bound">x</a><a id="32526" class="Symbol">}</a>
  <a id="32530" class="Symbol">→</a>                   <a id="32550" href="ualib.html#32506" class="Bound">f</a> <a id="32552" href="ualib.html#19941" class="Datatype Operator">≡</a> <a id="32554" href="ualib.html#32508" class="Bound">g</a>  <a id="32557" class="Symbol">→</a>  <a id="32560" class="Symbol">(</a><a id="32561" href="ualib.html#32561" class="Bound">x</a> <a id="32563" class="Symbol">:</a> <a id="32565" href="ualib.html#32459" class="Bound">A</a><a id="32566" class="Symbol">)</a>
                     <a id="32589" class="Comment">------------------</a>
  <a id="32610" class="Symbol">→</a>                    <a id="32631" href="ualib.html#32506" class="Bound">f</a> <a id="32633" href="ualib.html#32561" class="Bound">x</a> <a id="32635" href="ualib.html#19941" class="Datatype Operator">≡</a> <a id="32637" href="ualib.html#32508" class="Bound">g</a> <a id="32639" href="ualib.html#32561" class="Bound">x</a>

 <a id="32643" href="ualib.html#32430" class="Function">dep-intensionality</a> <a id="32662" class="Symbol">(</a><a id="32663" href="ualib.html#19978" class="InductiveConstructor">refl</a> <a id="32668" class="Symbol">_</a> <a id="32670" class="Symbol">)</a> <a id="32672" class="Symbol">_</a> <a id="32674" class="Symbol">=</a> <a id="32676" href="ualib.html#19978" class="InductiveConstructor">refl</a> <a id="32681" class="Symbol">_</a>

 <a id="32685" class="Comment">--------------------------------------</a>
 <a id="32725" class="Comment">--Dependent function extensionality</a>
 <a id="prelude.dep-extensionality"></a><a id="32762" href="ualib.html#32762" class="Function">dep-extensionality</a> <a id="32781" class="Symbol">:</a> <a id="32783" class="Symbol">∀</a> <a id="32785" href="ualib.html#32785" class="Bound">𝓤</a> <a id="32787" href="ualib.html#32787" class="Bound">𝓦</a> <a id="32789" class="Symbol">→</a> <a id="32791" href="ualib.html#32785" class="Bound">𝓤</a> <a id="32793" href="Agda.Primitive.html#606" class="Primitive Operator">⁺</a> <a id="32795" href="Agda.Primitive.html#636" class="Primitive Operator">⊔</a> <a id="32797" href="ualib.html#32787" class="Bound">𝓦</a> <a id="32799" href="Agda.Primitive.html#606" class="Primitive Operator">⁺</a> <a id="32801" href="Universes.html#403" class="Function Operator">̇</a>
 <a id="32804" href="ualib.html#32762" class="Function">dep-extensionality</a> <a id="32823" href="ualib.html#32823" class="Bound">𝓤</a> <a id="32825" href="ualib.html#32825" class="Bound">𝓦</a> <a id="32827" class="Symbol">=</a> <a id="32829" class="Symbol">{</a><a id="32830" href="ualib.html#32830" class="Bound">A</a> <a id="32832" class="Symbol">:</a> <a id="32834" href="ualib.html#32823" class="Bound">𝓤</a> <a id="32836" href="Universes.html#403" class="Function Operator">̇</a> <a id="32838" class="Symbol">}</a> <a id="32840" class="Symbol">{</a><a id="32841" href="ualib.html#32841" class="Bound">B</a> <a id="32843" class="Symbol">:</a> <a id="32845" href="ualib.html#32830" class="Bound">A</a> <a id="32847" class="Symbol">→</a> <a id="32849" href="ualib.html#32825" class="Bound">𝓦</a> <a id="32851" href="Universes.html#403" class="Function Operator">̇</a> <a id="32853" class="Symbol">}</a>
   <a id="32858" class="Symbol">{</a><a id="32859" href="ualib.html#32859" class="Bound">f</a> <a id="32861" href="ualib.html#32861" class="Bound">g</a> <a id="32863" class="Symbol">:</a> <a id="32865" class="Symbol">∀(</a><a id="32867" href="ualib.html#32867" class="Bound">x</a> <a id="32869" class="Symbol">:</a> <a id="32871" href="ualib.html#32830" class="Bound">A</a><a id="32872" class="Symbol">)</a> <a id="32874" class="Symbol">→</a> <a id="32876" href="ualib.html#32841" class="Bound">B</a> <a id="32878" href="ualib.html#32867" class="Bound">x</a><a id="32879" class="Symbol">}</a> <a id="32881" class="Symbol">→</a>  <a id="32884" href="ualib.html#32859" class="Bound">f</a> <a id="32886" href="MGS-MLTT.html#6747" class="Function Operator">∼</a> <a id="32888" href="ualib.html#32861" class="Bound">g</a>  <a id="32891" class="Symbol">→</a>  <a id="32894" href="ualib.html#32859" class="Bound">f</a> <a id="32896" href="ualib.html#19941" class="Datatype Operator">≡</a> <a id="32898" href="ualib.html#32861" class="Bound">g</a>

 <a id="prelude.∀-extensionality"></a><a id="32902" href="ualib.html#32902" class="Function">∀-extensionality</a> <a id="32919" class="Symbol">:</a> <a id="32921" href="Agda.Primitive.html#787" class="Primitive">𝓤ω</a>
 <a id="32925" href="ualib.html#32902" class="Function">∀-extensionality</a> <a id="32942" class="Symbol">=</a> <a id="32944" class="Symbol">∀</a>  <a id="32947" class="Symbol">{</a><a id="32948" href="ualib.html#32948" class="Bound">𝓤</a> <a id="32950" href="ualib.html#32950" class="Bound">𝓥</a><a id="32951" class="Symbol">}</a> <a id="32953" class="Symbol">→</a> <a id="32955" href="ualib.html#32017" class="Function">extensionality</a> <a id="32970" href="ualib.html#32948" class="Bound">𝓤</a> <a id="32972" href="ualib.html#32950" class="Bound">𝓥</a>

 <a id="prelude.∀-dep-extensionality"></a><a id="32976" href="ualib.html#32976" class="Function">∀-dep-extensionality</a> <a id="32997" class="Symbol">:</a> <a id="32999" href="Agda.Primitive.html#787" class="Primitive">𝓤ω</a>
 <a id="33003" href="ualib.html#32976" class="Function">∀-dep-extensionality</a> <a id="33024" class="Symbol">=</a> <a id="33026" class="Symbol">∀</a> <a id="33028" class="Symbol">{</a><a id="33029" href="ualib.html#33029" class="Bound">𝓤</a> <a id="33031" href="ualib.html#33031" class="Bound">𝓥</a><a id="33032" class="Symbol">}</a> <a id="33034" class="Symbol">→</a> <a id="33036" href="ualib.html#32762" class="Function">dep-extensionality</a> <a id="33055" href="ualib.html#33029" class="Bound">𝓤</a> <a id="33057" href="ualib.html#33031" class="Bound">𝓥</a>

 <a id="prelude.extensionality-lemma"></a><a id="33061" href="ualib.html#33061" class="Function">extensionality-lemma</a> <a id="33082" class="Symbol">:</a> <a id="33084" class="Symbol">{</a><a id="33085" href="ualib.html#33085" class="Bound">I</a> <a id="33087" class="Symbol">:</a> <a id="33089" href="ualib.html#17578" class="Generalizable">𝓘</a> <a id="33091" href="Universes.html#403" class="Function Operator">̇</a> <a id="33093" class="Symbol">}{</a><a id="33095" href="ualib.html#33095" class="Bound">X</a> <a id="33097" class="Symbol">:</a> <a id="33099" href="Universes.html#260" class="Generalizable">𝓤</a> <a id="33101" href="Universes.html#403" class="Function Operator">̇</a> <a id="33103" class="Symbol">}{</a><a id="33105" href="ualib.html#33105" class="Bound">A</a> <a id="33107" class="Symbol">:</a> <a id="33109" href="ualib.html#33085" class="Bound">I</a> <a id="33111" class="Symbol">→</a> <a id="33113" href="Universes.html#262" class="Generalizable">𝓥</a> <a id="33115" href="Universes.html#403" class="Function Operator">̇</a> <a id="33117" class="Symbol">}</a>
                        <a id="33143" class="Symbol">(</a><a id="33144" href="ualib.html#33144" class="Bound">p</a> <a id="33146" href="ualib.html#33146" class="Bound">q</a> <a id="33148" class="Symbol">:</a> <a id="33150" class="Symbol">(</a><a id="33151" href="ualib.html#33151" class="Bound">i</a> <a id="33153" class="Symbol">:</a> <a id="33155" href="ualib.html#33085" class="Bound">I</a><a id="33156" class="Symbol">)</a> <a id="33158" class="Symbol">→</a> <a id="33160" class="Symbol">(</a><a id="33161" href="ualib.html#33095" class="Bound">X</a> <a id="33163" class="Symbol">→</a> <a id="33165" href="ualib.html#33105" class="Bound">A</a> <a id="33167" href="ualib.html#33151" class="Bound">i</a><a id="33168" class="Symbol">)</a> <a id="33170" class="Symbol">→</a> <a id="33172" href="Universes.html#266" class="Generalizable">𝓣</a> <a id="33174" href="Universes.html#403" class="Function Operator">̇</a> <a id="33176" class="Symbol">)</a>
                        <a id="33202" class="Symbol">(</a><a id="33203" href="ualib.html#33203" class="Bound">args</a> <a id="33208" class="Symbol">:</a> <a id="33210" href="ualib.html#33095" class="Bound">X</a> <a id="33212" class="Symbol">→</a> <a id="33214" class="Symbol">(</a><a id="33215" href="MGS-MLTT.html#3562" class="Function">Π</a> <a id="33217" href="ualib.html#33105" class="Bound">A</a><a id="33218" class="Symbol">))</a>
  <a id="33223" class="Symbol">→</a>                     <a id="33245" href="ualib.html#33144" class="Bound">p</a> <a id="33247" href="ualib.html#19941" class="Datatype Operator">≡</a> <a id="33249" href="ualib.html#33146" class="Bound">q</a>
    <a id="33255" class="Comment">-------------------------------------------------------------</a>
  <a id="33319" class="Symbol">→</a> <a id="33321" class="Symbol">(λ</a> <a id="33324" href="ualib.html#33324" class="Bound">i</a> <a id="33326" class="Symbol">→</a> <a id="33328" class="Symbol">(</a><a id="33329" href="ualib.html#33144" class="Bound">p</a> <a id="33331" href="ualib.html#33324" class="Bound">i</a><a id="33332" class="Symbol">)(λ</a> <a id="33336" href="ualib.html#33336" class="Bound">x</a> <a id="33338" class="Symbol">→</a> <a id="33340" href="ualib.html#33203" class="Bound">args</a> <a id="33345" href="ualib.html#33336" class="Bound">x</a> <a id="33347" href="ualib.html#33324" class="Bound">i</a><a id="33348" class="Symbol">))</a> <a id="33351" href="ualib.html#19941" class="Datatype Operator">≡</a> <a id="33353" class="Symbol">(λ</a> <a id="33356" href="ualib.html#33356" class="Bound">i</a> <a id="33358" class="Symbol">→</a> <a id="33360" class="Symbol">(</a><a id="33361" href="ualib.html#33146" class="Bound">q</a> <a id="33363" href="ualib.html#33356" class="Bound">i</a><a id="33364" class="Symbol">)(λ</a> <a id="33368" href="ualib.html#33368" class="Bound">x</a> <a id="33370" class="Symbol">→</a> <a id="33372" href="ualib.html#33203" class="Bound">args</a> <a id="33377" href="ualib.html#33368" class="Bound">x</a> <a id="33379" href="ualib.html#33356" class="Bound">i</a><a id="33380" class="Symbol">))</a>

 <a id="33385" href="ualib.html#33061" class="Function">extensionality-lemma</a> <a id="33406" href="ualib.html#33406" class="Bound">p</a> <a id="33408" href="ualib.html#33408" class="Bound">q</a> <a id="33410" href="ualib.html#33410" class="Bound">args</a> <a id="33415" href="ualib.html#33415" class="Bound">pq</a> <a id="33418" class="Symbol">=</a> <a id="33420" href="MGS-MLTT.html#6613" class="Function">ap</a> <a id="33423" class="Symbol">(λ</a> <a id="33426" href="ualib.html#33426" class="Bound">-</a> <a id="33428" class="Symbol">→</a> <a id="33430" class="Symbol">λ</a> <a id="33432" href="ualib.html#33432" class="Bound">i</a> <a id="33434" class="Symbol">→</a> <a id="33436" class="Symbol">(</a><a id="33437" href="ualib.html#33426" class="Bound">-</a> <a id="33439" href="ualib.html#33432" class="Bound">i</a><a id="33440" class="Symbol">)</a> <a id="33442" class="Symbol">(λ</a> <a id="33445" href="ualib.html#33445" class="Bound">x</a> <a id="33447" class="Symbol">→</a> <a id="33449" href="ualib.html#33410" class="Bound">args</a> <a id="33454" href="ualib.html#33445" class="Bound">x</a> <a id="33456" href="ualib.html#33432" class="Bound">i</a><a id="33457" class="Symbol">))</a> <a id="33460" href="ualib.html#33415" class="Bound">pq</a>
</pre>

<hr />

<p><a href="ualib.html#contents"><sub>Table of contents ⇑</sub></a></p>
<h2 id="algebras-in-agda">Algebras in Agda</h2>

<p>This chapter describes the <a href="https://gitlab.com/ualib/ualib.gitlab.io/-/blob/master/basic.lagda.rst">basic module</a>
of the <a href="https://ualib.org">UALib</a> , which begins our <a href="https://wiki.portal.chalmers.se/agda/pmwiki.php">Agda</a> formalization of the basic concepts and theorems of universal algebra. In this module we will codify such notions as operation, signature, and algebraic structure.</p>

<pre class="Agda">
<a id="33979" class="Keyword">module</a> <a id="basic"></a><a id="33986" href="ualib.html#33986" class="Module">basic</a> <a id="33992" class="Keyword">where</a>

 <a id="34000" class="Keyword">open</a> <a id="34005" href="ualib.html#15713" class="Module">prelude</a> <a id="34013" class="Keyword">using</a> <a id="34019" class="Symbol">(</a><a id="34020" href="Agda.Primitive.html#423" class="Postulate">Universe</a><a id="34028" class="Symbol">;</a> <a id="34030" href="ualib.html#17578" class="Generalizable">𝓘</a><a id="34031" class="Symbol">;</a> <a id="34033" href="ualib.html#17590" class="Generalizable">𝓞</a><a id="34034" class="Symbol">;</a> <a id="34036" href="Universes.html#260" class="Generalizable">𝓤</a><a id="34037" class="Symbol">;</a> <a id="34039" href="Agda.Primitive.html#590" class="Primitive">𝓤₀</a><a id="34041" class="Symbol">;</a><a id="34042" href="Universes.html#262" class="Generalizable">𝓥</a><a id="34043" class="Symbol">;</a> <a id="34045" href="Universes.html#264" class="Generalizable">𝓦</a><a id="34046" class="Symbol">;</a> <a id="34048" href="Universes.html#266" class="Generalizable">𝓣</a><a id="34049" class="Symbol">;</a> <a id="34051" href="ualib.html#17598" class="Generalizable">𝓧</a><a id="34052" class="Symbol">;</a>
   <a id="34057" href="Agda.Primitive.html#606" class="Primitive">_⁺</a><a id="34059" class="Symbol">;</a> <a id="34061" href="Universes.html#403" class="Function Operator">_̇</a><a id="34063" class="Symbol">;</a><a id="34064" href="Agda.Primitive.html#636" class="Primitive Operator">_⊔_</a><a id="34067" class="Symbol">;</a> <a id="34069" href="ualib.html#20052" class="InductiveConstructor Operator">_,_</a><a id="34072" class="Symbol">;</a> <a id="34074" href="Sigma-Type.html#120" class="Record">Σ</a><a id="34075" class="Symbol">;</a> <a id="34077" href="MGS-MLTT.html#3074" class="Function">-Σ</a><a id="34079" class="Symbol">;</a> <a id="34081" href="ualib.html#21378" class="Function Operator">∣_∣</a><a id="34084" class="Symbol">;</a> <a id="34086" href="ualib.html#21456" class="Function Operator">∥_∥</a><a id="34089" class="Symbol">;</a> <a id="34091" href="MGS-MLTT.html#712" class="Function">𝟘</a><a id="34092" class="Symbol">;</a> <a id="34094" href="MGS-MLTT.html#2482" class="Function">𝟚</a><a id="34095" class="Symbol">;</a> <a id="34097" href="MGS-MLTT.html#3515" class="Function Operator">_×_</a><a id="34100" class="Symbol">;</a> <a id="34102" href="MGS-MLTT.html#3562" class="Function">Π</a><a id="34103" class="Symbol">;</a> <a id="34105" href="ualib.html#19941" class="Datatype Operator">_≡_</a><a id="34108" class="Symbol">;</a> <a id="34110" href="ualib.html#30209" class="Function">Epic</a><a id="34114" class="Symbol">)</a> <a id="34116" class="Keyword">public</a>
</pre>

<h3 id="operation-type">Operation type</h3>

<p>We define the type of <strong>operations</strong>, and give an example (the
projections).</p>

<pre class="Agda">
 <a id="34247" class="Comment">--The type of operations</a>
 <a id="basic.Op"></a><a id="34273" href="ualib.html#34273" class="Function">Op</a> <a id="34276" class="Symbol">:</a> <a id="34278" href="Universes.html#262" class="Generalizable">𝓥</a> <a id="34280" href="Universes.html#403" class="Function Operator">̇</a> <a id="34282" class="Symbol">→</a> <a id="34284" href="Universes.html#260" class="Generalizable">𝓤</a> <a id="34286" href="Universes.html#403" class="Function Operator">̇</a> <a id="34288" class="Symbol">→</a> <a id="34290" href="Universes.html#260" class="Generalizable">𝓤</a> <a id="34292" href="Agda.Primitive.html#636" class="Primitive Operator">⊔</a> <a id="34294" href="Universes.html#262" class="Generalizable">𝓥</a> <a id="34296" href="Universes.html#403" class="Function Operator">̇</a>
 <a id="34299" href="ualib.html#34273" class="Function">Op</a> <a id="34302" href="ualib.html#34302" class="Bound">I</a> <a id="34304" href="ualib.html#34304" class="Bound">A</a> <a id="34306" class="Symbol">=</a> <a id="34308" class="Symbol">(</a><a id="34309" href="ualib.html#34302" class="Bound">I</a> <a id="34311" class="Symbol">→</a> <a id="34313" href="ualib.html#34304" class="Bound">A</a><a id="34314" class="Symbol">)</a> <a id="34316" class="Symbol">→</a> <a id="34318" href="ualib.html#34304" class="Bound">A</a>

 <a id="34322" class="Comment">--Example. the projections</a>
 <a id="basic.π"></a><a id="34350" href="ualib.html#34350" class="Function">π</a> <a id="34352" class="Symbol">:</a> <a id="34354" class="Symbol">{</a><a id="34355" href="ualib.html#34355" class="Bound">I</a> <a id="34357" class="Symbol">:</a> <a id="34359" href="Universes.html#262" class="Generalizable">𝓥</a> <a id="34361" href="Universes.html#403" class="Function Operator">̇</a> <a id="34363" class="Symbol">}</a> <a id="34365" class="Symbol">{</a><a id="34366" href="ualib.html#34366" class="Bound">A</a> <a id="34368" class="Symbol">:</a> <a id="34370" href="Universes.html#260" class="Generalizable">𝓤</a> <a id="34372" href="Universes.html#403" class="Function Operator">̇</a> <a id="34374" class="Symbol">}</a> <a id="34376" class="Symbol">→</a> <a id="34378" href="ualib.html#34355" class="Bound">I</a> <a id="34380" class="Symbol">→</a> <a id="34382" href="ualib.html#34273" class="Function">Op</a> <a id="34385" href="ualib.html#34355" class="Bound">I</a> <a id="34387" href="ualib.html#34366" class="Bound">A</a>
 <a id="34390" href="ualib.html#34350" class="Function">π</a> <a id="34392" href="ualib.html#34392" class="Bound">i</a> <a id="34394" href="ualib.html#34394" class="Bound">x</a> <a id="34396" class="Symbol">=</a> <a id="34398" href="ualib.html#34394" class="Bound">x</a> <a id="34400" href="ualib.html#34392" class="Bound">i</a>
</pre>

<p>The type <code class="language-plaintext highlighter-rouge">Op</code> encodes the arity of an operation as an arbitrary type <code class="language-plaintext highlighter-rouge">I : 𝓥 ̇</code>, which gives us a very general way to represent an operation as a function type with domain <code class="language-plaintext highlighter-rouge">I → A</code> (the type of “tuples”) and codomain <code class="language-plaintext highlighter-rouge">A</code>.</p>

<p>The last two lines of the code block above codify the <code class="language-plaintext highlighter-rouge">i</code>-th <code class="language-plaintext highlighter-rouge">I</code>-ary projection operation on <code class="language-plaintext highlighter-rouge">A</code>.</p>

<h3 id="signature-type">Signature type</h3>

<p>We define the signature of an algebraic structure in Agda like this.</p>

<pre class="Agda">
 <a id="34839" class="Comment">--𝓞 is the universe in which operation symbols live</a>
 <a id="34892" class="Comment">--𝓥 is the universe in which arities live</a>
 <a id="basic.Signature"></a><a id="34935" href="ualib.html#34935" class="Function">Signature</a> <a id="34945" class="Symbol">:</a> <a id="34947" class="Symbol">(</a><a id="34948" href="ualib.html#34948" class="Bound">𝓞</a> <a id="34950" href="ualib.html#34950" class="Bound">𝓥</a> <a id="34952" class="Symbol">:</a> <a id="34954" href="Agda.Primitive.html#423" class="Postulate">Universe</a><a id="34962" class="Symbol">)</a> <a id="34964" class="Symbol">→</a> <a id="34966" href="ualib.html#34948" class="Bound">𝓞</a> <a id="34968" href="Agda.Primitive.html#606" class="Primitive Operator">⁺</a> <a id="34970" href="Agda.Primitive.html#636" class="Primitive Operator">⊔</a> <a id="34972" href="ualib.html#34950" class="Bound">𝓥</a> <a id="34974" href="Agda.Primitive.html#606" class="Primitive Operator">⁺</a> <a id="34976" href="Universes.html#403" class="Function Operator">̇</a>
 <a id="34979" href="ualib.html#34935" class="Function">Signature</a> <a id="34989" href="ualib.html#34989" class="Bound">𝓞</a> <a id="34991" href="ualib.html#34991" class="Bound">𝓥</a> <a id="34993" class="Symbol">=</a> <a id="34995" href="MGS-MLTT.html#3074" class="Function">Σ</a> <a id="34997" href="ualib.html#34997" class="Bound">F</a> <a id="34999" href="MGS-MLTT.html#3074" class="Function">꞉</a> <a id="35001" href="ualib.html#34989" class="Bound">𝓞</a> <a id="35003" href="Universes.html#403" class="Function Operator">̇</a>  <a id="35006" href="MGS-MLTT.html#3074" class="Function">,</a> <a id="35008" class="Symbol">(</a> <a id="35010" href="ualib.html#34997" class="Bound">F</a> <a id="35012" class="Symbol">→</a> <a id="35014" href="ualib.html#34991" class="Bound">𝓥</a> <a id="35016" href="Universes.html#403" class="Function Operator">̇</a> <a id="35018" class="Symbol">)</a>
</pre>

<p>In the <a href="https://gitlab.com/ualib/ualib.gitlab.io/-/blob/master/prelude.lagda.rst">prelude module</a> we defined the syntax ∣_∣ and ∥_∥ for the first and second projections, resp. Consequently, if <code class="language-plaintext highlighter-rouge">𝑆 : Signature 𝓞 𝓥</code> is a signature, then</p>

<blockquote>
  <p>∣ 𝑆 ∣ denotes the set of operation symbols (which is often called 𝐹), and</p>

  <p>∥ 𝑆 ∥ denotes the arity function (which is often called ρ).</p>
</blockquote>

<p>Thus, if 𝑓 : ∣ 𝑆 ∣ is an operation symbol in the signature 𝑆, then ∥ 𝑆 ∥ 𝑓 is the arity of 𝑓.</p>

<h3 id="algebra-type">Algebra type</h3>

<p>Finally, we are ready to define the type of algebras in the signature <code class="language-plaintext highlighter-rouge">S</code> (which we also call “S-algebras”).</p>

<pre class="Agda">
 <a id="basic.Algebra"></a><a id="35648" href="ualib.html#35648" class="Function">Algebra</a> <a id="35656" class="Symbol">:</a> <a id="35658" class="Symbol">(</a><a id="35659" href="ualib.html#35659" class="Bound">𝓤</a> <a id="35661" class="Symbol">:</a> <a id="35663" href="Agda.Primitive.html#423" class="Postulate">Universe</a><a id="35671" class="Symbol">){</a><a id="35673" href="ualib.html#35673" class="Bound">𝓞</a> <a id="35675" href="ualib.html#35675" class="Bound">𝓥</a> <a id="35677" class="Symbol">:</a> <a id="35679" href="Agda.Primitive.html#423" class="Postulate">Universe</a><a id="35687" class="Symbol">}</a>
           <a id="35700" class="Symbol">(</a><a id="35701" href="ualib.html#35701" class="Bound">𝑆</a> <a id="35703" class="Symbol">:</a> <a id="35705" href="ualib.html#34935" class="Function">Signature</a> <a id="35715" href="ualib.html#35673" class="Bound">𝓞</a> <a id="35717" href="ualib.html#35675" class="Bound">𝓥</a><a id="35718" class="Symbol">)</a> <a id="35720" class="Symbol">→</a>  <a id="35723" href="ualib.html#35673" class="Bound">𝓞</a> <a id="35725" href="Agda.Primitive.html#636" class="Primitive Operator">⊔</a> <a id="35727" href="ualib.html#35675" class="Bound">𝓥</a> <a id="35729" href="Agda.Primitive.html#636" class="Primitive Operator">⊔</a> <a id="35731" href="ualib.html#35659" class="Bound">𝓤</a> <a id="35733" href="Agda.Primitive.html#606" class="Primitive Operator">⁺</a> <a id="35735" href="Universes.html#403" class="Function Operator">̇</a>

 <a id="35739" href="ualib.html#35648" class="Function">Algebra</a> <a id="35747" href="ualib.html#35747" class="Bound">𝓤</a> <a id="35749" class="Symbol">{</a><a id="35750" href="ualib.html#35750" class="Bound">𝓞</a><a id="35751" class="Symbol">}{</a><a id="35753" href="ualib.html#35753" class="Bound">𝓥</a><a id="35754" class="Symbol">}</a> <a id="35756" href="ualib.html#35756" class="Bound">𝑆</a> <a id="35758" class="Symbol">=</a> <a id="35760" href="MGS-MLTT.html#3074" class="Function">Σ</a> <a id="35762" href="ualib.html#35762" class="Bound">A</a> <a id="35764" href="MGS-MLTT.html#3074" class="Function">꞉</a> <a id="35766" href="ualib.html#35747" class="Bound">𝓤</a> <a id="35768" href="Universes.html#403" class="Function Operator">̇</a> <a id="35770" href="MGS-MLTT.html#3074" class="Function">,</a> <a id="35772" class="Symbol">((</a><a id="35774" href="ualib.html#35774" class="Bound">𝑓</a> <a id="35776" class="Symbol">:</a> <a id="35778" href="ualib.html#21378" class="Function Operator">∣</a> <a id="35780" href="ualib.html#35756" class="Bound">𝑆</a> <a id="35782" href="ualib.html#21378" class="Function Operator">∣</a><a id="35783" class="Symbol">)</a> <a id="35785" class="Symbol">→</a> <a id="35787" href="ualib.html#34273" class="Function">Op</a> <a id="35790" class="Symbol">(</a><a id="35791" href="ualib.html#21456" class="Function Operator">∥</a> <a id="35793" href="ualib.html#35756" class="Bound">𝑆</a> <a id="35795" href="ualib.html#21456" class="Function Operator">∥</a> <a id="35797" href="ualib.html#35774" class="Bound">𝑓</a><a id="35798" class="Symbol">)</a> <a id="35800" href="ualib.html#35762" class="Bound">A</a><a id="35801" class="Symbol">)</a>
</pre>

<p>Thus, algebras—in the signature 𝑆 (or 𝑆-algebras) and with carrier types in the universe 𝓤—inhabit the type <code class="language-plaintext highlighter-rouge">Algebra 𝓤 {𝓞}{𝓥} 𝑆</code>. (We may also write <code class="language-plaintext highlighter-rouge">Algebra 𝓤 𝑆</code> since 𝓞 and 𝓥 can be infered from the given signature <code class="language-plaintext highlighter-rouge">𝑆</code>.)</p>

<p>In other words,</p>

<blockquote>
  <p><em>the type</em> <code class="language-plaintext highlighter-rouge">Algebra 𝓤 𝑆</code> <em>collects all the algebras of a particular
signature</em> 𝑆 <em>and carrier type</em> 𝓤, <em>and this collection of algebras
has type</em> 𝓞 ⊔ 𝓥 ⊔ 𝓤 ⁺ ̇ .</p>
</blockquote>

<p>Recall, 𝓞 ⊔ 𝓥 ⊔ 𝓤 ⁺ denotes the smallest universe containing 𝓞, 𝓥, and the successor of 𝓤.</p>

<p><strong>N.B.</strong> The type <code class="language-plaintext highlighter-rouge">Algebra 𝓤 𝑆</code> doesn’t define what an algebra <em>is</em> as a property. It defines a type of algebras; certain algebras inhabit this type—namely, the algebras consisting of a universe (say, <code class="language-plaintext highlighter-rouge">A</code>) of type 𝓤 ̇ , and a collection <code class="language-plaintext highlighter-rouge">(𝑓 : ∣ 𝑆 ∣) → Op (∥ 𝑆 ∥ 𝑓) A</code> of operations on <code class="language-plaintext highlighter-rouge">A</code>.</p>

<p>Here’s an alternative syntax that might seem more familiar to readers of the standard universal algebra literature.</p>

<pre><code class="language-agda">Algebra 𝓤 (F , ρ) = Σ A ꞉ 𝓤 ̇ ,  ((𝑓 : F )  → Op (ρ 𝑓) A )
</code></pre>

<p>Here <code class="language-plaintext highlighter-rouge">𝑆 = (F , ρ)</code> is the signature, <code class="language-plaintext highlighter-rouge">F</code> the type of operation symbols, and ρ the arity function.</p>

<p>Although this syntax would work equally well, we mention it merely for comparison and to demonstrate the flexibility of Agda. Throughout the library we stick to the syntax <code class="language-plaintext highlighter-rouge">𝑓 : ∣ 𝑆 ∣</code> for an operation symbol of the signature 𝑆, and <code class="language-plaintext highlighter-rouge">∥ 𝑆 ∥ 𝑓</code> for the arity of that symbol. We find these conventions a bit more convenient for programming.</p>

<h3 id="example">Example</h3>

<p>A monoid signature has two operation symbols, say, <code class="language-plaintext highlighter-rouge">e</code> and <code class="language-plaintext highlighter-rouge">·</code>, of
arities 0 and 2 (thus, of types <code class="language-plaintext highlighter-rouge">(𝟘 → A) → A</code> and <code class="language-plaintext highlighter-rouge">(𝟚 → A) → A</code>), resp.</p>

<pre class="Agda">
 <a id="37407" class="Keyword">data</a> <a id="basic.monoid-op"></a><a id="37412" href="ualib.html#37412" class="Datatype">monoid-op</a> <a id="37422" class="Symbol">:</a> <a id="37424" href="Agda.Primitive.html#590" class="Primitive">𝓤₀</a> <a id="37427" href="Universes.html#403" class="Function Operator">̇</a> <a id="37429" class="Keyword">where</a>
  <a id="basic.monoid-op.e"></a><a id="37437" href="ualib.html#37437" class="InductiveConstructor">e</a> <a id="37439" class="Symbol">:</a> <a id="37441" href="ualib.html#37412" class="Datatype">monoid-op</a>
  <a id="basic.monoid-op.·"></a><a id="37453" href="ualib.html#37453" class="InductiveConstructor">·</a> <a id="37455" class="Symbol">:</a> <a id="37457" href="ualib.html#37412" class="Datatype">monoid-op</a>

 <a id="basic.monoid-sig"></a><a id="37469" href="ualib.html#37469" class="Function">monoid-sig</a> <a id="37480" class="Symbol">:</a> <a id="37482" href="ualib.html#34935" class="Function">Signature</a> <a id="37492" class="Symbol">_</a> <a id="37494" class="Symbol">_</a>
 <a id="37497" href="ualib.html#37469" class="Function">monoid-sig</a> <a id="37508" class="Symbol">=</a> <a id="37510" href="ualib.html#37412" class="Datatype">monoid-op</a> <a id="37520" href="ualib.html#20052" class="InductiveConstructor Operator">,</a> <a id="37522" class="Symbol">λ</a> <a id="37524" class="Symbol">{</a> <a id="37526" href="ualib.html#37437" class="InductiveConstructor">e</a> <a id="37528" class="Symbol">→</a> <a id="37530" href="MGS-MLTT.html#712" class="Function">𝟘</a><a id="37531" class="Symbol">;</a> <a id="37533" href="ualib.html#37453" class="InductiveConstructor">·</a> <a id="37535" class="Symbol">→</a> <a id="37537" href="MGS-MLTT.html#2482" class="Function">𝟚</a> <a id="37539" class="Symbol">}</a>
</pre>

<p>The types indicate that <code class="language-plaintext highlighter-rouge">e</code> is nullary (i.e., takes no arguments, equivalently, takes args of type <code class="language-plaintext highlighter-rouge">𝟘 → A</code>), while <code class="language-plaintext highlighter-rouge">·</code> is binary (as indicated by argument type <code class="language-plaintext highlighter-rouge">𝟚 → A</code>).</p>

<p>We will have more to say about the type of algebras later. For now, we continue defining the syntax used in the <code class="language-plaintext highlighter-rouge">agda-ualib</code> to represent the basic objects of universal algebra.</p>

<h3 id="syntactic-sugar-for-operation-interpretation">Syntactic sugar for operation interpretation</h3>

<p>Before proceding, we define syntax that allows us to replace <code class="language-plaintext highlighter-rouge">∥ 𝑨 ∥ 𝑓</code> with the slightly more standard-looking <code class="language-plaintext highlighter-rouge">𝑓 ̂ 𝑨</code>, where 𝑓 is an operation symbol of the signature 𝑆 of 𝑨.</p>

<pre class="Agda">
<a id="38143" class="Keyword">open</a> <a id="38148" href="ualib.html#33986" class="Module">basic</a>

<a id="38155" class="Keyword">module</a> <a id="38162" href="ualib.html#38162" class="Module">_</a> <a id="38164" class="Symbol">{</a><a id="38165" href="ualib.html#38165" class="Bound">𝑆</a> <a id="38167" class="Symbol">:</a> <a id="38169" href="ualib.html#34935" class="Function">Signature</a> <a id="38179" href="ualib.html#17590" class="Generalizable">𝓞</a> <a id="38181" href="Universes.html#262" class="Generalizable">𝓥</a><a id="38182" class="Symbol">}</a>  <a id="38185" class="Keyword">where</a>

 <a id="38193" href="ualib.html#38193" class="Function Operator">_̂_</a> <a id="38197" class="Symbol">:</a> <a id="38199" class="Symbol">(</a><a id="38200" href="ualib.html#38200" class="Bound">𝑓</a> <a id="38202" class="Symbol">:</a> <a id="38204" href="ualib.html#21378" class="Function Operator">∣</a> <a id="38206" href="ualib.html#38165" class="Bound">𝑆</a> <a id="38208" href="ualib.html#21378" class="Function Operator">∣</a><a id="38209" class="Symbol">)</a>
  <a id="38213" class="Symbol">→</a>   <a id="38217" class="Symbol">(</a><a id="38218" href="ualib.html#38218" class="Bound">𝑨</a> <a id="38220" class="Symbol">:</a> <a id="38222" href="ualib.html#35648" class="Function">Algebra</a> <a id="38230" href="Universes.html#260" class="Generalizable">𝓤</a> <a id="38232" href="ualib.html#38165" class="Bound">𝑆</a><a id="38233" class="Symbol">)</a>
  <a id="38237" class="Symbol">→</a>   <a id="38241" class="Symbol">(</a><a id="38242" href="ualib.html#21456" class="Function Operator">∥</a> <a id="38244" href="ualib.html#38165" class="Bound">𝑆</a> <a id="38246" href="ualib.html#21456" class="Function Operator">∥</a> <a id="38248" href="ualib.html#38200" class="Bound">𝑓</a>  <a id="38251" class="Symbol">→</a>  <a id="38254" href="ualib.html#21378" class="Function Operator">∣</a> <a id="38256" href="ualib.html#38218" class="Bound">𝑨</a> <a id="38258" href="ualib.html#21378" class="Function Operator">∣</a><a id="38259" class="Symbol">)</a> <a id="38261" class="Symbol">→</a> <a id="38263" href="ualib.html#21378" class="Function Operator">∣</a> <a id="38265" href="ualib.html#38218" class="Bound">𝑨</a> <a id="38267" href="ualib.html#21378" class="Function Operator">∣</a>

 <a id="38271" href="ualib.html#38271" class="Bound">𝑓</a> <a id="38273" href="ualib.html#38193" class="Function Operator">̂</a> <a id="38275" href="ualib.html#38275" class="Bound">𝑨</a> <a id="38277" class="Symbol">=</a> <a id="38279" class="Symbol">λ</a> <a id="38281" href="ualib.html#38281" class="Bound">x</a> <a id="38283" class="Symbol">→</a> <a id="38285" class="Symbol">(</a><a id="38286" href="ualib.html#21456" class="Function Operator">∥</a> <a id="38288" href="ualib.html#38275" class="Bound">𝑨</a> <a id="38290" href="ualib.html#21456" class="Function Operator">∥</a> <a id="38292" href="ualib.html#38271" class="Bound">𝑓</a><a id="38293" class="Symbol">)</a> <a id="38295" href="ualib.html#38281" class="Bound">x</a>

 <a id="38299" class="Keyword">infix</a> <a id="38305" class="Number">40</a> <a id="38308" href="ualib.html#38193" class="Function Operator">_̂_</a>
</pre>

<p>Now we can use <code class="language-plaintext highlighter-rouge">𝑓 ̂ 𝑨</code> to represent the interpretation of the basic
operation symbol 𝑓 in the algebra 𝑨.</p>

<p>Below, we will need slightly different notation, namely, 𝑡 ̇ 𝑨, to
represent the interpretation of a term 𝑡 in the algebra 𝑨. (In
future releases of the <a href="https://gitlab.com/ualib/ualib.gitlab.io">UALib</a> we may
reconsider making it possible to use the same notation
interpretations of operation symbols and terms.)</p>

<h3 id="products-of-algebras">Products of algebras</h3>

<p>The (indexed) product of a collection of algebras is also an algebra if
we define such a product as follows:</p>

<pre class="Agda">
 <a id="38896" href="ualib.html#38896" class="Function">⨅</a> <a id="38898" class="Symbol">:</a> <a id="38900" class="Symbol">{</a><a id="38901" href="ualib.html#38901" class="Bound">I</a> <a id="38903" class="Symbol">:</a> <a id="38905" href="ualib.html#17578" class="Generalizable">𝓘</a> <a id="38907" href="Universes.html#403" class="Function Operator">̇</a> <a id="38909" class="Symbol">}(</a><a id="38911" href="ualib.html#38911" class="Bound">𝒜</a> <a id="38913" class="Symbol">:</a> <a id="38915" href="ualib.html#38901" class="Bound">I</a> <a id="38917" class="Symbol">→</a> <a id="38919" href="ualib.html#35648" class="Function">Algebra</a> <a id="38927" href="Universes.html#260" class="Generalizable">𝓤</a> <a id="38929" href="ualib.html#38165" class="Bound">𝑆</a> <a id="38931" class="Symbol">)</a> <a id="38933" class="Symbol">→</a> <a id="38935" href="ualib.html#35648" class="Function">Algebra</a> <a id="38943" class="Symbol">(</a><a id="38944" href="Universes.html#260" class="Generalizable">𝓤</a> <a id="38946" href="Agda.Primitive.html#636" class="Primitive Operator">⊔</a> <a id="38948" href="ualib.html#17578" class="Generalizable">𝓘</a><a id="38949" class="Symbol">)</a> <a id="38951" href="ualib.html#38165" class="Bound">𝑆</a>
 <a id="38954" href="ualib.html#38896" class="Function">⨅</a> <a id="38956" href="ualib.html#38956" class="Bound">𝒜</a> <a id="38958" class="Symbol">=</a>  <a id="38961" class="Symbol">((</a><a id="38963" href="ualib.html#38963" class="Bound">i</a> <a id="38965" class="Symbol">:</a> <a id="38967" class="Symbol">_)</a> <a id="38970" class="Symbol">→</a> <a id="38972" href="ualib.html#21378" class="Function Operator">∣</a> <a id="38974" href="ualib.html#38956" class="Bound">𝒜</a> <a id="38976" href="ualib.html#38963" class="Bound">i</a> <a id="38978" href="ualib.html#21378" class="Function Operator">∣</a><a id="38979" class="Symbol">)</a> <a id="38981" href="ualib.html#20052" class="InductiveConstructor Operator">,</a>  <a id="38984" class="Symbol">λ</a> <a id="38986" href="ualib.html#38986" class="Bound">𝑓</a> <a id="38988" href="ualib.html#38988" class="Bound">x</a> <a id="38990" href="ualib.html#38990" class="Bound">i</a> <a id="38992" class="Symbol">→</a> <a id="38994" class="Symbol">(</a><a id="38995" href="ualib.html#38986" class="Bound">𝑓</a> <a id="38997" href="ualib.html#38193" class="Function Operator">̂</a> <a id="38999" href="ualib.html#38956" class="Bound">𝒜</a> <a id="39001" href="ualib.html#38990" class="Bound">i</a><a id="39002" class="Symbol">)</a> <a id="39004" class="Symbol">λ</a> <a id="39006" href="ualib.html#39006" class="Bound">𝓥</a> <a id="39008" class="Symbol">→</a> <a id="39010" href="ualib.html#38988" class="Bound">x</a> <a id="39012" href="ualib.html#39006" class="Bound">𝓥</a> <a id="39014" href="ualib.html#38990" class="Bound">i</a>

 <a id="39018" class="Keyword">infixr</a> <a id="39025" class="Number">-1</a> <a id="39028" href="ualib.html#38896" class="Function">⨅</a>
</pre>

<p>(In <code class="language-plaintext highlighter-rouge">agda2-mode</code> ⨅ is typed as <code class="language-plaintext highlighter-rouge">\Glb</code>.)</p>

<h3 id="arbitrarily-many-variable-symbols">Arbitrarily many variable symbols</h3>

<p>Finally, since we typically want to assume that we have an arbitrary
large collection <code class="language-plaintext highlighter-rouge">X</code> of variable symbols at our disposal (so that, in
particular, given an algebra 𝑨 we can always find a surjective map h₀ :
X → ∣ 𝑨 ∣ from X to the universe of 𝑨), we define a type for use when
making this assumption.</p>

<pre class="Agda">
 <a id="39443" href="ualib.html#39443" class="Function Operator">_↠_</a> <a id="39447" class="Symbol">:</a> <a id="39449" href="ualib.html#17598" class="Generalizable">𝓧</a> <a id="39451" href="Universes.html#403" class="Function Operator">̇</a> <a id="39453" class="Symbol">→</a> <a id="39455" href="ualib.html#35648" class="Function">Algebra</a> <a id="39463" href="Universes.html#260" class="Generalizable">𝓤</a> <a id="39465" href="ualib.html#38165" class="Bound">𝑆</a> <a id="39467" class="Symbol">→</a> <a id="39469" href="ualib.html#17598" class="Generalizable">𝓧</a> <a id="39471" href="Agda.Primitive.html#636" class="Primitive Operator">⊔</a> <a id="39473" href="Universes.html#260" class="Generalizable">𝓤</a> <a id="39475" href="Universes.html#403" class="Function Operator">̇</a>
 <a id="39478" href="ualib.html#39478" class="Bound">X</a> <a id="39480" href="ualib.html#39443" class="Function Operator">↠</a> <a id="39482" href="ualib.html#39482" class="Bound">𝑨</a> <a id="39484" class="Symbol">=</a> <a id="39486" href="MGS-MLTT.html#3074" class="Function">Σ</a> <a id="39488" href="ualib.html#39488" class="Bound">h</a> <a id="39490" href="MGS-MLTT.html#3074" class="Function">꞉</a> <a id="39492" class="Symbol">(</a><a id="39493" href="ualib.html#39478" class="Bound">X</a> <a id="39495" class="Symbol">→</a> <a id="39497" href="ualib.html#21378" class="Function Operator">∣</a> <a id="39499" href="ualib.html#39482" class="Bound">𝑨</a> <a id="39501" href="ualib.html#21378" class="Function Operator">∣</a><a id="39502" class="Symbol">)</a> <a id="39504" href="MGS-MLTT.html#3074" class="Function">,</a> <a id="39506" href="ualib.html#30209" class="Function">Epic</a> <a id="39511" href="ualib.html#39488" class="Bound">h</a>
</pre>

<hr />

<h3 id="unicode-hints-1">Unicode Hints 1</h3>

<p>Table of some special characters used in the <a href="https://gitlab.com/ualib/ualib.gitlab.io/-/blob/master/basic.lagda.rst">basic
module</a>.</p>

<blockquote>
  <table>
    <thead>
      <tr>
        <th> </th>
        <th>To get</th>
        <th>Type</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td> </td>
        <td>𝓘</td>
        <td><code class="language-plaintext highlighter-rouge">\MCI</code></td>
      </tr>
    </tbody>
    <tbody>
      <tr>
        <td> </td>
        <td>𝓤₀</td>
        <td><code class="language-plaintext highlighter-rouge">\MCU\_0</code></td>
      </tr>
    </tbody>
    <tbody>
      <tr>
        <td> </td>
        <td>⊔</td>
        <td><code class="language-plaintext highlighter-rouge">\sqcup</code></td>
      </tr>
    </tbody>
    <tbody>
      <tr>
        <td> </td>
        <td>𝟘, 𝟚</td>
        <td><code class="language-plaintext highlighter-rouge">\b0</code>, <code class="language-plaintext highlighter-rouge">\b2</code></td>
      </tr>
    </tbody>
    <tbody>
      <tr>
        <td> </td>
        <td>𝑎, 𝑏</td>
        <td><code class="language-plaintext highlighter-rouge">\Mia</code>, <code class="language-plaintext highlighter-rouge">\Mib</code></td>
      </tr>
    </tbody>
    <tbody>
      <tr>
        <td> </td>
        <td>𝒂, 𝒃</td>
        <td><code class="language-plaintext highlighter-rouge">\MIa</code>, <code class="language-plaintext highlighter-rouge">\MIb</code></td>
      </tr>
    </tbody>
    <tbody>
      <tr>
        <td> </td>
        <td>𝒜</td>
        <td><code class="language-plaintext highlighter-rouge">\McA</code></td>
      </tr>
    </tbody>
    <tbody>
      <tr>
        <td> </td>
        <td>𝑓 ̂ 𝑨</td>
        <td><code class="language-plaintext highlighter-rouge">\Mif \^ \MIA</code></td>
      </tr>
    </tbody>
    <tbody>
      <tr>
        <td> </td>
        <td>≅</td>
        <td><code class="language-plaintext highlighter-rouge">≅</code> or <code class="language-plaintext highlighter-rouge">\cong</code></td>
      </tr>
    </tbody>
    <tbody>
      <tr>
        <td> </td>
        <td>∘</td>
        <td><code class="language-plaintext highlighter-rouge">\comp</code> or <code class="language-plaintext highlighter-rouge">\circ</code></td>
      </tr>
    </tbody>
    <tbody>
      <tr>
        <td> </td>
        <td>𝒾𝒹</td>
        <td><code class="language-plaintext highlighter-rouge">\Mci\Mcd</code></td>
      </tr>
    </tbody>
    <tbody>
      <tr>
        <td> </td>
        <td>ℒ𝒦</td>
        <td><code class="language-plaintext highlighter-rouge">\McL\McK</code></td>
      </tr>
    </tbody>
    <tbody>
      <tr>
        <td> </td>
        <td>ϕ</td>
        <td><code class="language-plaintext highlighter-rouge">\phi</code></td>
      </tr>
    </tbody>
    <tbody>
      <tr>
        <td> </td>
        <td>⨅</td>
        <td><code class="language-plaintext highlighter-rouge">\Glb</code></td>
      </tr>
    </tbody>
  </table>
</blockquote>

<p><strong>Emacs commands providing information about characters or input method</strong>:</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">M-x describe-char</code> (or <code class="language-plaintext highlighter-rouge">M-m h d c</code>) with the cursor on the character of interest</li>
  <li><code class="language-plaintext highlighter-rouge">M-x describe-input-method</code> (or <code class="language-plaintext highlighter-rouge">C-h I</code>)</li>
</ul>

<hr />

<p><a href="ualib.html#contents"><sub>Table of contents ⇑</sub></a></p>
<h2 id="congruences-in-agda">Congruences in Agda</h2>

<p>This chapter describes the <a href="https://gitlab.com/ualib/ualib.gitlab.io/-/blob/master/congruences.lagda.rst">congruences module</a>
of the <a href="https://ualib.org">UALib</a>.</p>

<p><strong>N.B.</strong> Some of the code in this first part of this chapter pertaining to relations is borrowed from similar code in the <a href="https://agda.github.io/agda-stdlib/">Agda standard library</a> (in the file [Relation/`Binary/Core.agda][]) that we translate into our notation for consistency.</p>

<pre class="Agda">
<a id="41734" class="Keyword">open</a> <a id="41739" href="ualib.html#33986" class="Module">basic</a>

<a id="41746" class="Keyword">module</a> <a id="congruences"></a><a id="41753" href="ualib.html#41753" class="Module">congruences</a> <a id="41765" class="Keyword">where</a>

 <a id="41773" class="Keyword">open</a> <a id="41778" href="ualib.html#15713" class="Module">prelude</a> <a id="41786" class="Keyword">using</a> <a id="41792" class="Symbol">(</a><a id="41793" href="ualib.html#25725" class="Function">Pred</a><a id="41797" class="Symbol">;</a> <a id="41799" href="ualib.html#17594" class="Generalizable">𝓡</a><a id="41800" class="Symbol">;</a> <a id="41802" href="ualib.html#17596" class="Generalizable">𝓢</a><a id="41803" class="Symbol">;</a> <a id="41805" href="MGS-Basic-UF.html#1827" class="Function">is-prop</a><a id="41812" class="Symbol">;</a> <a id="41814" href="MGS-MLTT.html#408" class="Function">𝟙</a><a id="41815" class="Symbol">;</a> <a id="41817" href="MGS-MLTT.html#5997" class="Function Operator">_≡⟨_⟩_</a><a id="41823" class="Symbol">;</a> <a id="41825" href="MGS-MLTT.html#6079" class="Function Operator">_∎</a><a id="41827" class="Symbol">;</a> <a id="41829" href="ualib.html#19978" class="InductiveConstructor">refl</a><a id="41833" class="Symbol">;</a> <a id="41835" href="MGS-MLTT.html#6125" class="Function Operator">_⁻¹</a><a id="41838" class="Symbol">;</a> <a id="41840" href="MGS-FunExt-from-Univalence.html#393" class="Function">funext</a><a id="41846" class="Symbol">;</a> <a id="41848" href="MGS-MLTT.html#6613" class="Function">ap</a><a id="41850" class="Symbol">)</a> <a id="41852" class="Keyword">public</a>
</pre>

<h3 id="binary-relation-type">Binary relation type</h3>

<p>Heterogeneous binary relations.</p>

<pre class="Agda">
 <a id="congruences.REL"></a><a id="41944" href="ualib.html#41944" class="Function">REL</a> <a id="41948" class="Symbol">:</a> <a id="41950" href="Universes.html#260" class="Generalizable">𝓤</a> <a id="41952" href="Universes.html#403" class="Function Operator">̇</a> <a id="41954" class="Symbol">→</a> <a id="41956" href="Universes.html#262" class="Generalizable">𝓥</a> <a id="41958" href="Universes.html#403" class="Function Operator">̇</a> <a id="41960" class="Symbol">→</a> <a id="41962" class="Symbol">(</a><a id="41963" href="ualib.html#41963" class="Bound">𝓝</a> <a id="41965" class="Symbol">:</a> <a id="41967" href="Agda.Primitive.html#423" class="Postulate">Universe</a><a id="41975" class="Symbol">)</a> <a id="41977" class="Symbol">→</a> <a id="41979" class="Symbol">(</a><a id="41980" href="Universes.html#260" class="Generalizable">𝓤</a> <a id="41982" href="Agda.Primitive.html#636" class="Primitive Operator">⊔</a> <a id="41984" href="Universes.html#262" class="Generalizable">𝓥</a> <a id="41986" href="Agda.Primitive.html#636" class="Primitive Operator">⊔</a> <a id="41988" href="ualib.html#41963" class="Bound">𝓝</a> <a id="41990" href="Agda.Primitive.html#606" class="Primitive Operator">⁺</a><a id="41991" class="Symbol">)</a> <a id="41993" href="Universes.html#403" class="Function Operator">̇</a>
 <a id="41996" href="ualib.html#41944" class="Function">REL</a> <a id="42000" href="ualib.html#42000" class="Bound">A</a> <a id="42002" href="ualib.html#42002" class="Bound">B</a> <a id="42004" href="ualib.html#42004" class="Bound">𝓝</a> <a id="42006" class="Symbol">=</a> <a id="42008" href="ualib.html#42000" class="Bound">A</a> <a id="42010" class="Symbol">→</a> <a id="42012" href="ualib.html#42002" class="Bound">B</a> <a id="42014" class="Symbol">→</a> <a id="42016" href="ualib.html#42004" class="Bound">𝓝</a> <a id="42018" href="Universes.html#403" class="Function Operator">̇</a>
</pre>

<p>Homogeneous binary relations.</p>

<pre class="Agda">
 <a id="congruences.Rel"></a><a id="42077" href="ualib.html#42077" class="Function">Rel</a> <a id="42081" class="Symbol">:</a> <a id="42083" href="Universes.html#260" class="Generalizable">𝓤</a> <a id="42085" href="Universes.html#403" class="Function Operator">̇</a> <a id="42087" class="Symbol">→</a> <a id="42089" class="Symbol">(</a><a id="42090" href="ualib.html#42090" class="Bound">𝓝</a> <a id="42092" class="Symbol">:</a> <a id="42094" href="Agda.Primitive.html#423" class="Postulate">Universe</a><a id="42102" class="Symbol">)</a> <a id="42104" class="Symbol">→</a> <a id="42106" href="Universes.html#260" class="Generalizable">𝓤</a> <a id="42108" href="Agda.Primitive.html#636" class="Primitive Operator">⊔</a> <a id="42110" href="ualib.html#42090" class="Bound">𝓝</a> <a id="42112" href="Agda.Primitive.html#606" class="Primitive Operator">⁺</a> <a id="42114" href="Universes.html#403" class="Function Operator">̇</a>
 <a id="42117" href="ualib.html#42077" class="Function">Rel</a> <a id="42121" href="ualib.html#42121" class="Bound">A</a> <a id="42123" href="ualib.html#42123" class="Bound">𝓝</a> <a id="42125" class="Symbol">=</a> <a id="42127" href="ualib.html#41944" class="Function">REL</a> <a id="42131" href="ualib.html#42121" class="Bound">A</a> <a id="42133" href="ualib.html#42121" class="Bound">A</a> <a id="42135" href="ualib.html#42123" class="Bound">𝓝</a>
</pre>

<h3 id="kernels">Kernels</h3>

<p>The kernel of a function can be defined in many ways. For example,</p>

<pre class="Agda">
 <a id="congruences.KER"></a><a id="42244" href="ualib.html#42244" class="Function">KER</a> <a id="42248" class="Symbol">:</a> <a id="42250" class="Symbol">{</a><a id="42251" href="ualib.html#42251" class="Bound">A</a> <a id="42253" class="Symbol">:</a> <a id="42255" href="Universes.html#260" class="Generalizable">𝓤</a> <a id="42257" href="Universes.html#403" class="Function Operator">̇</a> <a id="42259" class="Symbol">}</a> <a id="42261" class="Symbol">{</a><a id="42262" href="ualib.html#42262" class="Bound">B</a> <a id="42264" class="Symbol">:</a> <a id="42266" href="Universes.html#264" class="Generalizable">𝓦</a> <a id="42268" href="Universes.html#403" class="Function Operator">̇</a> <a id="42270" class="Symbol">}</a> <a id="42272" class="Symbol">→</a> <a id="42274" class="Symbol">(</a><a id="42275" href="ualib.html#42251" class="Bound">A</a> <a id="42277" class="Symbol">→</a> <a id="42279" href="ualib.html#42262" class="Bound">B</a><a id="42280" class="Symbol">)</a> <a id="42282" class="Symbol">→</a> <a id="42284" href="Universes.html#260" class="Generalizable">𝓤</a> <a id="42286" href="Agda.Primitive.html#636" class="Primitive Operator">⊔</a> <a id="42288" href="Universes.html#264" class="Generalizable">𝓦</a> <a id="42290" href="Universes.html#403" class="Function Operator">̇</a>
 <a id="42293" href="ualib.html#42244" class="Function">KER</a> <a id="42297" class="Symbol">{</a><a id="42298" href="ualib.html#42298" class="Bound">𝓤</a><a id="42299" class="Symbol">}{</a><a id="42301" href="ualib.html#42301" class="Bound">𝓦</a><a id="42302" class="Symbol">}{</a><a id="42304" href="ualib.html#42304" class="Bound">A</a><a id="42305" class="Symbol">}</a> <a id="42307" href="ualib.html#42307" class="Bound">f</a> <a id="42309" class="Symbol">=</a> <a id="42311" href="MGS-MLTT.html#3074" class="Function">Σ</a> <a id="42313" href="ualib.html#42313" class="Bound">x</a> <a id="42315" href="MGS-MLTT.html#3074" class="Function">꞉</a> <a id="42317" href="ualib.html#42304" class="Bound">A</a> <a id="42319" href="MGS-MLTT.html#3074" class="Function">,</a> <a id="42321" href="MGS-MLTT.html#3074" class="Function">Σ</a> <a id="42323" href="ualib.html#42323" class="Bound">y</a> <a id="42325" href="MGS-MLTT.html#3074" class="Function">꞉</a> <a id="42327" href="ualib.html#42304" class="Bound">A</a> <a id="42329" href="MGS-MLTT.html#3074" class="Function">,</a> <a id="42331" href="ualib.html#42307" class="Bound">f</a> <a id="42333" href="ualib.html#42313" class="Bound">x</a> <a id="42335" href="ualib.html#19941" class="Datatype Operator">≡</a> <a id="42337" href="ualib.html#42307" class="Bound">f</a> <a id="42339" href="ualib.html#42323" class="Bound">y</a>

 <a id="congruences.ker"></a><a id="42343" href="ualib.html#42343" class="Function">ker</a> <a id="42347" class="Symbol">:</a> <a id="42349" class="Symbol">{</a><a id="42350" href="ualib.html#42350" class="Bound">A</a> <a id="42352" href="ualib.html#42352" class="Bound">B</a> <a id="42354" class="Symbol">:</a> <a id="42356" href="Universes.html#260" class="Generalizable">𝓤</a> <a id="42358" href="Universes.html#403" class="Function Operator">̇</a> <a id="42360" class="Symbol">}</a> <a id="42362" class="Symbol">→</a> <a id="42364" class="Symbol">(</a><a id="42365" href="ualib.html#42350" class="Bound">A</a> <a id="42367" class="Symbol">→</a> <a id="42369" href="ualib.html#42352" class="Bound">B</a><a id="42370" class="Symbol">)</a> <a id="42372" class="Symbol">→</a> <a id="42374" href="Universes.html#260" class="Generalizable">𝓤</a> <a id="42376" href="Universes.html#403" class="Function Operator">̇</a>
 <a id="42379" href="ualib.html#42343" class="Function">ker</a> <a id="42383" class="Symbol">{</a><a id="42384" href="ualib.html#42384" class="Bound">𝓤</a><a id="42385" class="Symbol">}</a> <a id="42387" class="Symbol">=</a> <a id="42389" href="ualib.html#42244" class="Function">KER</a><a id="42392" class="Symbol">{</a><a id="42393" href="ualib.html#42384" class="Bound">𝓤</a><a id="42394" class="Symbol">}{</a><a id="42396" href="ualib.html#42384" class="Bound">𝓤</a><a id="42397" class="Symbol">}</a>
</pre>

<p>or as a relation…</p>

<pre class="Agda">
 <a id="congruences.KER-rel"></a><a id="42446" href="ualib.html#42446" class="Function">KER-rel</a> <a id="42454" class="Symbol">:</a> <a id="42456" class="Symbol">{</a><a id="42457" href="ualib.html#42457" class="Bound">A</a> <a id="42459" class="Symbol">:</a> <a id="42461" href="Universes.html#260" class="Generalizable">𝓤</a> <a id="42463" href="Universes.html#403" class="Function Operator">̇</a> <a id="42465" class="Symbol">}</a> <a id="42467" class="Symbol">{</a><a id="42468" href="ualib.html#42468" class="Bound">B</a> <a id="42470" class="Symbol">:</a> <a id="42472" href="Universes.html#264" class="Generalizable">𝓦</a> <a id="42474" href="Universes.html#403" class="Function Operator">̇</a> <a id="42476" class="Symbol">}</a> <a id="42478" class="Symbol">→</a> <a id="42480" class="Symbol">(</a><a id="42481" href="ualib.html#42457" class="Bound">A</a> <a id="42483" class="Symbol">→</a> <a id="42485" href="ualib.html#42468" class="Bound">B</a><a id="42486" class="Symbol">)</a> <a id="42488" class="Symbol">→</a> <a id="42490" href="ualib.html#42077" class="Function">Rel</a> <a id="42494" href="ualib.html#42457" class="Bound">A</a> <a id="42496" href="Universes.html#264" class="Generalizable">𝓦</a>
 <a id="42499" href="ualib.html#42446" class="Function">KER-rel</a> <a id="42507" href="ualib.html#42507" class="Bound">g</a> <a id="42509" href="ualib.html#42509" class="Bound">x</a> <a id="42511" href="ualib.html#42511" class="Bound">y</a> <a id="42513" class="Symbol">=</a> <a id="42515" href="ualib.html#42507" class="Bound">g</a> <a id="42517" href="ualib.html#42509" class="Bound">x</a> <a id="42519" href="ualib.html#19941" class="Datatype Operator">≡</a> <a id="42521" href="ualib.html#42507" class="Bound">g</a> <a id="42523" href="ualib.html#42511" class="Bound">y</a>

 <a id="42527" class="Comment">-- (in the special case 𝓦 ≡ 𝓤)</a>
 <a id="congruences.ker-rel"></a><a id="42559" href="ualib.html#42559" class="Function">ker-rel</a> <a id="42567" class="Symbol">:</a> <a id="42569" class="Symbol">{</a><a id="42570" href="ualib.html#42570" class="Bound">A</a> <a id="42572" href="ualib.html#42572" class="Bound">B</a> <a id="42574" class="Symbol">:</a> <a id="42576" href="Universes.html#260" class="Generalizable">𝓤</a> <a id="42578" href="Universes.html#403" class="Function Operator">̇</a> <a id="42580" class="Symbol">}</a> <a id="42582" class="Symbol">→</a> <a id="42584" class="Symbol">(</a><a id="42585" href="ualib.html#42570" class="Bound">A</a> <a id="42587" class="Symbol">→</a> <a id="42589" href="ualib.html#42572" class="Bound">B</a><a id="42590" class="Symbol">)</a> <a id="42592" class="Symbol">→</a> <a id="42594" href="ualib.html#42077" class="Function">Rel</a> <a id="42598" href="ualib.html#42570" class="Bound">A</a> <a id="42600" href="Universes.html#260" class="Generalizable">𝓤</a>
 <a id="42603" href="ualib.html#42559" class="Function">ker-rel</a> <a id="42611" class="Symbol">{</a><a id="42612" href="ualib.html#42612" class="Bound">𝓤</a><a id="42613" class="Symbol">}</a> <a id="42615" class="Symbol">=</a> <a id="42617" href="ualib.html#42446" class="Function">KER-rel</a> <a id="42625" class="Symbol">{</a><a id="42626" href="ualib.html#42612" class="Bound">𝓤</a><a id="42627" class="Symbol">}</a> <a id="42629" class="Symbol">{</a><a id="42630" href="ualib.html#42612" class="Bound">𝓤</a><a id="42631" class="Symbol">}</a>
</pre>

<p>or a binary predicate…</p>

<pre class="Agda">
 <a id="congruences.KER-pred"></a><a id="42685" href="ualib.html#42685" class="Function">KER-pred</a> <a id="42694" class="Symbol">:</a> <a id="42696" class="Symbol">{</a><a id="42697" href="ualib.html#42697" class="Bound">A</a> <a id="42699" class="Symbol">:</a> <a id="42701" href="Universes.html#260" class="Generalizable">𝓤</a> <a id="42703" href="Universes.html#403" class="Function Operator">̇</a> <a id="42705" class="Symbol">}{</a><a id="42707" href="ualib.html#42707" class="Bound">B</a> <a id="42709" class="Symbol">:</a> <a id="42711" href="Universes.html#264" class="Generalizable">𝓦</a> <a id="42713" href="Universes.html#403" class="Function Operator">̇</a> <a id="42715" class="Symbol">}</a> <a id="42717" class="Symbol">→</a> <a id="42719" class="Symbol">(</a><a id="42720" href="ualib.html#42697" class="Bound">A</a> <a id="42722" class="Symbol">→</a> <a id="42724" href="ualib.html#42707" class="Bound">B</a><a id="42725" class="Symbol">)</a> <a id="42727" class="Symbol">→</a> <a id="42729" href="ualib.html#25725" class="Function">Pred</a> <a id="42734" class="Symbol">(</a><a id="42735" href="ualib.html#42697" class="Bound">A</a> <a id="42737" href="MGS-MLTT.html#3515" class="Function Operator">×</a> <a id="42739" href="ualib.html#42697" class="Bound">A</a><a id="42740" class="Symbol">)</a> <a id="42742" href="Universes.html#264" class="Generalizable">𝓦</a>
 <a id="42745" href="ualib.html#42685" class="Function">KER-pred</a> <a id="42754" href="ualib.html#42754" class="Bound">g</a> <a id="42756" class="Symbol">(</a><a id="42757" href="ualib.html#42757" class="Bound">x</a> <a id="42759" href="ualib.html#20052" class="InductiveConstructor Operator">,</a> <a id="42761" href="ualib.html#42761" class="Bound">y</a><a id="42762" class="Symbol">)</a> <a id="42764" class="Symbol">=</a> <a id="42766" href="ualib.html#42754" class="Bound">g</a> <a id="42768" href="ualib.html#42757" class="Bound">x</a> <a id="42770" href="ualib.html#19941" class="Datatype Operator">≡</a> <a id="42772" href="ualib.html#42754" class="Bound">g</a> <a id="42774" href="ualib.html#42761" class="Bound">y</a>

 <a id="42778" class="Comment">-- (in the special case 𝓦 ≡ 𝓤)</a>
 <a id="congruences.ker-pred"></a><a id="42810" href="ualib.html#42810" class="Function">ker-pred</a> <a id="42819" class="Symbol">:</a> <a id="42821" class="Symbol">{</a><a id="42822" href="ualib.html#42822" class="Bound">A</a> <a id="42824" class="Symbol">:</a> <a id="42826" href="Universes.html#260" class="Generalizable">𝓤</a> <a id="42828" href="Universes.html#403" class="Function Operator">̇</a> <a id="42830" class="Symbol">}{</a><a id="42832" href="ualib.html#42832" class="Bound">B</a> <a id="42834" class="Symbol">:</a> <a id="42836" href="Universes.html#260" class="Generalizable">𝓤</a> <a id="42838" href="Universes.html#403" class="Function Operator">̇</a> <a id="42840" class="Symbol">}</a> <a id="42842" class="Symbol">→</a> <a id="42844" class="Symbol">(</a><a id="42845" href="ualib.html#42822" class="Bound">A</a> <a id="42847" class="Symbol">→</a> <a id="42849" href="ualib.html#42832" class="Bound">B</a><a id="42850" class="Symbol">)</a> <a id="42852" class="Symbol">→</a> <a id="42854" href="ualib.html#25725" class="Function">Pred</a> <a id="42859" class="Symbol">(</a><a id="42860" href="ualib.html#42822" class="Bound">A</a> <a id="42862" href="MGS-MLTT.html#3515" class="Function Operator">×</a> <a id="42864" href="ualib.html#42822" class="Bound">A</a><a id="42865" class="Symbol">)</a> <a id="42867" href="Universes.html#260" class="Generalizable">𝓤</a>
 <a id="42870" href="ualib.html#42810" class="Function">ker-pred</a> <a id="42879" class="Symbol">{</a><a id="42880" href="ualib.html#42880" class="Bound">𝓤</a><a id="42881" class="Symbol">}</a> <a id="42883" class="Symbol">=</a> <a id="42885" href="ualib.html#42685" class="Function">KER-pred</a> <a id="42894" class="Symbol">{</a><a id="42895" href="ualib.html#42880" class="Bound">𝓤</a><a id="42896" class="Symbol">}</a> <a id="42898" class="Symbol">{</a><a id="42899" href="ualib.html#42880" class="Bound">𝓤</a><a id="42900" class="Symbol">}</a>
</pre>

<h3 id="implication">Implication</h3>

<p>We denote and define implication or containment (which could also be
written _⊆_) as follows.</p>

<pre class="Agda">
 <a id="congruences._⇒_"></a><a id="43042" href="ualib.html#43042" class="Function Operator">_⇒_</a> <a id="43046" class="Symbol">:</a> <a id="43048" class="Symbol">{</a><a id="43049" href="ualib.html#43049" class="Bound">A</a> <a id="43051" class="Symbol">:</a> <a id="43053" href="Universes.html#260" class="Generalizable">𝓤</a> <a id="43055" href="Universes.html#403" class="Function Operator">̇</a> <a id="43057" class="Symbol">}</a> <a id="43059" class="Symbol">{</a><a id="43060" href="ualib.html#43060" class="Bound">B</a> <a id="43062" class="Symbol">:</a> <a id="43064" href="Universes.html#262" class="Generalizable">𝓥</a> <a id="43066" href="Universes.html#403" class="Function Operator">̇</a> <a id="43068" class="Symbol">}</a>
  <a id="43072" class="Symbol">→</a>    <a id="43077" href="ualib.html#41944" class="Function">REL</a> <a id="43081" href="ualib.html#43049" class="Bound">A</a> <a id="43083" href="ualib.html#43060" class="Bound">B</a> <a id="43085" href="ualib.html#17594" class="Generalizable">𝓡</a> <a id="43087" class="Symbol">→</a> <a id="43089" href="ualib.html#41944" class="Function">REL</a> <a id="43093" href="ualib.html#43049" class="Bound">A</a> <a id="43095" href="ualib.html#43060" class="Bound">B</a> <a id="43097" href="ualib.html#17596" class="Generalizable">𝓢</a>
  <a id="43101" class="Symbol">→</a>    <a id="43106" href="Universes.html#260" class="Generalizable">𝓤</a> <a id="43108" href="Agda.Primitive.html#636" class="Primitive Operator">⊔</a> <a id="43110" href="Universes.html#262" class="Generalizable">𝓥</a> <a id="43112" href="Agda.Primitive.html#636" class="Primitive Operator">⊔</a> <a id="43114" href="ualib.html#17594" class="Generalizable">𝓡</a> <a id="43116" href="Agda.Primitive.html#636" class="Primitive Operator">⊔</a> <a id="43118" href="ualib.html#17596" class="Generalizable">𝓢</a> <a id="43120" href="Universes.html#403" class="Function Operator">̇</a>

 <a id="43124" href="ualib.html#43124" class="Bound">P</a> <a id="43126" href="ualib.html#43042" class="Function Operator">⇒</a> <a id="43128" href="ualib.html#43128" class="Bound">Q</a> <a id="43130" class="Symbol">=</a> <a id="43132" class="Symbol">∀</a> <a id="43134" class="Symbol">{</a><a id="43135" href="ualib.html#43135" class="Bound">i</a> <a id="43137" href="ualib.html#43137" class="Bound">j</a><a id="43138" class="Symbol">}</a> <a id="43140" class="Symbol">→</a> <a id="43142" href="ualib.html#43124" class="Bound">P</a> <a id="43144" href="ualib.html#43135" class="Bound">i</a> <a id="43146" href="ualib.html#43137" class="Bound">j</a> <a id="43148" class="Symbol">→</a> <a id="43150" href="ualib.html#43128" class="Bound">Q</a> <a id="43152" href="ualib.html#43135" class="Bound">i</a> <a id="43154" href="ualib.html#43137" class="Bound">j</a>

 <a id="43158" class="Keyword">infixr</a> <a id="43165" class="Number">4</a> <a id="43167" href="ualib.html#43042" class="Function Operator">_⇒_</a>

 <a id="congruences._on_"></a><a id="43173" href="ualib.html#43173" class="Function Operator">_on_</a> <a id="43178" class="Symbol">:</a> <a id="43180" class="Symbol">{</a><a id="43181" href="ualib.html#43181" class="Bound">A</a> <a id="43183" class="Symbol">:</a> <a id="43185" href="Universes.html#260" class="Generalizable">𝓤</a> <a id="43187" href="Universes.html#403" class="Function Operator">̇</a> <a id="43189" class="Symbol">}</a> <a id="43191" class="Symbol">{</a><a id="43192" href="ualib.html#43192" class="Bound">B</a> <a id="43194" class="Symbol">:</a> <a id="43196" href="Universes.html#262" class="Generalizable">𝓥</a> <a id="43198" href="Universes.html#403" class="Function Operator">̇</a> <a id="43200" class="Symbol">}</a> <a id="43202" class="Symbol">{</a><a id="43203" href="ualib.html#43203" class="Bound">C</a> <a id="43205" class="Symbol">:</a> <a id="43207" href="Universes.html#264" class="Generalizable">𝓦</a> <a id="43209" href="Universes.html#403" class="Function Operator">̇</a> <a id="43211" class="Symbol">}</a>
  <a id="43215" class="Symbol">→</a>     <a id="43221" class="Symbol">(</a><a id="43222" href="ualib.html#43192" class="Bound">B</a> <a id="43224" class="Symbol">→</a> <a id="43226" href="ualib.html#43192" class="Bound">B</a> <a id="43228" class="Symbol">→</a> <a id="43230" href="ualib.html#43203" class="Bound">C</a><a id="43231" class="Symbol">)</a> <a id="43233" class="Symbol">→</a> <a id="43235" class="Symbol">(</a><a id="43236" href="ualib.html#43181" class="Bound">A</a> <a id="43238" class="Symbol">→</a> <a id="43240" href="ualib.html#43192" class="Bound">B</a><a id="43241" class="Symbol">)</a> <a id="43243" class="Symbol">→</a> <a id="43245" class="Symbol">(</a><a id="43246" href="ualib.html#43181" class="Bound">A</a> <a id="43248" class="Symbol">→</a> <a id="43250" href="ualib.html#43181" class="Bound">A</a> <a id="43252" class="Symbol">→</a> <a id="43254" href="ualib.html#43203" class="Bound">C</a><a id="43255" class="Symbol">)</a>
 <a id="43258" href="ualib.html#43258" class="Bound Operator">_*_</a> <a id="43262" href="ualib.html#43173" class="Function Operator">on</a> <a id="43265" href="ualib.html#43265" class="Bound">f</a> <a id="43267" class="Symbol">=</a> <a id="43269" class="Symbol">λ</a> <a id="43271" href="ualib.html#43271" class="Bound">x</a> <a id="43273" href="ualib.html#43273" class="Bound">y</a> <a id="43275" class="Symbol">→</a> <a id="43277" href="ualib.html#43265" class="Bound">f</a> <a id="43279" href="ualib.html#43271" class="Bound">x</a> <a id="43281" href="ualib.html#43258" class="Bound Operator">*</a> <a id="43283" href="ualib.html#43265" class="Bound">f</a> <a id="43285" href="ualib.html#43273" class="Bound">y</a>
</pre>

<p>Here is a more general version of implication</p>

<pre class="Agda">
 <a id="congruences._=[_]⇒_"></a><a id="43360" href="ualib.html#43360" class="Function Operator">_=[_]⇒_</a> <a id="43368" class="Symbol">:</a> <a id="43370" class="Symbol">{</a><a id="43371" href="ualib.html#43371" class="Bound">A</a> <a id="43373" class="Symbol">:</a> <a id="43375" href="Universes.html#260" class="Generalizable">𝓤</a> <a id="43377" href="Universes.html#403" class="Function Operator">̇</a> <a id="43379" class="Symbol">}</a> <a id="43381" class="Symbol">{</a><a id="43382" href="ualib.html#43382" class="Bound">B</a> <a id="43384" class="Symbol">:</a> <a id="43386" href="Universes.html#262" class="Generalizable">𝓥</a> <a id="43388" href="Universes.html#403" class="Function Operator">̇</a> <a id="43390" class="Symbol">}</a>
  <a id="43394" class="Symbol">→</a>        <a id="43403" href="ualib.html#42077" class="Function">Rel</a> <a id="43407" href="ualib.html#43371" class="Bound">A</a> <a id="43409" href="ualib.html#17594" class="Generalizable">𝓡</a> <a id="43411" class="Symbol">→</a> <a id="43413" class="Symbol">(</a><a id="43414" href="ualib.html#43371" class="Bound">A</a> <a id="43416" class="Symbol">→</a> <a id="43418" href="ualib.html#43382" class="Bound">B</a><a id="43419" class="Symbol">)</a> <a id="43421" class="Symbol">→</a> <a id="43423" href="ualib.html#42077" class="Function">Rel</a> <a id="43427" href="ualib.html#43382" class="Bound">B</a> <a id="43429" href="ualib.html#17596" class="Generalizable">𝓢</a>
  <a id="43433" class="Symbol">→</a>        <a id="43442" href="Universes.html#260" class="Generalizable">𝓤</a> <a id="43444" href="Agda.Primitive.html#636" class="Primitive Operator">⊔</a> <a id="43446" href="ualib.html#17594" class="Generalizable">𝓡</a> <a id="43448" href="Agda.Primitive.html#636" class="Primitive Operator">⊔</a> <a id="43450" href="ualib.html#17596" class="Generalizable">𝓢</a> <a id="43452" href="Universes.html#403" class="Function Operator">̇</a>

 <a id="43456" href="ualib.html#43456" class="Bound">P</a> <a id="43458" href="ualib.html#43360" class="Function Operator">=[</a> <a id="43461" href="ualib.html#43461" class="Bound">f</a> <a id="43463" href="ualib.html#43360" class="Function Operator">]⇒</a> <a id="43466" href="ualib.html#43466" class="Bound">Q</a> <a id="43468" class="Symbol">=</a> <a id="43470" href="ualib.html#43456" class="Bound">P</a> <a id="43472" href="ualib.html#43042" class="Function Operator">⇒</a> <a id="43474" class="Symbol">(</a><a id="43475" href="ualib.html#43466" class="Bound">Q</a> <a id="43477" href="ualib.html#43173" class="Function Operator">on</a> <a id="43480" href="ualib.html#43461" class="Bound">f</a><a id="43481" class="Symbol">)</a>

 <a id="43485" class="Keyword">infixr</a> <a id="43492" class="Number">4</a> <a id="43494" href="ualib.html#43360" class="Function Operator">_=[_]⇒_</a>
</pre>

<h3 id="properties-of-binary-relations">Properties of binary relations</h3>

<p>Reflexivity of a binary relation (say, <code class="language-plaintext highlighter-rouge">≈</code>) on <code class="language-plaintext highlighter-rouge">X</code>, can be defined without an underlying equality as follows.</p>

<pre class="Agda">
 <a id="congruences.reflexive"></a><a id="43675" href="ualib.html#43675" class="Function">reflexive</a> <a id="43685" class="Symbol">:</a> <a id="43687" class="Symbol">{</a><a id="43688" href="ualib.html#43688" class="Bound">X</a> <a id="43690" class="Symbol">:</a> <a id="43692" href="Universes.html#260" class="Generalizable">𝓤</a> <a id="43694" href="Universes.html#403" class="Function Operator">̇</a> <a id="43696" class="Symbol">}</a> <a id="43698" class="Symbol">→</a> <a id="43700" href="ualib.html#42077" class="Function">Rel</a> <a id="43704" href="ualib.html#43688" class="Bound">X</a> <a id="43706" href="ualib.html#17594" class="Generalizable">𝓡</a> <a id="43708" class="Symbol">→</a> <a id="43710" href="Universes.html#260" class="Generalizable">𝓤</a> <a id="43712" href="Agda.Primitive.html#636" class="Primitive Operator">⊔</a> <a id="43714" href="ualib.html#17594" class="Generalizable">𝓡</a> <a id="43716" href="Universes.html#403" class="Function Operator">̇</a>
 <a id="43719" href="ualib.html#43675" class="Function">reflexive</a> <a id="43729" href="ualib.html#43729" class="Bound Operator">_≈_</a> <a id="43733" class="Symbol">=</a> <a id="43735" class="Symbol">∀</a> <a id="43737" href="ualib.html#43737" class="Bound">x</a> <a id="43739" class="Symbol">→</a> <a id="43741" href="ualib.html#43737" class="Bound">x</a> <a id="43743" href="ualib.html#43729" class="Bound Operator">≈</a> <a id="43745" href="ualib.html#43737" class="Bound">x</a>
</pre>

<p>Similarly, we have the usual notion of symmetric (resp., transitive) binary relation.</p>

<pre class="Agda">
 <a id="congruences.symmetric"></a><a id="43860" href="ualib.html#43860" class="Function">symmetric</a> <a id="43870" class="Symbol">:</a> <a id="43872" class="Symbol">{</a><a id="43873" href="ualib.html#43873" class="Bound">X</a> <a id="43875" class="Symbol">:</a> <a id="43877" href="Universes.html#260" class="Generalizable">𝓤</a> <a id="43879" href="Universes.html#403" class="Function Operator">̇</a> <a id="43881" class="Symbol">}</a> <a id="43883" class="Symbol">→</a> <a id="43885" href="ualib.html#42077" class="Function">Rel</a> <a id="43889" href="ualib.html#43873" class="Bound">X</a> <a id="43891" href="ualib.html#17594" class="Generalizable">𝓡</a> <a id="43893" class="Symbol">→</a> <a id="43895" href="Universes.html#260" class="Generalizable">𝓤</a> <a id="43897" href="Agda.Primitive.html#636" class="Primitive Operator">⊔</a> <a id="43899" href="ualib.html#17594" class="Generalizable">𝓡</a> <a id="43901" href="Universes.html#403" class="Function Operator">̇</a>
 <a id="43904" href="ualib.html#43860" class="Function">symmetric</a> <a id="43914" href="ualib.html#43914" class="Bound Operator">_≈_</a> <a id="43918" class="Symbol">=</a> <a id="43920" class="Symbol">∀</a> <a id="43922" href="ualib.html#43922" class="Bound">x</a> <a id="43924" href="ualib.html#43924" class="Bound">y</a> <a id="43926" class="Symbol">→</a> <a id="43928" href="ualib.html#43922" class="Bound">x</a> <a id="43930" href="ualib.html#43914" class="Bound Operator">≈</a> <a id="43932" href="ualib.html#43924" class="Bound">y</a> <a id="43934" class="Symbol">→</a> <a id="43936" href="ualib.html#43924" class="Bound">y</a> <a id="43938" href="ualib.html#43914" class="Bound Operator">≈</a> <a id="43940" href="ualib.html#43922" class="Bound">x</a>

 <a id="congruences.transitive"></a><a id="43944" href="ualib.html#43944" class="Function">transitive</a> <a id="43955" class="Symbol">:</a> <a id="43957" class="Symbol">{</a><a id="43958" href="ualib.html#43958" class="Bound">X</a> <a id="43960" class="Symbol">:</a> <a id="43962" href="Universes.html#260" class="Generalizable">𝓤</a> <a id="43964" href="Universes.html#403" class="Function Operator">̇</a> <a id="43966" class="Symbol">}</a> <a id="43968" class="Symbol">→</a> <a id="43970" href="ualib.html#42077" class="Function">Rel</a> <a id="43974" href="ualib.html#43958" class="Bound">X</a> <a id="43976" href="ualib.html#17594" class="Generalizable">𝓡</a> <a id="43978" class="Symbol">→</a> <a id="43980" href="Universes.html#260" class="Generalizable">𝓤</a> <a id="43982" href="Agda.Primitive.html#636" class="Primitive Operator">⊔</a> <a id="43984" href="ualib.html#17594" class="Generalizable">𝓡</a> <a id="43986" href="Universes.html#403" class="Function Operator">̇</a>
 <a id="43989" href="ualib.html#43944" class="Function">transitive</a> <a id="44000" href="ualib.html#44000" class="Bound Operator">_≈_</a> <a id="44004" class="Symbol">=</a> <a id="44006" class="Symbol">∀</a> <a id="44008" href="ualib.html#44008" class="Bound">x</a> <a id="44010" href="ualib.html#44010" class="Bound">y</a> <a id="44012" href="ualib.html#44012" class="Bound">z</a> <a id="44014" class="Symbol">→</a> <a id="44016" href="ualib.html#44008" class="Bound">x</a> <a id="44018" href="ualib.html#44000" class="Bound Operator">≈</a> <a id="44020" href="ualib.html#44010" class="Bound">y</a> <a id="44022" class="Symbol">→</a> <a id="44024" href="ualib.html#44010" class="Bound">y</a> <a id="44026" href="ualib.html#44000" class="Bound Operator">≈</a> <a id="44028" href="ualib.html#44012" class="Bound">z</a> <a id="44030" class="Symbol">→</a> <a id="44032" href="ualib.html#44008" class="Bound">x</a> <a id="44034" href="ualib.html#44000" class="Bound Operator">≈</a> <a id="44036" href="ualib.html#44012" class="Bound">z</a>
</pre>

<p>For a binary relation ≈ on A, denote a single ≈-class (containing a) by [ a ] ≈,</p>

<pre class="Agda">
 <a id="congruences.[_]_"></a><a id="44148" href="ualib.html#44148" class="Function Operator">[_]_</a> <a id="44153" class="Symbol">:</a>  <a id="44156" class="Symbol">{</a><a id="44157" href="ualib.html#44157" class="Bound">A</a> <a id="44159" class="Symbol">:</a> <a id="44161" href="Universes.html#260" class="Generalizable">𝓤</a> <a id="44163" href="Universes.html#403" class="Function Operator">̇</a> <a id="44165" class="Symbol">}</a> <a id="44167" class="Symbol">→</a>  <a id="44170" class="Symbol">(</a><a id="44171" href="ualib.html#44171" class="Bound">a</a> <a id="44173" class="Symbol">:</a> <a id="44175" href="ualib.html#44157" class="Bound">A</a><a id="44176" class="Symbol">)</a> <a id="44178" class="Symbol">→</a> <a id="44180" href="ualib.html#42077" class="Function">Rel</a> <a id="44184" href="ualib.html#44157" class="Bound">A</a> <a id="44186" href="ualib.html#17594" class="Generalizable">𝓡</a> <a id="44188" class="Symbol">→</a> <a id="44190" href="Universes.html#260" class="Generalizable">𝓤</a> <a id="44192" href="Agda.Primitive.html#636" class="Primitive Operator">⊔</a> <a id="44194" href="ualib.html#17594" class="Generalizable">𝓡</a> <a id="44196" href="Universes.html#403" class="Function Operator">̇</a>
 <a id="44199" href="ualib.html#44148" class="Function Operator">[</a> <a id="44201" href="ualib.html#44201" class="Bound">a</a> <a id="44203" href="ualib.html#44148" class="Function Operator">]</a> <a id="44205" href="ualib.html#44205" class="Bound Operator">_≈_</a> <a id="44209" class="Symbol">=</a> <a id="44211" href="MGS-MLTT.html#3074" class="Function">Σ</a> <a id="44213" href="ualib.html#44213" class="Bound">x</a> <a id="44215" href="MGS-MLTT.html#3074" class="Function">꞉</a> <a id="44217" class="Symbol">_</a> <a id="44219" href="MGS-MLTT.html#3074" class="Function">,</a>  <a id="44222" href="ualib.html#44201" class="Bound">a</a> <a id="44224" href="ualib.html#44205" class="Bound Operator">≈</a> <a id="44226" href="ualib.html#44213" class="Bound">x</a>
</pre>

<p>and denote the collection of all ≈-classes of A by A // ≈.</p>

<pre class="Agda">
 <a id="congruences._//_"></a><a id="44314" href="ualib.html#44314" class="Function Operator">_//_</a> <a id="44319" class="Symbol">:</a>  <a id="44322" class="Symbol">(</a><a id="44323" href="ualib.html#44323" class="Bound">A</a> <a id="44325" class="Symbol">:</a> <a id="44327" href="Universes.html#260" class="Generalizable">𝓤</a> <a id="44329" href="Universes.html#403" class="Function Operator">̇</a> <a id="44331" class="Symbol">)</a> <a id="44333" class="Symbol">→</a> <a id="44335" href="ualib.html#42077" class="Function">Rel</a> <a id="44339" href="ualib.html#44323" class="Bound">A</a> <a id="44341" href="ualib.html#17594" class="Generalizable">𝓡</a> <a id="44343" class="Symbol">→</a> <a id="44345" class="Symbol">(</a><a id="44346" href="Universes.html#260" class="Generalizable">𝓤</a> <a id="44348" href="Agda.Primitive.html#636" class="Primitive Operator">⊔</a> <a id="44350" href="ualib.html#17594" class="Generalizable">𝓡</a><a id="44351" class="Symbol">)</a> <a id="44353" href="Agda.Primitive.html#606" class="Primitive Operator">⁺</a> <a id="44355" href="Universes.html#403" class="Function Operator">̇</a>
 <a id="44358" href="ualib.html#44358" class="Bound">A</a> <a id="44360" href="ualib.html#44314" class="Function Operator">//</a> <a id="44363" href="ualib.html#44363" class="Bound">≈</a> <a id="44365" class="Symbol">=</a> <a id="44367" href="MGS-MLTT.html#3074" class="Function">Σ</a> <a id="44369" href="ualib.html#44369" class="Bound">C</a> <a id="44371" href="MGS-MLTT.html#3074" class="Function">꞉</a> <a id="44373" class="Symbol">_</a> <a id="44375" href="MGS-MLTT.html#3074" class="Function">,</a>   <a id="44379" href="MGS-MLTT.html#3074" class="Function">Σ</a> <a id="44381" href="ualib.html#44381" class="Bound">a</a> <a id="44383" href="MGS-MLTT.html#3074" class="Function">꞉</a> <a id="44385" href="ualib.html#44358" class="Bound">A</a> <a id="44387" href="MGS-MLTT.html#3074" class="Function">,</a>  <a id="44390" href="ualib.html#44369" class="Bound">C</a> <a id="44392" href="ualib.html#19941" class="Datatype Operator">≡</a> <a id="44394" class="Symbol">(</a> <a id="44396" href="ualib.html#44148" class="Function Operator">[</a> <a id="44398" href="ualib.html#44381" class="Bound">a</a> <a id="44400" href="ualib.html#44148" class="Function Operator">]</a> <a id="44402" href="ualib.html#44363" class="Bound">≈</a> <a id="44404" class="Symbol">)</a>

 <a id="congruences.is-subsingleton-valued"></a><a id="44408" href="ualib.html#44408" class="Function">is-subsingleton-valued</a> <a id="44431" class="Symbol">:</a> <a id="44433" class="Symbol">{</a><a id="44434" href="ualib.html#44434" class="Bound">A</a> <a id="44436" class="Symbol">:</a> <a id="44438" href="Universes.html#260" class="Generalizable">𝓤</a> <a id="44440" href="Universes.html#403" class="Function Operator">̇</a> <a id="44442" class="Symbol">}</a> <a id="44444" class="Symbol">→</a> <a id="44446" href="ualib.html#42077" class="Function">Rel</a> <a id="44450" href="ualib.html#44434" class="Bound">A</a> <a id="44452" href="ualib.html#17594" class="Generalizable">𝓡</a> <a id="44454" class="Symbol">→</a> <a id="44456" href="Universes.html#260" class="Generalizable">𝓤</a> <a id="44458" href="Agda.Primitive.html#636" class="Primitive Operator">⊔</a> <a id="44460" href="ualib.html#17594" class="Generalizable">𝓡</a> <a id="44462" href="Universes.html#403" class="Function Operator">̇</a>
 <a id="44465" href="ualib.html#44408" class="Function">is-subsingleton-valued</a>  <a id="44489" href="ualib.html#44489" class="Bound Operator">_≈_</a> <a id="44493" class="Symbol">=</a> <a id="44495" class="Symbol">∀</a> <a id="44497" href="ualib.html#44497" class="Bound">x</a> <a id="44499" href="ualib.html#44499" class="Bound">y</a> <a id="44501" class="Symbol">→</a> <a id="44503" href="MGS-Basic-UF.html#1827" class="Function">is-prop</a> <a id="44511" class="Symbol">(</a><a id="44512" href="ualib.html#44497" class="Bound">x</a> <a id="44514" href="ualib.html#44489" class="Bound Operator">≈</a> <a id="44516" href="ualib.html#44499" class="Bound">y</a><a id="44517" class="Symbol">)</a>
</pre>

<p>The “trivial” or “diagonal” or “identity” relation is,</p>

<pre class="Agda">
 <a id="congruences.𝟎"></a><a id="44601" href="ualib.html#44601" class="Function">𝟎</a> <a id="44603" class="Symbol">:</a> <a id="44605" class="Symbol">{</a><a id="44606" href="ualib.html#44606" class="Bound">A</a> <a id="44608" class="Symbol">:</a> <a id="44610" href="Universes.html#260" class="Generalizable">𝓤</a> <a id="44612" href="Universes.html#403" class="Function Operator">̇</a> <a id="44614" class="Symbol">}</a> <a id="44616" class="Symbol">→</a> <a id="44618" href="Universes.html#260" class="Generalizable">𝓤</a> <a id="44620" href="Universes.html#403" class="Function Operator">̇</a>
 <a id="44623" href="ualib.html#44601" class="Function">𝟎</a><a id="44624" class="Symbol">{</a><a id="44625" href="ualib.html#44625" class="Bound">𝓤</a><a id="44626" class="Symbol">}</a> <a id="44628" class="Symbol">{</a><a id="44629" href="ualib.html#44629" class="Bound">A</a><a id="44630" class="Symbol">}</a> <a id="44632" class="Symbol">=</a> <a id="44634" href="MGS-MLTT.html#3074" class="Function">Σ</a> <a id="44636" href="ualib.html#44636" class="Bound">a</a> <a id="44638" href="MGS-MLTT.html#3074" class="Function">꞉</a> <a id="44640" href="ualib.html#44629" class="Bound">A</a> <a id="44642" href="MGS-MLTT.html#3074" class="Function">,</a> <a id="44644" href="MGS-MLTT.html#3074" class="Function">Σ</a> <a id="44646" href="ualib.html#44646" class="Bound">b</a> <a id="44648" href="MGS-MLTT.html#3074" class="Function">꞉</a> <a id="44650" href="ualib.html#44629" class="Bound">A</a> <a id="44652" href="MGS-MLTT.html#3074" class="Function">,</a> <a id="44654" href="ualib.html#44636" class="Bound">a</a> <a id="44656" href="ualib.html#19941" class="Datatype Operator">≡</a> <a id="44658" href="ualib.html#44646" class="Bound">b</a>

 <a id="congruences.𝟎-rel"></a><a id="44662" href="ualib.html#44662" class="Function">𝟎-rel</a> <a id="44668" class="Symbol">:</a> <a id="44670" class="Symbol">{</a><a id="44671" href="ualib.html#44671" class="Bound">A</a> <a id="44673" class="Symbol">:</a> <a id="44675" href="Universes.html#260" class="Generalizable">𝓤</a> <a id="44677" href="Universes.html#403" class="Function Operator">̇</a> <a id="44679" class="Symbol">}</a> <a id="44681" class="Symbol">→</a> <a id="44683" href="ualib.html#42077" class="Function">Rel</a> <a id="44687" href="ualib.html#44671" class="Bound">A</a> <a id="44689" href="Universes.html#260" class="Generalizable">𝓤</a>
 <a id="44692" href="ualib.html#44662" class="Function">𝟎-rel</a> <a id="44698" href="ualib.html#44698" class="Bound">a</a> <a id="44700" href="ualib.html#44700" class="Bound">b</a> <a id="44702" class="Symbol">=</a> <a id="44704" href="ualib.html#44698" class="Bound">a</a> <a id="44706" href="ualib.html#19941" class="Datatype Operator">≡</a> <a id="44708" href="ualib.html#44700" class="Bound">b</a>
</pre>

<p>or, in various other guises,</p>

<pre class="Agda">
 <a id="44766" class="Comment">-- ...as a binary predicate:</a>
 <a id="congruences.𝟎-pred"></a><a id="44796" href="ualib.html#44796" class="Function">𝟎-pred</a> <a id="44803" class="Symbol">:</a> <a id="44805" class="Symbol">{</a><a id="44806" href="ualib.html#44806" class="Bound">A</a> <a id="44808" class="Symbol">:</a> <a id="44810" href="Universes.html#260" class="Generalizable">𝓤</a> <a id="44812" href="Universes.html#403" class="Function Operator">̇</a> <a id="44814" class="Symbol">}</a> <a id="44816" class="Symbol">→</a> <a id="44818" href="ualib.html#25725" class="Function">Pred</a> <a id="44823" class="Symbol">(</a><a id="44824" href="ualib.html#44806" class="Bound">A</a> <a id="44826" href="MGS-MLTT.html#3515" class="Function Operator">×</a> <a id="44828" href="ualib.html#44806" class="Bound">A</a><a id="44829" class="Symbol">)</a> <a id="44831" href="Universes.html#260" class="Generalizable">𝓤</a>
 <a id="44834" href="ualib.html#44796" class="Function">𝟎-pred</a> <a id="44841" class="Symbol">(</a><a id="44842" href="ualib.html#44842" class="Bound">a</a> <a id="44844" href="ualib.html#20052" class="InductiveConstructor Operator">,</a> <a id="44846" href="ualib.html#44846" class="Bound">a&#39;</a><a id="44848" class="Symbol">)</a> <a id="44850" class="Symbol">=</a> <a id="44852" href="ualib.html#44842" class="Bound">a</a> <a id="44854" href="ualib.html#19941" class="Datatype Operator">≡</a> <a id="44856" href="ualib.html#44846" class="Bound">a&#39;</a>

 <a id="44861" class="Comment">--...as a binary predicate:</a>
 <a id="congruences.𝟎&#39;&#39;"></a><a id="44890" href="ualib.html#44890" class="Function">𝟎&#39;&#39;</a> <a id="44894" class="Symbol">:</a> <a id="44896" class="Symbol">{</a><a id="44897" href="ualib.html#44897" class="Bound">A</a> <a id="44899" class="Symbol">:</a> <a id="44901" href="Universes.html#260" class="Generalizable">𝓤</a> <a id="44903" href="Universes.html#403" class="Function Operator">̇</a> <a id="44905" class="Symbol">}</a> <a id="44907" class="Symbol">→</a> <a id="44909" href="Universes.html#260" class="Generalizable">𝓤</a> <a id="44911" href="Universes.html#403" class="Function Operator">̇</a>
 <a id="44914" href="ualib.html#44890" class="Function">𝟎&#39;&#39;</a> <a id="44918" class="Symbol">{</a><a id="44919" href="ualib.html#44919" class="Bound">𝓤</a><a id="44920" class="Symbol">}</a> <a id="44922" class="Symbol">{</a><a id="44923" href="ualib.html#44923" class="Bound">A</a><a id="44924" class="Symbol">}</a> <a id="44926" class="Symbol">=</a> <a id="44928" href="MGS-MLTT.html#3074" class="Function">Σ</a> <a id="44930" href="ualib.html#44930" class="Bound">p</a> <a id="44932" href="MGS-MLTT.html#3074" class="Function">꞉</a> <a id="44934" class="Symbol">(</a><a id="44935" href="ualib.html#44923" class="Bound">A</a> <a id="44937" href="MGS-MLTT.html#3515" class="Function Operator">×</a> <a id="44939" href="ualib.html#44923" class="Bound">A</a><a id="44940" class="Symbol">)</a> <a id="44942" href="MGS-MLTT.html#3074" class="Function">,</a> <a id="44944" href="ualib.html#21378" class="Function Operator">∣</a> <a id="44946" href="ualib.html#44930" class="Bound">p</a> <a id="44948" href="ualib.html#21378" class="Function Operator">∣</a> <a id="44950" href="ualib.html#19941" class="Datatype Operator">≡</a> <a id="44952" href="ualib.html#21456" class="Function Operator">∥</a> <a id="44954" href="ualib.html#44930" class="Bound">p</a> <a id="44956" href="ualib.html#21456" class="Function Operator">∥</a>
</pre>

<p>The “universal” or “total” or “all” relation.</p>

<pre class="Agda">
 <a id="congruences.𝟏"></a><a id="45031" href="ualib.html#45031" class="Function">𝟏</a> <a id="45033" class="Symbol">:</a> <a id="45035" class="Symbol">{</a><a id="45036" href="ualib.html#45036" class="Bound">A</a> <a id="45038" class="Symbol">:</a> <a id="45040" href="Universes.html#260" class="Generalizable">𝓤</a> <a id="45042" href="Universes.html#403" class="Function Operator">̇</a> <a id="45044" class="Symbol">}</a> <a id="45046" class="Symbol">→</a> <a id="45048" href="ualib.html#42077" class="Function">Rel</a> <a id="45052" href="ualib.html#45036" class="Bound">A</a> <a id="45054" href="Agda.Primitive.html#590" class="Primitive">𝓤₀</a>
 <a id="45058" href="ualib.html#45031" class="Function">𝟏</a> <a id="45060" href="ualib.html#45060" class="Bound">a</a> <a id="45062" href="ualib.html#45062" class="Bound">b</a> <a id="45064" class="Symbol">=</a> <a id="45066" href="MGS-MLTT.html#408" class="Function">𝟙</a>
</pre>

<h3 id="types-for-equivalences">Types for equivalences</h3>

<p>Here are two ways to define an equivalence relation in Agda.</p>

<p>First, we use a record.</p>

<pre class="Agda">
 <a id="45209" class="Keyword">record</a> <a id="congruences.IsEquivalence"></a><a id="45216" href="ualib.html#45216" class="Record">IsEquivalence</a> <a id="45230" class="Symbol">{</a><a id="45231" href="ualib.html#45231" class="Bound">A</a> <a id="45233" class="Symbol">:</a> <a id="45235" href="Universes.html#260" class="Generalizable">𝓤</a> <a id="45237" href="Universes.html#403" class="Function Operator">̇</a> <a id="45239" class="Symbol">}</a> <a id="45241" class="Symbol">(</a><a id="45242" href="ualib.html#45242" class="Bound Operator">_≈_</a> <a id="45246" class="Symbol">:</a> <a id="45248" href="ualib.html#42077" class="Function">Rel</a> <a id="45252" href="ualib.html#45231" class="Bound">A</a> <a id="45254" href="ualib.html#17594" class="Generalizable">𝓡</a><a id="45255" class="Symbol">)</a> <a id="45257" class="Symbol">:</a> <a id="45259" href="ualib.html#45235" class="Bound">𝓤</a> <a id="45261" href="Agda.Primitive.html#636" class="Primitive Operator">⊔</a> <a id="45263" href="ualib.html#45254" class="Bound">𝓡</a> <a id="45265" href="Universes.html#403" class="Function Operator">̇</a> <a id="45267" class="Keyword">where</a>
   <a id="45276" class="Keyword">field</a>
     <a id="congruences.IsEquivalence.rfl"></a><a id="45287" href="ualib.html#45287" class="Field">rfl</a>  <a id="45292" class="Symbol">:</a> <a id="45294" href="ualib.html#43675" class="Function">reflexive</a> <a id="45304" href="ualib.html#45242" class="Bound Operator">_≈_</a>
     <a id="congruences.IsEquivalence.sym"></a><a id="45313" href="ualib.html#45313" class="Field">sym</a>   <a id="45319" class="Symbol">:</a> <a id="45321" href="ualib.html#43860" class="Function">symmetric</a> <a id="45331" href="ualib.html#45242" class="Bound Operator">_≈_</a>
     <a id="congruences.IsEquivalence.trans"></a><a id="45340" href="ualib.html#45340" class="Field">trans</a> <a id="45346" class="Symbol">:</a> <a id="45348" href="ualib.html#43944" class="Function">transitive</a> <a id="45359" href="ualib.html#45242" class="Bound Operator">_≈_</a>
</pre>

<p>Here’s an alternative.</p>

<pre class="Agda">
 <a id="congruences.is-equivalence-relation"></a><a id="45413" href="ualib.html#45413" class="Function">is-equivalence-relation</a> <a id="45437" class="Symbol">:</a> <a id="45439" class="Symbol">{</a><a id="45440" href="ualib.html#45440" class="Bound">X</a> <a id="45442" class="Symbol">:</a> <a id="45444" href="Universes.html#260" class="Generalizable">𝓤</a> <a id="45446" href="Universes.html#403" class="Function Operator">̇</a> <a id="45448" class="Symbol">}</a> <a id="45450" class="Symbol">→</a> <a id="45452" href="ualib.html#42077" class="Function">Rel</a> <a id="45456" href="ualib.html#45440" class="Bound">X</a> <a id="45458" href="ualib.html#17594" class="Generalizable">𝓡</a> <a id="45460" class="Symbol">→</a> <a id="45462" href="Universes.html#260" class="Generalizable">𝓤</a> <a id="45464" href="Agda.Primitive.html#636" class="Primitive Operator">⊔</a> <a id="45466" href="ualib.html#17594" class="Generalizable">𝓡</a> <a id="45468" href="Universes.html#403" class="Function Operator">̇</a>
 <a id="45471" href="ualib.html#45413" class="Function">is-equivalence-relation</a> <a id="45495" href="ualib.html#45495" class="Bound Operator">_≈_</a> <a id="45499" class="Symbol">=</a>
  <a id="45503" href="ualib.html#44408" class="Function">is-subsingleton-valued</a> <a id="45526" href="ualib.html#45495" class="Bound Operator">_≈_</a>
   <a id="45533" href="MGS-MLTT.html#3515" class="Function Operator">×</a> <a id="45535" href="ualib.html#43675" class="Function">reflexive</a> <a id="45545" href="ualib.html#45495" class="Bound Operator">_≈_</a> <a id="45549" href="MGS-MLTT.html#3515" class="Function Operator">×</a> <a id="45551" href="ualib.html#43860" class="Function">symmetric</a> <a id="45561" href="ualib.html#45495" class="Bound Operator">_≈_</a> <a id="45565" href="MGS-MLTT.html#3515" class="Function Operator">×</a> <a id="45567" href="ualib.html#43944" class="Function">transitive</a> <a id="45578" href="ualib.html#45495" class="Bound Operator">_≈_</a>
</pre>

<p>Of course, 𝟎 is an equivalence relation, a fact we can prove as follows.</p>

<pre class="Agda">
 <a id="congruences.𝟎-IsEquivalence"></a><a id="45682" href="ualib.html#45682" class="Function">𝟎-IsEquivalence</a> <a id="45698" class="Symbol">:</a> <a id="45700" class="Symbol">{</a><a id="45701" href="ualib.html#45701" class="Bound">A</a> <a id="45703" class="Symbol">:</a> <a id="45705" href="Universes.html#260" class="Generalizable">𝓤</a> <a id="45707" href="Universes.html#403" class="Function Operator">̇</a> <a id="45709" class="Symbol">}</a> <a id="45711" class="Symbol">→</a> <a id="45713" href="ualib.html#45216" class="Record">IsEquivalence</a> <a id="45727" class="Symbol">{</a><a id="45728" href="Universes.html#260" class="Generalizable">𝓤</a><a id="45729" class="Symbol">}{</a><a id="45731" href="Universes.html#260" class="Generalizable">𝓤</a><a id="45732" class="Symbol">}{</a><a id="45734" href="ualib.html#45701" class="Bound">A</a><a id="45735" class="Symbol">}</a> <a id="45737" href="ualib.html#44662" class="Function">𝟎-rel</a>
 <a id="45744" href="ualib.html#45682" class="Function">𝟎-IsEquivalence</a> <a id="45760" class="Symbol">=</a> <a id="45762" class="Keyword">record</a> <a id="45769" class="Symbol">{</a> <a id="45771" href="ualib.html#45287" class="Field">rfl</a> <a id="45775" class="Symbol">=</a> <a id="45777" href="ualib.html#45814" class="Function">ρ</a> <a id="45779" class="Symbol">;</a> <a id="45781" href="ualib.html#45313" class="Field">sym</a> <a id="45785" class="Symbol">=</a> <a id="45787" href="ualib.html#45866" class="Function">σ</a> <a id="45789" class="Symbol">;</a> <a id="45791" href="ualib.html#45340" class="Field">trans</a> <a id="45797" class="Symbol">=</a> <a id="45799" href="ualib.html#45912" class="Function">τ</a> <a id="45801" class="Symbol">}</a>
  <a id="45805" class="Keyword">where</a>
   <a id="45814" href="ualib.html#45814" class="Function">ρ</a> <a id="45816" class="Symbol">:</a> <a id="45818" href="ualib.html#43675" class="Function">reflexive</a> <a id="45828" href="ualib.html#44662" class="Function">𝟎-rel</a>
   <a id="45837" href="ualib.html#45814" class="Function">ρ</a> <a id="45839" href="ualib.html#45839" class="Bound">x</a> <a id="45841" class="Symbol">=</a>  <a id="45844" href="ualib.html#45839" class="Bound">x</a> <a id="45846" href="MGS-MLTT.html#5997" class="Function Operator">≡⟨</a> <a id="45849" href="ualib.html#19978" class="InductiveConstructor">refl</a> <a id="45854" class="Symbol">_</a> <a id="45856" href="MGS-MLTT.html#5997" class="Function Operator">⟩</a> <a id="45858" href="ualib.html#45839" class="Bound">x</a> <a id="45860" href="MGS-MLTT.html#6079" class="Function Operator">∎</a>

   <a id="45866" href="ualib.html#45866" class="Function">σ</a> <a id="45868" class="Symbol">:</a> <a id="45870" href="ualib.html#43860" class="Function">symmetric</a> <a id="45880" href="ualib.html#44662" class="Function">𝟎-rel</a>
   <a id="45889" href="ualib.html#45866" class="Function">σ</a> <a id="45891" href="ualib.html#45891" class="Bound">x</a> <a id="45893" href="ualib.html#45893" class="Bound">y</a> <a id="45895" href="ualib.html#45895" class="Bound">x≡y</a> <a id="45899" class="Symbol">=</a> <a id="45901" href="ualib.html#45895" class="Bound">x≡y</a> <a id="45905" href="MGS-MLTT.html#6125" class="Function Operator">⁻¹</a>

   <a id="45912" href="ualib.html#45912" class="Function">τ</a> <a id="45914" class="Symbol">:</a> <a id="45916" href="ualib.html#43944" class="Function">transitive</a> <a id="45927" href="ualib.html#44662" class="Function">𝟎-rel</a>
   <a id="45936" href="ualib.html#45912" class="Function">τ</a> <a id="45938" href="ualib.html#45938" class="Bound">x</a> <a id="45940" href="ualib.html#45940" class="Bound">y</a> <a id="45942" href="ualib.html#45942" class="Bound">z</a> <a id="45944" href="ualib.html#45944" class="Bound">x≡y</a> <a id="45948" href="ualib.html#45948" class="Bound">y≡z</a> <a id="45952" class="Symbol">=</a> <a id="45954" href="ualib.html#45938" class="Bound">x</a> <a id="45956" href="MGS-MLTT.html#5997" class="Function Operator">≡⟨</a> <a id="45959" href="ualib.html#45944" class="Bound">x≡y</a> <a id="45963" href="MGS-MLTT.html#5997" class="Function Operator">⟩</a> <a id="45965" href="ualib.html#45940" class="Bound">y</a> <a id="45967" href="MGS-MLTT.html#5997" class="Function Operator">≡⟨</a> <a id="45970" href="ualib.html#45948" class="Bound">y≡z</a> <a id="45974" href="MGS-MLTT.html#5997" class="Function Operator">⟩</a> <a id="45976" href="ualib.html#45942" class="Bound">z</a> <a id="45978" href="MGS-MLTT.html#6079" class="Function Operator">∎</a>
</pre>

<p>We define the <strong>lift</strong> of a binary relation from pairs to pairs of tuples as follows:</p>

<pre class="Agda">
 <a id="congruences.lift-rel"></a><a id="46093" href="ualib.html#46093" class="Function">lift-rel</a> <a id="46102" class="Symbol">:</a> <a id="46104" class="Symbol">{</a><a id="46105" href="ualib.html#46105" class="Bound">γ</a> <a id="46107" class="Symbol">:</a> <a id="46109" href="Universes.html#262" class="Generalizable">𝓥</a> <a id="46111" href="Universes.html#403" class="Function Operator">̇</a> <a id="46113" class="Symbol">}</a> <a id="46115" class="Symbol">{</a><a id="46116" href="ualib.html#46116" class="Bound">Z</a> <a id="46118" class="Symbol">:</a> <a id="46120" href="Universes.html#260" class="Generalizable">𝓤</a> <a id="46122" href="Universes.html#403" class="Function Operator">̇</a> <a id="46124" class="Symbol">}</a>
  <a id="46128" class="Symbol">→</a>         <a id="46138" href="ualib.html#42077" class="Function">Rel</a> <a id="46142" href="ualib.html#46116" class="Bound">Z</a> <a id="46144" href="Universes.html#264" class="Generalizable">𝓦</a> <a id="46146" class="Symbol">→</a> <a id="46148" class="Symbol">(</a><a id="46149" href="ualib.html#46105" class="Bound">γ</a> <a id="46151" class="Symbol">→</a> <a id="46153" href="ualib.html#46116" class="Bound">Z</a><a id="46154" class="Symbol">)</a> <a id="46156" class="Symbol">→</a> <a id="46158" class="Symbol">(</a><a id="46159" href="ualib.html#46105" class="Bound">γ</a> <a id="46161" class="Symbol">→</a> <a id="46163" href="ualib.html#46116" class="Bound">Z</a><a id="46164" class="Symbol">)</a>
  <a id="46168" class="Symbol">→</a>         <a id="46178" href="Universes.html#262" class="Generalizable">𝓥</a> <a id="46180" href="Agda.Primitive.html#636" class="Primitive Operator">⊔</a> <a id="46182" href="Universes.html#264" class="Generalizable">𝓦</a> <a id="46184" href="Universes.html#403" class="Function Operator">̇</a>
 <a id="46187" href="ualib.html#46093" class="Function">lift-rel</a> <a id="46196" href="ualib.html#46196" class="Bound">R</a> <a id="46198" href="ualib.html#46198" class="Bound">𝒇</a> <a id="46200" href="ualib.html#46200" class="Bound">𝒈</a> <a id="46202" class="Symbol">=</a> <a id="46204" class="Symbol">∀</a> <a id="46206" href="ualib.html#46206" class="Bound">x</a> <a id="46208" class="Symbol">→</a> <a id="46210" href="ualib.html#46196" class="Bound">R</a> <a id="46212" class="Symbol">(</a><a id="46213" href="ualib.html#46198" class="Bound">𝒇</a> <a id="46215" href="ualib.html#46206" class="Bound">x</a><a id="46216" class="Symbol">)</a> <a id="46218" class="Symbol">(</a><a id="46219" href="ualib.html#46200" class="Bound">𝒈</a> <a id="46221" href="ualib.html#46206" class="Bound">x</a><a id="46222" class="Symbol">)</a>
</pre>

<p>We define <strong>compatibility</strong> of a given function-relation pair as follows:</p>

<pre class="Agda">
 <a id="congruences.compatible-fun"></a><a id="46325" href="ualib.html#46325" class="Function">compatible-fun</a> <a id="46340" class="Symbol">:</a> <a id="46342" class="Symbol">{</a><a id="46343" href="ualib.html#46343" class="Bound">γ</a> <a id="46345" class="Symbol">:</a> <a id="46347" href="Universes.html#262" class="Generalizable">𝓥</a> <a id="46349" href="Universes.html#403" class="Function Operator">̇</a> <a id="46351" class="Symbol">}</a> <a id="46353" class="Symbol">{</a><a id="46354" href="ualib.html#46354" class="Bound">Z</a> <a id="46356" class="Symbol">:</a> <a id="46358" href="Universes.html#260" class="Generalizable">𝓤</a> <a id="46360" href="Universes.html#403" class="Function Operator">̇</a> <a id="46362" class="Symbol">}</a>
                  <a id="46382" class="Symbol">(</a><a id="46383" href="ualib.html#46383" class="Bound">𝒇</a> <a id="46385" class="Symbol">:</a> <a id="46387" class="Symbol">(</a><a id="46388" href="ualib.html#46343" class="Bound">γ</a> <a id="46390" class="Symbol">→</a> <a id="46392" href="ualib.html#46354" class="Bound">Z</a><a id="46393" class="Symbol">)</a> <a id="46395" class="Symbol">→</a> <a id="46397" href="ualib.html#46354" class="Bound">Z</a><a id="46398" class="Symbol">)(</a><a id="46400" href="ualib.html#46400" class="Bound">𝑹</a> <a id="46402" class="Symbol">:</a> <a id="46404" href="ualib.html#42077" class="Function">Rel</a> <a id="46408" href="ualib.html#46354" class="Bound">Z</a> <a id="46410" href="Universes.html#264" class="Generalizable">𝓦</a><a id="46411" class="Symbol">)</a>
  <a id="46415" class="Symbol">→</a>               <a id="46431" href="Universes.html#262" class="Generalizable">𝓥</a> <a id="46433" href="Agda.Primitive.html#636" class="Primitive Operator">⊔</a> <a id="46435" href="Universes.html#260" class="Generalizable">𝓤</a> <a id="46437" href="Agda.Primitive.html#636" class="Primitive Operator">⊔</a> <a id="46439" href="Universes.html#264" class="Generalizable">𝓦</a> <a id="46441" href="Universes.html#403" class="Function Operator">̇</a>
 <a id="46444" href="ualib.html#46325" class="Function">compatible-fun</a> <a id="46459" href="ualib.html#46459" class="Bound">𝒇</a> <a id="46461" href="ualib.html#46461" class="Bound">𝑹</a> <a id="46463" class="Symbol">=</a> <a id="46465" class="Symbol">(</a><a id="46466" href="ualib.html#46093" class="Function">lift-rel</a> <a id="46475" href="ualib.html#46461" class="Bound">𝑹</a><a id="46476" class="Symbol">)</a> <a id="46478" href="ualib.html#43360" class="Function Operator">=[</a> <a id="46481" href="ualib.html#46459" class="Bound">𝒇</a> <a id="46483" href="ualib.html#43360" class="Function Operator">]⇒</a> <a id="46486" href="ualib.html#46461" class="Bound">𝑹</a>
</pre>

<h3 id="types-for-congruences">Types for congruences</h3>

<p>Finally, we come to the definition of a congruence, which we define in a module so we have an ambient signature 𝑆 available.</p>

<pre class="Agda">
<a id="46667" class="Keyword">open</a> <a id="46672" href="ualib.html#41753" class="Module">congruences</a>

<a id="46685" class="Keyword">module</a> <a id="46692" href="ualib.html#46692" class="Module">_</a> <a id="46694" class="Symbol">{</a><a id="46695" href="ualib.html#46695" class="Bound">𝑆</a> <a id="46697" class="Symbol">:</a> <a id="46699" href="ualib.html#34935" class="Function">Signature</a> <a id="46709" href="ualib.html#17590" class="Generalizable">𝓞</a> <a id="46711" href="Universes.html#262" class="Generalizable">𝓥</a><a id="46712" class="Symbol">}</a>  <a id="46715" class="Keyword">where</a>

 <a id="46723" class="Comment">-- relation compatible with an operation</a>
 <a id="46765" href="ualib.html#46765" class="Function">compatible-op</a> <a id="46779" class="Symbol">:</a> <a id="46781" class="Symbol">{</a><a id="46782" href="ualib.html#46782" class="Bound">𝑨</a> <a id="46784" class="Symbol">:</a> <a id="46786" href="ualib.html#35648" class="Function">Algebra</a> <a id="46794" href="Universes.html#260" class="Generalizable">𝓤</a> <a id="46796" href="ualib.html#46695" class="Bound">𝑆</a><a id="46797" class="Symbol">}</a>
  <a id="46801" class="Symbol">→</a>              <a id="46816" href="ualib.html#21378" class="Function Operator">∣</a> <a id="46818" href="ualib.html#46695" class="Bound">𝑆</a> <a id="46820" href="ualib.html#21378" class="Function Operator">∣</a> <a id="46822" class="Symbol">→</a> <a id="46824" href="ualib.html#42077" class="Function">Rel</a> <a id="46828" href="ualib.html#21378" class="Function Operator">∣</a> <a id="46830" href="ualib.html#46782" class="Bound">𝑨</a> <a id="46832" href="ualib.html#21378" class="Function Operator">∣</a> <a id="46834" href="Universes.html#260" class="Generalizable">𝓤</a>
  <a id="46838" class="Symbol">→</a>              <a id="46853" href="ualib.html#46711" class="Bound">𝓥</a> <a id="46855" href="Agda.Primitive.html#636" class="Primitive Operator">⊔</a> <a id="46857" href="Universes.html#260" class="Generalizable">𝓤</a> <a id="46859" href="Universes.html#403" class="Function Operator">̇</a>
 <a id="46862" href="ualib.html#46765" class="Function">compatible-op</a> <a id="46876" class="Symbol">{</a><a id="46877" href="ualib.html#46877" class="Bound">𝓤</a><a id="46878" class="Symbol">}</a> <a id="46880" class="Symbol">{</a><a id="46881" href="ualib.html#46881" class="Bound">𝑨</a><a id="46882" class="Symbol">}</a> <a id="46884" href="ualib.html#46884" class="Bound">𝑓</a> <a id="46886" href="ualib.html#46886" class="Bound">𝓻</a> <a id="46888" class="Symbol">=</a> <a id="46890" class="Symbol">(</a><a id="46891" href="ualib.html#46093" class="Function">lift-rel</a> <a id="46900" href="ualib.html#46886" class="Bound">𝓻</a><a id="46901" class="Symbol">)</a> <a id="46903" href="ualib.html#43360" class="Function Operator">=[</a> <a id="46906" class="Symbol">(</a><a id="46907" href="ualib.html#21456" class="Function Operator">∥</a> <a id="46909" href="ualib.html#46881" class="Bound">𝑨</a> <a id="46911" href="ualib.html#21456" class="Function Operator">∥</a> <a id="46913" href="ualib.html#46884" class="Bound">𝑓</a><a id="46914" class="Symbol">)</a> <a id="46916" href="ualib.html#43360" class="Function Operator">]⇒</a> <a id="46919" href="ualib.html#46886" class="Bound">𝓻</a>

 <a id="46923" class="Comment">--The given relation is compatible with all ops of an algebra.</a>
 <a id="46987" href="ualib.html#46987" class="Function">compatible</a> <a id="46998" class="Symbol">:</a> <a id="47000" class="Symbol">(</a><a id="47001" href="ualib.html#47001" class="Bound">𝑨</a> <a id="47003" class="Symbol">:</a> <a id="47005" href="ualib.html#35648" class="Function">Algebra</a> <a id="47013" href="Universes.html#260" class="Generalizable">𝓤</a> <a id="47015" href="ualib.html#46695" class="Bound">𝑆</a><a id="47016" class="Symbol">)</a> <a id="47018" class="Symbol">-&gt;</a> <a id="47021" href="ualib.html#42077" class="Function">Rel</a> <a id="47025" href="ualib.html#21378" class="Function Operator">∣</a> <a id="47027" href="ualib.html#47001" class="Bound">𝑨</a> <a id="47029" href="ualib.html#21378" class="Function Operator">∣</a> <a id="47031" href="Universes.html#260" class="Generalizable">𝓤</a> <a id="47033" class="Symbol">→</a> <a id="47035" href="ualib.html#46709" class="Bound">𝓞</a> <a id="47037" href="Agda.Primitive.html#636" class="Primitive Operator">⊔</a> <a id="47039" href="ualib.html#46711" class="Bound">𝓥</a> <a id="47041" href="Agda.Primitive.html#636" class="Primitive Operator">⊔</a> <a id="47043" href="Universes.html#260" class="Generalizable">𝓤</a> <a id="47045" href="Universes.html#403" class="Function Operator">̇</a>
 <a id="47048" href="ualib.html#46987" class="Function">compatible</a> <a id="47059" class="Symbol">{</a><a id="47060" href="ualib.html#47060" class="Bound">𝓤</a><a id="47061" class="Symbol">}</a> <a id="47063" href="ualib.html#47063" class="Bound">𝑨</a> <a id="47065" href="ualib.html#47065" class="Bound">𝓻</a> <a id="47067" class="Symbol">=</a> <a id="47069" class="Symbol">∀</a> <a id="47071" href="ualib.html#47071" class="Bound">𝑓</a> <a id="47073" class="Symbol">→</a> <a id="47075" href="ualib.html#46765" class="Function">compatible-op</a><a id="47088" class="Symbol">{</a><a id="47089" href="ualib.html#47060" class="Bound">𝓤</a><a id="47090" class="Symbol">}{</a><a id="47092" href="ualib.html#47063" class="Bound">𝑨</a><a id="47093" class="Symbol">}</a> <a id="47095" href="ualib.html#47071" class="Bound">𝑓</a> <a id="47097" href="ualib.html#47065" class="Bound">𝓻</a>

 <a id="47101" href="ualib.html#47101" class="Function">𝟎-compatible-op</a> <a id="47117" class="Symbol">:</a> <a id="47119" href="MGS-FunExt-from-Univalence.html#393" class="Function">funext</a> <a id="47126" href="ualib.html#46711" class="Bound">𝓥</a> <a id="47128" href="Universes.html#260" class="Generalizable">𝓤</a>
  <a id="47132" class="Symbol">→</a>                <a id="47149" class="Symbol">{</a><a id="47150" href="ualib.html#47150" class="Bound">𝑨</a> <a id="47152" class="Symbol">:</a> <a id="47154" href="ualib.html#35648" class="Function">Algebra</a> <a id="47162" href="Universes.html#260" class="Generalizable">𝓤</a> <a id="47164" href="ualib.html#46695" class="Bound">𝑆</a><a id="47165" class="Symbol">}</a> <a id="47167" class="Symbol">(</a><a id="47168" href="ualib.html#47168" class="Bound">𝑓</a> <a id="47170" class="Symbol">:</a> <a id="47172" href="ualib.html#21378" class="Function Operator">∣</a> <a id="47174" href="ualib.html#46695" class="Bound">𝑆</a> <a id="47176" href="ualib.html#21378" class="Function Operator">∣</a><a id="47177" class="Symbol">)</a>
  <a id="47181" class="Symbol">→</a>                <a id="47198" href="ualib.html#46765" class="Function">compatible-op</a> <a id="47212" class="Symbol">{</a><a id="47213" href="Universes.html#260" class="Generalizable">𝓤</a><a id="47214" class="Symbol">}{</a><a id="47216" href="ualib.html#47150" class="Bound">𝑨</a><a id="47217" class="Symbol">}</a> <a id="47219" href="ualib.html#47168" class="Bound">𝑓</a> <a id="47221" href="ualib.html#44662" class="Function">𝟎-rel</a>
 <a id="47228" href="ualib.html#47101" class="Function">𝟎-compatible-op</a> <a id="47244" href="ualib.html#47244" class="Bound">fe</a> <a id="47247" class="Symbol">{</a><a id="47248" class="Argument">𝑨</a> <a id="47250" class="Symbol">=</a> <a id="47252" href="ualib.html#47252" class="Bound">𝑨</a><a id="47253" class="Symbol">}</a> <a id="47255" href="ualib.html#47255" class="Bound">𝑓</a> <a id="47257" href="ualib.html#47257" class="Bound">ptws𝟎</a>  <a id="47264" class="Symbol">=</a>
  <a id="47268" href="MGS-MLTT.html#6613" class="Function">ap</a> <a id="47271" class="Symbol">(</a><a id="47272" href="ualib.html#47255" class="Bound">𝑓</a> <a id="47274" href="ualib.html#38193" class="Function Operator">̂</a> <a id="47276" href="ualib.html#47252" class="Bound">𝑨</a><a id="47277" class="Symbol">)(</a><a id="47279" href="ualib.html#47244" class="Bound">fe</a> <a id="47282" class="Symbol">(λ</a> <a id="47285" href="ualib.html#47285" class="Bound">x</a> <a id="47287" class="Symbol">→</a> <a id="47289" href="ualib.html#47257" class="Bound">ptws𝟎</a> <a id="47295" href="ualib.html#47285" class="Bound">x</a><a id="47296" class="Symbol">))</a>

 <a id="47301" href="ualib.html#47301" class="Function">𝟎-compatible</a> <a id="47314" class="Symbol">:</a> <a id="47316" href="MGS-FunExt-from-Univalence.html#393" class="Function">funext</a> <a id="47323" href="ualib.html#46711" class="Bound">𝓥</a> <a id="47325" href="Universes.html#260" class="Generalizable">𝓤</a>
  <a id="47329" class="Symbol">→</a>             <a id="47343" class="Symbol">{</a><a id="47344" href="ualib.html#47344" class="Bound">𝑨</a> <a id="47346" class="Symbol">:</a> <a id="47348" href="ualib.html#35648" class="Function">Algebra</a> <a id="47356" href="Universes.html#260" class="Generalizable">𝓤</a> <a id="47358" href="ualib.html#46695" class="Bound">𝑆</a><a id="47359" class="Symbol">}</a>
  <a id="47363" class="Symbol">→</a>             <a id="47377" href="ualib.html#46987" class="Function">compatible</a> <a id="47388" href="ualib.html#47344" class="Bound">𝑨</a> <a id="47390" href="ualib.html#44662" class="Function">𝟎-rel</a>
 <a id="47397" href="ualib.html#47301" class="Function">𝟎-compatible</a> <a id="47410" href="ualib.html#47410" class="Bound">fe</a> <a id="47413" class="Symbol">{</a><a id="47414" href="ualib.html#47414" class="Bound">𝑨</a><a id="47415" class="Symbol">}</a> <a id="47417" class="Symbol">=</a>
  <a id="47421" class="Symbol">λ</a> <a id="47423" href="ualib.html#47423" class="Bound">𝑓</a> <a id="47425" href="ualib.html#47425" class="Bound">args</a> <a id="47430" class="Symbol">→</a> <a id="47432" href="ualib.html#47101" class="Function">𝟎-compatible-op</a> <a id="47448" href="ualib.html#47410" class="Bound">fe</a> <a id="47451" class="Symbol">{</a><a id="47452" href="ualib.html#47414" class="Bound">𝑨</a><a id="47453" class="Symbol">}</a> <a id="47455" href="ualib.html#47423" class="Bound">𝑓</a> <a id="47457" href="ualib.html#47425" class="Bound">args</a>

 <a id="47464" class="Comment">-- Congruence relations</a>
 <a id="47489" href="ualib.html#47489" class="Function">Con</a> <a id="47493" class="Symbol">:</a> <a id="47495" class="Symbol">(</a><a id="47496" href="ualib.html#47496" class="Bound">𝑨</a> <a id="47498" class="Symbol">:</a> <a id="47500" href="ualib.html#35648" class="Function">Algebra</a> <a id="47508" href="Universes.html#260" class="Generalizable">𝓤</a> <a id="47510" href="ualib.html#46695" class="Bound">𝑆</a><a id="47511" class="Symbol">)</a> <a id="47513" class="Symbol">→</a> <a id="47515" href="ualib.html#46709" class="Bound">𝓞</a> <a id="47517" href="Agda.Primitive.html#636" class="Primitive Operator">⊔</a> <a id="47519" href="ualib.html#46711" class="Bound">𝓥</a> <a id="47521" href="Agda.Primitive.html#636" class="Primitive Operator">⊔</a> <a id="47523" href="Universes.html#260" class="Generalizable">𝓤</a> <a id="47525" href="Agda.Primitive.html#606" class="Primitive Operator">⁺</a> <a id="47527" href="Universes.html#403" class="Function Operator">̇</a>
 <a id="47530" href="ualib.html#47489" class="Function">Con</a> <a id="47534" class="Symbol">{</a><a id="47535" href="ualib.html#47535" class="Bound">𝓤</a><a id="47536" class="Symbol">}</a> <a id="47538" href="ualib.html#47538" class="Bound">𝑨</a> <a id="47540" class="Symbol">=</a>
  <a id="47544" href="MGS-MLTT.html#3074" class="Function">Σ</a> <a id="47546" href="ualib.html#47546" class="Bound">θ</a> <a id="47548" href="MGS-MLTT.html#3074" class="Function">꞉</a> <a id="47550" class="Symbol">(</a> <a id="47552" href="ualib.html#42077" class="Function">Rel</a> <a id="47556" href="ualib.html#21378" class="Function Operator">∣</a> <a id="47558" href="ualib.html#47538" class="Bound">𝑨</a> <a id="47560" href="ualib.html#21378" class="Function Operator">∣</a> <a id="47562" href="ualib.html#47535" class="Bound">𝓤</a> <a id="47564" class="Symbol">)</a> <a id="47566" href="MGS-MLTT.html#3074" class="Function">,</a> <a id="47568" href="ualib.html#45216" class="Record">IsEquivalence</a> <a id="47582" href="ualib.html#47546" class="Bound">θ</a> <a id="47584" href="MGS-MLTT.html#3515" class="Function Operator">×</a> <a id="47586" href="ualib.html#46987" class="Function">compatible</a> <a id="47597" href="ualib.html#47538" class="Bound">𝑨</a> <a id="47599" href="ualib.html#47546" class="Bound">θ</a>

 <a id="47603" href="ualib.html#47603" class="Function">con</a> <a id="47607" class="Symbol">:</a> <a id="47609" class="Symbol">(</a><a id="47610" href="ualib.html#47610" class="Bound">𝑨</a> <a id="47612" class="Symbol">:</a> <a id="47614" href="ualib.html#35648" class="Function">Algebra</a> <a id="47622" href="Universes.html#260" class="Generalizable">𝓤</a> <a id="47624" href="ualib.html#46695" class="Bound">𝑆</a><a id="47625" class="Symbol">)</a>  <a id="47628" class="Symbol">→</a>  <a id="47631" href="ualib.html#25725" class="Function">Pred</a> <a id="47636" class="Symbol">(</a><a id="47637" href="ualib.html#42077" class="Function">Rel</a> <a id="47641" href="ualib.html#21378" class="Function Operator">∣</a> <a id="47643" href="ualib.html#47610" class="Bound">𝑨</a> <a id="47645" href="ualib.html#21378" class="Function Operator">∣</a> <a id="47647" href="Universes.html#260" class="Generalizable">𝓤</a><a id="47648" class="Symbol">)</a> <a id="47650" class="Symbol">_</a>
 <a id="47653" href="ualib.html#47603" class="Function">con</a> <a id="47657" href="ualib.html#47657" class="Bound">𝑨</a> <a id="47659" class="Symbol">=</a> <a id="47661" class="Symbol">λ</a> <a id="47663" href="ualib.html#47663" class="Bound">θ</a> <a id="47665" class="Symbol">→</a> <a id="47667" href="ualib.html#45216" class="Record">IsEquivalence</a> <a id="47681" href="ualib.html#47663" class="Bound">θ</a> <a id="47683" href="MGS-MLTT.html#3515" class="Function Operator">×</a> <a id="47685" href="ualib.html#46987" class="Function">compatible</a> <a id="47696" href="ualib.html#47657" class="Bound">𝑨</a> <a id="47698" href="ualib.html#47663" class="Bound">θ</a>

 <a id="47702" class="Keyword">record</a> <a id="47709" href="ualib.html#47709" class="Record">Congruence</a> <a id="47720" class="Symbol">(</a><a id="47721" href="ualib.html#47721" class="Bound">𝑨</a> <a id="47723" class="Symbol">:</a> <a id="47725" href="ualib.html#35648" class="Function">Algebra</a> <a id="47733" href="Universes.html#260" class="Generalizable">𝓤</a> <a id="47735" href="ualib.html#46695" class="Bound">𝑆</a><a id="47736" class="Symbol">)</a> <a id="47738" class="Symbol">:</a> <a id="47740" href="ualib.html#46709" class="Bound">𝓞</a> <a id="47742" href="Agda.Primitive.html#636" class="Primitive Operator">⊔</a> <a id="47744" href="ualib.html#46711" class="Bound">𝓥</a> <a id="47746" href="Agda.Primitive.html#636" class="Primitive Operator">⊔</a> <a id="47748" href="ualib.html#47733" class="Bound">𝓤</a> <a id="47750" href="Agda.Primitive.html#606" class="Primitive Operator">⁺</a> <a id="47752" href="Universes.html#403" class="Function Operator">̇</a>  <a id="47755" class="Keyword">where</a>
   <a id="47764" class="Keyword">constructor</a> <a id="47776" href="ualib.html#47776" class="InductiveConstructor">mkcon</a>
   <a id="47785" class="Keyword">field</a>
     <a id="47796" href="ualib.html#47796" class="Field Operator">⟨_⟩</a> <a id="47800" class="Symbol">:</a> <a id="47802" href="ualib.html#42077" class="Function">Rel</a> <a id="47806" href="ualib.html#21378" class="Function Operator">∣</a> <a id="47808" href="ualib.html#47721" class="Bound">𝑨</a> <a id="47810" href="ualib.html#21378" class="Function Operator">∣</a> <a id="47812" href="ualib.html#47733" class="Bound">𝓤</a>
     <a id="47819" href="ualib.html#47819" class="Field">Compatible</a> <a id="47830" class="Symbol">:</a> <a id="47832" href="ualib.html#46987" class="Function">compatible</a> <a id="47843" href="ualib.html#47721" class="Bound">𝑨</a> <a id="47845" href="ualib.html#47796" class="Field Operator">⟨_⟩</a>
     <a id="47854" href="ualib.html#47854" class="Field">IsEquiv</a> <a id="47862" class="Symbol">:</a> <a id="47864" href="ualib.html#45216" class="Record">IsEquivalence</a> <a id="47878" href="ualib.html#47796" class="Field Operator">⟨_⟩</a>
 <a id="47883" class="Keyword">open</a> <a id="47888" href="ualib.html#47709" class="Module">Congruence</a>
</pre>

<h3 id="the-trivial-congruence">The trivial congruence</h3>

<p>We construct the “trivial” or “diagonal” or “identity” relation and prove it is a congruence as follows.</p>

<pre class="Agda">
 <a id="48060" href="ualib.html#48060" class="Function">Δ</a> <a id="48062" class="Symbol">:</a> <a id="48064" href="MGS-FunExt-from-Univalence.html#393" class="Function">funext</a> <a id="48071" href="ualib.html#46711" class="Bound">𝓥</a> <a id="48073" href="Universes.html#260" class="Generalizable">𝓤</a> <a id="48075" class="Symbol">→</a> <a id="48077" class="Symbol">(</a><a id="48078" href="ualib.html#48078" class="Bound">𝑨</a> <a id="48080" class="Symbol">:</a> <a id="48082" href="ualib.html#35648" class="Function">Algebra</a> <a id="48090" href="Universes.html#260" class="Generalizable">𝓤</a> <a id="48092" href="ualib.html#46695" class="Bound">𝑆</a><a id="48093" class="Symbol">)</a> <a id="48095" class="Symbol">→</a> <a id="48097" href="ualib.html#47709" class="Record">Congruence</a> <a id="48108" href="ualib.html#48078" class="Bound">𝑨</a>
 <a id="48111" href="ualib.html#48060" class="Function">Δ</a> <a id="48113" href="ualib.html#48113" class="Bound">fe</a> <a id="48116" href="ualib.html#48116" class="Bound">𝑨</a> <a id="48118" class="Symbol">=</a> <a id="48120" href="ualib.html#47776" class="InductiveConstructor">mkcon</a> <a id="48126" href="ualib.html#44662" class="Function">𝟎-rel</a>
               <a id="48147" class="Symbol">(</a><a id="48148" href="ualib.html#47301" class="Function">𝟎-compatible</a> <a id="48161" href="ualib.html#48113" class="Bound">fe</a> <a id="48164" class="Symbol">{</a><a id="48165" href="ualib.html#48116" class="Bound">𝑨</a><a id="48166" class="Symbol">})</a>
               <a id="48184" class="Symbol">(</a><a id="48185" href="ualib.html#45682" class="Function">𝟎-IsEquivalence</a><a id="48200" class="Symbol">)</a>

 <a id="48204" href="ualib.html#48204" class="Function Operator">_╱_</a> <a id="48208" class="Symbol">:</a> <a id="48210" class="Symbol">(</a><a id="48211" href="ualib.html#48211" class="Bound">𝑨</a> <a id="48213" class="Symbol">:</a> <a id="48215" href="ualib.html#35648" class="Function">Algebra</a> <a id="48223" href="Universes.html#260" class="Generalizable">𝓤</a> <a id="48225" href="ualib.html#46695" class="Bound">𝑆</a><a id="48226" class="Symbol">)</a> <a id="48228" class="Symbol">→</a> <a id="48230" href="ualib.html#47709" class="Record">Congruence</a> <a id="48241" href="ualib.html#48211" class="Bound">𝑨</a>
       <a id="48250" class="Comment">---------------------------------</a>
  <a id="48286" class="Symbol">→</a>    <a id="48291" href="ualib.html#35648" class="Function">Algebra</a> <a id="48299" class="Symbol">(</a><a id="48300" href="Universes.html#260" class="Generalizable">𝓤</a> <a id="48302" href="Agda.Primitive.html#606" class="Primitive Operator">⁺</a><a id="48303" class="Symbol">)</a> <a id="48305" href="ualib.html#46695" class="Bound">𝑆</a>

 <a id="48309" href="ualib.html#48309" class="Bound">𝑨</a> <a id="48311" href="ualib.html#48204" class="Function Operator">╱</a> <a id="48313" href="ualib.html#48313" class="Bound">θ</a> <a id="48315" class="Symbol">=</a> <a id="48317" class="Symbol">((</a> <a id="48320" href="ualib.html#21378" class="Function Operator">∣</a> <a id="48322" href="ualib.html#48309" class="Bound">𝑨</a> <a id="48324" href="ualib.html#21378" class="Function Operator">∣</a> <a id="48326" href="ualib.html#44314" class="Function Operator">//</a> <a id="48329" href="ualib.html#47796" class="Field Operator">⟨</a> <a id="48331" href="ualib.html#48313" class="Bound">θ</a> <a id="48333" href="ualib.html#47796" class="Field Operator">⟩</a> <a id="48335" class="Symbol">)</a> <a id="48337" href="ualib.html#20052" class="InductiveConstructor Operator">,</a> <a id="48339" class="Comment">-- carrier</a>
           <a id="48361" class="Symbol">(λ</a> <a id="48364" href="ualib.html#48364" class="Bound">𝑓</a> <a id="48366" href="ualib.html#48366" class="Bound">args</a>        <a id="48378" class="Comment">-- operations</a>
             <a id="48405" class="Symbol">→</a> <a id="48407" class="Symbol">(</a><a id="48408" href="ualib.html#44148" class="Function Operator">[</a> <a id="48410" class="Symbol">(</a><a id="48411" href="ualib.html#48364" class="Bound">𝑓</a> <a id="48413" href="ualib.html#38193" class="Function Operator">̂</a> <a id="48415" href="ualib.html#48309" class="Bound">𝑨</a><a id="48416" class="Symbol">)</a> <a id="48418" class="Symbol">(λ</a> <a id="48421" href="ualib.html#48421" class="Bound">i₁</a> <a id="48424" class="Symbol">→</a> <a id="48426" href="ualib.html#21378" class="Function Operator">∣</a> <a id="48428" href="ualib.html#21456" class="Function Operator">∥</a> <a id="48430" href="ualib.html#48366" class="Bound">args</a> <a id="48435" href="ualib.html#48421" class="Bound">i₁</a> <a id="48438" href="ualib.html#21456" class="Function Operator">∥</a> <a id="48440" href="ualib.html#21378" class="Function Operator">∣</a><a id="48441" class="Symbol">)</a> <a id="48443" href="ualib.html#44148" class="Function Operator">]</a> <a id="48445" href="ualib.html#47796" class="Field Operator">⟨</a> <a id="48447" href="ualib.html#48313" class="Bound">θ</a> <a id="48449" href="ualib.html#47796" class="Field Operator">⟩</a><a id="48450" class="Symbol">)</a> <a id="48452" href="ualib.html#20052" class="InductiveConstructor Operator">,</a>
               <a id="48469" class="Symbol">((</a><a id="48471" href="ualib.html#48364" class="Bound">𝑓</a> <a id="48473" href="ualib.html#38193" class="Function Operator">̂</a> <a id="48475" href="ualib.html#48309" class="Bound">𝑨</a><a id="48476" class="Symbol">)(λ</a> <a id="48480" href="ualib.html#48480" class="Bound">i₁</a> <a id="48483" class="Symbol">→</a> <a id="48485" href="ualib.html#21378" class="Function Operator">∣</a> <a id="48487" href="ualib.html#21456" class="Function Operator">∥</a> <a id="48489" href="ualib.html#48366" class="Bound">args</a> <a id="48494" href="ualib.html#48480" class="Bound">i₁</a> <a id="48497" href="ualib.html#21456" class="Function Operator">∥</a> <a id="48499" href="ualib.html#21378" class="Function Operator">∣</a><a id="48500" class="Symbol">)</a> <a id="48502" href="ualib.html#20052" class="InductiveConstructor Operator">,</a> <a id="48504" href="ualib.html#19978" class="InductiveConstructor">refl</a> <a id="48509" class="Symbol">_</a> <a id="48511" class="Symbol">)</a>
           <a id="48524" class="Symbol">)</a>
          <a id="48536" class="Symbol">)</a>
</pre>

<p>We would like to round out this chapter with a formalization of the trivial congruence of the free algebra 𝔽(𝒦, 𝑋), which we called Ψ(𝒦, 𝑻(𝑋)) in free algebras.</p>

<p>Unfortunately, this will have to wait until we have formalized the concepts of subalgebra and closure on which this congruence depends. Thus, our Agda definition of Ψ(𝒦, 𝑻(𝑋)) will appear in the <a href="https://gitlab.com/ualib/ualib.gitlab.io/-/blob/master/congruences.lagda.rst">closure module</a> described in Chapter %s equational logic in agda.</p>

<hr />

<h3 id="unicode-hints-2">Unicode Hints 2</h3>

<p>Table of some special characters used in the <a href="https://gitlab.com/ualib/ualib.gitlab.io/-/blob/master/congruences.lagda.rst">congruences module</a>.</p>

<table>
  <thead>
    <tr>
      <th> </th>
      <th>To get</th>
      <th>Type</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td> </td>
      <td>≈</td>
      <td><code class="language-plaintext highlighter-rouge">\~~</code> or <code class="language-plaintext highlighter-rouge">\approx</code></td>
    </tr>
  </tbody>
  <tbody>
    <tr>
      <td> </td>
      <td>⇒</td>
      <td><code class="language-plaintext highlighter-rouge">\r2</code> or <code class="language-plaintext highlighter-rouge">\=&gt;</code></td>
    </tr>
  </tbody>
  <tbody>
    <tr>
      <td> </td>
      <td>𝟎, 𝟏</td>
      <td><code class="language-plaintext highlighter-rouge">\B0</code>, <code class="language-plaintext highlighter-rouge">\B1</code></td>
    </tr>
  </tbody>
  <tbody>
    <tr>
      <td> </td>
      <td>θ, Δ</td>
      <td><code class="language-plaintext highlighter-rouge">\theta</code>, <code class="language-plaintext highlighter-rouge">\Delta</code></td>
    </tr>
  </tbody>
  <tbody>
    <tr>
      <td> </td>
      <td>⟨_⟩</td>
      <td><code class="language-plaintext highlighter-rouge">\&lt;_\&gt;</code></td>
    </tr>
  </tbody>
  <tbody>
    <tr>
      <td> </td>
      <td>╱</td>
      <td><code class="language-plaintext highlighter-rouge">\---</code> then right arrow a number of times</td>
    </tr>
  </tbody>
</table>

<p><strong>Emacs commands providing information about special characters/input methods</strong>:</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">M-x describe-char</code> (or <code class="language-plaintext highlighter-rouge">M-m h d c</code>) with the cursor on the character of interest</li>
  <li><code class="language-plaintext highlighter-rouge">M-x describe-input-method</code> (or <code class="language-plaintext highlighter-rouge">C-h I</code>)</li>
</ul>

<hr />

<p><a href="ualib.html#contents"><sub>Table of contents ⇑</sub></a></p>
<h2 id="homomorphisms-in-agda">Homomorphisms in Agda</h2>

<p>This chapter describes the <a href="https://gitlab.com/ualib/ualib.gitlab.io/-/blob/master/homomorphisms.lagda.rst">homomorphisms
module</a>
of the <a href="https://ualib.org">UALib</a>.</p>

<h3 id="types-for-homomorphisms">Types for homomorphisms</h3>

<p>Our implementation of the notion of homomorphisms in the <a href="https://ualib.org">UALib</a> is an extensional one. What this means will become clear once we have presented the definitions (cf. Homomorphisms intensionally &lt;homomorphisms intensionally&gt;).</p>

<p>Here we say what it means for an operation 𝑓, interpreted in the algebras 𝑨 and 𝑩, to commute with a function $g : A → B$.</p>

<pre class="Agda">
<a id="51052" class="Keyword">module</a> <a id="homomorphisms"></a><a id="51059" href="ualib.html#51059" class="Module">homomorphisms</a> <a id="51073" class="Symbol">{</a><a id="51074" href="ualib.html#51074" class="Bound">𝑆</a> <a id="51076" class="Symbol">:</a> <a id="51078" href="ualib.html#34935" class="Function">Signature</a> <a id="51088" href="ualib.html#17590" class="Generalizable">𝓞</a> <a id="51090" href="Universes.html#262" class="Generalizable">𝓥</a><a id="51091" class="Symbol">}</a> <a id="51093" class="Keyword">where</a>

 <a id="51101" class="Keyword">open</a> <a id="51106" href="ualib.html#15713" class="Module">prelude</a> <a id="51114" class="Keyword">using</a> <a id="51120" class="Symbol">(</a><a id="51121" href="MGS-MLTT.html#3813" class="Function Operator">_∘_</a><a id="51124" class="Symbol">;</a> <a id="51126" href="ualib.html#26625" class="Function Operator">_∈_</a><a id="51129" class="Symbol">;</a> <a id="51131" href="ualib.html#26982" class="Function Operator">_⊆_</a><a id="51134" class="Symbol">;</a> <a id="51136" href="ualib.html#30425" class="Function">EpicInv</a><a id="51143" class="Symbol">;</a> <a id="51145" href="ualib.html#24316" class="Function">cong-app</a><a id="51153" class="Symbol">;</a> <a id="51155" href="ualib.html#30584" class="Function">EInvIsRInv</a><a id="51165" class="Symbol">;</a> <a id="51167" href="ualib.html#28977" class="Datatype Operator">Image_∋_</a><a id="51175" class="Symbol">)</a> <a id="51177" class="Keyword">public</a>

 <a id="homomorphisms.op_interpreted-in_and_commutes-with"></a><a id="51186" href="ualib.html#51186" class="Function Operator">op_interpreted-in_and_commutes-with</a> <a id="51222" class="Symbol">:</a>
  <a id="51226" class="Symbol">(</a><a id="51227" href="ualib.html#51227" class="Bound">𝑓</a> <a id="51229" class="Symbol">:</a> <a id="51231" href="ualib.html#21378" class="Function Operator">∣</a> <a id="51233" href="ualib.html#51074" class="Bound">𝑆</a> <a id="51235" href="ualib.html#21378" class="Function Operator">∣</a><a id="51236" class="Symbol">)</a> <a id="51238" class="Symbol">(</a><a id="51239" href="ualib.html#51239" class="Bound">𝑨</a> <a id="51241" class="Symbol">:</a> <a id="51243" href="ualib.html#35648" class="Function">Algebra</a> <a id="51251" href="Universes.html#260" class="Generalizable">𝓤</a> <a id="51253" href="ualib.html#51074" class="Bound">𝑆</a><a id="51254" class="Symbol">)</a> <a id="51256" class="Symbol">(</a><a id="51257" href="ualib.html#51257" class="Bound">𝑩</a> <a id="51259" class="Symbol">:</a> <a id="51261" href="ualib.html#35648" class="Function">Algebra</a> <a id="51269" href="Universes.html#264" class="Generalizable">𝓦</a> <a id="51271" href="ualib.html#51074" class="Bound">𝑆</a><a id="51272" class="Symbol">)</a>
  <a id="51276" class="Symbol">(</a><a id="51277" href="ualib.html#51277" class="Bound">g</a> <a id="51279" class="Symbol">:</a> <a id="51281" href="ualib.html#21378" class="Function Operator">∣</a> <a id="51283" href="ualib.html#51239" class="Bound">𝑨</a> <a id="51285" href="ualib.html#21378" class="Function Operator">∣</a>  <a id="51288" class="Symbol">→</a> <a id="51290" href="ualib.html#21378" class="Function Operator">∣</a> <a id="51292" href="ualib.html#51257" class="Bound">𝑩</a> <a id="51294" href="ualib.html#21378" class="Function Operator">∣</a><a id="51295" class="Symbol">)</a> <a id="51297" class="Symbol">→</a> <a id="51299" href="ualib.html#51090" class="Bound">𝓥</a> <a id="51301" href="Agda.Primitive.html#636" class="Primitive Operator">⊔</a> <a id="51303" href="Universes.html#260" class="Generalizable">𝓤</a> <a id="51305" href="Agda.Primitive.html#636" class="Primitive Operator">⊔</a> <a id="51307" href="Universes.html#264" class="Generalizable">𝓦</a> <a id="51309" href="Universes.html#403" class="Function Operator">̇</a>

 <a id="51313" href="ualib.html#51186" class="Function Operator">op</a> <a id="51316" href="ualib.html#51316" class="Bound">𝑓</a> <a id="51318" href="ualib.html#51186" class="Function Operator">interpreted-in</a> <a id="51333" href="ualib.html#51333" class="Bound">𝑨</a> <a id="51335" href="ualib.html#51186" class="Function Operator">and</a> <a id="51339" href="ualib.html#51339" class="Bound">𝑩</a> <a id="51341" href="ualib.html#51186" class="Function Operator">commutes-with</a> <a id="51355" href="ualib.html#51355" class="Bound">g</a> <a id="51357" class="Symbol">=</a>
  <a id="51361" class="Symbol">∀(</a> <a id="51364" href="ualib.html#51364" class="Bound">𝒂</a> <a id="51366" class="Symbol">:</a> <a id="51368" href="ualib.html#21456" class="Function Operator">∥</a> <a id="51370" href="ualib.html#51074" class="Bound">𝑆</a> <a id="51372" href="ualib.html#21456" class="Function Operator">∥</a> <a id="51374" href="ualib.html#51316" class="Bound">𝑓</a> <a id="51376" class="Symbol">→</a> <a id="51378" href="ualib.html#21378" class="Function Operator">∣</a> <a id="51380" href="ualib.html#51333" class="Bound">𝑨</a> <a id="51382" href="ualib.html#21378" class="Function Operator">∣</a> <a id="51384" class="Symbol">)</a> <a id="51386" class="Symbol">→</a> <a id="51388" href="ualib.html#51355" class="Bound">g</a> <a id="51390" class="Symbol">((</a><a id="51392" href="ualib.html#51316" class="Bound">𝑓</a> <a id="51394" href="ualib.html#38193" class="Function Operator">̂</a> <a id="51396" href="ualib.html#51333" class="Bound">𝑨</a><a id="51397" class="Symbol">)</a> <a id="51399" href="ualib.html#51364" class="Bound">𝒂</a><a id="51400" class="Symbol">)</a> <a id="51402" href="ualib.html#19941" class="Datatype Operator">≡</a> <a id="51404" class="Symbol">(</a><a id="51405" href="ualib.html#51316" class="Bound">𝑓</a> <a id="51407" href="ualib.html#38193" class="Function Operator">̂</a> <a id="51409" href="ualib.html#51339" class="Bound">𝑩</a><a id="51410" class="Symbol">)</a> <a id="51412" class="Symbol">(</a><a id="51413" href="ualib.html#51355" class="Bound">g</a> <a id="51415" href="MGS-MLTT.html#3813" class="Function Operator">∘</a> <a id="51417" href="ualib.html#51364" class="Bound">𝒂</a><a id="51418" class="Symbol">)</a>

 <a id="homomorphisms.all-ops-in_and_commute-with"></a><a id="51422" href="ualib.html#51422" class="Function Operator">all-ops-in_and_commute-with</a> <a id="51450" class="Symbol">:</a>
  <a id="51454" class="Symbol">(</a><a id="51455" href="ualib.html#51455" class="Bound">𝑨</a> <a id="51457" class="Symbol">:</a> <a id="51459" href="ualib.html#35648" class="Function">Algebra</a> <a id="51467" href="Universes.html#260" class="Generalizable">𝓤</a> <a id="51469" href="ualib.html#51074" class="Bound">𝑆</a><a id="51470" class="Symbol">)</a> <a id="51472" class="Symbol">(</a><a id="51473" href="ualib.html#51473" class="Bound">𝑩</a> <a id="51475" class="Symbol">:</a> <a id="51477" href="ualib.html#35648" class="Function">Algebra</a> <a id="51485" href="Universes.html#264" class="Generalizable">𝓦</a> <a id="51487" href="ualib.html#51074" class="Bound">𝑆</a><a id="51488" class="Symbol">)</a>
   <a id="51493" class="Symbol">→</a>   <a id="51497" class="Symbol">(</a><a id="51498" href="ualib.html#21378" class="Function Operator">∣</a> <a id="51500" href="ualib.html#51455" class="Bound">𝑨</a> <a id="51502" href="ualib.html#21378" class="Function Operator">∣</a>  <a id="51505" class="Symbol">→</a> <a id="51507" href="ualib.html#21378" class="Function Operator">∣</a> <a id="51509" href="ualib.html#51473" class="Bound">𝑩</a> <a id="51511" href="ualib.html#21378" class="Function Operator">∣</a> <a id="51513" class="Symbol">)</a> <a id="51515" class="Symbol">→</a> <a id="51517" href="ualib.html#51088" class="Bound">𝓞</a> <a id="51519" href="Agda.Primitive.html#636" class="Primitive Operator">⊔</a> <a id="51521" href="ualib.html#51090" class="Bound">𝓥</a> <a id="51523" href="Agda.Primitive.html#636" class="Primitive Operator">⊔</a> <a id="51525" href="Universes.html#260" class="Generalizable">𝓤</a> <a id="51527" href="Agda.Primitive.html#636" class="Primitive Operator">⊔</a> <a id="51529" href="Universes.html#264" class="Generalizable">𝓦</a> <a id="51531" href="Universes.html#403" class="Function Operator">̇</a>

 <a id="51535" href="ualib.html#51422" class="Function Operator">all-ops-in</a> <a id="51546" href="ualib.html#51546" class="Bound">𝑨</a> <a id="51548" href="ualib.html#51422" class="Function Operator">and</a> <a id="51552" href="ualib.html#51552" class="Bound">𝑩</a> <a id="51554" href="ualib.html#51422" class="Function Operator">commute-with</a> <a id="51567" href="ualib.html#51567" class="Bound">g</a> <a id="51569" class="Symbol">=</a> <a id="51571" class="Symbol">∀</a> <a id="51573" class="Symbol">(</a><a id="51574" href="ualib.html#51574" class="Bound">𝑓</a> <a id="51576" class="Symbol">:</a> <a id="51578" href="ualib.html#21378" class="Function Operator">∣</a> <a id="51580" href="ualib.html#51074" class="Bound">𝑆</a> <a id="51582" href="ualib.html#21378" class="Function Operator">∣</a><a id="51583" class="Symbol">)</a>
  <a id="51587" class="Symbol">→</a> <a id="51589" href="ualib.html#51186" class="Function Operator">op</a> <a id="51592" href="ualib.html#51574" class="Bound">𝑓</a> <a id="51594" href="ualib.html#51186" class="Function Operator">interpreted-in</a> <a id="51609" href="ualib.html#51546" class="Bound">𝑨</a> <a id="51611" href="ualib.html#51186" class="Function Operator">and</a> <a id="51615" href="ualib.html#51552" class="Bound">𝑩</a> <a id="51617" href="ualib.html#51186" class="Function Operator">commutes-with</a> <a id="51631" href="ualib.html#51567" class="Bound">g</a>

 <a id="homomorphisms.is-homomorphism"></a><a id="51635" href="ualib.html#51635" class="Function">is-homomorphism</a> <a id="51651" class="Symbol">:</a> <a id="51653" class="Symbol">(</a><a id="51654" href="ualib.html#51654" class="Bound">𝑨</a> <a id="51656" class="Symbol">:</a> <a id="51658" href="ualib.html#35648" class="Function">Algebra</a> <a id="51666" href="Universes.html#260" class="Generalizable">𝓤</a> <a id="51668" href="ualib.html#51074" class="Bound">𝑆</a><a id="51669" class="Symbol">)</a> <a id="51671" class="Symbol">(</a><a id="51672" href="ualib.html#51672" class="Bound">𝑩</a> <a id="51674" class="Symbol">:</a> <a id="51676" href="ualib.html#35648" class="Function">Algebra</a> <a id="51684" href="Universes.html#264" class="Generalizable">𝓦</a> <a id="51686" href="ualib.html#51074" class="Bound">𝑆</a><a id="51687" class="Symbol">)</a>
  <a id="51691" class="Symbol">→</a>                <a id="51708" class="Symbol">(</a><a id="51709" href="ualib.html#21378" class="Function Operator">∣</a> <a id="51711" href="ualib.html#51654" class="Bound">𝑨</a> <a id="51713" href="ualib.html#21378" class="Function Operator">∣</a> <a id="51715" class="Symbol">→</a> <a id="51717" href="ualib.html#21378" class="Function Operator">∣</a> <a id="51719" href="ualib.html#51672" class="Bound">𝑩</a> <a id="51721" href="ualib.html#21378" class="Function Operator">∣</a><a id="51722" class="Symbol">)</a> <a id="51724" class="Symbol">→</a> <a id="51726" href="ualib.html#51088" class="Bound">𝓞</a> <a id="51728" href="Agda.Primitive.html#636" class="Primitive Operator">⊔</a> <a id="51730" href="ualib.html#51090" class="Bound">𝓥</a> <a id="51732" href="Agda.Primitive.html#636" class="Primitive Operator">⊔</a> <a id="51734" href="Universes.html#260" class="Generalizable">𝓤</a> <a id="51736" href="Agda.Primitive.html#636" class="Primitive Operator">⊔</a> <a id="51738" href="Universes.html#264" class="Generalizable">𝓦</a> <a id="51740" href="Universes.html#403" class="Function Operator">̇</a>

 <a id="51744" href="ualib.html#51635" class="Function">is-homomorphism</a> <a id="51760" href="ualib.html#51760" class="Bound">𝑨</a> <a id="51762" href="ualib.html#51762" class="Bound">𝑩</a> <a id="51764" href="ualib.html#51764" class="Bound">g</a> <a id="51766" class="Symbol">=</a>
  <a id="51770" href="ualib.html#51422" class="Function Operator">all-ops-in</a> <a id="51781" href="ualib.html#51760" class="Bound">𝑨</a> <a id="51783" href="ualib.html#51422" class="Function Operator">and</a> <a id="51787" href="ualib.html#51762" class="Bound">𝑩</a> <a id="51789" href="ualib.html#51422" class="Function Operator">commute-with</a> <a id="51802" href="ualib.html#51764" class="Bound">g</a>
</pre>

<p>And now we define the type of homomorphisms.</p>

<pre class="Agda">
 <a id="homomorphisms.hom"></a><a id="51876" href="ualib.html#51876" class="Function">hom</a> <a id="51880" class="Symbol">:</a> <a id="51882" href="ualib.html#35648" class="Function">Algebra</a> <a id="51890" href="Universes.html#260" class="Generalizable">𝓤</a> <a id="51892" href="ualib.html#51074" class="Bound">𝑆</a> <a id="51894" class="Symbol">→</a> <a id="51896" href="ualib.html#35648" class="Function">Algebra</a> <a id="51904" href="Universes.html#264" class="Generalizable">𝓦</a> <a id="51906" href="ualib.html#51074" class="Bound">𝑆</a>  <a id="51909" class="Symbol">→</a> <a id="51911" href="Universes.html#260" class="Generalizable">𝓤</a> <a id="51913" href="Agda.Primitive.html#636" class="Primitive Operator">⊔</a> <a id="51915" href="Universes.html#264" class="Generalizable">𝓦</a> <a id="51917" href="Agda.Primitive.html#636" class="Primitive Operator">⊔</a> <a id="51919" href="ualib.html#51090" class="Bound">𝓥</a> <a id="51921" href="Agda.Primitive.html#636" class="Primitive Operator">⊔</a> <a id="51923" href="ualib.html#51088" class="Bound">𝓞</a> <a id="51925" href="Universes.html#403" class="Function Operator">̇</a>
 <a id="51928" href="ualib.html#51876" class="Function">hom</a> <a id="51932" href="ualib.html#51932" class="Bound">𝑨</a> <a id="51934" href="ualib.html#51934" class="Bound">𝑩</a> <a id="51936" class="Symbol">=</a> <a id="51938" href="MGS-MLTT.html#3074" class="Function">Σ</a> <a id="51940" href="ualib.html#51940" class="Bound">g</a> <a id="51942" href="MGS-MLTT.html#3074" class="Function">꞉</a> <a id="51944" class="Symbol">(</a><a id="51945" href="ualib.html#21378" class="Function Operator">∣</a> <a id="51947" href="ualib.html#51932" class="Bound">𝑨</a> <a id="51949" href="ualib.html#21378" class="Function Operator">∣</a> <a id="51951" class="Symbol">→</a> <a id="51953" href="ualib.html#21378" class="Function Operator">∣</a> <a id="51955" href="ualib.html#51934" class="Bound">𝑩</a> <a id="51957" href="ualib.html#21378" class="Function Operator">∣</a> <a id="51959" class="Symbol">)</a> <a id="51961" href="MGS-MLTT.html#3074" class="Function">,</a> <a id="51963" href="ualib.html#51635" class="Function">is-homomorphism</a> <a id="51979" href="ualib.html#51932" class="Bound">𝑨</a> <a id="51981" href="ualib.html#51934" class="Bound">𝑩</a> <a id="51983" href="ualib.html#51940" class="Bound">g</a>
</pre>

<p>An example of such a homomorphism is the identity map.</p>

<pre class="Agda">
 <a id="homomorphisms.𝒾𝒹"></a><a id="52067" href="ualib.html#52067" class="Function">𝒾𝒹</a> <a id="52070" class="Symbol">:</a>  <a id="52073" class="Symbol">(</a><a id="52074" href="ualib.html#52074" class="Bound">A</a> <a id="52076" class="Symbol">:</a> <a id="52078" href="ualib.html#35648" class="Function">Algebra</a> <a id="52086" href="Universes.html#260" class="Generalizable">𝓤</a> <a id="52088" href="ualib.html#51074" class="Bound">𝑆</a><a id="52089" class="Symbol">)</a> <a id="52091" class="Symbol">→</a> <a id="52093" href="ualib.html#51876" class="Function">hom</a> <a id="52097" href="ualib.html#52074" class="Bound">A</a> <a id="52099" href="ualib.html#52074" class="Bound">A</a>
 <a id="52102" href="ualib.html#52067" class="Function">𝒾𝒹</a> <a id="52105" class="Symbol">_</a> <a id="52107" class="Symbol">=</a> <a id="52109" class="Symbol">(λ</a> <a id="52112" href="ualib.html#52112" class="Bound">x</a> <a id="52114" class="Symbol">→</a> <a id="52116" href="ualib.html#52112" class="Bound">x</a><a id="52117" class="Symbol">)</a> <a id="52119" href="ualib.html#20052" class="InductiveConstructor Operator">,</a> <a id="52121" class="Symbol">λ</a> <a id="52123" href="ualib.html#52123" class="Bound">_</a> <a id="52125" href="ualib.html#52125" class="Bound">_</a> <a id="52127" class="Symbol">→</a> <a id="52129" href="ualib.html#19978" class="InductiveConstructor">refl</a> <a id="52134" class="Symbol">_</a>
</pre>

<h3 id="composition">Composition</h3>

<p>The composition of homomorphisms is again a homomorphism.</p>

<pre class="Agda">
 <a id="homomorphisms.HCompClosed"></a><a id="52238" href="ualib.html#52238" class="Function">HCompClosed</a> <a id="52250" class="Symbol">:</a> <a id="52252" class="Symbol">{</a><a id="52253" href="ualib.html#52253" class="Bound">𝑨</a> <a id="52255" class="Symbol">:</a> <a id="52257" href="ualib.html#35648" class="Function">Algebra</a> <a id="52265" href="Universes.html#260" class="Generalizable">𝓤</a> <a id="52267" href="ualib.html#51074" class="Bound">𝑆</a><a id="52268" class="Symbol">}{</a><a id="52270" href="ualib.html#52270" class="Bound">𝑩</a> <a id="52272" class="Symbol">:</a> <a id="52274" href="ualib.html#35648" class="Function">Algebra</a> <a id="52282" href="Universes.html#264" class="Generalizable">𝓦</a> <a id="52284" href="ualib.html#51074" class="Bound">𝑆</a><a id="52285" class="Symbol">}{</a><a id="52287" href="ualib.html#52287" class="Bound">𝑪</a> <a id="52289" class="Symbol">:</a> <a id="52291" href="ualib.html#35648" class="Function">Algebra</a> <a id="52299" href="Universes.html#266" class="Generalizable">𝓣</a> <a id="52301" href="ualib.html#51074" class="Bound">𝑆</a><a id="52302" class="Symbol">}</a>
  <a id="52306" class="Symbol">→</a>            <a id="52319" href="ualib.html#51876" class="Function">hom</a> <a id="52323" href="ualib.html#52253" class="Bound">𝑨</a> <a id="52325" href="ualib.html#52270" class="Bound">𝑩</a>   <a id="52329" class="Symbol">→</a>   <a id="52333" href="ualib.html#51876" class="Function">hom</a> <a id="52337" href="ualib.html#52270" class="Bound">𝑩</a> <a id="52339" href="ualib.html#52287" class="Bound">𝑪</a>
               <a id="52356" class="Comment">---------------------</a>
  <a id="52380" class="Symbol">→</a>                  <a id="52399" href="ualib.html#51876" class="Function">hom</a> <a id="52403" href="ualib.html#52253" class="Bound">𝑨</a> <a id="52405" href="ualib.html#52287" class="Bound">𝑪</a>

 <a id="52409" href="ualib.html#52238" class="Function">HCompClosed</a> <a id="52421" class="Symbol">{</a><a id="52422" class="Argument">𝑨</a> <a id="52424" class="Symbol">=</a> <a id="52426" href="ualib.html#52426" class="Bound">𝑨</a><a id="52427" class="Symbol">}{</a><a id="52429" class="Argument">𝑩</a> <a id="52431" class="Symbol">=</a> <a id="52433" href="ualib.html#52433" class="Bound">𝑩</a><a id="52434" class="Symbol">}{</a><a id="52436" class="Argument">𝑪</a> <a id="52438" class="Symbol">=</a> <a id="52440" href="ualib.html#52440" class="Bound">𝑪</a><a id="52441" class="Symbol">}</a>
  <a id="52445" class="Symbol">(</a><a id="52446" href="ualib.html#52446" class="Bound">g</a> <a id="52448" href="ualib.html#20052" class="InductiveConstructor Operator">,</a> <a id="52450" href="ualib.html#52450" class="Bound">ghom</a><a id="52454" class="Symbol">)</a> <a id="52456" class="Symbol">(</a><a id="52457" href="ualib.html#52457" class="Bound">h</a> <a id="52459" href="ualib.html#20052" class="InductiveConstructor Operator">,</a> <a id="52461" href="ualib.html#52461" class="Bound">hhom</a><a id="52465" class="Symbol">)</a> <a id="52467" class="Symbol">=</a> <a id="52469" href="ualib.html#52457" class="Bound">h</a> <a id="52471" href="MGS-MLTT.html#3813" class="Function Operator">∘</a> <a id="52473" href="ualib.html#52446" class="Bound">g</a> <a id="52475" href="ualib.html#20052" class="InductiveConstructor Operator">,</a> <a id="52477" href="ualib.html#52492" class="Function">γ</a>
   <a id="52482" class="Keyword">where</a>
    <a id="52492" href="ualib.html#52492" class="Function">γ</a> <a id="52494" class="Symbol">:</a> <a id="52496" class="Symbol">(</a><a id="52497" href="ualib.html#52497" class="Bound">𝑓</a> <a id="52499" class="Symbol">:</a> <a id="52501" href="ualib.html#21378" class="Function Operator">∣</a> <a id="52503" href="ualib.html#51074" class="Bound">𝑆</a> <a id="52505" href="ualib.html#21378" class="Function Operator">∣</a><a id="52506" class="Symbol">)</a> <a id="52508" class="Symbol">(</a><a id="52509" href="ualib.html#52509" class="Bound">𝒂</a> <a id="52511" class="Symbol">:</a> <a id="52513" href="ualib.html#21456" class="Function Operator">∥</a> <a id="52515" href="ualib.html#51074" class="Bound">𝑆</a> <a id="52517" href="ualib.html#21456" class="Function Operator">∥</a> <a id="52519" href="ualib.html#52497" class="Bound">𝑓</a>  <a id="52522" class="Symbol">→</a>  <a id="52525" href="ualib.html#21378" class="Function Operator">∣</a> <a id="52527" href="ualib.html#52426" class="Bound">𝑨</a> <a id="52529" href="ualib.html#21378" class="Function Operator">∣</a><a id="52530" class="Symbol">)</a>
     <a id="52537" class="Symbol">→</a>  <a id="52540" class="Symbol">(</a><a id="52541" href="ualib.html#52457" class="Bound">h</a> <a id="52543" href="MGS-MLTT.html#3813" class="Function Operator">∘</a> <a id="52545" href="ualib.html#52446" class="Bound">g</a><a id="52546" class="Symbol">)</a> <a id="52548" class="Symbol">((</a><a id="52550" href="ualib.html#52497" class="Bound">𝑓</a> <a id="52552" href="ualib.html#38193" class="Function Operator">̂</a> <a id="52554" href="ualib.html#52426" class="Bound">𝑨</a><a id="52555" class="Symbol">)</a> <a id="52557" href="ualib.html#52509" class="Bound">𝒂</a><a id="52558" class="Symbol">)</a> <a id="52560" href="ualib.html#19941" class="Datatype Operator">≡</a> <a id="52562" class="Symbol">(</a><a id="52563" href="ualib.html#52497" class="Bound">𝑓</a> <a id="52565" href="ualib.html#38193" class="Function Operator">̂</a> <a id="52567" href="ualib.html#52440" class="Bound">𝑪</a><a id="52568" class="Symbol">)(</a><a id="52570" href="ualib.html#52457" class="Bound">h</a> <a id="52572" href="MGS-MLTT.html#3813" class="Function Operator">∘</a> <a id="52574" href="ualib.html#52446" class="Bound">g</a> <a id="52576" href="MGS-MLTT.html#3813" class="Function Operator">∘</a> <a id="52578" href="ualib.html#52509" class="Bound">𝒂</a><a id="52579" class="Symbol">)</a>

    <a id="52586" href="ualib.html#52492" class="Function">γ</a> <a id="52588" href="ualib.html#52588" class="Bound">𝑓</a> <a id="52590" href="ualib.html#52590" class="Bound">𝒂</a> <a id="52592" class="Symbol">=</a> <a id="52594" class="Symbol">(</a><a id="52595" href="ualib.html#52457" class="Bound">h</a> <a id="52597" href="MGS-MLTT.html#3813" class="Function Operator">∘</a> <a id="52599" href="ualib.html#52446" class="Bound">g</a><a id="52600" class="Symbol">)</a> <a id="52602" class="Symbol">((</a><a id="52604" href="ualib.html#52588" class="Bound">𝑓</a> <a id="52606" href="ualib.html#38193" class="Function Operator">̂</a> <a id="52608" href="ualib.html#52426" class="Bound">𝑨</a><a id="52609" class="Symbol">)</a> <a id="52611" href="ualib.html#52590" class="Bound">𝒂</a><a id="52612" class="Symbol">)</a> <a id="52614" href="MGS-MLTT.html#5997" class="Function Operator">≡⟨</a> <a id="52617" href="MGS-MLTT.html#6613" class="Function">ap</a> <a id="52620" href="ualib.html#52457" class="Bound">h</a> <a id="52622" class="Symbol">(</a><a id="52623" href="ualib.html#52450" class="Bound">ghom</a> <a id="52628" href="ualib.html#52588" class="Bound">𝑓</a> <a id="52630" href="ualib.html#52590" class="Bound">𝒂</a><a id="52631" class="Symbol">)</a> <a id="52633" href="MGS-MLTT.html#5997" class="Function Operator">⟩</a>
           <a id="52646" href="ualib.html#52457" class="Bound">h</a> <a id="52648" class="Symbol">((</a><a id="52650" href="ualib.html#52588" class="Bound">𝑓</a> <a id="52652" href="ualib.html#38193" class="Function Operator">̂</a> <a id="52654" href="ualib.html#52433" class="Bound">𝑩</a><a id="52655" class="Symbol">)(</a><a id="52657" href="ualib.html#52446" class="Bound">g</a> <a id="52659" href="MGS-MLTT.html#3813" class="Function Operator">∘</a> <a id="52661" href="ualib.html#52590" class="Bound">𝒂</a><a id="52662" class="Symbol">))</a>  <a id="52666" href="MGS-MLTT.html#5997" class="Function Operator">≡⟨</a> <a id="52669" href="ualib.html#52461" class="Bound">hhom</a> <a id="52674" href="ualib.html#52588" class="Bound">𝑓</a> <a id="52676" class="Symbol">(</a><a id="52677" href="ualib.html#52446" class="Bound">g</a> <a id="52679" href="MGS-MLTT.html#3813" class="Function Operator">∘</a> <a id="52681" href="ualib.html#52590" class="Bound">𝒂</a><a id="52682" class="Symbol">)</a> <a id="52684" href="MGS-MLTT.html#5997" class="Function Operator">⟩</a>
           <a id="52697" class="Symbol">(</a><a id="52698" href="ualib.html#52588" class="Bound">𝑓</a> <a id="52700" href="ualib.html#38193" class="Function Operator">̂</a> <a id="52702" href="ualib.html#52440" class="Bound">𝑪</a><a id="52703" class="Symbol">)(</a><a id="52705" href="ualib.html#52457" class="Bound">h</a> <a id="52707" href="MGS-MLTT.html#3813" class="Function Operator">∘</a> <a id="52709" href="ualib.html#52446" class="Bound">g</a> <a id="52711" href="MGS-MLTT.html#3813" class="Function Operator">∘</a> <a id="52713" href="ualib.html#52590" class="Bound">𝒂</a><a id="52714" class="Symbol">)</a>  <a id="52717" href="MGS-MLTT.html#6079" class="Function Operator">∎</a>

</pre>

<h3 id="factorization">Factorization</h3>

<p>If</p>
<ul>
  <li><code class="language-plaintext highlighter-rouge">g : hom 𝑨 𝑩</code>,</li>
  <li><code class="language-plaintext highlighter-rouge">h : hom 𝑨 𝑪</code>,</li>
  <li><code class="language-plaintext highlighter-rouge">h</code> is surjective, and</li>
  <li><code class="language-plaintext highlighter-rouge">ker h ⊆ ker g</code>,</li>
</ul>

<p>then there exists <code class="language-plaintext highlighter-rouge">ϕ : hom 𝑪 𝑩</code> such that <code class="language-plaintext highlighter-rouge">g = ϕ ∘ h</code>, that is, such that the following diagram commutes;</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>𝑨---- h --&gt;&gt;𝑪
 \         .
  \       .
   g     ∃ϕ
    \   .
     \ .
      V
      𝑩
</code></pre></div></div>

<p>We now formalize the statement and proof of this basic fact. (Notice
that the proof is fully constructive.)</p>

<pre class="Agda">
 <a id="homomorphisms.homFactor"></a><a id="53158" href="ualib.html#53158" class="Function">homFactor</a> <a id="53168" class="Symbol">:</a> <a id="53170" href="MGS-FunExt-from-Univalence.html#393" class="Function">funext</a> <a id="53177" href="Universes.html#260" class="Generalizable">𝓤</a> <a id="53179" href="Universes.html#260" class="Generalizable">𝓤</a> <a id="53181" class="Symbol">→</a> <a id="53183" class="Symbol">{</a><a id="53184" href="ualib.html#53184" class="Bound">𝑨</a> <a id="53186" href="ualib.html#53186" class="Bound">𝑩</a> <a id="53188" href="ualib.html#53188" class="Bound">𝑪</a> <a id="53190" class="Symbol">:</a> <a id="53192" href="ualib.html#35648" class="Function">Algebra</a> <a id="53200" href="Universes.html#260" class="Generalizable">𝓤</a> <a id="53202" href="ualib.html#51074" class="Bound">𝑆</a><a id="53203" class="Symbol">}</a>
             <a id="53218" class="Symbol">(</a><a id="53219" href="ualib.html#53219" class="Bound">g</a> <a id="53221" class="Symbol">:</a> <a id="53223" href="ualib.html#51876" class="Function">hom</a> <a id="53227" href="ualib.html#53184" class="Bound">𝑨</a> <a id="53229" href="ualib.html#53186" class="Bound">𝑩</a><a id="53230" class="Symbol">)</a> <a id="53232" class="Symbol">(</a><a id="53233" href="ualib.html#53233" class="Bound">h</a> <a id="53235" class="Symbol">:</a> <a id="53237" href="ualib.html#51876" class="Function">hom</a> <a id="53241" href="ualib.html#53184" class="Bound">𝑨</a> <a id="53243" href="ualib.html#53188" class="Bound">𝑪</a><a id="53244" class="Symbol">)</a>
  <a id="53248" class="Symbol">→</a>          <a id="53259" href="ualib.html#42810" class="Function">ker-pred</a> <a id="53268" href="ualib.html#21378" class="Function Operator">∣</a> <a id="53270" href="ualib.html#53233" class="Bound">h</a> <a id="53272" href="ualib.html#21378" class="Function Operator">∣</a> <a id="53274" href="ualib.html#26982" class="Function Operator">⊆</a> <a id="53276" href="ualib.html#42810" class="Function">ker-pred</a> <a id="53285" href="ualib.html#21378" class="Function Operator">∣</a> <a id="53287" href="ualib.html#53219" class="Bound">g</a> <a id="53289" href="ualib.html#21378" class="Function Operator">∣</a>  <a id="53292" class="Symbol">→</a>   <a id="53296" href="ualib.html#30209" class="Function">Epic</a> <a id="53301" href="ualib.html#21378" class="Function Operator">∣</a> <a id="53303" href="ualib.html#53233" class="Bound">h</a> <a id="53305" href="ualib.html#21378" class="Function Operator">∣</a>
            <a id="53319" class="Comment">---------------------------------------------</a>
  <a id="53367" class="Symbol">→</a>           <a id="53379" href="MGS-MLTT.html#3074" class="Function">Σ</a> <a id="53381" href="ualib.html#53381" class="Bound">ϕ</a> <a id="53383" href="MGS-MLTT.html#3074" class="Function">꞉</a> <a id="53385" class="Symbol">(</a><a id="53386" href="ualib.html#51876" class="Function">hom</a> <a id="53390" href="ualib.html#53188" class="Bound">𝑪</a> <a id="53392" href="ualib.html#53186" class="Bound">𝑩</a><a id="53393" class="Symbol">)</a> <a id="53395" href="MGS-MLTT.html#3074" class="Function">,</a> <a id="53397" href="ualib.html#21378" class="Function Operator">∣</a> <a id="53399" href="ualib.html#53219" class="Bound">g</a> <a id="53401" href="ualib.html#21378" class="Function Operator">∣</a> <a id="53403" href="ualib.html#19941" class="Datatype Operator">≡</a> <a id="53405" href="ualib.html#21378" class="Function Operator">∣</a> <a id="53407" href="ualib.html#53381" class="Bound">ϕ</a> <a id="53409" href="ualib.html#21378" class="Function Operator">∣</a> <a id="53411" href="MGS-MLTT.html#3813" class="Function Operator">∘</a> <a id="53413" href="ualib.html#21378" class="Function Operator">∣</a> <a id="53415" href="ualib.html#53233" class="Bound">h</a> <a id="53417" href="ualib.html#21378" class="Function Operator">∣</a>

 <a id="53421" href="ualib.html#53158" class="Function">homFactor</a> <a id="53431" href="ualib.html#53431" class="Bound">fe</a> <a id="53434" class="Symbol">{</a><a id="53435" class="Argument">𝑨</a> <a id="53437" class="Symbol">=</a> <a id="53439" href="ualib.html#53439" class="Bound">𝑨</a><a id="53440" class="Symbol">}{</a><a id="53442" class="Argument">𝑩</a> <a id="53444" class="Symbol">=</a> <a id="53446" href="ualib.html#53446" class="Bound">𝑩</a><a id="53447" class="Symbol">}{</a><a id="53449" class="Argument">𝑪</a> <a id="53451" class="Symbol">=</a> <a id="53453" href="ualib.html#53453" class="Bound">𝑪</a><a id="53454" class="Symbol">}</a>
  <a id="53458" class="Symbol">(</a><a id="53459" href="ualib.html#53459" class="Bound">g</a> <a id="53461" href="ualib.html#20052" class="InductiveConstructor Operator">,</a> <a id="53463" href="ualib.html#53463" class="Bound">ghom</a><a id="53467" class="Symbol">)</a> <a id="53469" class="Symbol">(</a><a id="53470" href="ualib.html#53470" class="Bound">h</a> <a id="53472" href="ualib.html#20052" class="InductiveConstructor Operator">,</a> <a id="53474" href="ualib.html#53474" class="Bound">hhom</a><a id="53478" class="Symbol">)</a> <a id="53480" href="ualib.html#53480" class="Bound">Kh⊆Kg</a> <a id="53486" href="ualib.html#53486" class="Bound">hEpic</a> <a id="53492" class="Symbol">=</a> <a id="53494" class="Symbol">(</a><a id="53495" href="ualib.html#53593" class="Function">ϕ</a> <a id="53497" href="ualib.html#20052" class="InductiveConstructor Operator">,</a> <a id="53499" href="ualib.html#54329" class="Function">ϕIsHomCB</a><a id="53507" class="Symbol">)</a> <a id="53509" href="ualib.html#20052" class="InductiveConstructor Operator">,</a> <a id="53511" href="ualib.html#53752" class="Function">g≡ϕ∘h</a>
   <a id="53520" class="Keyword">where</a>
    <a id="53530" href="ualib.html#53530" class="Function">hInv</a> <a id="53535" class="Symbol">:</a> <a id="53537" href="ualib.html#21378" class="Function Operator">∣</a> <a id="53539" href="ualib.html#53453" class="Bound">𝑪</a> <a id="53541" href="ualib.html#21378" class="Function Operator">∣</a> <a id="53543" class="Symbol">→</a> <a id="53545" href="ualib.html#21378" class="Function Operator">∣</a> <a id="53547" href="ualib.html#53439" class="Bound">𝑨</a> <a id="53549" href="ualib.html#21378" class="Function Operator">∣</a>
    <a id="53555" href="ualib.html#53530" class="Function">hInv</a> <a id="53560" class="Symbol">=</a> <a id="53562" class="Symbol">λ</a> <a id="53564" href="ualib.html#53564" class="Bound">c</a> <a id="53566" class="Symbol">→</a> <a id="53568" class="Symbol">(</a><a id="53569" href="ualib.html#30425" class="Function">EpicInv</a> <a id="53577" href="ualib.html#53470" class="Bound">h</a> <a id="53579" href="ualib.html#53486" class="Bound">hEpic</a><a id="53584" class="Symbol">)</a> <a id="53586" href="ualib.html#53564" class="Bound">c</a>

    <a id="53593" href="ualib.html#53593" class="Function">ϕ</a> <a id="53595" class="Symbol">:</a> <a id="53597" href="ualib.html#21378" class="Function Operator">∣</a> <a id="53599" href="ualib.html#53453" class="Bound">𝑪</a> <a id="53601" href="ualib.html#21378" class="Function Operator">∣</a> <a id="53603" class="Symbol">→</a> <a id="53605" href="ualib.html#21378" class="Function Operator">∣</a> <a id="53607" href="ualib.html#53446" class="Bound">𝑩</a> <a id="53609" href="ualib.html#21378" class="Function Operator">∣</a>
    <a id="53615" href="ualib.html#53593" class="Function">ϕ</a> <a id="53617" class="Symbol">=</a> <a id="53619" class="Symbol">λ</a> <a id="53621" href="ualib.html#53621" class="Bound">c</a> <a id="53623" class="Symbol">→</a> <a id="53625" href="ualib.html#53459" class="Bound">g</a> <a id="53627" class="Symbol">(</a> <a id="53629" href="ualib.html#53530" class="Function">hInv</a> <a id="53634" href="ualib.html#53621" class="Bound">c</a> <a id="53636" class="Symbol">)</a>

    <a id="53643" href="ualib.html#53643" class="Function">ξ</a> <a id="53645" class="Symbol">:</a> <a id="53647" class="Symbol">(</a><a id="53648" href="ualib.html#53648" class="Bound">x</a> <a id="53650" class="Symbol">:</a> <a id="53652" href="ualib.html#21378" class="Function Operator">∣</a> <a id="53654" href="ualib.html#53439" class="Bound">𝑨</a> <a id="53656" href="ualib.html#21378" class="Function Operator">∣</a><a id="53657" class="Symbol">)</a> <a id="53659" class="Symbol">→</a> <a id="53661" href="ualib.html#42810" class="Function">ker-pred</a> <a id="53670" href="ualib.html#53470" class="Bound">h</a> <a id="53672" class="Symbol">(</a><a id="53673" href="ualib.html#53648" class="Bound">x</a> <a id="53675" href="ualib.html#20052" class="InductiveConstructor Operator">,</a> <a id="53677" href="ualib.html#53530" class="Function">hInv</a> <a id="53682" class="Symbol">(</a><a id="53683" href="ualib.html#53470" class="Bound">h</a> <a id="53685" href="ualib.html#53648" class="Bound">x</a><a id="53686" class="Symbol">))</a>
    <a id="53693" href="ualib.html#53643" class="Function">ξ</a> <a id="53695" href="ualib.html#53695" class="Bound">x</a> <a id="53697" class="Symbol">=</a>  <a id="53700" class="Symbol">(</a> <a id="53702" href="ualib.html#24316" class="Function">cong-app</a> <a id="53711" class="Symbol">(</a><a id="53712" href="ualib.html#30584" class="Function">EInvIsRInv</a> <a id="53723" href="ualib.html#53431" class="Bound">fe</a> <a id="53726" href="ualib.html#53470" class="Bound">h</a> <a id="53728" href="ualib.html#53486" class="Bound">hEpic</a><a id="53733" class="Symbol">)</a> <a id="53735" class="Symbol">(</a> <a id="53737" href="ualib.html#53470" class="Bound">h</a> <a id="53739" href="ualib.html#53695" class="Bound">x</a> <a id="53741" class="Symbol">)</a> <a id="53743" class="Symbol">)</a><a id="53744" href="MGS-MLTT.html#6125" class="Function Operator">⁻¹</a>

    <a id="53752" href="ualib.html#53752" class="Function">g≡ϕ∘h</a> <a id="53758" class="Symbol">:</a> <a id="53760" href="ualib.html#53459" class="Bound">g</a> <a id="53762" href="ualib.html#19941" class="Datatype Operator">≡</a> <a id="53764" href="ualib.html#53593" class="Function">ϕ</a> <a id="53766" href="MGS-MLTT.html#3813" class="Function Operator">∘</a> <a id="53768" href="ualib.html#53470" class="Bound">h</a>
    <a id="53774" href="ualib.html#53752" class="Function">g≡ϕ∘h</a> <a id="53780" class="Symbol">=</a> <a id="53782" href="ualib.html#53431" class="Bound">fe</a>  <a id="53786" class="Symbol">λ</a> <a id="53788" href="ualib.html#53788" class="Bound">x</a> <a id="53790" class="Symbol">→</a> <a id="53792" href="ualib.html#53480" class="Bound">Kh⊆Kg</a> <a id="53798" class="Symbol">(</a><a id="53799" href="ualib.html#53643" class="Function">ξ</a> <a id="53801" href="ualib.html#53788" class="Bound">x</a><a id="53802" class="Symbol">)</a>

    <a id="53809" href="ualib.html#53809" class="Function">ζ</a> <a id="53811" class="Symbol">:</a> <a id="53813" class="Symbol">(</a><a id="53814" href="ualib.html#53814" class="Bound">𝑓</a> <a id="53816" class="Symbol">:</a> <a id="53818" href="ualib.html#21378" class="Function Operator">∣</a> <a id="53820" href="ualib.html#51074" class="Bound">𝑆</a> <a id="53822" href="ualib.html#21378" class="Function Operator">∣</a><a id="53823" class="Symbol">)(</a><a id="53825" href="ualib.html#53825" class="Bound">𝒄</a> <a id="53827" class="Symbol">:</a> <a id="53829" href="ualib.html#21456" class="Function Operator">∥</a> <a id="53831" href="ualib.html#51074" class="Bound">𝑆</a> <a id="53833" href="ualib.html#21456" class="Function Operator">∥</a> <a id="53835" href="ualib.html#53814" class="Bound">𝑓</a> <a id="53837" class="Symbol">→</a> <a id="53839" href="ualib.html#21378" class="Function Operator">∣</a> <a id="53841" href="ualib.html#53453" class="Bound">𝑪</a> <a id="53843" href="ualib.html#21378" class="Function Operator">∣</a><a id="53844" class="Symbol">)(</a><a id="53846" href="ualib.html#53846" class="Bound">x</a> <a id="53848" class="Symbol">:</a> <a id="53850" href="ualib.html#21456" class="Function Operator">∥</a> <a id="53852" href="ualib.html#51074" class="Bound">𝑆</a> <a id="53854" href="ualib.html#21456" class="Function Operator">∥</a> <a id="53856" href="ualib.html#53814" class="Bound">𝑓</a><a id="53857" class="Symbol">)</a>
     <a id="53864" class="Symbol">→</a>  <a id="53867" href="ualib.html#53825" class="Bound">𝒄</a> <a id="53869" href="ualib.html#53846" class="Bound">x</a> <a id="53871" href="ualib.html#19941" class="Datatype Operator">≡</a> <a id="53873" class="Symbol">(</a><a id="53874" href="ualib.html#53470" class="Bound">h</a> <a id="53876" href="MGS-MLTT.html#3813" class="Function Operator">∘</a> <a id="53878" href="ualib.html#53530" class="Function">hInv</a><a id="53882" class="Symbol">)(</a><a id="53884" href="ualib.html#53825" class="Bound">𝒄</a> <a id="53886" href="ualib.html#53846" class="Bound">x</a><a id="53887" class="Symbol">)</a>

    <a id="53894" href="ualib.html#53809" class="Function">ζ</a> <a id="53896" href="ualib.html#53896" class="Bound">𝑓</a> <a id="53898" href="ualib.html#53898" class="Bound">𝒄</a> <a id="53900" href="ualib.html#53900" class="Bound">x</a> <a id="53902" class="Symbol">=</a> <a id="53904" class="Symbol">(</a><a id="53905" href="ualib.html#24316" class="Function">cong-app</a> <a id="53914" class="Symbol">(</a><a id="53915" href="ualib.html#30584" class="Function">EInvIsRInv</a> <a id="53926" href="ualib.html#53431" class="Bound">fe</a> <a id="53929" href="ualib.html#53470" class="Bound">h</a> <a id="53931" href="ualib.html#53486" class="Bound">hEpic</a><a id="53936" class="Symbol">)</a> <a id="53938" class="Symbol">(</a><a id="53939" href="ualib.html#53898" class="Bound">𝒄</a> <a id="53941" href="ualib.html#53900" class="Bound">x</a><a id="53942" class="Symbol">))</a><a id="53944" href="MGS-MLTT.html#6125" class="Function Operator">⁻¹</a>

    <a id="53952" href="ualib.html#53952" class="Function">ι</a> <a id="53954" class="Symbol">:</a> <a id="53956" class="Symbol">(</a><a id="53957" href="ualib.html#53957" class="Bound">𝑓</a> <a id="53959" class="Symbol">:</a> <a id="53961" href="ualib.html#21378" class="Function Operator">∣</a> <a id="53963" href="ualib.html#51074" class="Bound">𝑆</a> <a id="53965" href="ualib.html#21378" class="Function Operator">∣</a><a id="53966" class="Symbol">)(</a><a id="53968" href="ualib.html#53968" class="Bound">𝒄</a> <a id="53970" class="Symbol">:</a> <a id="53972" href="ualib.html#21456" class="Function Operator">∥</a> <a id="53974" href="ualib.html#51074" class="Bound">𝑆</a> <a id="53976" href="ualib.html#21456" class="Function Operator">∥</a> <a id="53978" href="ualib.html#53957" class="Bound">𝑓</a> <a id="53980" class="Symbol">→</a> <a id="53982" href="ualib.html#21378" class="Function Operator">∣</a> <a id="53984" href="ualib.html#53453" class="Bound">𝑪</a> <a id="53986" href="ualib.html#21378" class="Function Operator">∣</a><a id="53987" class="Symbol">)</a>
     <a id="53994" class="Symbol">→</a>  <a id="53997" class="Symbol">(λ</a> <a id="54000" href="ualib.html#54000" class="Bound">x</a> <a id="54002" class="Symbol">→</a> <a id="54004" href="ualib.html#53968" class="Bound">𝒄</a> <a id="54006" href="ualib.html#54000" class="Bound">x</a><a id="54007" class="Symbol">)</a> <a id="54009" href="ualib.html#19941" class="Datatype Operator">≡</a> <a id="54011" class="Symbol">(λ</a> <a id="54014" href="ualib.html#54014" class="Bound">x</a> <a id="54016" class="Symbol">→</a> <a id="54018" href="ualib.html#53470" class="Bound">h</a> <a id="54020" class="Symbol">(</a><a id="54021" href="ualib.html#53530" class="Function">hInv</a> <a id="54026" class="Symbol">(</a><a id="54027" href="ualib.html#53968" class="Bound">𝒄</a> <a id="54029" href="ualib.html#54014" class="Bound">x</a><a id="54030" class="Symbol">)))</a>

    <a id="54039" href="ualib.html#53952" class="Function">ι</a> <a id="54041" href="ualib.html#54041" class="Bound">𝑓</a> <a id="54043" href="ualib.html#54043" class="Bound">𝒄</a> <a id="54045" class="Symbol">=</a> <a id="54047" href="MGS-MLTT.html#6613" class="Function">ap</a> <a id="54050" class="Symbol">(λ</a> <a id="54053" href="ualib.html#54053" class="Bound">-</a> <a id="54055" class="Symbol">→</a> <a id="54057" href="ualib.html#54053" class="Bound">-</a> <a id="54059" href="MGS-MLTT.html#3813" class="Function Operator">∘</a> <a id="54061" href="ualib.html#54043" class="Bound">𝒄</a><a id="54062" class="Symbol">)(</a><a id="54064" href="ualib.html#30584" class="Function">EInvIsRInv</a> <a id="54075" href="ualib.html#53431" class="Bound">fe</a> <a id="54078" href="ualib.html#53470" class="Bound">h</a> <a id="54080" href="ualib.html#53486" class="Bound">hEpic</a><a id="54085" class="Symbol">)</a><a id="54086" href="MGS-MLTT.html#6125" class="Function Operator">⁻¹</a>

    <a id="54094" href="ualib.html#54094" class="Function">useker</a> <a id="54101" class="Symbol">:</a> <a id="54103" class="Symbol">(</a><a id="54104" href="ualib.html#54104" class="Bound">𝑓</a> <a id="54106" class="Symbol">:</a> <a id="54108" href="ualib.html#21378" class="Function Operator">∣</a> <a id="54110" href="ualib.html#51074" class="Bound">𝑆</a> <a id="54112" href="ualib.html#21378" class="Function Operator">∣</a><a id="54113" class="Symbol">)</a>  <a id="54116" class="Symbol">(</a><a id="54117" href="ualib.html#54117" class="Bound">𝒄</a> <a id="54119" class="Symbol">:</a> <a id="54121" href="ualib.html#21456" class="Function Operator">∥</a> <a id="54123" href="ualib.html#51074" class="Bound">𝑆</a> <a id="54125" href="ualib.html#21456" class="Function Operator">∥</a> <a id="54127" href="ualib.html#54104" class="Bound">𝑓</a> <a id="54129" class="Symbol">→</a> <a id="54131" href="ualib.html#21378" class="Function Operator">∣</a> <a id="54133" href="ualib.html#53453" class="Bound">𝑪</a> <a id="54135" href="ualib.html#21378" class="Function Operator">∣</a><a id="54136" class="Symbol">)</a>
     <a id="54143" class="Symbol">→</a> <a id="54145" href="ualib.html#53459" class="Bound">g</a> <a id="54147" class="Symbol">(</a><a id="54148" href="ualib.html#53530" class="Function">hInv</a> <a id="54153" class="Symbol">(</a><a id="54154" href="ualib.html#53470" class="Bound">h</a> <a id="54156" class="Symbol">((</a><a id="54158" href="ualib.html#54104" class="Bound">𝑓</a> <a id="54160" href="ualib.html#38193" class="Function Operator">̂</a> <a id="54162" href="ualib.html#53439" class="Bound">𝑨</a><a id="54163" class="Symbol">)(</a><a id="54165" href="ualib.html#53530" class="Function">hInv</a> <a id="54170" href="MGS-MLTT.html#3813" class="Function Operator">∘</a> <a id="54172" href="ualib.html#54117" class="Bound">𝒄</a><a id="54173" class="Symbol">))))</a> <a id="54178" href="ualib.html#19941" class="Datatype Operator">≡</a> <a id="54180" href="ualib.html#53459" class="Bound">g</a> <a id="54182" class="Symbol">((</a><a id="54184" href="ualib.html#54104" class="Bound">𝑓</a> <a id="54186" href="ualib.html#38193" class="Function Operator">̂</a> <a id="54188" href="ualib.html#53439" class="Bound">𝑨</a><a id="54189" class="Symbol">)</a> <a id="54191" class="Symbol">(</a><a id="54192" href="ualib.html#53530" class="Function">hInv</a> <a id="54197" href="MGS-MLTT.html#3813" class="Function Operator">∘</a> <a id="54199" href="ualib.html#54117" class="Bound">𝒄</a><a id="54200" class="Symbol">))</a>

    <a id="54208" href="ualib.html#54094" class="Function">useker</a> <a id="54215" class="Symbol">=</a> <a id="54217" class="Symbol">λ</a> <a id="54219" href="ualib.html#54219" class="Bound">𝑓</a> <a id="54221" href="ualib.html#54221" class="Bound">𝒄</a>
     <a id="54228" class="Symbol">→</a> <a id="54230" href="ualib.html#53480" class="Bound">Kh⊆Kg</a> <a id="54236" class="Symbol">(</a><a id="54237" href="ualib.html#24316" class="Function">cong-app</a>
              <a id="54260" class="Symbol">(</a><a id="54261" href="ualib.html#30584" class="Function">EInvIsRInv</a> <a id="54272" href="ualib.html#53431" class="Bound">fe</a> <a id="54275" href="ualib.html#53470" class="Bound">h</a> <a id="54277" href="ualib.html#53486" class="Bound">hEpic</a><a id="54282" class="Symbol">)</a>
              <a id="54298" class="Symbol">(</a><a id="54299" href="ualib.html#53470" class="Bound">h</a> <a id="54301" class="Symbol">((</a><a id="54303" href="ualib.html#54219" class="Bound">𝑓</a> <a id="54305" href="ualib.html#38193" class="Function Operator">̂</a> <a id="54307" href="ualib.html#53439" class="Bound">𝑨</a><a id="54308" class="Symbol">)(</a><a id="54310" href="ualib.html#53530" class="Function">hInv</a> <a id="54315" href="MGS-MLTT.html#3813" class="Function Operator">∘</a> <a id="54317" href="ualib.html#54221" class="Bound">𝒄</a><a id="54318" class="Symbol">))))</a>


    <a id="54329" href="ualib.html#54329" class="Function">ϕIsHomCB</a> <a id="54338" class="Symbol">:</a> <a id="54340" class="Symbol">(</a><a id="54341" href="ualib.html#54341" class="Bound">𝑓</a> <a id="54343" class="Symbol">:</a> <a id="54345" href="ualib.html#21378" class="Function Operator">∣</a> <a id="54347" href="ualib.html#51074" class="Bound">𝑆</a> <a id="54349" href="ualib.html#21378" class="Function Operator">∣</a><a id="54350" class="Symbol">)(</a><a id="54352" href="ualib.html#54352" class="Bound">𝒂</a> <a id="54354" class="Symbol">:</a> <a id="54356" href="ualib.html#21456" class="Function Operator">∥</a> <a id="54358" href="ualib.html#51074" class="Bound">𝑆</a> <a id="54360" href="ualib.html#21456" class="Function Operator">∥</a> <a id="54362" href="ualib.html#54341" class="Bound">𝑓</a> <a id="54364" class="Symbol">→</a> <a id="54366" href="ualib.html#21378" class="Function Operator">∣</a> <a id="54368" href="ualib.html#53453" class="Bound">𝑪</a> <a id="54370" href="ualib.html#21378" class="Function Operator">∣</a><a id="54371" class="Symbol">)</a>
     <a id="54378" class="Symbol">→</a>         <a id="54388" href="ualib.html#53593" class="Function">ϕ</a> <a id="54390" class="Symbol">((</a><a id="54392" href="ualib.html#54341" class="Bound">𝑓</a> <a id="54394" href="ualib.html#38193" class="Function Operator">̂</a> <a id="54396" href="ualib.html#53453" class="Bound">𝑪</a><a id="54397" class="Symbol">)</a> <a id="54399" href="ualib.html#54352" class="Bound">𝒂</a><a id="54400" class="Symbol">)</a>  <a id="54403" href="ualib.html#19941" class="Datatype Operator">≡</a>  <a id="54406" class="Symbol">(</a><a id="54407" href="ualib.html#54341" class="Bound">𝑓</a> <a id="54409" href="ualib.html#38193" class="Function Operator">̂</a> <a id="54411" href="ualib.html#53446" class="Bound">𝑩</a><a id="54412" class="Symbol">)(</a><a id="54414" href="ualib.html#53593" class="Function">ϕ</a> <a id="54416" href="MGS-MLTT.html#3813" class="Function Operator">∘</a> <a id="54418" href="ualib.html#54352" class="Bound">𝒂</a><a id="54419" class="Symbol">)</a>

    <a id="54426" href="ualib.html#54329" class="Function">ϕIsHomCB</a> <a id="54435" href="ualib.html#54435" class="Bound">𝑓</a> <a id="54437" href="ualib.html#54437" class="Bound">𝒄</a> <a id="54439" class="Symbol">=</a>
     <a id="54446" href="ualib.html#53459" class="Bound">g</a> <a id="54448" class="Symbol">(</a><a id="54449" href="ualib.html#53530" class="Function">hInv</a> <a id="54454" class="Symbol">((</a><a id="54456" href="ualib.html#54435" class="Bound">𝑓</a> <a id="54458" href="ualib.html#38193" class="Function Operator">̂</a> <a id="54460" href="ualib.html#53453" class="Bound">𝑪</a><a id="54461" class="Symbol">)</a> <a id="54463" href="ualib.html#54437" class="Bound">𝒄</a><a id="54464" class="Symbol">))</a>                <a id="54482" href="MGS-MLTT.html#5997" class="Function Operator">≡⟨</a> <a id="54485" href="ualib.html#54701" class="Function">i</a>   <a id="54489" href="MGS-MLTT.html#5997" class="Function Operator">⟩</a>
     <a id="54496" href="ualib.html#53459" class="Bound">g</a> <a id="54498" class="Symbol">(</a><a id="54499" href="ualib.html#53530" class="Function">hInv</a> <a id="54504" class="Symbol">((</a><a id="54506" href="ualib.html#54435" class="Bound">𝑓</a> <a id="54508" href="ualib.html#38193" class="Function Operator">̂</a> <a id="54510" href="ualib.html#53453" class="Bound">𝑪</a><a id="54511" class="Symbol">)</a> <a id="54513" class="Symbol">(</a><a id="54514" href="ualib.html#53470" class="Bound">h</a> <a id="54516" href="MGS-MLTT.html#3813" class="Function Operator">∘</a> <a id="54518" class="Symbol">(</a><a id="54519" href="ualib.html#53530" class="Function">hInv</a> <a id="54524" href="MGS-MLTT.html#3813" class="Function Operator">∘</a> <a id="54526" href="ualib.html#54437" class="Bound">𝒄</a><a id="54527" class="Symbol">))))</a> <a id="54532" href="MGS-MLTT.html#5997" class="Function Operator">≡⟨</a> <a id="54535" href="ualib.html#54748" class="Function">ii</a>  <a id="54539" href="MGS-MLTT.html#5997" class="Function Operator">⟩</a>
     <a id="54546" href="ualib.html#53459" class="Bound">g</a> <a id="54548" class="Symbol">(</a><a id="54549" href="ualib.html#53530" class="Function">hInv</a> <a id="54554" class="Symbol">(</a><a id="54555" href="ualib.html#53470" class="Bound">h</a> <a id="54557" class="Symbol">((</a><a id="54559" href="ualib.html#54435" class="Bound">𝑓</a> <a id="54561" href="ualib.html#38193" class="Function Operator">̂</a> <a id="54563" href="ualib.html#53439" class="Bound">𝑨</a><a id="54564" class="Symbol">)(</a><a id="54566" href="ualib.html#53530" class="Function">hInv</a> <a id="54571" href="MGS-MLTT.html#3813" class="Function Operator">∘</a> <a id="54573" href="ualib.html#54437" class="Bound">𝒄</a><a id="54574" class="Symbol">))))</a>    <a id="54582" href="MGS-MLTT.html#5997" class="Function Operator">≡⟨</a> <a id="54585" href="ualib.html#54804" class="Function">iii</a> <a id="54589" href="MGS-MLTT.html#5997" class="Function Operator">⟩</a>
     <a id="54596" href="ualib.html#53459" class="Bound">g</a> <a id="54598" class="Symbol">((</a><a id="54600" href="ualib.html#54435" class="Bound">𝑓</a> <a id="54602" href="ualib.html#38193" class="Function Operator">̂</a> <a id="54604" href="ualib.html#53439" class="Bound">𝑨</a><a id="54605" class="Symbol">)</a> <a id="54607" class="Symbol">(</a><a id="54608" href="ualib.html#53530" class="Function">hInv</a> <a id="54613" href="MGS-MLTT.html#3813" class="Function Operator">∘</a> <a id="54615" href="ualib.html#54437" class="Bound">𝒄</a><a id="54616" class="Symbol">))</a>              <a id="54632" href="MGS-MLTT.html#5997" class="Function Operator">≡⟨</a> <a id="54635" href="ualib.html#54827" class="Function">iv</a>  <a id="54639" href="MGS-MLTT.html#5997" class="Function Operator">⟩</a>
     <a id="54646" class="Symbol">(</a><a id="54647" href="ualib.html#54435" class="Bound">𝑓</a> <a id="54649" href="ualib.html#38193" class="Function Operator">̂</a> <a id="54651" href="ualib.html#53446" class="Bound">𝑩</a><a id="54652" class="Symbol">)(λ</a> <a id="54656" href="ualib.html#54656" class="Bound">x</a> <a id="54658" class="Symbol">→</a> <a id="54660" href="ualib.html#53459" class="Bound">g</a> <a id="54662" class="Symbol">(</a><a id="54663" href="ualib.html#53530" class="Function">hInv</a> <a id="54668" class="Symbol">(</a><a id="54669" href="ualib.html#54437" class="Bound">𝒄</a> <a id="54671" href="ualib.html#54656" class="Bound">x</a><a id="54672" class="Symbol">)))</a>       <a id="54682" href="MGS-MLTT.html#6079" class="Function Operator">∎</a>
     <a id="54689" class="Keyword">where</a>
      <a id="54701" href="ualib.html#54701" class="Function">i</a>   <a id="54705" class="Symbol">=</a> <a id="54707" href="MGS-MLTT.html#6613" class="Function">ap</a> <a id="54710" class="Symbol">(</a><a id="54711" href="ualib.html#53459" class="Bound">g</a> <a id="54713" href="MGS-MLTT.html#3813" class="Function Operator">∘</a> <a id="54715" href="ualib.html#53530" class="Function">hInv</a><a id="54719" class="Symbol">)</a> <a id="54721" class="Symbol">(</a><a id="54722" href="MGS-MLTT.html#6613" class="Function">ap</a> <a id="54725" class="Symbol">(</a><a id="54726" href="ualib.html#54435" class="Bound">𝑓</a> <a id="54728" href="ualib.html#38193" class="Function Operator">̂</a> <a id="54730" href="ualib.html#53453" class="Bound">𝑪</a><a id="54731" class="Symbol">)</a> <a id="54733" class="Symbol">(</a><a id="54734" href="ualib.html#53952" class="Function">ι</a> <a id="54736" href="ualib.html#54435" class="Bound">𝑓</a> <a id="54738" href="ualib.html#54437" class="Bound">𝒄</a><a id="54739" class="Symbol">))</a>
      <a id="54748" href="ualib.html#54748" class="Function">ii</a>  <a id="54752" class="Symbol">=</a> <a id="54754" href="MGS-MLTT.html#6613" class="Function">ap</a> <a id="54757" class="Symbol">(λ</a> <a id="54760" href="ualib.html#54760" class="Bound">-</a> <a id="54762" class="Symbol">→</a> <a id="54764" href="ualib.html#53459" class="Bound">g</a> <a id="54766" class="Symbol">(</a><a id="54767" href="ualib.html#53530" class="Function">hInv</a> <a id="54772" href="ualib.html#54760" class="Bound">-</a><a id="54773" class="Symbol">))</a> <a id="54776" class="Symbol">(</a><a id="54777" href="ualib.html#53474" class="Bound">hhom</a> <a id="54782" href="ualib.html#54435" class="Bound">𝑓</a> <a id="54784" class="Symbol">(</a><a id="54785" href="ualib.html#53530" class="Function">hInv</a> <a id="54790" href="MGS-MLTT.html#3813" class="Function Operator">∘</a> <a id="54792" href="ualib.html#54437" class="Bound">𝒄</a><a id="54793" class="Symbol">))</a><a id="54795" href="MGS-MLTT.html#6125" class="Function Operator">⁻¹</a>
      <a id="54804" href="ualib.html#54804" class="Function">iii</a> <a id="54808" class="Symbol">=</a> <a id="54810" href="ualib.html#54094" class="Function">useker</a> <a id="54817" href="ualib.html#54435" class="Bound">𝑓</a> <a id="54819" href="ualib.html#54437" class="Bound">𝒄</a>
      <a id="54827" href="ualib.html#54827" class="Function">iv</a>  <a id="54831" class="Symbol">=</a> <a id="54833" href="ualib.html#53463" class="Bound">ghom</a> <a id="54838" href="ualib.html#54435" class="Bound">𝑓</a> <a id="54840" class="Symbol">(</a><a id="54841" href="ualib.html#53530" class="Function">hInv</a> <a id="54846" href="MGS-MLTT.html#3813" class="Function Operator">∘</a> <a id="54848" href="ualib.html#54437" class="Bound">𝒄</a><a id="54849" class="Symbol">)</a>
</pre>

<h3 id="isomorphism">Isomorphism</h3>

<pre class="Agda">
 <a id="homomorphisms._≅_"></a><a id="54894" href="ualib.html#54894" class="Function Operator">_≅_</a> <a id="54898" class="Symbol">:</a> <a id="54900" class="Symbol">(</a><a id="54901" href="ualib.html#54901" class="Bound">𝑨</a> <a id="54903" href="ualib.html#54903" class="Bound">𝑩</a> <a id="54905" class="Symbol">:</a> <a id="54907" href="ualib.html#35648" class="Function">Algebra</a> <a id="54915" href="Universes.html#260" class="Generalizable">𝓤</a> <a id="54917" href="ualib.html#51074" class="Bound">𝑆</a><a id="54918" class="Symbol">)</a> <a id="54920" class="Symbol">→</a> <a id="54922" href="Universes.html#260" class="Generalizable">𝓤</a> <a id="54924" href="Agda.Primitive.html#636" class="Primitive Operator">⊔</a> <a id="54926" href="ualib.html#51088" class="Bound">𝓞</a> <a id="54928" href="Agda.Primitive.html#636" class="Primitive Operator">⊔</a> <a id="54930" href="ualib.html#51090" class="Bound">𝓥</a> <a id="54932" href="Universes.html#403" class="Function Operator">̇</a>
 <a id="54935" href="ualib.html#54935" class="Bound">𝑨</a> <a id="54937" href="ualib.html#54894" class="Function Operator">≅</a> <a id="54939" href="ualib.html#54939" class="Bound">𝑩</a> <a id="54941" class="Symbol">=</a>  <a id="54944" href="MGS-MLTT.html#3074" class="Function">Σ</a> <a id="54946" href="ualib.html#54946" class="Bound">f</a> <a id="54948" href="MGS-MLTT.html#3074" class="Function">꞉</a> <a id="54950" class="Symbol">(</a><a id="54951" href="ualib.html#51876" class="Function">hom</a> <a id="54955" href="ualib.html#54935" class="Bound">𝑨</a> <a id="54957" href="ualib.html#54939" class="Bound">𝑩</a><a id="54958" class="Symbol">)</a> <a id="54960" href="MGS-MLTT.html#3074" class="Function">,</a> <a id="54962" href="MGS-MLTT.html#3074" class="Function">Σ</a> <a id="54964" href="ualib.html#54964" class="Bound">g</a> <a id="54966" href="MGS-MLTT.html#3074" class="Function">꞉</a> <a id="54968" class="Symbol">(</a><a id="54969" href="ualib.html#51876" class="Function">hom</a> <a id="54973" href="ualib.html#54939" class="Bound">𝑩</a> <a id="54975" href="ualib.html#54935" class="Bound">𝑨</a><a id="54976" class="Symbol">)</a> <a id="54978" href="MGS-MLTT.html#3074" class="Function">,</a>
             <a id="54993" class="Symbol">(</a><a id="54994" href="ualib.html#21378" class="Function Operator">∣</a> <a id="54996" href="ualib.html#54946" class="Bound">f</a> <a id="54998" href="ualib.html#21378" class="Function Operator">∣</a> <a id="55000" href="MGS-MLTT.html#3813" class="Function Operator">∘</a> <a id="55002" href="ualib.html#21378" class="Function Operator">∣</a> <a id="55004" href="ualib.html#54964" class="Bound">g</a> <a id="55006" href="ualib.html#21378" class="Function Operator">∣</a> <a id="55008" href="ualib.html#19941" class="Datatype Operator">≡</a> <a id="55010" href="ualib.html#21378" class="Function Operator">∣</a> <a id="55012" href="ualib.html#52067" class="Function">𝒾𝒹</a> <a id="55015" href="ualib.html#54939" class="Bound">𝑩</a> <a id="55017" href="ualib.html#21378" class="Function Operator">∣</a><a id="55018" class="Symbol">)</a> <a id="55020" href="MGS-MLTT.html#3515" class="Function Operator">×</a> <a id="55022" class="Symbol">(</a><a id="55023" href="ualib.html#21378" class="Function Operator">∣</a> <a id="55025" href="ualib.html#54964" class="Bound">g</a> <a id="55027" href="ualib.html#21378" class="Function Operator">∣</a> <a id="55029" href="MGS-MLTT.html#3813" class="Function Operator">∘</a> <a id="55031" href="ualib.html#21378" class="Function Operator">∣</a> <a id="55033" href="ualib.html#54946" class="Bound">f</a> <a id="55035" href="ualib.html#21378" class="Function Operator">∣</a> <a id="55037" href="ualib.html#19941" class="Datatype Operator">≡</a> <a id="55039" href="ualib.html#21378" class="Function Operator">∣</a> <a id="55041" href="ualib.html#52067" class="Function">𝒾𝒹</a> <a id="55044" href="ualib.html#54935" class="Bound">𝑨</a> <a id="55046" href="ualib.html#21378" class="Function Operator">∣</a><a id="55047" class="Symbol">)</a>
</pre>

<h3 id="homomorphic-images">Homomorphic images</h3>

<p>The following seem to be (for our purposes) the two most useful types for representing homomomrphic images of an algebra.</p>

<pre class="Agda">
 <a id="homomorphisms.HomImage"></a><a id="55222" href="ualib.html#55222" class="Function">HomImage</a> <a id="55231" class="Symbol">:</a> <a id="55233" class="Symbol">{</a><a id="55234" href="ualib.html#55234" class="Bound">𝑨</a> <a id="55236" class="Symbol">:</a> <a id="55238" href="ualib.html#35648" class="Function">Algebra</a> <a id="55246" href="Universes.html#260" class="Generalizable">𝓤</a> <a id="55248" href="ualib.html#51074" class="Bound">𝑆</a><a id="55249" class="Symbol">}</a> <a id="55251" class="Symbol">(</a><a id="55252" href="ualib.html#55252" class="Bound">𝑩</a> <a id="55254" class="Symbol">:</a> <a id="55256" href="ualib.html#35648" class="Function">Algebra</a> <a id="55264" href="Universes.html#260" class="Generalizable">𝓤</a> <a id="55266" href="ualib.html#51074" class="Bound">𝑆</a><a id="55267" class="Symbol">)(</a><a id="55269" href="ualib.html#55269" class="Bound">ϕ</a> <a id="55271" class="Symbol">:</a> <a id="55273" href="ualib.html#51876" class="Function">hom</a> <a id="55277" href="ualib.html#55234" class="Bound">𝑨</a> <a id="55279" href="ualib.html#55252" class="Bound">𝑩</a><a id="55280" class="Symbol">)</a> <a id="55282" class="Symbol">→</a> <a id="55284" href="ualib.html#21378" class="Function Operator">∣</a> <a id="55286" href="ualib.html#55252" class="Bound">𝑩</a> <a id="55288" href="ualib.html#21378" class="Function Operator">∣</a> <a id="55290" class="Symbol">→</a> <a id="55292" href="Universes.html#260" class="Generalizable">𝓤</a> <a id="55294" href="Universes.html#403" class="Function Operator">̇</a>

 <a id="55298" href="ualib.html#55222" class="Function">HomImage</a> <a id="55307" href="ualib.html#55307" class="Bound">𝑩</a> <a id="55309" href="ualib.html#55309" class="Bound">ϕ</a> <a id="55311" class="Symbol">=</a> <a id="55313" class="Symbol">λ</a> <a id="55315" href="ualib.html#55315" class="Bound">b</a> <a id="55317" class="Symbol">→</a> <a id="55319" href="ualib.html#28977" class="Datatype Operator">Image</a> <a id="55325" href="ualib.html#21378" class="Function Operator">∣</a> <a id="55327" href="ualib.html#55309" class="Bound">ϕ</a> <a id="55329" href="ualib.html#21378" class="Function Operator">∣</a> <a id="55331" href="ualib.html#28977" class="Datatype Operator">∋</a> <a id="55333" href="ualib.html#55315" class="Bound">b</a>


 <a id="homomorphisms.HomImagesOf"></a><a id="55338" href="ualib.html#55338" class="Function">HomImagesOf</a> <a id="55350" class="Symbol">:</a> <a id="55352" class="Symbol">{</a><a id="55353" href="ualib.html#55353" class="Bound">𝓤</a> <a id="55355" class="Symbol">:</a> <a id="55357" href="Agda.Primitive.html#423" class="Postulate">Universe</a><a id="55365" class="Symbol">}</a> <a id="55367" class="Symbol">→</a> <a id="55369" href="ualib.html#35648" class="Function">Algebra</a> <a id="55377" href="ualib.html#55353" class="Bound">𝓤</a> <a id="55379" href="ualib.html#51074" class="Bound">𝑆</a> <a id="55381" class="Symbol">→</a> <a id="55383" href="ualib.html#51088" class="Bound">𝓞</a> <a id="55385" href="Agda.Primitive.html#636" class="Primitive Operator">⊔</a> <a id="55387" href="ualib.html#51090" class="Bound">𝓥</a> <a id="55389" href="Agda.Primitive.html#636" class="Primitive Operator">⊔</a> <a id="55391" href="ualib.html#55353" class="Bound">𝓤</a> <a id="55393" href="Agda.Primitive.html#606" class="Primitive Operator">⁺</a> <a id="55395" href="Universes.html#403" class="Function Operator">̇</a>

 <a id="55399" href="ualib.html#55338" class="Function">HomImagesOf</a> <a id="55411" class="Symbol">{</a><a id="55412" href="ualib.html#55412" class="Bound">𝓤</a><a id="55413" class="Symbol">}</a> <a id="55415" href="ualib.html#55415" class="Bound">𝑨</a> <a id="55417" class="Symbol">=</a> <a id="55419" href="MGS-MLTT.html#3074" class="Function">Σ</a> <a id="55421" href="ualib.html#55421" class="Bound">𝑩</a> <a id="55423" href="MGS-MLTT.html#3074" class="Function">꞉</a> <a id="55425" class="Symbol">(</a><a id="55426" href="ualib.html#35648" class="Function">Algebra</a> <a id="55434" href="ualib.html#55412" class="Bound">𝓤</a> <a id="55436" href="ualib.html#51074" class="Bound">𝑆</a><a id="55437" class="Symbol">)</a> <a id="55439" href="MGS-MLTT.html#3074" class="Function">,</a> <a id="55441" href="MGS-MLTT.html#3074" class="Function">Σ</a> <a id="55443" href="ualib.html#55443" class="Bound">ϕ</a> <a id="55445" href="MGS-MLTT.html#3074" class="Function">꞉</a> <a id="55447" class="Symbol">(</a><a id="55448" href="ualib.html#21378" class="Function Operator">∣</a> <a id="55450" href="ualib.html#55415" class="Bound">𝑨</a> <a id="55452" href="ualib.html#21378" class="Function Operator">∣</a> <a id="55454" class="Symbol">→</a> <a id="55456" href="ualib.html#21378" class="Function Operator">∣</a> <a id="55458" href="ualib.html#55421" class="Bound">𝑩</a> <a id="55460" href="ualib.html#21378" class="Function Operator">∣</a><a id="55461" class="Symbol">)</a> <a id="55463" href="MGS-MLTT.html#3074" class="Function">,</a>
                          <a id="55491" href="ualib.html#51635" class="Function">is-homomorphism</a> <a id="55507" href="ualib.html#55415" class="Bound">𝑨</a> <a id="55509" href="ualib.html#55421" class="Bound">𝑩</a> <a id="55511" href="ualib.html#55443" class="Bound">ϕ</a> <a id="55513" href="MGS-MLTT.html#3515" class="Function Operator">×</a> <a id="55515" href="ualib.html#30209" class="Function">Epic</a> <a id="55520" href="ualib.html#55443" class="Bound">ϕ</a>
</pre>

<p>Here are some further definitions, derived from the one above, that will come in handy later.</p>

<pre class="Agda">
 <a id="homomorphisms._is-hom-image-of_"></a><a id="55643" href="ualib.html#55643" class="Function Operator">_is-hom-image-of_</a> <a id="55661" class="Symbol">:</a> <a id="55663" class="Symbol">(</a><a id="55664" href="ualib.html#55664" class="Bound">𝑩</a> <a id="55666" class="Symbol">:</a> <a id="55668" href="ualib.html#35648" class="Function">Algebra</a> <a id="55676" href="Universes.html#260" class="Generalizable">𝓤</a> <a id="55678" href="ualib.html#51074" class="Bound">𝑆</a><a id="55679" class="Symbol">)</a>
   <a id="55684" class="Symbol">→</a>                <a id="55701" class="Symbol">(</a><a id="55702" href="ualib.html#55702" class="Bound">𝑨</a> <a id="55704" class="Symbol">:</a> <a id="55706" href="ualib.html#35648" class="Function">Algebra</a> <a id="55714" href="Universes.html#260" class="Generalizable">𝓤</a> <a id="55716" href="ualib.html#51074" class="Bound">𝑆</a><a id="55717" class="Symbol">)</a> <a id="55719" class="Symbol">→</a> <a id="55721" href="ualib.html#51088" class="Bound">𝓞</a> <a id="55723" href="Agda.Primitive.html#636" class="Primitive Operator">⊔</a> <a id="55725" href="ualib.html#51090" class="Bound">𝓥</a> <a id="55727" href="Agda.Primitive.html#636" class="Primitive Operator">⊔</a> <a id="55729" href="Universes.html#260" class="Generalizable">𝓤</a> <a id="55731" href="Agda.Primitive.html#606" class="Primitive Operator">⁺</a> <a id="55733" href="Universes.html#403" class="Function Operator">̇</a>

 <a id="55737" href="ualib.html#55737" class="Bound">𝑩</a> <a id="55739" href="ualib.html#55643" class="Function Operator">is-hom-image-of</a> <a id="55755" href="ualib.html#55755" class="Bound">𝑨</a> <a id="55757" class="Symbol">=</a> <a id="55759" href="MGS-MLTT.html#3074" class="Function">Σ</a> <a id="55761" href="ualib.html#55761" class="Bound">𝑪ϕ</a> <a id="55764" href="MGS-MLTT.html#3074" class="Function">꞉</a> <a id="55766" class="Symbol">(</a><a id="55767" href="ualib.html#55338" class="Function">HomImagesOf</a> <a id="55779" href="ualib.html#55755" class="Bound">𝑨</a><a id="55780" class="Symbol">)</a> <a id="55782" href="MGS-MLTT.html#3074" class="Function">,</a> <a id="55784" href="ualib.html#55737" class="Bound">𝑩</a> <a id="55786" href="ualib.html#54894" class="Function Operator">≅</a> <a id="55788" href="ualib.html#21378" class="Function Operator">∣</a> <a id="55790" href="ualib.html#55761" class="Bound">𝑪ϕ</a> <a id="55793" href="ualib.html#21378" class="Function Operator">∣</a>

 <a id="homomorphisms._is-hom-image-of-class_"></a><a id="55797" href="ualib.html#55797" class="Function Operator">_is-hom-image-of-class_</a> <a id="55821" class="Symbol">:</a> <a id="55823" class="Symbol">{</a><a id="55824" href="ualib.html#55824" class="Bound">𝓤</a> <a id="55826" class="Symbol">:</a> <a id="55828" href="Agda.Primitive.html#423" class="Postulate">Universe</a><a id="55836" class="Symbol">}</a>
  <a id="55840" class="Symbol">→</a>                       <a id="55864" href="ualib.html#35648" class="Function">Algebra</a> <a id="55872" href="ualib.html#55824" class="Bound">𝓤</a> <a id="55874" href="ualib.html#51074" class="Bound">𝑆</a>
  <a id="55878" class="Symbol">→</a>                       <a id="55902" href="ualib.html#25725" class="Function">Pred</a> <a id="55907" class="Symbol">(</a><a id="55908" href="ualib.html#35648" class="Function">Algebra</a> <a id="55916" href="ualib.html#55824" class="Bound">𝓤</a> <a id="55918" href="ualib.html#51074" class="Bound">𝑆</a><a id="55919" class="Symbol">)</a> <a id="55921" class="Symbol">(</a><a id="55922" href="ualib.html#55824" class="Bound">𝓤</a> <a id="55924" href="Agda.Primitive.html#606" class="Primitive Operator">⁺</a><a id="55925" class="Symbol">)</a>
  <a id="55929" class="Symbol">→</a>                       <a id="55953" href="ualib.html#51088" class="Bound">𝓞</a> <a id="55955" href="Agda.Primitive.html#636" class="Primitive Operator">⊔</a> <a id="55957" href="ualib.html#51090" class="Bound">𝓥</a> <a id="55959" href="Agda.Primitive.html#636" class="Primitive Operator">⊔</a> <a id="55961" href="ualib.html#55824" class="Bound">𝓤</a> <a id="55963" href="Agda.Primitive.html#606" class="Primitive Operator">⁺</a> <a id="55965" href="Universes.html#403" class="Function Operator">̇</a>

 <a id="55969" href="ualib.html#55797" class="Function Operator">_is-hom-image-of-class_</a> <a id="55993" class="Symbol">{</a><a id="55994" href="ualib.html#55994" class="Bound">𝓤</a><a id="55995" class="Symbol">}</a> <a id="55997" href="ualib.html#55997" class="Bound">𝑩</a> <a id="55999" href="ualib.html#55999" class="Bound">𝒦</a> <a id="56001" class="Symbol">=</a> <a id="56003" href="MGS-MLTT.html#3074" class="Function">Σ</a> <a id="56005" href="ualib.html#56005" class="Bound">𝑨</a> <a id="56007" href="MGS-MLTT.html#3074" class="Function">꞉</a> <a id="56009" class="Symbol">(</a><a id="56010" href="ualib.html#35648" class="Function">Algebra</a> <a id="56018" href="ualib.html#55994" class="Bound">𝓤</a> <a id="56020" href="ualib.html#51074" class="Bound">𝑆</a><a id="56021" class="Symbol">)</a> <a id="56023" href="MGS-MLTT.html#3074" class="Function">,</a>
                            <a id="56053" class="Symbol">(</a><a id="56054" href="ualib.html#56005" class="Bound">𝑨</a> <a id="56056" href="ualib.html#26625" class="Function Operator">∈</a> <a id="56058" href="ualib.html#55999" class="Bound">𝒦</a><a id="56059" class="Symbol">)</a> <a id="56061" href="MGS-MLTT.html#3515" class="Function Operator">×</a> <a id="56063" class="Symbol">(</a><a id="56064" href="ualib.html#55997" class="Bound">𝑩</a> <a id="56066" href="ualib.html#55643" class="Function Operator">is-hom-image-of</a> <a id="56082" href="ualib.html#56005" class="Bound">𝑨</a><a id="56083" class="Symbol">)</a>

 <a id="homomorphisms.HomImagesOfClass"></a><a id="56087" href="ualib.html#56087" class="Function">HomImagesOfClass</a> <a id="56104" class="Symbol">:</a> <a id="56106" href="ualib.html#25725" class="Function">Pred</a> <a id="56111" class="Symbol">(</a><a id="56112" href="ualib.html#35648" class="Function">Algebra</a> <a id="56120" href="Universes.html#260" class="Generalizable">𝓤</a> <a id="56122" href="ualib.html#51074" class="Bound">𝑆</a><a id="56123" class="Symbol">)</a> <a id="56125" class="Symbol">(</a><a id="56126" href="Universes.html#260" class="Generalizable">𝓤</a> <a id="56128" href="Agda.Primitive.html#606" class="Primitive Operator">⁺</a><a id="56129" class="Symbol">)</a> <a id="56131" class="Symbol">→</a> <a id="56133" href="ualib.html#51088" class="Bound">𝓞</a> <a id="56135" href="Agda.Primitive.html#636" class="Primitive Operator">⊔</a> <a id="56137" href="ualib.html#51090" class="Bound">𝓥</a> <a id="56139" href="Agda.Primitive.html#636" class="Primitive Operator">⊔</a> <a id="56141" href="Universes.html#260" class="Generalizable">𝓤</a> <a id="56143" href="Agda.Primitive.html#606" class="Primitive Operator">⁺</a> <a id="56145" href="Universes.html#403" class="Function Operator">̇</a>

 <a id="56149" href="ualib.html#56087" class="Function">HomImagesOfClass</a> <a id="56166" href="ualib.html#56166" class="Bound">𝒦</a> <a id="56168" class="Symbol">=</a> <a id="56170" href="MGS-MLTT.html#3074" class="Function">Σ</a> <a id="56172" href="ualib.html#56172" class="Bound">𝑩</a> <a id="56174" href="MGS-MLTT.html#3074" class="Function">꞉</a> <a id="56176" class="Symbol">(</a><a id="56177" href="ualib.html#35648" class="Function">Algebra</a> <a id="56185" class="Symbol">_</a> <a id="56187" href="ualib.html#51074" class="Bound">𝑆</a><a id="56188" class="Symbol">)</a> <a id="56190" href="MGS-MLTT.html#3074" class="Function">,</a> <a id="56192" class="Symbol">(</a><a id="56193" href="ualib.html#56172" class="Bound">𝑩</a> <a id="56195" href="ualib.html#55797" class="Function Operator">is-hom-image-of-class</a> <a id="56217" href="ualib.html#56166" class="Bound">𝒦</a><a id="56218" class="Symbol">)</a>

 <a id="homomorphisms.H"></a><a id="56222" href="ualib.html#56222" class="Function">H</a> <a id="56224" class="Symbol">:</a> <a id="56226" href="ualib.html#25725" class="Function">Pred</a> <a id="56231" class="Symbol">(</a><a id="56232" href="ualib.html#35648" class="Function">Algebra</a> <a id="56240" href="Universes.html#260" class="Generalizable">𝓤</a> <a id="56242" href="ualib.html#51074" class="Bound">𝑆</a><a id="56243" class="Symbol">)</a> <a id="56245" class="Symbol">(</a><a id="56246" href="Universes.html#260" class="Generalizable">𝓤</a> <a id="56248" href="Agda.Primitive.html#606" class="Primitive Operator">⁺</a><a id="56249" class="Symbol">)</a> <a id="56251" class="Symbol">→</a> <a id="56253" href="ualib.html#51088" class="Bound">𝓞</a> <a id="56255" href="Agda.Primitive.html#636" class="Primitive Operator">⊔</a> <a id="56257" href="ualib.html#51090" class="Bound">𝓥</a> <a id="56259" href="Agda.Primitive.html#636" class="Primitive Operator">⊔</a> <a id="56261" href="Universes.html#260" class="Generalizable">𝓤</a> <a id="56263" href="Agda.Primitive.html#606" class="Primitive Operator">⁺</a> <a id="56265" href="Universes.html#403" class="Function Operator">̇</a>
 <a id="56268" href="ualib.html#56222" class="Function">H</a> <a id="56270" href="ualib.html#56270" class="Bound">𝒦</a> <a id="56272" class="Symbol">=</a> <a id="56274" href="ualib.html#56087" class="Function">HomImagesOfClass</a> <a id="56291" href="ualib.html#56270" class="Bound">𝒦</a>
</pre>

<p>In the following definition ℒ𝒦 represents a (universe-indexed) collection of classes.</p>

<pre class="Agda">
 <a id="homomorphisms.H-closed"></a><a id="56406" href="ualib.html#56406" class="Function">H-closed</a> <a id="56415" class="Symbol">:</a> <a id="56417" class="Symbol">(</a><a id="56418" href="ualib.html#56418" class="Bound">ℒ𝒦</a> <a id="56421" class="Symbol">:</a> <a id="56423" class="Symbol">(</a><a id="56424" href="ualib.html#56424" class="Bound">𝓤</a> <a id="56426" class="Symbol">:</a> <a id="56428" href="Agda.Primitive.html#423" class="Postulate">Universe</a><a id="56436" class="Symbol">)</a> <a id="56438" class="Symbol">→</a> <a id="56440" href="ualib.html#25725" class="Function">Pred</a> <a id="56445" class="Symbol">(</a><a id="56446" href="ualib.html#35648" class="Function">Algebra</a> <a id="56454" href="ualib.html#56424" class="Bound">𝓤</a> <a id="56456" href="ualib.html#51074" class="Bound">𝑆</a><a id="56457" class="Symbol">)</a> <a id="56459" class="Symbol">(</a><a id="56460" href="ualib.html#56424" class="Bound">𝓤</a> <a id="56462" href="Agda.Primitive.html#606" class="Primitive Operator">⁺</a><a id="56463" class="Symbol">))</a>
  <a id="56468" class="Symbol">→</a>         <a id="56478" class="Symbol">(</a><a id="56479" href="ualib.html#56479" class="Bound">𝓤</a> <a id="56481" class="Symbol">:</a> <a id="56483" href="Agda.Primitive.html#423" class="Postulate">Universe</a><a id="56491" class="Symbol">)</a> <a id="56493" class="Symbol">→</a> <a id="56495" href="ualib.html#35648" class="Function">Algebra</a> <a id="56503" href="ualib.html#56479" class="Bound">𝓤</a> <a id="56505" href="ualib.html#51074" class="Bound">𝑆</a>
  <a id="56509" class="Symbol">→</a>          <a id="56520" href="ualib.html#51088" class="Bound">𝓞</a> <a id="56522" href="Agda.Primitive.html#636" class="Primitive Operator">⊔</a> <a id="56524" href="ualib.html#51090" class="Bound">𝓥</a> <a id="56526" href="Agda.Primitive.html#636" class="Primitive Operator">⊔</a> <a id="56528" href="ualib.html#56479" class="Bound">𝓤</a> <a id="56530" href="Agda.Primitive.html#606" class="Primitive Operator">⁺</a> <a id="56532" href="Universes.html#403" class="Function Operator">̇</a>

 <a id="56536" href="ualib.html#56406" class="Function">H-closed</a> <a id="56545" href="ualib.html#56545" class="Bound">ℒ𝒦</a> <a id="56548" class="Symbol">=</a>
  <a id="56552" class="Symbol">λ</a> <a id="56554" href="ualib.html#56554" class="Bound">𝓤</a> <a id="56556" href="ualib.html#56556" class="Bound">𝑩</a> <a id="56558" class="Symbol">→</a> <a id="56560" href="ualib.html#55797" class="Function Operator">_is-hom-image-of-class_</a> <a id="56584" class="Symbol">{</a><a id="56585" class="Argument">𝓤</a> <a id="56587" class="Symbol">=</a> <a id="56589" href="ualib.html#56554" class="Bound">𝓤</a><a id="56590" class="Symbol">}</a> <a id="56592" href="ualib.html#56556" class="Bound">𝑩</a> <a id="56594" class="Symbol">(</a><a id="56595" href="ualib.html#56545" class="Bound">ℒ𝒦</a> <a id="56598" href="ualib.html#56554" class="Bound">𝓤</a><a id="56599" class="Symbol">)</a> <a id="56601" class="Symbol">→</a> <a id="56603" href="ualib.html#56556" class="Bound">𝑩</a> <a id="56605" href="ualib.html#26625" class="Function Operator">∈</a> <a id="56607" class="Symbol">(</a><a id="56608" href="ualib.html#56545" class="Bound">ℒ𝒦</a> <a id="56611" href="ualib.html#56554" class="Bound">𝓤</a><a id="56612" class="Symbol">)</a>
</pre>

<hr />

<h3 id="unicode-hints-3">Unicode Hints 3</h3>

<p>Table of some special characters used in the <a href="https://gitlab.com/ualib/ualib.gitlab.io/-/blob/master/homomorphisms.lagda.rst">homomorphisms module</a>.</p>

<table>
  <thead>
    <tr>
      <th>To get</th>
      <th>Type</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>𝒂, 𝒃</td>
      <td><code class="language-plaintext highlighter-rouge">\MIa</code>, <code class="language-plaintext highlighter-rouge">\MIb</code></td>
    </tr>
    <tr>
      <td>𝑓 ̂ 𝑨</td>
      <td><code class="language-plaintext highlighter-rouge">\Mif \^ \MIA</code></td>
    </tr>
    <tr>
      <td>≅</td>
      <td><code class="language-plaintext highlighter-rouge">\~=</code> or <code class="language-plaintext highlighter-rouge">\cong</code></td>
    </tr>
    <tr>
      <td>∘</td>
      <td><code class="language-plaintext highlighter-rouge">\comp</code> or <code class="language-plaintext highlighter-rouge">\circ</code></td>
    </tr>
    <tr>
      <td>𝒾𝒹</td>
      <td><code class="language-plaintext highlighter-rouge">\Mci\Mcd</code></td>
    </tr>
    <tr>
      <td>ℒ𝒦</td>
      <td><code class="language-plaintext highlighter-rouge">\McL\McK</code></td>
    </tr>
    <tr>
      <td>ϕ</td>
      <td><code class="language-plaintext highlighter-rouge">\phi</code></td>
    </tr>
  </tbody>
</table>

<p><strong>Emacs commands providing information about special characters/input methods</strong>:</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">M-x describe-char</code> (or <code class="language-plaintext highlighter-rouge">M-m h d c</code>) with the cursor on the character of interest</li>
  <li><code class="language-plaintext highlighter-rouge">M-x describe-input-method</code> (or <code class="language-plaintext highlighter-rouge">C-h I</code>)</li>
</ul>

<hr />

<p><a href="ualib.html#contents"><sub>Table of contents ⇑</sub></a></p>
<h2 id="terms-in-agda">Terms in Agda</h2>

<p>This chapter describes the <a href="https://gitlab.com/ualib/ualib.gitlab.io/-/blob/master/terms.lagda.rst">terms module</a>
of the <a href="https://ualib.org">UALib</a>.</p>

<h3 id="types-for-terms">Types for terms</h3>

<p>We start by declaring the module and importing the required dependencies.</p>

<pre class="Agda">
<a id="57858" class="Keyword">open</a> <a id="57863" href="ualib.html#33986" class="Module">basic</a>
<a id="57869" class="Keyword">open</a> <a id="57874" href="ualib.html#41753" class="Module">congruences</a>
<a id="57886" class="Keyword">open</a> <a id="57891" href="ualib.html#15713" class="Module">prelude</a> <a id="57899" class="Keyword">using</a> <a id="57905" class="Symbol">(</a><a id="57906" href="MGS-Subsingleton-Theorems.html#3468" class="Function">global-dfunext</a><a id="57920" class="Symbol">)</a>

<a id="57923" class="Keyword">module</a> <a id="terms"></a><a id="57930" href="ualib.html#57930" class="Module">terms</a>
 <a id="57937" class="Symbol">{</a><a id="57938" href="ualib.html#57938" class="Bound">𝑆</a> <a id="57940" class="Symbol">:</a> <a id="57942" href="ualib.html#34935" class="Function">Signature</a> <a id="57952" href="ualib.html#17590" class="Generalizable">𝓞</a> <a id="57954" href="Universes.html#262" class="Generalizable">𝓥</a><a id="57955" class="Symbol">}</a>
 <a id="57958" class="Symbol">{</a><a id="57959" href="ualib.html#57959" class="Bound">𝕏</a> <a id="57961" class="Symbol">:</a> <a id="57963" class="Symbol">{</a><a id="57964" href="ualib.html#57964" class="Bound">𝓤</a> <a id="57966" href="ualib.html#57966" class="Bound">𝓧</a> <a id="57968" class="Symbol">:</a> <a id="57970" href="Agda.Primitive.html#423" class="Postulate">Universe</a><a id="57978" class="Symbol">}{</a><a id="57980" href="ualib.html#57980" class="Bound">X</a> <a id="57982" class="Symbol">:</a> <a id="57984" href="ualib.html#57966" class="Bound">𝓧</a> <a id="57986" href="Universes.html#403" class="Function Operator">̇</a> <a id="57988" class="Symbol">}(</a><a id="57990" href="ualib.html#57990" class="Bound">𝑨</a> <a id="57992" class="Symbol">:</a> <a id="57994" href="ualib.html#35648" class="Function">Algebra</a> <a id="58002" href="ualib.html#57964" class="Bound">𝓤</a> <a id="58004" href="ualib.html#57938" class="Bound">𝑆</a><a id="58005" class="Symbol">)</a> <a id="58007" class="Symbol">→</a> <a id="58009" href="ualib.html#57980" class="Bound">X</a> <a id="58011" href="ualib.html#39443" class="Function Operator">↠</a> <a id="58013" href="ualib.html#57990" class="Bound">𝑨</a><a id="58014" class="Symbol">}</a>
 <a id="58017" class="Symbol">{</a><a id="58018" href="ualib.html#58018" class="Bound">gfe</a> <a id="58022" class="Symbol">:</a> <a id="58024" href="MGS-Subsingleton-Theorems.html#3468" class="Function">global-dfunext</a><a id="58038" class="Symbol">}</a> <a id="58040" class="Keyword">where</a>

 <a id="58048" class="Keyword">open</a> <a id="58053" href="ualib.html#51059" class="Module">homomorphisms</a> <a id="58067" class="Symbol">{</a><a id="58068" class="Argument">𝑆</a> <a id="58070" class="Symbol">=</a> <a id="58072" href="ualib.html#57938" class="Bound">𝑆</a><a id="58073" class="Symbol">}</a>

 <a id="58077" class="Keyword">open</a> <a id="58082" href="ualib.html#15713" class="Module">prelude</a> <a id="58090" class="Keyword">using</a> <a id="58096" class="Symbol">(</a><a id="58097" href="ualib.html#32191" class="Function">intensionality</a><a id="58111" class="Symbol">;</a> <a id="58113" href="MGS-MLTT.html#3001" class="Function">pr₂</a><a id="58116" class="Symbol">;</a> <a id="58118" href="ualib.html#29556" class="Function">Inv</a><a id="58121" class="Symbol">;</a> <a id="58123" href="ualib.html#29835" class="Function">InvIsInv</a><a id="58131" class="Symbol">;</a> <a id="58133" href="ualib.html#29076" class="InductiveConstructor">eq</a><a id="58135" class="Symbol">;</a> <a id="58137" href="ualib.html#21382" class="Function">fst</a><a id="58140" class="Symbol">;</a> <a id="58142" href="ualib.html#21460" class="Function">snd</a><a id="58145" class="Symbol">;</a> <a id="58147" href="ualib.html#19955" class="InductiveConstructor">𝓇ℯ𝒻𝓁</a><a id="58151" class="Symbol">;</a> <a id="58153" href="MGS-MLTT.html#5910" class="Function Operator">_∙_</a><a id="58156" class="Symbol">)</a> <a id="58158" class="Keyword">public</a>
</pre>

<p>Next, we define a datatype called <code class="language-plaintext highlighter-rouge">Term</code> which, not surprisingly, represents the type of terms. The type <code class="language-plaintext highlighter-rouge">X :  𝒰 ̇</code> represents an arbitrary collection of “variables.”</p>

<pre class="Agda">
 <a id="58359" class="Keyword">data</a> <a id="terms.Term"></a><a id="58364" href="ualib.html#58364" class="Datatype">Term</a> <a id="58369" class="Symbol">{</a><a id="58370" href="ualib.html#58370" class="Bound">𝓤</a> <a id="58372" class="Symbol">:</a> <a id="58374" href="Agda.Primitive.html#423" class="Postulate">Universe</a><a id="58382" class="Symbol">}{</a><a id="58384" href="ualib.html#58384" class="Bound">X</a> <a id="58386" class="Symbol">:</a> <a id="58388" href="ualib.html#58370" class="Bound">𝓤</a> <a id="58390" href="Universes.html#403" class="Function Operator">̇</a><a id="58391" class="Symbol">}</a> <a id="58393" class="Symbol">:</a> <a id="58395" href="ualib.html#57952" class="Bound">𝓞</a> <a id="58397" href="Agda.Primitive.html#636" class="Primitive Operator">⊔</a> <a id="58399" href="ualib.html#57954" class="Bound">𝓥</a> <a id="58401" href="Agda.Primitive.html#636" class="Primitive Operator">⊔</a> <a id="58403" href="ualib.html#58370" class="Bound">𝓤</a> <a id="58405" href="Agda.Primitive.html#606" class="Primitive Operator">⁺</a> <a id="58407" href="Universes.html#403" class="Function Operator">̇</a>  <a id="58410" class="Keyword">where</a>
   <a id="terms.Term.generator"></a><a id="58419" href="ualib.html#58419" class="InductiveConstructor">generator</a> <a id="58429" class="Symbol">:</a> <a id="58431" href="ualib.html#58384" class="Bound">X</a> <a id="58433" class="Symbol">→</a> <a id="58435" href="ualib.html#58364" class="Datatype">Term</a><a id="58439" class="Symbol">{</a><a id="58440" href="ualib.html#58370" class="Bound">𝓤</a><a id="58441" class="Symbol">}{</a><a id="58443" href="ualib.html#58384" class="Bound">X</a><a id="58444" class="Symbol">}</a>
   <a id="terms.Term.node"></a><a id="58449" href="ualib.html#58449" class="InductiveConstructor">node</a> <a id="58454" class="Symbol">:</a> <a id="58456" class="Symbol">(</a><a id="58457" href="ualib.html#58457" class="Bound">f</a> <a id="58459" class="Symbol">:</a> <a id="58461" href="ualib.html#21378" class="Function Operator">∣</a> <a id="58463" href="ualib.html#57938" class="Bound">𝑆</a> <a id="58465" href="ualib.html#21378" class="Function Operator">∣</a><a id="58466" class="Symbol">)(</a><a id="58468" href="ualib.html#58468" class="Bound">args</a> <a id="58473" class="Symbol">:</a> <a id="58475" href="ualib.html#21456" class="Function Operator">∥</a> <a id="58477" href="ualib.html#57938" class="Bound">𝑆</a> <a id="58479" href="ualib.html#21456" class="Function Operator">∥</a> <a id="58481" href="ualib.html#58457" class="Bound">f</a> <a id="58483" class="Symbol">→</a> <a id="58485" href="ualib.html#58364" class="Datatype">Term</a><a id="58489" class="Symbol">{</a><a id="58490" href="ualib.html#58370" class="Bound">𝓤</a><a id="58491" class="Symbol">}{</a><a id="58493" href="ualib.html#58384" class="Bound">X</a><a id="58494" class="Symbol">})</a> <a id="58497" class="Symbol">→</a> <a id="58499" href="ualib.html#58364" class="Datatype">Term</a>

 <a id="58506" class="Keyword">open</a> <a id="58511" href="ualib.html#58364" class="Module">Term</a>
</pre>

<h3 id="the-term-algebra">The term algebra</h3>

<p>The term algebra was described informally in terms. We denote this
important algebra by 𝑻(X) and we implement it in Agda as follows.</p>

<pre class="Agda">
 <a id="58698" class="Comment">--The term algebra 𝑻(X).</a>
 <a id="terms.𝑻"></a><a id="58724" href="ualib.html#58724" class="Function">𝑻</a> <a id="58726" class="Symbol">:</a> <a id="58728" class="Symbol">{</a><a id="58729" href="ualib.html#58729" class="Bound">𝓤</a> <a id="58731" class="Symbol">:</a> <a id="58733" href="Agda.Primitive.html#423" class="Postulate">Universe</a><a id="58741" class="Symbol">}{</a><a id="58743" href="ualib.html#58743" class="Bound">X</a> <a id="58745" class="Symbol">:</a> <a id="58747" href="ualib.html#58729" class="Bound">𝓤</a> <a id="58749" href="Universes.html#403" class="Function Operator">̇</a><a id="58750" class="Symbol">}</a> <a id="58752" class="Symbol">→</a> <a id="58754" href="ualib.html#35648" class="Function">Algebra</a> <a id="58762" class="Symbol">(</a><a id="58763" href="ualib.html#57952" class="Bound">𝓞</a> <a id="58765" href="Agda.Primitive.html#636" class="Primitive Operator">⊔</a> <a id="58767" href="ualib.html#57954" class="Bound">𝓥</a> <a id="58769" href="Agda.Primitive.html#636" class="Primitive Operator">⊔</a> <a id="58771" href="ualib.html#58729" class="Bound">𝓤</a> <a id="58773" href="Agda.Primitive.html#606" class="Primitive Operator">⁺</a><a id="58774" class="Symbol">)</a> <a id="58776" href="ualib.html#57938" class="Bound">𝑆</a>
 <a id="58779" href="ualib.html#58724" class="Function">𝑻</a> <a id="58781" class="Symbol">{</a><a id="58782" href="ualib.html#58782" class="Bound">𝓤</a><a id="58783" class="Symbol">}{</a><a id="58785" href="ualib.html#58785" class="Bound">X</a><a id="58786" class="Symbol">}</a> <a id="58788" class="Symbol">=</a> <a id="58790" href="ualib.html#58364" class="Datatype">Term</a><a id="58794" class="Symbol">{</a><a id="58795" href="ualib.html#58782" class="Bound">𝓤</a><a id="58796" class="Symbol">}{</a><a id="58798" href="ualib.html#58785" class="Bound">X</a><a id="58799" class="Symbol">}</a> <a id="58801" href="ualib.html#20052" class="InductiveConstructor Operator">,</a> <a id="58803" href="ualib.html#58449" class="InductiveConstructor">node</a>

 <a id="terms.term-op"></a><a id="58810" href="ualib.html#58810" class="Function">term-op</a> <a id="58818" class="Symbol">:</a> <a id="58820" class="Symbol">{</a><a id="58821" href="ualib.html#58821" class="Bound">𝓤</a> <a id="58823" class="Symbol">:</a> <a id="58825" href="Agda.Primitive.html#423" class="Postulate">Universe</a><a id="58833" class="Symbol">}{</a><a id="58835" href="ualib.html#58835" class="Bound">X</a> <a id="58837" class="Symbol">:</a> <a id="58839" href="ualib.html#58821" class="Bound">𝓤</a> <a id="58841" href="Universes.html#403" class="Function Operator">̇</a><a id="58842" class="Symbol">}(</a><a id="58844" href="ualib.html#58844" class="Bound">f</a> <a id="58846" class="Symbol">:</a> <a id="58848" href="ualib.html#21378" class="Function Operator">∣</a> <a id="58850" href="ualib.html#57938" class="Bound">𝑆</a> <a id="58852" href="ualib.html#21378" class="Function Operator">∣</a><a id="58853" class="Symbol">)(</a><a id="58855" href="ualib.html#58855" class="Bound">args</a> <a id="58860" class="Symbol">:</a> <a id="58862" href="ualib.html#21456" class="Function Operator">∥</a> <a id="58864" href="ualib.html#57938" class="Bound">𝑆</a> <a id="58866" href="ualib.html#21456" class="Function Operator">∥</a> <a id="58868" href="ualib.html#58844" class="Bound">f</a> <a id="58870" class="Symbol">→</a> <a id="58872" href="ualib.html#58364" class="Datatype">Term</a><a id="58876" class="Symbol">{</a><a id="58877" href="ualib.html#58821" class="Bound">𝓤</a><a id="58878" class="Symbol">}{</a><a id="58880" href="ualib.html#58835" class="Bound">X</a><a id="58881" class="Symbol">}</a> <a id="58883" class="Symbol">)</a> <a id="58885" class="Symbol">→</a> <a id="58887" href="ualib.html#58364" class="Datatype">Term</a>
 <a id="58893" href="ualib.html#58810" class="Function">term-op</a> <a id="58901" href="ualib.html#58901" class="Bound">f</a> <a id="58903" href="ualib.html#58903" class="Bound">args</a> <a id="58908" class="Symbol">=</a> <a id="58910" href="ualib.html#58449" class="InductiveConstructor">node</a> <a id="58915" href="ualib.html#58901" class="Bound">f</a> <a id="58917" href="ualib.html#58903" class="Bound">args</a>
</pre>

<h3 id="the-universal-property">The universal property</h3>

<p>We prove</p>

<ol>
  <li>every map <code class="language-plaintext highlighter-rouge">h : 𝑋 → ∣ 𝑨 ∣</code> lifts to a homomorphism from 𝑻(X) to 𝑨, and</li>
  <li>the induced homomorphism is unique.</li>
</ol>

<p>First, every map <code class="language-plaintext highlighter-rouge">X → ∣ 𝑨 ∣</code> lifts to a homomorphism.</p>

<pre class="Agda">
 <a id="59155" class="Comment">--1.a. Every map (X → 𝑨) lifts.</a>
 <a id="terms.free-lift"></a><a id="59188" href="ualib.html#59188" class="Function">free-lift</a> <a id="59198" class="Symbol">:</a> <a id="59200" class="Symbol">{</a><a id="59201" href="ualib.html#59201" class="Bound">𝓤</a> <a id="59203" href="ualib.html#59203" class="Bound">𝓦</a> <a id="59205" class="Symbol">:</a> <a id="59207" href="Agda.Primitive.html#423" class="Postulate">Universe</a><a id="59215" class="Symbol">}{</a><a id="59217" href="ualib.html#59217" class="Bound">X</a> <a id="59219" class="Symbol">:</a> <a id="59221" href="ualib.html#59201" class="Bound">𝓤</a> <a id="59223" href="Universes.html#403" class="Function Operator">̇</a><a id="59224" class="Symbol">}{</a><a id="59226" href="ualib.html#59226" class="Bound">𝑨</a> <a id="59228" class="Symbol">:</a> <a id="59230" href="ualib.html#35648" class="Function">Algebra</a> <a id="59238" href="ualib.html#59203" class="Bound">𝓦</a> <a id="59240" href="ualib.html#57938" class="Bound">𝑆</a><a id="59241" class="Symbol">}</a> <a id="59243" class="Symbol">(</a><a id="59244" href="ualib.html#59244" class="Bound">h</a> <a id="59246" class="Symbol">:</a> <a id="59248" href="ualib.html#59217" class="Bound">X</a> <a id="59250" class="Symbol">→</a> <a id="59252" href="ualib.html#21378" class="Function Operator">∣</a> <a id="59254" href="ualib.html#59226" class="Bound">𝑨</a> <a id="59256" href="ualib.html#21378" class="Function Operator">∣</a><a id="59257" class="Symbol">)</a>
  <a id="59261" class="Symbol">→</a>          <a id="59272" href="ualib.html#21378" class="Function Operator">∣</a> <a id="59274" class="Symbol">(</a><a id="59275" href="ualib.html#58724" class="Function">𝑻</a><a id="59276" class="Symbol">{</a><a id="59277" href="ualib.html#59201" class="Bound">𝓤</a><a id="59278" class="Symbol">}{</a><a id="59280" href="ualib.html#59217" class="Bound">X</a><a id="59281" class="Symbol">})</a> <a id="59284" href="ualib.html#21378" class="Function Operator">∣</a> <a id="59286" class="Symbol">→</a> <a id="59288" href="ualib.html#21378" class="Function Operator">∣</a> <a id="59290" href="ualib.html#59226" class="Bound">𝑨</a> <a id="59292" href="ualib.html#21378" class="Function Operator">∣</a>

 <a id="59296" href="ualib.html#59188" class="Function">free-lift</a> <a id="59306" class="Symbol">{</a><a id="59307" class="Argument">X</a> <a id="59309" class="Symbol">=</a> <a id="59311" href="ualib.html#59311" class="Bound">X</a><a id="59312" class="Symbol">}</a> <a id="59314" href="ualib.html#59314" class="Bound">h</a> <a id="59316" class="Symbol">(</a><a id="59317" href="ualib.html#58419" class="InductiveConstructor">generator</a> <a id="59327" href="ualib.html#59327" class="Bound">x</a><a id="59328" class="Symbol">)</a> <a id="59330" class="Symbol">=</a> <a id="59332" href="ualib.html#59314" class="Bound">h</a> <a id="59334" href="ualib.html#59327" class="Bound">x</a>
 <a id="59337" href="ualib.html#59188" class="Function">free-lift</a> <a id="59347" class="Symbol">{</a><a id="59348" class="Argument">𝑨</a> <a id="59350" class="Symbol">=</a> <a id="59352" href="ualib.html#59352" class="Bound">𝑨</a><a id="59353" class="Symbol">}</a> <a id="59355" href="ualib.html#59355" class="Bound">h</a> <a id="59357" class="Symbol">(</a><a id="59358" href="ualib.html#58449" class="InductiveConstructor">node</a> <a id="59363" href="ualib.html#59363" class="Bound">f</a> <a id="59365" href="ualib.html#59365" class="Bound">args</a><a id="59369" class="Symbol">)</a> <a id="59371" class="Symbol">=</a> <a id="59373" class="Symbol">(</a><a id="59374" href="ualib.html#59363" class="Bound">f</a> <a id="59376" href="ualib.html#38193" class="Function Operator">̂</a> <a id="59378" href="ualib.html#59352" class="Bound">𝑨</a><a id="59379" class="Symbol">)</a> <a id="59381" class="Symbol">λ</a> <a id="59383" href="ualib.html#59383" class="Bound">i</a> <a id="59385" class="Symbol">→</a> <a id="59387" href="ualib.html#59188" class="Function">free-lift</a><a id="59396" class="Symbol">{</a><a id="59397" class="Argument">𝑨</a> <a id="59399" class="Symbol">=</a> <a id="59401" href="ualib.html#59352" class="Bound">𝑨</a><a id="59402" class="Symbol">}</a> <a id="59404" href="ualib.html#59355" class="Bound">h</a> <a id="59406" class="Symbol">(</a><a id="59407" href="ualib.html#59365" class="Bound">args</a> <a id="59412" href="ualib.html#59383" class="Bound">i</a><a id="59413" class="Symbol">)</a>

 <a id="59417" class="Comment">--1.b. The lift is (extensionally) a hom</a>
 <a id="terms.lift-hom"></a><a id="59459" href="ualib.html#59459" class="Function">lift-hom</a> <a id="59468" class="Symbol">:</a> <a id="59470" class="Symbol">{</a><a id="59471" href="ualib.html#59471" class="Bound">𝓤</a> <a id="59473" href="ualib.html#59473" class="Bound">𝓦</a> <a id="59475" class="Symbol">:</a> <a id="59477" href="Agda.Primitive.html#423" class="Postulate">Universe</a><a id="59485" class="Symbol">}{</a><a id="59487" href="ualib.html#59487" class="Bound">X</a> <a id="59489" class="Symbol">:</a> <a id="59491" href="ualib.html#59471" class="Bound">𝓤</a> <a id="59493" href="Universes.html#403" class="Function Operator">̇</a><a id="59494" class="Symbol">}{</a><a id="59496" href="ualib.html#59496" class="Bound">𝑨</a> <a id="59498" class="Symbol">:</a> <a id="59500" href="ualib.html#35648" class="Function">Algebra</a> <a id="59508" href="ualib.html#59473" class="Bound">𝓦</a> <a id="59510" href="ualib.html#57938" class="Bound">𝑆</a><a id="59511" class="Symbol">}(</a><a id="59513" href="ualib.html#59513" class="Bound">h</a> <a id="59515" class="Symbol">:</a> <a id="59517" href="ualib.html#59487" class="Bound">X</a> <a id="59519" class="Symbol">→</a> <a id="59521" href="ualib.html#21378" class="Function Operator">∣</a> <a id="59523" href="ualib.html#59496" class="Bound">𝑨</a> <a id="59525" href="ualib.html#21378" class="Function Operator">∣</a><a id="59526" class="Symbol">)</a>
  <a id="59530" class="Symbol">→</a>         <a id="59540" href="ualib.html#51876" class="Function">hom</a> <a id="59544" class="Symbol">(</a><a id="59545" href="ualib.html#58724" class="Function">𝑻</a><a id="59546" class="Symbol">{</a><a id="59547" href="ualib.html#59471" class="Bound">𝓤</a><a id="59548" class="Symbol">}{</a><a id="59550" href="ualib.html#59487" class="Bound">X</a><a id="59551" class="Symbol">})</a> <a id="59554" href="ualib.html#59496" class="Bound">𝑨</a>

 <a id="59558" href="ualib.html#59459" class="Function">lift-hom</a> <a id="59567" class="Symbol">{</a><a id="59568" class="Argument">𝑨</a> <a id="59570" class="Symbol">=</a> <a id="59572" href="ualib.html#59572" class="Bound">𝑨</a><a id="59573" class="Symbol">}</a> <a id="59575" href="ualib.html#59575" class="Bound">h</a> <a id="59577" class="Symbol">=</a> <a id="59579" href="ualib.html#59188" class="Function">free-lift</a><a id="59588" class="Symbol">{</a><a id="59589" class="Argument">𝑨</a> <a id="59591" class="Symbol">=</a> <a id="59593" href="ualib.html#59572" class="Bound">𝑨</a><a id="59594" class="Symbol">}</a> <a id="59596" href="ualib.html#59575" class="Bound">h</a> <a id="59598" href="ualib.html#20052" class="InductiveConstructor Operator">,</a> <a id="59600" class="Symbol">λ</a> <a id="59602" href="ualib.html#59602" class="Bound">f</a> <a id="59604" href="ualib.html#59604" class="Bound">a</a> <a id="59606" class="Symbol">→</a> <a id="59608" href="MGS-MLTT.html#6613" class="Function">ap</a> <a id="59611" class="Symbol">(_</a> <a id="59614" href="ualib.html#38193" class="Function Operator">̂</a> <a id="59616" href="ualib.html#59572" class="Bound">𝑨</a><a id="59617" class="Symbol">)</a> <a id="59619" href="ualib.html#19955" class="InductiveConstructor">𝓇ℯ𝒻𝓁</a>
</pre>
<p>Next, the lift to (𝑻 X → 𝑨) is unique.</p>
<pre class="Agda">
 <a id="59688" class="Comment">--2. The lift to (free → 𝑨) is (extensionally) unique.</a>
 <a id="terms.free-unique"></a><a id="59744" href="ualib.html#59744" class="Function">free-unique</a> <a id="59756" class="Symbol">:</a> <a id="59758" class="Symbol">{</a><a id="59759" href="ualib.html#59759" class="Bound">𝓤</a> <a id="59761" href="ualib.html#59761" class="Bound">𝓦</a> <a id="59763" class="Symbol">:</a> <a id="59765" href="Agda.Primitive.html#423" class="Postulate">Universe</a><a id="59773" class="Symbol">}{</a><a id="59775" href="ualib.html#59775" class="Bound">X</a> <a id="59777" class="Symbol">:</a> <a id="59779" href="ualib.html#59759" class="Bound">𝓤</a> <a id="59781" href="Universes.html#403" class="Function Operator">̇</a><a id="59782" class="Symbol">}</a> <a id="59784" class="Symbol">→</a> <a id="59786" href="MGS-FunExt-from-Univalence.html#393" class="Function">funext</a> <a id="59793" href="ualib.html#57954" class="Bound">𝓥</a> <a id="59795" href="ualib.html#59761" class="Bound">𝓦</a>
  <a id="59799" class="Symbol">→</a>            <a id="59812" class="Symbol">{</a><a id="59813" href="ualib.html#59813" class="Bound">𝑨</a> <a id="59815" class="Symbol">:</a> <a id="59817" href="ualib.html#35648" class="Function">Algebra</a> <a id="59825" href="ualib.html#59761" class="Bound">𝓦</a> <a id="59827" href="ualib.html#57938" class="Bound">𝑆</a><a id="59828" class="Symbol">}(</a><a id="59830" href="ualib.html#59830" class="Bound">g</a> <a id="59832" href="ualib.html#59832" class="Bound">h</a> <a id="59834" class="Symbol">:</a> <a id="59836" href="ualib.html#51876" class="Function">hom</a> <a id="59840" class="Symbol">(</a><a id="59841" href="ualib.html#58724" class="Function">𝑻</a><a id="59842" class="Symbol">{</a><a id="59843" href="ualib.html#59759" class="Bound">𝓤</a><a id="59844" class="Symbol">}{</a><a id="59846" href="ualib.html#59775" class="Bound">X</a><a id="59847" class="Symbol">})</a> <a id="59850" href="ualib.html#59813" class="Bound">𝑨</a><a id="59851" class="Symbol">)</a>
  <a id="59855" class="Symbol">→</a>            <a id="59868" class="Symbol">(∀</a> <a id="59871" href="ualib.html#59871" class="Bound">x</a> <a id="59873" class="Symbol">→</a> <a id="59875" href="ualib.html#21378" class="Function Operator">∣</a> <a id="59877" href="ualib.html#59830" class="Bound">g</a> <a id="59879" href="ualib.html#21378" class="Function Operator">∣</a> <a id="59881" class="Symbol">(</a><a id="59882" href="ualib.html#58419" class="InductiveConstructor">generator</a> <a id="59892" href="ualib.html#59871" class="Bound">x</a><a id="59893" class="Symbol">)</a> <a id="59895" href="ualib.html#19941" class="Datatype Operator">≡</a> <a id="59897" href="ualib.html#21378" class="Function Operator">∣</a> <a id="59899" href="ualib.html#59832" class="Bound">h</a> <a id="59901" href="ualib.html#21378" class="Function Operator">∣</a> <a id="59903" class="Symbol">(</a><a id="59904" href="ualib.html#58419" class="InductiveConstructor">generator</a> <a id="59914" href="ualib.html#59871" class="Bound">x</a><a id="59915" class="Symbol">))</a>
  <a id="59920" class="Symbol">→</a>            <a id="59933" class="Symbol">(</a><a id="59934" href="ualib.html#59934" class="Bound">t</a> <a id="59936" class="Symbol">:</a> <a id="59938" href="ualib.html#58364" class="Datatype">Term</a><a id="59942" class="Symbol">{</a><a id="59943" href="ualib.html#59759" class="Bound">𝓤</a><a id="59944" class="Symbol">}{</a><a id="59946" href="ualib.html#59775" class="Bound">X</a><a id="59947" class="Symbol">})</a>
              <a id="59964" class="Comment">---------------------------</a>
  <a id="59994" class="Symbol">→</a>            <a id="60007" href="ualib.html#21378" class="Function Operator">∣</a> <a id="60009" href="ualib.html#59830" class="Bound">g</a> <a id="60011" href="ualib.html#21378" class="Function Operator">∣</a> <a id="60013" href="ualib.html#59934" class="Bound">t</a> <a id="60015" href="ualib.html#19941" class="Datatype Operator">≡</a> <a id="60017" href="ualib.html#21378" class="Function Operator">∣</a> <a id="60019" href="ualib.html#59832" class="Bound">h</a> <a id="60021" href="ualib.html#21378" class="Function Operator">∣</a> <a id="60023" href="ualib.html#59934" class="Bound">t</a>

 <a id="60027" href="ualib.html#59744" class="Function">free-unique</a> <a id="60039" href="ualib.html#60039" class="Bound">fe</a> <a id="60042" href="ualib.html#60042" class="Bound">g</a> <a id="60044" href="ualib.html#60044" class="Bound">h</a> <a id="60046" href="ualib.html#60046" class="Bound">p</a> <a id="60048" class="Symbol">(</a><a id="60049" href="ualib.html#58419" class="InductiveConstructor">generator</a> <a id="60059" href="ualib.html#60059" class="Bound">x</a><a id="60060" class="Symbol">)</a> <a id="60062" class="Symbol">=</a> <a id="60064" href="ualib.html#60046" class="Bound">p</a> <a id="60066" href="ualib.html#60059" class="Bound">x</a>
 <a id="60069" href="ualib.html#59744" class="Function">free-unique</a> <a id="60081" class="Symbol">{</a><a id="60082" href="ualib.html#60082" class="Bound">𝓤</a><a id="60083" class="Symbol">}{</a><a id="60085" href="ualib.html#60085" class="Bound">𝓦</a><a id="60086" class="Symbol">}</a> <a id="60088" class="Symbol">{</a><a id="60089" href="ualib.html#60089" class="Bound">X</a><a id="60090" class="Symbol">}</a> <a id="60092" href="ualib.html#60092" class="Bound">fe</a> <a id="60095" class="Symbol">{</a><a id="60096" class="Argument">𝑨</a> <a id="60098" class="Symbol">=</a> <a id="60100" href="ualib.html#60100" class="Bound">𝑨</a><a id="60101" class="Symbol">}</a> <a id="60103" href="ualib.html#60103" class="Bound">g</a> <a id="60105" href="ualib.html#60105" class="Bound">h</a> <a id="60107" href="ualib.html#60107" class="Bound">p</a> <a id="60109" class="Symbol">(</a><a id="60110" href="ualib.html#58449" class="InductiveConstructor">node</a> <a id="60115" href="ualib.html#60115" class="Bound">f</a> <a id="60117" href="ualib.html#60117" class="Bound">args</a><a id="60121" class="Symbol">)</a> <a id="60123" class="Symbol">=</a>
    <a id="60129" href="ualib.html#21378" class="Function Operator">∣</a> <a id="60131" href="ualib.html#60103" class="Bound">g</a> <a id="60133" href="ualib.html#21378" class="Function Operator">∣</a> <a id="60135" class="Symbol">(</a><a id="60136" href="ualib.html#58449" class="InductiveConstructor">node</a> <a id="60141" href="ualib.html#60115" class="Bound">f</a> <a id="60143" href="ualib.html#60117" class="Bound">args</a><a id="60147" class="Symbol">)</a>            <a id="60160" href="MGS-MLTT.html#5997" class="Function Operator">≡⟨</a> <a id="60163" href="ualib.html#21456" class="Function Operator">∥</a> <a id="60165" href="ualib.html#60103" class="Bound">g</a> <a id="60167" href="ualib.html#21456" class="Function Operator">∥</a> <a id="60169" href="ualib.html#60115" class="Bound">f</a> <a id="60171" href="ualib.html#60117" class="Bound">args</a> <a id="60176" href="MGS-MLTT.html#5997" class="Function Operator">⟩</a>
    <a id="60182" class="Symbol">(</a><a id="60183" href="ualib.html#60115" class="Bound">f</a> <a id="60185" href="ualib.html#38193" class="Function Operator">̂</a> <a id="60187" href="ualib.html#60100" class="Bound">𝑨</a><a id="60188" class="Symbol">)(λ</a> <a id="60192" href="ualib.html#60192" class="Bound">i</a> <a id="60194" class="Symbol">→</a> <a id="60196" href="ualib.html#21378" class="Function Operator">∣</a> <a id="60198" href="ualib.html#60103" class="Bound">g</a> <a id="60200" href="ualib.html#21378" class="Function Operator">∣</a> <a id="60202" class="Symbol">(</a><a id="60203" href="ualib.html#60117" class="Bound">args</a> <a id="60208" href="ualib.html#60192" class="Bound">i</a><a id="60209" class="Symbol">))</a>  <a id="60213" href="MGS-MLTT.html#5997" class="Function Operator">≡⟨</a> <a id="60216" href="MGS-MLTT.html#6613" class="Function">ap</a> <a id="60219" class="Symbol">(_</a> <a id="60222" href="ualib.html#38193" class="Function Operator">̂</a> <a id="60224" href="ualib.html#60100" class="Bound">𝑨</a><a id="60225" class="Symbol">)</a> <a id="60227" href="ualib.html#60336" class="Function">γ</a> <a id="60229" href="MGS-MLTT.html#5997" class="Function Operator">⟩</a>
    <a id="60235" class="Symbol">(</a><a id="60236" href="ualib.html#60115" class="Bound">f</a> <a id="60238" href="ualib.html#38193" class="Function Operator">̂</a> <a id="60240" href="ualib.html#60100" class="Bound">𝑨</a><a id="60241" class="Symbol">)(λ</a> <a id="60245" href="ualib.html#60245" class="Bound">i</a> <a id="60247" class="Symbol">→</a> <a id="60249" href="ualib.html#21378" class="Function Operator">∣</a> <a id="60251" href="ualib.html#60105" class="Bound">h</a> <a id="60253" href="ualib.html#21378" class="Function Operator">∣</a> <a id="60255" class="Symbol">(</a><a id="60256" href="ualib.html#60117" class="Bound">args</a> <a id="60261" href="ualib.html#60245" class="Bound">i</a><a id="60262" class="Symbol">))</a>  <a id="60266" href="MGS-MLTT.html#5997" class="Function Operator">≡⟨</a> <a id="60269" class="Symbol">(</a><a id="60270" href="ualib.html#21456" class="Function Operator">∥</a> <a id="60272" href="ualib.html#60105" class="Bound">h</a> <a id="60274" href="ualib.html#21456" class="Function Operator">∥</a> <a id="60276" href="ualib.html#60115" class="Bound">f</a> <a id="60278" href="ualib.html#60117" class="Bound">args</a><a id="60282" class="Symbol">)</a><a id="60283" href="MGS-MLTT.html#6125" class="Function Operator">⁻¹</a> <a id="60286" href="MGS-MLTT.html#5997" class="Function Operator">⟩</a>
    <a id="60292" href="ualib.html#21378" class="Function Operator">∣</a> <a id="60294" href="ualib.html#60105" class="Bound">h</a> <a id="60296" href="ualib.html#21378" class="Function Operator">∣</a> <a id="60298" class="Symbol">(</a><a id="60299" href="ualib.html#58449" class="InductiveConstructor">node</a> <a id="60304" href="ualib.html#60115" class="Bound">f</a> <a id="60306" href="ualib.html#60117" class="Bound">args</a><a id="60310" class="Symbol">)</a>             <a id="60324" href="MGS-MLTT.html#6079" class="Function Operator">∎</a>
    <a id="60330" class="Keyword">where</a> <a id="60336" href="ualib.html#60336" class="Function">γ</a> <a id="60338" class="Symbol">=</a> <a id="60340" href="ualib.html#60092" class="Bound">fe</a> <a id="60343" class="Symbol">λ</a> <a id="60345" href="ualib.html#60345" class="Bound">i</a> <a id="60347" class="Symbol">→</a> <a id="60349" href="ualib.html#59744" class="Function">free-unique</a> <a id="60361" class="Symbol">{</a><a id="60362" href="ualib.html#60082" class="Bound">𝓤</a><a id="60363" class="Symbol">}{</a><a id="60365" href="ualib.html#60085" class="Bound">𝓦</a><a id="60366" class="Symbol">}</a> <a id="60368" href="ualib.html#60092" class="Bound">fe</a> <a id="60371" class="Symbol">{</a><a id="60372" href="ualib.html#60100" class="Bound">𝑨</a><a id="60373" class="Symbol">}</a> <a id="60375" href="ualib.html#60103" class="Bound">g</a> <a id="60377" href="ualib.html#60105" class="Bound">h</a> <a id="60379" href="ualib.html#60107" class="Bound">p</a> <a id="60381" class="Symbol">(</a><a id="60382" href="ualib.html#60117" class="Bound">args</a> <a id="60387" href="ualib.html#60345" class="Bound">i</a><a id="60388" class="Symbol">)</a>
</pre>

<p>Next we note the easy fact that the lift induced by <code class="language-plaintext highlighter-rouge">h₀</code> agrees with
<code class="language-plaintext highlighter-rouge">h₀</code> on <code class="language-plaintext highlighter-rouge">X</code> and that the lift is surjective if the <code class="language-plaintext highlighter-rouge">h₀</code> is.</p>

<pre class="Agda">
 <a id="60546" class="Comment">--lift agrees on X</a>
 <a id="terms.lift-agrees-on-X"></a><a id="60566" href="ualib.html#60566" class="Function">lift-agrees-on-X</a> <a id="60583" class="Symbol">:</a> <a id="60585" class="Symbol">{</a><a id="60586" href="ualib.html#60586" class="Bound">𝓤</a> <a id="60588" class="Symbol">:</a> <a id="60590" href="Agda.Primitive.html#423" class="Postulate">Universe</a><a id="60598" class="Symbol">}{</a><a id="60600" href="ualib.html#60600" class="Bound">X</a> <a id="60602" class="Symbol">:</a> <a id="60604" href="ualib.html#60586" class="Bound">𝓤</a> <a id="60606" href="Universes.html#403" class="Function Operator">̇</a><a id="60607" class="Symbol">}{</a><a id="60609" href="ualib.html#60609" class="Bound">𝑨</a> <a id="60611" class="Symbol">:</a> <a id="60613" href="ualib.html#35648" class="Function">Algebra</a> <a id="60621" href="ualib.html#60586" class="Bound">𝓤</a> <a id="60623" href="ualib.html#57938" class="Bound">𝑆</a><a id="60624" class="Symbol">}(</a><a id="60626" href="ualib.html#60626" class="Bound">h₀</a> <a id="60629" class="Symbol">:</a> <a id="60631" href="ualib.html#60600" class="Bound">X</a> <a id="60633" class="Symbol">→</a> <a id="60635" href="ualib.html#21378" class="Function Operator">∣</a> <a id="60637" href="ualib.html#60609" class="Bound">𝑨</a> <a id="60639" href="ualib.html#21378" class="Function Operator">∣</a><a id="60640" class="Symbol">)(</a><a id="60642" href="ualib.html#60642" class="Bound">x</a> <a id="60644" class="Symbol">:</a> <a id="60646" href="ualib.html#60600" class="Bound">X</a><a id="60647" class="Symbol">)</a>
         <a id="60658" class="Comment">----------------------------------------</a>
  <a id="60701" class="Symbol">→</a>       <a id="60709" href="ualib.html#60626" class="Bound">h₀</a> <a id="60712" href="ualib.html#60642" class="Bound">x</a> <a id="60714" href="ualib.html#19941" class="Datatype Operator">≡</a> <a id="60716" href="ualib.html#21378" class="Function Operator">∣</a> <a id="60718" href="ualib.html#59459" class="Function">lift-hom</a><a id="60726" class="Symbol">{</a><a id="60727" class="Argument">𝑨</a> <a id="60729" class="Symbol">=</a> <a id="60731" href="ualib.html#60609" class="Bound">𝑨</a><a id="60732" class="Symbol">}</a> <a id="60734" href="ualib.html#60626" class="Bound">h₀</a> <a id="60737" href="ualib.html#21378" class="Function Operator">∣</a> <a id="60739" class="Symbol">(</a><a id="60740" href="ualib.html#58419" class="InductiveConstructor">generator</a> <a id="60750" href="ualib.html#60642" class="Bound">x</a><a id="60751" class="Symbol">)</a>

 <a id="60755" href="ualib.html#60566" class="Function">lift-agrees-on-X</a> <a id="60772" href="ualib.html#60772" class="Bound">h₀</a> <a id="60775" href="ualib.html#60775" class="Bound">x</a> <a id="60777" class="Symbol">=</a> <a id="60779" href="ualib.html#19955" class="InductiveConstructor">𝓇ℯ𝒻𝓁</a>

 <a id="60786" class="Comment">--Of course, the lift of a surjective map is surjective.</a>
 <a id="terms.lift-of-epic-is-epic"></a><a id="60844" href="ualib.html#60844" class="Function">lift-of-epic-is-epic</a> <a id="60865" class="Symbol">:</a> <a id="60867" class="Symbol">{</a><a id="60868" href="ualib.html#60868" class="Bound">𝓤</a> <a id="60870" class="Symbol">:</a> <a id="60872" href="Agda.Primitive.html#423" class="Postulate">Universe</a><a id="60880" class="Symbol">}{</a><a id="60882" href="ualib.html#60882" class="Bound">X</a> <a id="60884" class="Symbol">:</a> <a id="60886" href="ualib.html#60868" class="Bound">𝓤</a> <a id="60888" href="Universes.html#403" class="Function Operator">̇</a><a id="60889" class="Symbol">}{</a><a id="60891" href="ualib.html#60891" class="Bound">𝑨</a> <a id="60893" class="Symbol">:</a> <a id="60895" href="ualib.html#35648" class="Function">Algebra</a> <a id="60903" href="ualib.html#60868" class="Bound">𝓤</a> <a id="60905" href="ualib.html#57938" class="Bound">𝑆</a><a id="60906" class="Symbol">}(</a><a id="60908" href="ualib.html#60908" class="Bound">h₀</a> <a id="60911" class="Symbol">:</a> <a id="60913" href="ualib.html#60882" class="Bound">X</a> <a id="60915" class="Symbol">→</a> <a id="60917" href="ualib.html#21378" class="Function Operator">∣</a> <a id="60919" href="ualib.html#60891" class="Bound">𝑨</a> <a id="60921" href="ualib.html#21378" class="Function Operator">∣</a><a id="60922" class="Symbol">)</a>
  <a id="60926" class="Symbol">→</a>                     <a id="60948" href="ualib.html#30209" class="Function">Epic</a> <a id="60953" href="ualib.html#60908" class="Bound">h₀</a>
                       <a id="60979" class="Comment">----------------------</a>
  <a id="61004" class="Symbol">→</a>                     <a id="61026" href="ualib.html#30209" class="Function">Epic</a> <a id="61031" href="ualib.html#21378" class="Function Operator">∣</a> <a id="61033" href="ualib.html#59459" class="Function">lift-hom</a><a id="61041" class="Symbol">{</a><a id="61042" class="Argument">𝑨</a> <a id="61044" class="Symbol">=</a> <a id="61046" href="ualib.html#60891" class="Bound">𝑨</a><a id="61047" class="Symbol">}</a> <a id="61049" href="ualib.html#60908" class="Bound">h₀</a> <a id="61052" href="ualib.html#21378" class="Function Operator">∣</a>

 <a id="61056" href="ualib.html#60844" class="Function">lift-of-epic-is-epic</a><a id="61076" class="Symbol">{</a><a id="61077" class="Argument">X</a> <a id="61079" class="Symbol">=</a> <a id="61081" href="ualib.html#61081" class="Bound">X</a><a id="61082" class="Symbol">}{</a><a id="61084" class="Argument">𝑨</a> <a id="61086" class="Symbol">=</a> <a id="61088" href="ualib.html#61088" class="Bound">𝑨</a><a id="61089" class="Symbol">}</a> <a id="61091" href="ualib.html#61091" class="Bound">h₀</a> <a id="61094" href="ualib.html#61094" class="Bound">hE</a> <a id="61097" href="ualib.html#61097" class="Bound">y</a> <a id="61099" class="Symbol">=</a> <a id="61101" href="ualib.html#61442" class="Function">γ</a>
  <a id="61105" class="Keyword">where</a>
   <a id="61114" href="ualib.html#61114" class="Function">h₀pre</a> <a id="61120" class="Symbol">:</a> <a id="61122" href="ualib.html#28977" class="Datatype Operator">Image</a> <a id="61128" href="ualib.html#61091" class="Bound">h₀</a> <a id="61131" href="ualib.html#28977" class="Datatype Operator">∋</a> <a id="61133" href="ualib.html#61097" class="Bound">y</a>
   <a id="61138" href="ualib.html#61114" class="Function">h₀pre</a> <a id="61144" class="Symbol">=</a> <a id="61146" href="ualib.html#61094" class="Bound">hE</a> <a id="61149" href="ualib.html#61097" class="Bound">y</a>

   <a id="61155" href="ualib.html#61155" class="Function">h₀⁻¹y</a> <a id="61161" class="Symbol">:</a> <a id="61163" href="ualib.html#61081" class="Bound">X</a>
   <a id="61168" href="ualib.html#61155" class="Function">h₀⁻¹y</a> <a id="61174" class="Symbol">=</a> <a id="61176" href="ualib.html#29556" class="Function">Inv</a> <a id="61180" href="ualib.html#61091" class="Bound">h₀</a> <a id="61183" href="ualib.html#61097" class="Bound">y</a> <a id="61185" class="Symbol">(</a><a id="61186" href="ualib.html#61094" class="Bound">hE</a> <a id="61189" href="ualib.html#61097" class="Bound">y</a><a id="61190" class="Symbol">)</a>

   <a id="61196" href="ualib.html#61196" class="Function">η</a> <a id="61198" class="Symbol">:</a> <a id="61200" href="ualib.html#61097" class="Bound">y</a> <a id="61202" href="ualib.html#19941" class="Datatype Operator">≡</a> <a id="61204" href="ualib.html#21378" class="Function Operator">∣</a> <a id="61206" href="ualib.html#59459" class="Function">lift-hom</a><a id="61214" class="Symbol">{</a><a id="61215" class="Argument">𝑨</a> <a id="61217" class="Symbol">=</a> <a id="61219" href="ualib.html#61088" class="Bound">𝑨</a><a id="61220" class="Symbol">}</a> <a id="61222" href="ualib.html#61091" class="Bound">h₀</a> <a id="61225" href="ualib.html#21378" class="Function Operator">∣</a> <a id="61227" class="Symbol">(</a><a id="61228" href="ualib.html#58419" class="InductiveConstructor">generator</a> <a id="61238" href="ualib.html#61155" class="Function">h₀⁻¹y</a><a id="61243" class="Symbol">)</a>
   <a id="61248" href="ualib.html#61196" class="Function">η</a> <a id="61250" class="Symbol">=</a>
    <a id="61256" href="ualib.html#61097" class="Bound">y</a>                               <a id="61288" href="MGS-MLTT.html#5997" class="Function Operator">≡⟨</a> <a id="61291" class="Symbol">(</a><a id="61292" href="ualib.html#29835" class="Function">InvIsInv</a> <a id="61301" href="ualib.html#61091" class="Bound">h₀</a> <a id="61304" href="ualib.html#61097" class="Bound">y</a> <a id="61306" href="ualib.html#61114" class="Function">h₀pre</a><a id="61311" class="Symbol">)</a><a id="61312" href="MGS-MLTT.html#6125" class="Function Operator">⁻¹</a> <a id="61315" href="MGS-MLTT.html#5997" class="Function Operator">⟩</a>
    <a id="61321" href="ualib.html#61091" class="Bound">h₀</a> <a id="61324" href="ualib.html#61155" class="Function">h₀⁻¹y</a>                        <a id="61353" href="MGS-MLTT.html#5997" class="Function Operator">≡⟨</a> <a id="61356" href="ualib.html#60566" class="Function">lift-agrees-on-X</a><a id="61372" class="Symbol">{</a><a id="61373" class="Argument">𝑨</a> <a id="61375" class="Symbol">=</a> <a id="61377" href="ualib.html#61088" class="Bound">𝑨</a><a id="61378" class="Symbol">}</a> <a id="61380" href="ualib.html#61091" class="Bound">h₀</a> <a id="61383" href="ualib.html#61155" class="Function">h₀⁻¹y</a> <a id="61389" href="MGS-MLTT.html#5997" class="Function Operator">⟩</a>
    <a id="61395" href="ualib.html#21378" class="Function Operator">∣</a> <a id="61397" href="ualib.html#59459" class="Function">lift-hom</a><a id="61405" class="Symbol">{</a><a id="61406" class="Argument">𝑨</a> <a id="61408" class="Symbol">=</a> <a id="61410" href="ualib.html#61088" class="Bound">𝑨</a><a id="61411" class="Symbol">}</a> <a id="61413" href="ualib.html#61091" class="Bound">h₀</a> <a id="61416" href="ualib.html#21378" class="Function Operator">∣</a> <a id="61418" class="Symbol">(</a><a id="61419" href="ualib.html#58419" class="InductiveConstructor">generator</a> <a id="61429" href="ualib.html#61155" class="Function">h₀⁻¹y</a><a id="61434" class="Symbol">)</a> <a id="61436" href="MGS-MLTT.html#6079" class="Function Operator">∎</a>

   <a id="61442" href="ualib.html#61442" class="Function">γ</a> <a id="61444" class="Symbol">:</a> <a id="61446" href="ualib.html#28977" class="Datatype Operator">Image</a> <a id="61452" href="ualib.html#21378" class="Function Operator">∣</a> <a id="61454" href="ualib.html#59459" class="Function">lift-hom</a> <a id="61463" href="ualib.html#61091" class="Bound">h₀</a> <a id="61466" href="ualib.html#21378" class="Function Operator">∣</a> <a id="61468" href="ualib.html#28977" class="Datatype Operator">∋</a> <a id="61470" href="ualib.html#61097" class="Bound">y</a>
   <a id="61475" href="ualib.html#61442" class="Function">γ</a> <a id="61477" class="Symbol">=</a> <a id="61479" href="ualib.html#29076" class="InductiveConstructor">eq</a> <a id="61482" href="ualib.html#61097" class="Bound">y</a> <a id="61484" class="Symbol">(</a><a id="61485" href="ualib.html#58419" class="InductiveConstructor">generator</a> <a id="61495" href="ualib.html#61155" class="Function">h₀⁻¹y</a><a id="61500" class="Symbol">)</a> <a id="61502" href="ualib.html#61196" class="Function">η</a>
</pre>
<p>Finally, we prove that for every 𝑆-algebra 𝑪, there exists an epimorphism from 𝑻 onto 𝑪.</p>
<pre class="Agda">
 <a id="terms.𝑻hom-gen"></a><a id="61618" href="ualib.html#61618" class="Function">𝑻hom-gen</a> <a id="61627" class="Symbol">:</a> <a id="61629" class="Symbol">{</a><a id="61630" href="ualib.html#61630" class="Bound">𝓤</a> <a id="61632" class="Symbol">:</a> <a id="61634" href="Agda.Primitive.html#423" class="Postulate">Universe</a><a id="61642" class="Symbol">}{</a><a id="61644" href="ualib.html#61644" class="Bound">X</a> <a id="61646" class="Symbol">:</a> <a id="61648" href="ualib.html#61630" class="Bound">𝓤</a> <a id="61650" href="Universes.html#403" class="Function Operator">̇</a><a id="61651" class="Symbol">}</a> <a id="61653" class="Symbol">(</a><a id="61654" href="ualib.html#61654" class="Bound">𝑪</a> <a id="61656" class="Symbol">:</a> <a id="61658" href="ualib.html#35648" class="Function">Algebra</a> <a id="61666" href="ualib.html#61630" class="Bound">𝓤</a> <a id="61668" href="ualib.html#57938" class="Bound">𝑆</a><a id="61669" class="Symbol">)</a>
  <a id="61673" class="Symbol">→</a>         <a id="61683" href="MGS-MLTT.html#3074" class="Function">Σ</a> <a id="61685" href="ualib.html#61685" class="Bound">h</a> <a id="61687" href="MGS-MLTT.html#3074" class="Function">꞉</a> <a id="61689" class="Symbol">(</a><a id="61690" href="ualib.html#51876" class="Function">hom</a> <a id="61694" href="ualib.html#58724" class="Function">𝑻</a> <a id="61696" href="ualib.html#61654" class="Bound">𝑪</a><a id="61697" class="Symbol">)</a><a id="61698" href="MGS-MLTT.html#3074" class="Function">,</a> <a id="61700" href="ualib.html#30209" class="Function">Epic</a> <a id="61705" href="ualib.html#21378" class="Function Operator">∣</a> <a id="61707" href="ualib.html#61685" class="Bound">h</a> <a id="61709" href="ualib.html#21378" class="Function Operator">∣</a>
 <a id="61712" href="ualib.html#61618" class="Function">𝑻hom-gen</a> <a id="61721" class="Symbol">{</a><a id="61722" class="Argument">X</a> <a id="61724" class="Symbol">=</a> <a id="61726" href="ualib.html#61726" class="Bound">X</a><a id="61727" class="Symbol">}</a><a id="61728" href="ualib.html#61728" class="Bound">𝑪</a> <a id="61730" class="Symbol">=</a> <a id="61732" href="ualib.html#61846" class="Function">h</a> <a id="61734" href="ualib.html#20052" class="InductiveConstructor Operator">,</a> <a id="61736" href="ualib.html#60844" class="Function">lift-of-epic-is-epic</a> <a id="61757" href="ualib.html#61774" class="Function">h₀</a> <a id="61760" href="ualib.html#61811" class="Function">hE</a>
  <a id="61765" class="Keyword">where</a>
   <a id="61774" href="ualib.html#61774" class="Function">h₀</a> <a id="61777" class="Symbol">:</a> <a id="61779" href="ualib.html#61726" class="Bound">X</a> <a id="61781" class="Symbol">→</a> <a id="61783" href="ualib.html#21378" class="Function Operator">∣</a> <a id="61785" href="ualib.html#61728" class="Bound">𝑪</a> <a id="61787" href="ualib.html#21378" class="Function Operator">∣</a>
   <a id="61792" href="ualib.html#61774" class="Function">h₀</a> <a id="61795" class="Symbol">=</a> <a id="61797" href="ualib.html#21382" class="Function">fst</a> <a id="61801" class="Symbol">(</a><a id="61802" href="ualib.html#57959" class="Bound">𝕏</a> <a id="61804" href="ualib.html#61728" class="Bound">𝑪</a><a id="61805" class="Symbol">)</a>

   <a id="61811" href="ualib.html#61811" class="Function">hE</a> <a id="61814" class="Symbol">:</a> <a id="61816" href="ualib.html#30209" class="Function">Epic</a> <a id="61821" href="ualib.html#61774" class="Function">h₀</a>
   <a id="61827" href="ualib.html#61811" class="Function">hE</a> <a id="61830" class="Symbol">=</a> <a id="61832" href="ualib.html#21460" class="Function">snd</a> <a id="61836" class="Symbol">(</a><a id="61837" href="ualib.html#57959" class="Bound">𝕏</a> <a id="61839" href="ualib.html#61728" class="Bound">𝑪</a><a id="61840" class="Symbol">)</a>

   <a id="61846" href="ualib.html#61846" class="Function">h</a> <a id="61848" class="Symbol">:</a> <a id="61850" href="ualib.html#51876" class="Function">hom</a> <a id="61854" href="ualib.html#58724" class="Function">𝑻</a> <a id="61856" href="ualib.html#61728" class="Bound">𝑪</a>
   <a id="61861" href="ualib.html#61846" class="Function">h</a> <a id="61863" class="Symbol">=</a> <a id="61865" href="ualib.html#59459" class="Function">lift-hom</a><a id="61873" class="Symbol">{</a><a id="61874" class="Argument">𝑨</a> <a id="61876" class="Symbol">=</a> <a id="61878" href="ualib.html#61728" class="Bound">𝑪</a><a id="61879" class="Symbol">}</a> <a id="61881" href="ualib.html#61774" class="Function">h₀</a>
</pre>

<h3 id="interpretation">Interpretation</h3>

<p>Let <code class="language-plaintext highlighter-rouge">t : Term</code> be a term and <code class="language-plaintext highlighter-rouge">𝑨</code> an 𝑆-algebra. We define the 𝑛-ary operation <code class="language-plaintext highlighter-rouge">t ̇ 𝑨</code> on <code class="language-plaintext highlighter-rouge">𝑨</code> by structural recursion on <code class="language-plaintext highlighter-rouge">t</code>.</p>

<ol>
  <li>if <code class="language-plaintext highlighter-rouge">t = x ∈ X</code> (a variable) and <code class="language-plaintext highlighter-rouge">a : X → ∣ 𝑨 ∣</code> is a tuple of elements of <code class="language-plaintext highlighter-rouge">∣ 𝑨 ∣</code>, then <code class="language-plaintext highlighter-rouge">(t ̇ 𝑨) a = a x</code>.</li>
  <li>if <code class="language-plaintext highlighter-rouge">t = f args</code>, where <code class="language-plaintext highlighter-rouge">f ∈ ∣ 𝑆 ∣</code> is an op symbol and <code class="language-plaintext highlighter-rouge">args : ∥ 𝑆 ∥ f → Term</code> is an (<code class="language-plaintext highlighter-rouge">∥ 𝑆 ∥ f</code>)-tuple of terms and
<code class="language-plaintext highlighter-rouge">a : X → ∣ 𝑨 ∣</code> is a tuple from <code class="language-plaintext highlighter-rouge">𝑨</code>, then <code class="language-plaintext highlighter-rouge">(t ̇ 𝑨) a = ((f args) ̇ 𝑨) a = (f ̂ 𝑨) λ{ i → ((args i) ̇ 𝑨) a }</code></li>
</ol>

<pre class="Agda">
 <a id="terms._̇_"></a><a id="62400" href="ualib.html#62400" class="Function Operator">_̇_</a> <a id="62404" class="Symbol">:</a> <a id="62406" class="Symbol">{</a><a id="62407" href="ualib.html#62407" class="Bound">𝓤</a> <a id="62409" href="ualib.html#62409" class="Bound">𝓦</a> <a id="62411" class="Symbol">:</a> <a id="62413" href="Agda.Primitive.html#423" class="Postulate">Universe</a><a id="62421" class="Symbol">}{</a><a id="62423" href="ualib.html#62423" class="Bound">X</a> <a id="62425" class="Symbol">:</a> <a id="62427" href="ualib.html#62407" class="Bound">𝓤</a> <a id="62429" href="Universes.html#403" class="Function Operator">̇</a> <a id="62431" class="Symbol">}</a> <a id="62433" class="Symbol">→</a> <a id="62435" href="ualib.html#58364" class="Datatype">Term</a><a id="62439" class="Symbol">{</a><a id="62440" href="ualib.html#62407" class="Bound">𝓤</a><a id="62441" class="Symbol">}{</a><a id="62443" href="ualib.html#62423" class="Bound">X</a><a id="62444" class="Symbol">}</a>
  <a id="62448" class="Symbol">→</a>   <a id="62452" class="Symbol">(</a><a id="62453" href="ualib.html#62453" class="Bound">𝑨</a> <a id="62455" class="Symbol">:</a> <a id="62457" href="ualib.html#35648" class="Function">Algebra</a> <a id="62465" href="ualib.html#62409" class="Bound">𝓦</a> <a id="62467" href="ualib.html#57938" class="Bound">𝑆</a><a id="62468" class="Symbol">)</a> <a id="62470" class="Symbol">→</a> <a id="62472" class="Symbol">(</a><a id="62473" href="ualib.html#62423" class="Bound">X</a> <a id="62475" class="Symbol">→</a> <a id="62477" href="ualib.html#21378" class="Function Operator">∣</a> <a id="62479" href="ualib.html#62453" class="Bound">𝑨</a> <a id="62481" href="ualib.html#21378" class="Function Operator">∣</a><a id="62482" class="Symbol">)</a> <a id="62484" class="Symbol">→</a> <a id="62486" href="ualib.html#21378" class="Function Operator">∣</a> <a id="62488" href="ualib.html#62453" class="Bound">𝑨</a> <a id="62490" href="ualib.html#21378" class="Function Operator">∣</a>

 <a id="62494" class="Symbol">((</a><a id="62496" href="ualib.html#58419" class="InductiveConstructor">generator</a> <a id="62506" href="ualib.html#62506" class="Bound">x</a><a id="62507" class="Symbol">)</a> <a id="62509" href="ualib.html#62400" class="Function Operator">̇</a> <a id="62511" href="ualib.html#62511" class="Bound">𝑨</a><a id="62512" class="Symbol">)</a> <a id="62514" href="ualib.html#62514" class="Bound">𝒂</a> <a id="62516" class="Symbol">=</a> <a id="62518" href="ualib.html#62514" class="Bound">𝒂</a> <a id="62520" href="ualib.html#62506" class="Bound">x</a>

 <a id="62524" class="Symbol">((</a><a id="62526" href="ualib.html#58449" class="InductiveConstructor">node</a> <a id="62531" href="ualib.html#62531" class="Bound">f</a> <a id="62533" href="ualib.html#62533" class="Bound">args</a><a id="62537" class="Symbol">)</a> <a id="62539" href="ualib.html#62400" class="Function Operator">̇</a> <a id="62541" href="ualib.html#62541" class="Bound">𝑨</a><a id="62542" class="Symbol">)</a> <a id="62544" href="ualib.html#62544" class="Bound">𝒂</a> <a id="62546" class="Symbol">=</a> <a id="62548" class="Symbol">(</a><a id="62549" href="ualib.html#62531" class="Bound">f</a> <a id="62551" href="ualib.html#38193" class="Function Operator">̂</a> <a id="62553" href="ualib.html#62541" class="Bound">𝑨</a><a id="62554" class="Symbol">)</a> <a id="62556" class="Symbol">λ</a> <a id="62558" href="ualib.html#62558" class="Bound">i</a> <a id="62560" class="Symbol">→</a> <a id="62562" class="Symbol">(</a><a id="62563" href="ualib.html#62533" class="Bound">args</a> <a id="62568" href="ualib.html#62558" class="Bound">i</a> <a id="62570" href="ualib.html#62400" class="Function Operator">̇</a> <a id="62572" href="ualib.html#62541" class="Bound">𝑨</a><a id="62573" class="Symbol">)</a> <a id="62575" href="ualib.html#62544" class="Bound">𝒂</a>
</pre>
<p>Next we show that if <code class="language-plaintext highlighter-rouge">p : ∣ 𝑻(X) ∣</code> is a term, then there exists <code class="language-plaintext highlighter-rouge">𝓅 : ∣ 𝑻(X) ∣</code> and <code class="language-plaintext highlighter-rouge">𝒕 : X → ∣ 𝑻(X) ∣</code> such that</p>

<p><code class="language-plaintext highlighter-rouge">p ≡ (𝓅 ̇ 𝑻(X)) 𝒕</code>.</p>

<pre class="Agda">
 <a id="terms.term-op-interp1"></a><a id="62740" href="ualib.html#62740" class="Function">term-op-interp1</a> <a id="62756" class="Symbol">:</a> <a id="62758" class="Symbol">{</a><a id="62759" href="ualib.html#62759" class="Bound">𝓤</a> <a id="62761" class="Symbol">:</a> <a id="62763" href="Agda.Primitive.html#423" class="Postulate">Universe</a><a id="62771" class="Symbol">}{</a><a id="62773" href="ualib.html#62773" class="Bound">X</a> <a id="62775" class="Symbol">:</a> <a id="62777" href="ualib.html#62759" class="Bound">𝓤</a> <a id="62779" href="Universes.html#403" class="Function Operator">̇</a><a id="62780" class="Symbol">}(</a><a id="62782" href="ualib.html#62782" class="Bound">f</a> <a id="62784" class="Symbol">:</a> <a id="62786" href="ualib.html#21378" class="Function Operator">∣</a> <a id="62788" href="ualib.html#57938" class="Bound">𝑆</a> <a id="62790" href="ualib.html#21378" class="Function Operator">∣</a><a id="62791" class="Symbol">)(</a><a id="62793" href="ualib.html#62793" class="Bound">args</a> <a id="62798" class="Symbol">:</a> <a id="62800" href="ualib.html#21456" class="Function Operator">∥</a> <a id="62802" href="ualib.html#57938" class="Bound">𝑆</a> <a id="62804" href="ualib.html#21456" class="Function Operator">∥</a> <a id="62806" href="ualib.html#62782" class="Bound">f</a> <a id="62808" class="Symbol">→</a> <a id="62810" href="ualib.html#58364" class="Datatype">Term</a><a id="62814" class="Symbol">{</a><a id="62815" href="ualib.html#62759" class="Bound">𝓤</a><a id="62816" class="Symbol">}{</a><a id="62818" href="ualib.html#62773" class="Bound">X</a><a id="62819" class="Symbol">})</a> <a id="62822" class="Symbol">→</a>
  <a id="62826" href="ualib.html#58449" class="InductiveConstructor">node</a> <a id="62831" href="ualib.html#62782" class="Bound">f</a> <a id="62833" href="ualib.html#62793" class="Bound">args</a> <a id="62838" href="ualib.html#19941" class="Datatype Operator">≡</a> <a id="62840" class="Symbol">(</a><a id="62841" href="ualib.html#62782" class="Bound">f</a> <a id="62843" href="ualib.html#38193" class="Function Operator">̂</a> <a id="62845" href="ualib.html#58724" class="Function">𝑻</a><a id="62846" class="Symbol">)</a> <a id="62848" href="ualib.html#62793" class="Bound">args</a>

 <a id="62855" href="ualib.html#62740" class="Function">term-op-interp1</a> <a id="62871" class="Symbol">=</a> <a id="62873" class="Symbol">λ</a> <a id="62875" href="ualib.html#62875" class="Bound">f</a> <a id="62877" href="ualib.html#62877" class="Bound">args</a> <a id="62882" class="Symbol">→</a> <a id="62884" href="ualib.html#19955" class="InductiveConstructor">𝓇ℯ𝒻𝓁</a>


 <a id="terms.term-op-interp2"></a><a id="62892" href="ualib.html#62892" class="Function">term-op-interp2</a> <a id="62908" class="Symbol">:</a> <a id="62910" class="Symbol">{</a><a id="62911" href="ualib.html#62911" class="Bound">𝓤</a> <a id="62913" class="Symbol">:</a> <a id="62915" href="Agda.Primitive.html#423" class="Postulate">Universe</a><a id="62923" class="Symbol">}{</a><a id="62925" href="ualib.html#62925" class="Bound">X</a> <a id="62927" class="Symbol">:</a> <a id="62929" href="ualib.html#62911" class="Bound">𝓤</a> <a id="62931" href="Universes.html#403" class="Function Operator">̇</a><a id="62932" class="Symbol">}(</a><a id="62934" href="ualib.html#62934" class="Bound">f</a> <a id="62936" class="Symbol">:</a> <a id="62938" href="ualib.html#21378" class="Function Operator">∣</a> <a id="62940" href="ualib.html#57938" class="Bound">𝑆</a> <a id="62942" href="ualib.html#21378" class="Function Operator">∣</a><a id="62943" class="Symbol">){</a><a id="62945" href="ualib.html#62945" class="Bound">a1</a> <a id="62948" href="ualib.html#62948" class="Bound">a2</a> <a id="62951" class="Symbol">:</a> <a id="62953" href="ualib.html#21456" class="Function Operator">∥</a> <a id="62955" href="ualib.html#57938" class="Bound">𝑆</a> <a id="62957" href="ualib.html#21456" class="Function Operator">∥</a> <a id="62959" href="ualib.html#62934" class="Bound">f</a> <a id="62961" class="Symbol">→</a> <a id="62963" href="ualib.html#58364" class="Datatype">Term</a><a id="62967" class="Symbol">{</a><a id="62968" href="ualib.html#62911" class="Bound">𝓤</a><a id="62969" class="Symbol">}{</a><a id="62971" href="ualib.html#62925" class="Bound">X</a><a id="62972" class="Symbol">}}</a>
                 <a id="62992" class="Comment">------------------------------------------------------------------</a>
  <a id="63061" class="Symbol">→</a>                <a id="63078" href="ualib.html#62945" class="Bound">a1</a> <a id="63081" href="ualib.html#19941" class="Datatype Operator">≡</a> <a id="63083" href="ualib.html#62948" class="Bound">a2</a>   <a id="63088" class="Symbol">→</a>   <a id="63092" href="ualib.html#58449" class="InductiveConstructor">node</a> <a id="63097" href="ualib.html#62934" class="Bound">f</a> <a id="63099" href="ualib.html#62945" class="Bound">a1</a> <a id="63102" href="ualib.html#19941" class="Datatype Operator">≡</a> <a id="63104" href="ualib.html#58449" class="InductiveConstructor">node</a> <a id="63109" href="ualib.html#62934" class="Bound">f</a> <a id="63111" href="ualib.html#62948" class="Bound">a2</a>

 <a id="63116" href="ualib.html#62892" class="Function">term-op-interp2</a> <a id="63132" href="ualib.html#63132" class="Bound">f</a> <a id="63134" href="ualib.html#63134" class="Bound">a1≡a2</a> <a id="63140" class="Symbol">=</a> <a id="63142" href="MGS-MLTT.html#6613" class="Function">ap</a> <a id="63145" class="Symbol">(</a><a id="63146" href="ualib.html#58449" class="InductiveConstructor">node</a> <a id="63151" href="ualib.html#63132" class="Bound">f</a><a id="63152" class="Symbol">)</a> <a id="63154" href="ualib.html#63134" class="Bound">a1≡a2</a>


 <a id="terms.term-op-interp3"></a><a id="63163" href="ualib.html#63163" class="Function">term-op-interp3</a> <a id="63179" class="Symbol">:</a> <a id="63181" class="Symbol">{</a><a id="63182" href="ualib.html#63182" class="Bound">𝓤</a> <a id="63184" class="Symbol">:</a> <a id="63186" href="Agda.Primitive.html#423" class="Postulate">Universe</a><a id="63194" class="Symbol">}{</a><a id="63196" href="ualib.html#63196" class="Bound">X</a> <a id="63198" class="Symbol">:</a> <a id="63200" href="ualib.html#63182" class="Bound">𝓤</a> <a id="63202" href="Universes.html#403" class="Function Operator">̇</a><a id="63203" class="Symbol">}(</a><a id="63205" href="ualib.html#63205" class="Bound">f</a> <a id="63207" class="Symbol">:</a> <a id="63209" href="ualib.html#21378" class="Function Operator">∣</a> <a id="63211" href="ualib.html#57938" class="Bound">𝑆</a> <a id="63213" href="ualib.html#21378" class="Function Operator">∣</a><a id="63214" class="Symbol">){</a><a id="63216" href="ualib.html#63216" class="Bound">a1</a> <a id="63219" href="ualib.html#63219" class="Bound">a2</a> <a id="63222" class="Symbol">:</a> <a id="63224" href="ualib.html#21456" class="Function Operator">∥</a> <a id="63226" href="ualib.html#57938" class="Bound">𝑆</a> <a id="63228" href="ualib.html#21456" class="Function Operator">∥</a> <a id="63230" href="ualib.html#63205" class="Bound">f</a> <a id="63232" class="Symbol">→</a> <a id="63234" href="ualib.html#58364" class="Datatype">Term</a><a id="63238" class="Symbol">{</a><a id="63239" href="ualib.html#63182" class="Bound">𝓤</a><a id="63240" class="Symbol">}{</a><a id="63242" href="ualib.html#63196" class="Bound">X</a><a id="63243" class="Symbol">}}</a>
                  <a id="63264" class="Comment">----------------------------------------------------------------</a>
  <a id="63331" class="Symbol">→</a>                <a id="63348" href="ualib.html#63216" class="Bound">a1</a> <a id="63351" href="ualib.html#19941" class="Datatype Operator">≡</a> <a id="63353" href="ualib.html#63219" class="Bound">a2</a>   <a id="63358" class="Symbol">→</a>   <a id="63362" href="ualib.html#58449" class="InductiveConstructor">node</a> <a id="63367" href="ualib.html#63205" class="Bound">f</a> <a id="63369" href="ualib.html#63216" class="Bound">a1</a> <a id="63372" href="ualib.html#19941" class="Datatype Operator">≡</a> <a id="63374" class="Symbol">(</a><a id="63375" href="ualib.html#63205" class="Bound">f</a> <a id="63377" href="ualib.html#38193" class="Function Operator">̂</a> <a id="63379" href="ualib.html#58724" class="Function">𝑻</a><a id="63380" class="Symbol">)</a> <a id="63382" href="ualib.html#63219" class="Bound">a2</a>

 <a id="63387" href="ualib.html#63163" class="Function">term-op-interp3</a> <a id="63403" href="ualib.html#63403" class="Bound">f</a> <a id="63405" class="Symbol">{</a><a id="63406" href="ualib.html#63406" class="Bound">a1</a><a id="63408" class="Symbol">}{</a><a id="63410" href="ualib.html#63410" class="Bound">a2</a><a id="63412" class="Symbol">}</a> <a id="63414" href="ualib.html#63414" class="Bound">a1≡a2</a> <a id="63420" class="Symbol">=</a>
  <a id="63424" href="ualib.html#58449" class="InductiveConstructor">node</a> <a id="63429" href="ualib.html#63403" class="Bound">f</a> <a id="63431" href="ualib.html#63406" class="Bound">a1</a>     <a id="63438" href="MGS-MLTT.html#5997" class="Function Operator">≡⟨</a> <a id="63441" href="ualib.html#62892" class="Function">term-op-interp2</a> <a id="63457" href="ualib.html#63403" class="Bound">f</a> <a id="63459" href="ualib.html#63414" class="Bound">a1≡a2</a> <a id="63465" href="MGS-MLTT.html#5997" class="Function Operator">⟩</a>
  <a id="63469" href="ualib.html#58449" class="InductiveConstructor">node</a> <a id="63474" href="ualib.html#63403" class="Bound">f</a> <a id="63476" href="ualib.html#63410" class="Bound">a2</a>     <a id="63483" href="MGS-MLTT.html#5997" class="Function Operator">≡⟨</a> <a id="63486" href="ualib.html#62740" class="Function">term-op-interp1</a> <a id="63502" href="ualib.html#63403" class="Bound">f</a> <a id="63504" href="ualib.html#63410" class="Bound">a2</a> <a id="63507" href="MGS-MLTT.html#5997" class="Function Operator">⟩</a>
  <a id="63511" class="Symbol">(</a><a id="63512" href="ualib.html#63403" class="Bound">f</a> <a id="63514" href="ualib.html#38193" class="Function Operator">̂</a> <a id="63516" href="ualib.html#58724" class="Function">𝑻</a><a id="63517" class="Symbol">)</a> <a id="63519" href="ualib.html#63410" class="Bound">a2</a>    <a id="63525" href="MGS-MLTT.html#6079" class="Function Operator">∎</a>

 <a id="terms.term-gen"></a><a id="63529" href="ualib.html#63529" class="Function">term-gen</a> <a id="63538" class="Symbol">:</a> <a id="63540" class="Symbol">{</a><a id="63541" href="ualib.html#63541" class="Bound">𝓤</a> <a id="63543" class="Symbol">:</a> <a id="63545" href="Agda.Primitive.html#423" class="Postulate">Universe</a><a id="63553" class="Symbol">}{</a><a id="63555" href="ualib.html#63555" class="Bound">X</a> <a id="63557" class="Symbol">:</a> <a id="63559" href="ualib.html#63541" class="Bound">𝓤</a> <a id="63561" href="Universes.html#403" class="Function Operator">̇</a><a id="63562" class="Symbol">}(</a><a id="63564" href="ualib.html#63564" class="Bound">p</a> <a id="63566" class="Symbol">:</a> <a id="63568" href="ualib.html#21378" class="Function Operator">∣</a> <a id="63570" href="ualib.html#58724" class="Function">𝑻</a><a id="63571" class="Symbol">{</a><a id="63572" href="ualib.html#63541" class="Bound">𝓤</a><a id="63573" class="Symbol">}{</a><a id="63575" href="ualib.html#63555" class="Bound">X</a><a id="63576" class="Symbol">}</a> <a id="63578" href="ualib.html#21378" class="Function Operator">∣</a><a id="63579" class="Symbol">)</a>
  <a id="63583" class="Symbol">→</a>         <a id="63593" href="MGS-MLTT.html#3074" class="Function">Σ</a> <a id="63595" href="ualib.html#63595" class="Bound">𝓅</a> <a id="63597" href="MGS-MLTT.html#3074" class="Function">꞉</a> <a id="63599" href="ualib.html#21378" class="Function Operator">∣</a> <a id="63601" href="ualib.html#58724" class="Function">𝑻</a><a id="63602" class="Symbol">{</a><a id="63603" href="ualib.html#63541" class="Bound">𝓤</a><a id="63604" class="Symbol">}{</a><a id="63606" href="ualib.html#63555" class="Bound">X</a><a id="63607" class="Symbol">}</a> <a id="63609" href="ualib.html#21378" class="Function Operator">∣</a> <a id="63611" href="MGS-MLTT.html#3074" class="Function">,</a> <a id="63613" href="ualib.html#63564" class="Bound">p</a> <a id="63615" href="ualib.html#19941" class="Datatype Operator">≡</a> <a id="63617" class="Symbol">(</a><a id="63618" href="ualib.html#63595" class="Bound">𝓅</a> <a id="63620" href="ualib.html#62400" class="Function Operator">̇</a> <a id="63622" href="ualib.html#58724" class="Function">𝑻</a><a id="63623" class="Symbol">{</a><a id="63624" href="ualib.html#63541" class="Bound">𝓤</a><a id="63625" class="Symbol">}{</a><a id="63627" href="ualib.html#63555" class="Bound">X</a><a id="63628" class="Symbol">})</a> <a id="63631" href="ualib.html#58419" class="InductiveConstructor">generator</a>

 <a id="63643" href="ualib.html#63529" class="Function">term-gen</a> <a id="63652" class="Symbol">(</a><a id="63653" href="ualib.html#58419" class="InductiveConstructor">generator</a> <a id="63663" href="ualib.html#63663" class="Bound">x</a><a id="63664" class="Symbol">)</a> <a id="63666" class="Symbol">=</a> <a id="63668" class="Symbol">(</a><a id="63669" href="ualib.html#58419" class="InductiveConstructor">generator</a> <a id="63679" href="ualib.html#63663" class="Bound">x</a><a id="63680" class="Symbol">)</a> <a id="63682" href="ualib.html#20052" class="InductiveConstructor Operator">,</a> <a id="63684" href="ualib.html#19955" class="InductiveConstructor">𝓇ℯ𝒻𝓁</a>
 <a id="63690" href="ualib.html#63529" class="Function">term-gen</a> <a id="63699" class="Symbol">(</a><a id="63700" href="ualib.html#58449" class="InductiveConstructor">node</a> <a id="63705" href="ualib.html#63705" class="Bound">f</a> <a id="63707" href="ualib.html#63707" class="Bound">args</a><a id="63711" class="Symbol">)</a> <a id="63713" class="Symbol">=</a>
   <a id="63718" href="ualib.html#58449" class="InductiveConstructor">node</a> <a id="63723" href="ualib.html#63705" class="Bound">f</a> <a id="63725" class="Symbol">(λ</a> <a id="63728" href="ualib.html#63728" class="Bound">i</a> <a id="63730" class="Symbol">→</a> <a id="63732" href="ualib.html#21378" class="Function Operator">∣</a> <a id="63734" href="ualib.html#63529" class="Function">term-gen</a> <a id="63743" class="Symbol">(</a><a id="63744" href="ualib.html#63707" class="Bound">args</a> <a id="63749" href="ualib.html#63728" class="Bound">i</a><a id="63750" class="Symbol">)</a> <a id="63752" href="ualib.html#21378" class="Function Operator">∣</a> <a id="63754" class="Symbol">)</a> <a id="63756" href="ualib.html#20052" class="InductiveConstructor Operator">,</a>
     <a id="63763" href="ualib.html#63163" class="Function">term-op-interp3</a> <a id="63779" href="ualib.html#63705" class="Bound">f</a> <a id="63781" class="Symbol">(</a><a id="63782" href="ualib.html#58018" class="Bound">gfe</a> <a id="63786" class="Symbol">λ</a> <a id="63788" href="ualib.html#63788" class="Bound">i</a> <a id="63790" class="Symbol">→</a> <a id="63792" href="ualib.html#21456" class="Function Operator">∥</a> <a id="63794" href="ualib.html#63529" class="Function">term-gen</a> <a id="63803" class="Symbol">(</a><a id="63804" href="ualib.html#63707" class="Bound">args</a> <a id="63809" href="ualib.html#63788" class="Bound">i</a><a id="63810" class="Symbol">)</a> <a id="63812" href="ualib.html#21456" class="Function Operator">∥</a><a id="63813" class="Symbol">)</a>

 <a id="terms.tg"></a><a id="63817" href="ualib.html#63817" class="Function">tg</a> <a id="63820" class="Symbol">:</a> <a id="63822" class="Symbol">{</a><a id="63823" href="ualib.html#63823" class="Bound">𝓤</a> <a id="63825" class="Symbol">:</a> <a id="63827" href="Agda.Primitive.html#423" class="Postulate">Universe</a><a id="63835" class="Symbol">}{</a><a id="63837" href="ualib.html#63837" class="Bound">X</a> <a id="63839" class="Symbol">:</a> <a id="63841" href="ualib.html#63823" class="Bound">𝓤</a> <a id="63843" href="Universes.html#403" class="Function Operator">̇</a><a id="63844" class="Symbol">}(</a><a id="63846" href="ualib.html#63846" class="Bound">p</a> <a id="63848" class="Symbol">:</a> <a id="63850" href="ualib.html#21378" class="Function Operator">∣</a> <a id="63852" href="ualib.html#58724" class="Function">𝑻</a><a id="63853" class="Symbol">{</a><a id="63854" href="ualib.html#63823" class="Bound">𝓤</a><a id="63855" class="Symbol">}{</a><a id="63857" href="ualib.html#63837" class="Bound">X</a><a id="63858" class="Symbol">}</a> <a id="63860" href="ualib.html#21378" class="Function Operator">∣</a><a id="63861" class="Symbol">)</a> <a id="63863" class="Symbol">→</a> <a id="63865" href="MGS-MLTT.html#3074" class="Function">Σ</a> <a id="63867" href="ualib.html#63867" class="Bound">𝓅</a> <a id="63869" href="MGS-MLTT.html#3074" class="Function">꞉</a> <a id="63871" href="ualib.html#21378" class="Function Operator">∣</a> <a id="63873" href="ualib.html#58724" class="Function">𝑻</a> <a id="63875" href="ualib.html#21378" class="Function Operator">∣</a> <a id="63877" href="MGS-MLTT.html#3074" class="Function">,</a> <a id="63879" href="ualib.html#63846" class="Bound">p</a> <a id="63881" href="ualib.html#19941" class="Datatype Operator">≡</a> <a id="63883" class="Symbol">(</a><a id="63884" href="ualib.html#63867" class="Bound">𝓅</a> <a id="63886" href="ualib.html#62400" class="Function Operator">̇</a> <a id="63888" href="ualib.html#58724" class="Function">𝑻</a><a id="63889" class="Symbol">)</a> <a id="63891" href="ualib.html#58419" class="InductiveConstructor">generator</a>
 <a id="63902" href="ualib.html#63817" class="Function">tg</a> <a id="63905" href="ualib.html#63905" class="Bound">p</a> <a id="63907" class="Symbol">=</a> <a id="63909" href="ualib.html#63529" class="Function">term-gen</a> <a id="63918" href="ualib.html#63905" class="Bound">p</a>

 <a id="terms.term-gen-agreement"></a><a id="63922" href="ualib.html#63922" class="Function">term-gen-agreement</a> <a id="63941" class="Symbol">:</a> <a id="63943" class="Symbol">{</a><a id="63944" href="ualib.html#63944" class="Bound">𝓤</a> <a id="63946" class="Symbol">:</a> <a id="63948" href="Agda.Primitive.html#423" class="Postulate">Universe</a><a id="63956" class="Symbol">}{</a><a id="63958" href="ualib.html#63958" class="Bound">X</a> <a id="63960" class="Symbol">:</a> <a id="63962" href="ualib.html#63944" class="Bound">𝓤</a> <a id="63964" href="Universes.html#403" class="Function Operator">̇</a><a id="63965" class="Symbol">}(</a><a id="63967" href="ualib.html#63967" class="Bound">p</a> <a id="63969" class="Symbol">:</a> <a id="63971" href="ualib.html#21378" class="Function Operator">∣</a> <a id="63973" href="ualib.html#58724" class="Function">𝑻</a><a id="63974" class="Symbol">{</a><a id="63975" href="ualib.html#63944" class="Bound">𝓤</a><a id="63976" class="Symbol">}{</a><a id="63978" href="ualib.html#63958" class="Bound">X</a><a id="63979" class="Symbol">}</a> <a id="63981" href="ualib.html#21378" class="Function Operator">∣</a><a id="63982" class="Symbol">)</a>
  <a id="63986" class="Symbol">→</a>                   <a id="64006" class="Symbol">(</a><a id="64007" href="ualib.html#63967" class="Bound">p</a> <a id="64009" href="ualib.html#62400" class="Function Operator">̇</a> <a id="64011" href="ualib.html#58724" class="Function">𝑻</a><a id="64012" class="Symbol">)</a><a id="64013" href="ualib.html#58419" class="InductiveConstructor">generator</a> <a id="64023" href="ualib.html#19941" class="Datatype Operator">≡</a> <a id="64025" class="Symbol">(</a><a id="64026" href="ualib.html#21378" class="Function Operator">∣</a> <a id="64028" href="ualib.html#63529" class="Function">term-gen</a> <a id="64037" href="ualib.html#63967" class="Bound">p</a> <a id="64039" href="ualib.html#21378" class="Function Operator">∣</a> <a id="64041" href="ualib.html#62400" class="Function Operator">̇</a> <a id="64043" href="ualib.html#58724" class="Function">𝑻</a><a id="64044" class="Symbol">)</a><a id="64045" href="ualib.html#58419" class="InductiveConstructor">generator</a>

 <a id="64057" href="ualib.html#63922" class="Function">term-gen-agreement</a> <a id="64076" class="Symbol">(</a><a id="64077" href="ualib.html#58419" class="InductiveConstructor">generator</a> <a id="64087" href="ualib.html#64087" class="Bound">x</a><a id="64088" class="Symbol">)</a> <a id="64090" class="Symbol">=</a> <a id="64092" href="ualib.html#19955" class="InductiveConstructor">𝓇ℯ𝒻𝓁</a>
 <a id="64098" href="ualib.html#63922" class="Function">term-gen-agreement</a> <a id="64117" class="Symbol">(</a><a id="64118" href="ualib.html#58449" class="InductiveConstructor">node</a> <a id="64123" href="ualib.html#64123" class="Bound">f</a> <a id="64125" href="ualib.html#64125" class="Bound">args</a><a id="64129" class="Symbol">)</a> <a id="64131" class="Symbol">=</a> <a id="64133" href="MGS-MLTT.html#6613" class="Function">ap</a> <a id="64136" class="Symbol">(</a><a id="64137" href="ualib.html#64123" class="Bound">f</a> <a id="64139" href="ualib.html#38193" class="Function Operator">̂</a> <a id="64141" href="ualib.html#58724" class="Function">𝑻</a><a id="64142" class="Symbol">)</a> <a id="64144" class="Symbol">(</a><a id="64145" href="ualib.html#58018" class="Bound">gfe</a> <a id="64149" class="Symbol">λ</a> <a id="64151" href="ualib.html#64151" class="Bound">x</a> <a id="64153" class="Symbol">→</a> <a id="64155" href="ualib.html#63922" class="Function">term-gen-agreement</a> <a id="64174" class="Symbol">(</a><a id="64175" href="ualib.html#64125" class="Bound">args</a> <a id="64180" href="ualib.html#64151" class="Bound">x</a><a id="64181" class="Symbol">))</a>

 <a id="terms.term-agreement"></a><a id="64186" href="ualib.html#64186" class="Function">term-agreement</a> <a id="64201" class="Symbol">:</a> <a id="64203" class="Symbol">{</a><a id="64204" href="ualib.html#64204" class="Bound">𝓤</a> <a id="64206" class="Symbol">:</a> <a id="64208" href="Agda.Primitive.html#423" class="Postulate">Universe</a><a id="64216" class="Symbol">}{</a><a id="64218" href="ualib.html#64218" class="Bound">X</a> <a id="64220" class="Symbol">:</a> <a id="64222" href="ualib.html#64204" class="Bound">𝓤</a> <a id="64224" href="Universes.html#403" class="Function Operator">̇</a><a id="64225" class="Symbol">}(</a><a id="64227" href="ualib.html#64227" class="Bound">p</a> <a id="64229" class="Symbol">:</a> <a id="64231" href="ualib.html#21378" class="Function Operator">∣</a> <a id="64233" href="ualib.html#58724" class="Function">𝑻</a><a id="64234" class="Symbol">{</a><a id="64235" href="ualib.html#64204" class="Bound">𝓤</a><a id="64236" class="Symbol">}{</a><a id="64238" href="ualib.html#64218" class="Bound">X</a><a id="64239" class="Symbol">}</a> <a id="64241" href="ualib.html#21378" class="Function Operator">∣</a><a id="64242" class="Symbol">)</a> <a id="64244" class="Symbol">→</a> <a id="64246" href="ualib.html#64227" class="Bound">p</a> <a id="64248" href="ualib.html#19941" class="Datatype Operator">≡</a> <a id="64250" class="Symbol">(</a><a id="64251" href="ualib.html#64227" class="Bound">p</a> <a id="64253" href="ualib.html#62400" class="Function Operator">̇</a> <a id="64255" href="ualib.html#58724" class="Function">𝑻</a><a id="64256" class="Symbol">)</a> <a id="64258" href="ualib.html#58419" class="InductiveConstructor">generator</a>
 <a id="64269" href="ualib.html#64186" class="Function">term-agreement</a> <a id="64284" href="ualib.html#64284" class="Bound">p</a> <a id="64286" class="Symbol">=</a> <a id="64288" href="ualib.html#21460" class="Function">snd</a> <a id="64292" class="Symbol">(</a><a id="64293" href="ualib.html#63817" class="Function">tg</a> <a id="64296" href="ualib.html#64284" class="Bound">p</a><a id="64297" class="Symbol">)</a> <a id="64299" href="MGS-MLTT.html#5910" class="Function Operator">∙</a> <a id="64301" class="Symbol">(</a><a id="64302" href="ualib.html#63922" class="Function">term-gen-agreement</a> <a id="64321" href="ualib.html#64284" class="Bound">p</a><a id="64322" class="Symbol">)</a><a id="64323" href="MGS-MLTT.html#6125" class="Function Operator">⁻¹</a>
</pre>
<p>Here are some definitions that are useful when dealing with the interpretations of terms in a product structure.</p>

<pre class="Agda">
 <a id="terms.interp-prod"></a><a id="64465" href="ualib.html#64465" class="Function">interp-prod</a> <a id="64477" class="Symbol">:</a> <a id="64479" class="Symbol">{</a><a id="64480" href="ualib.html#64480" class="Bound">𝓤</a> <a id="64482" href="ualib.html#64482" class="Bound">𝓦</a> <a id="64484" class="Symbol">:</a> <a id="64486" href="Agda.Primitive.html#423" class="Postulate">Universe</a><a id="64494" class="Symbol">}{</a><a id="64496" href="ualib.html#64496" class="Bound">X</a> <a id="64498" class="Symbol">:</a> <a id="64500" href="ualib.html#64480" class="Bound">𝓤</a> <a id="64502" href="Universes.html#403" class="Function Operator">̇</a><a id="64503" class="Symbol">}</a> <a id="64505" class="Symbol">→</a> <a id="64507" href="MGS-FunExt-from-Univalence.html#393" class="Function">funext</a> <a id="64514" href="ualib.html#57954" class="Bound">𝓥</a> <a id="64516" href="ualib.html#64482" class="Bound">𝓦</a>
  <a id="64520" class="Symbol">→</a>            <a id="64533" class="Symbol">{</a><a id="64534" href="ualib.html#64534" class="Bound">I</a> <a id="64536" class="Symbol">:</a> <a id="64538" href="ualib.html#64482" class="Bound">𝓦</a> <a id="64540" href="Universes.html#403" class="Function Operator">̇</a><a id="64541" class="Symbol">}(</a><a id="64543" href="ualib.html#64543" class="Bound">p</a> <a id="64545" class="Symbol">:</a> <a id="64547" href="ualib.html#58364" class="Datatype">Term</a><a id="64551" class="Symbol">{</a><a id="64552" href="ualib.html#64480" class="Bound">𝓤</a><a id="64553" class="Symbol">}{</a><a id="64555" href="ualib.html#64496" class="Bound">X</a><a id="64556" class="Symbol">})</a>
               <a id="64574" class="Symbol">(</a><a id="64575" href="ualib.html#64575" class="Bound">𝒜</a> <a id="64577" class="Symbol">:</a> <a id="64579" href="ualib.html#64534" class="Bound">I</a> <a id="64581" class="Symbol">→</a> <a id="64583" href="ualib.html#35648" class="Function">Algebra</a> <a id="64591" href="ualib.html#64482" class="Bound">𝓦</a> <a id="64593" href="ualib.html#57938" class="Bound">𝑆</a><a id="64594" class="Symbol">)</a>
               <a id="64611" class="Symbol">(</a><a id="64612" href="ualib.html#64612" class="Bound">x</a> <a id="64614" class="Symbol">:</a> <a id="64616" href="ualib.html#64496" class="Bound">X</a> <a id="64618" class="Symbol">→</a> <a id="64620" class="Symbol">∀</a> <a id="64622" href="ualib.html#64622" class="Bound">i</a> <a id="64624" class="Symbol">→</a> <a id="64626" href="ualib.html#21378" class="Function Operator">∣</a> <a id="64628" class="Symbol">(</a><a id="64629" href="ualib.html#64575" class="Bound">𝒜</a> <a id="64631" href="ualib.html#64622" class="Bound">i</a><a id="64632" class="Symbol">)</a> <a id="64634" href="ualib.html#21378" class="Function Operator">∣</a><a id="64635" class="Symbol">)</a>
  <a id="64639" class="Symbol">→</a>            <a id="64652" class="Symbol">(</a><a id="64653" href="ualib.html#64543" class="Bound">p</a> <a id="64655" href="ualib.html#62400" class="Function Operator">̇</a> <a id="64657" class="Symbol">(</a><a id="64658" href="ualib.html#38896" class="Function">⨅</a> <a id="64660" href="ualib.html#64575" class="Bound">𝒜</a><a id="64661" class="Symbol">))</a> <a id="64664" href="ualib.html#64612" class="Bound">x</a> <a id="64666" href="ualib.html#19941" class="Datatype Operator">≡</a> <a id="64668" class="Symbol">(λ</a> <a id="64671" href="ualib.html#64671" class="Bound">i</a> <a id="64673" class="Symbol">→</a> <a id="64675" class="Symbol">(</a><a id="64676" href="ualib.html#64543" class="Bound">p</a> <a id="64678" href="ualib.html#62400" class="Function Operator">̇</a> <a id="64680" href="ualib.html#64575" class="Bound">𝒜</a> <a id="64682" href="ualib.html#64671" class="Bound">i</a><a id="64683" class="Symbol">)</a> <a id="64685" class="Symbol">(λ</a> <a id="64688" href="ualib.html#64688" class="Bound">j</a> <a id="64690" class="Symbol">→</a> <a id="64692" href="ualib.html#64612" class="Bound">x</a> <a id="64694" href="ualib.html#64688" class="Bound">j</a> <a id="64696" href="ualib.html#64671" class="Bound">i</a><a id="64697" class="Symbol">))</a>

 <a id="64702" href="ualib.html#64465" class="Function">interp-prod</a> <a id="64714" href="ualib.html#64714" class="Bound">fe</a> <a id="64717" class="Symbol">(</a><a id="64718" href="ualib.html#58419" class="InductiveConstructor">generator</a> <a id="64728" href="ualib.html#64728" class="Bound">x₁</a><a id="64730" class="Symbol">)</a> <a id="64732" href="ualib.html#64732" class="Bound">𝒜</a> <a id="64734" href="ualib.html#64734" class="Bound">x</a> <a id="64736" class="Symbol">=</a> <a id="64738" href="ualib.html#19955" class="InductiveConstructor">𝓇ℯ𝒻𝓁</a>

 <a id="64745" href="ualib.html#64465" class="Function">interp-prod</a> <a id="64757" href="ualib.html#64757" class="Bound">fe</a> <a id="64760" class="Symbol">(</a><a id="64761" href="ualib.html#58449" class="InductiveConstructor">node</a> <a id="64766" href="ualib.html#64766" class="Bound">f</a> <a id="64768" href="ualib.html#64768" class="Bound">t</a><a id="64769" class="Symbol">)</a> <a id="64771" href="ualib.html#64771" class="Bound">𝒜</a> <a id="64773" href="ualib.html#64773" class="Bound">x</a> <a id="64775" class="Symbol">=</a>
  <a id="64779" class="Keyword">let</a> <a id="64783" href="ualib.html#64783" class="Bound">IH</a> <a id="64786" class="Symbol">=</a> <a id="64788" class="Symbol">λ</a> <a id="64790" href="ualib.html#64790" class="Bound">x₁</a> <a id="64793" class="Symbol">→</a> <a id="64795" href="ualib.html#64465" class="Function">interp-prod</a> <a id="64807" href="ualib.html#64757" class="Bound">fe</a> <a id="64810" class="Symbol">(</a><a id="64811" href="ualib.html#64768" class="Bound">t</a> <a id="64813" href="ualib.html#64790" class="Bound">x₁</a><a id="64815" class="Symbol">)</a> <a id="64817" href="ualib.html#64771" class="Bound">𝒜</a> <a id="64819" href="ualib.html#64773" class="Bound">x</a> <a id="64821" class="Keyword">in</a>
   <a id="64827" class="Symbol">(</a><a id="64828" href="ualib.html#64766" class="Bound">f</a> <a id="64830" href="ualib.html#38193" class="Function Operator">̂</a> <a id="64832" href="ualib.html#38896" class="Function">⨅</a> <a id="64834" href="ualib.html#64771" class="Bound">𝒜</a><a id="64835" class="Symbol">)(λ</a> <a id="64839" href="ualib.html#64839" class="Bound">x₁</a> <a id="64842" class="Symbol">→</a> <a id="64844" class="Symbol">(</a><a id="64845" href="ualib.html#64768" class="Bound">t</a> <a id="64847" href="ualib.html#64839" class="Bound">x₁</a> <a id="64850" href="ualib.html#62400" class="Function Operator">̇</a> <a id="64852" href="ualib.html#38896" class="Function">⨅</a> <a id="64854" href="ualib.html#64771" class="Bound">𝒜</a><a id="64855" class="Symbol">)</a> <a id="64857" href="ualib.html#64773" class="Bound">x</a><a id="64858" class="Symbol">)</a>                          <a id="64885" href="MGS-MLTT.html#5997" class="Function Operator">≡⟨</a> <a id="64888" href="MGS-MLTT.html#6613" class="Function">ap</a> <a id="64891" class="Symbol">(</a><a id="64892" href="ualib.html#64766" class="Bound">f</a> <a id="64894" href="ualib.html#38193" class="Function Operator">̂</a> <a id="64896" href="ualib.html#38896" class="Function">⨅</a> <a id="64898" href="ualib.html#64771" class="Bound">𝒜</a><a id="64899" class="Symbol">)(</a><a id="64901" href="ualib.html#64757" class="Bound">fe</a> <a id="64904" href="ualib.html#64783" class="Bound">IH</a><a id="64906" class="Symbol">)</a><a id="64907" href="MGS-MLTT.html#5997" class="Function Operator">⟩</a>
   <a id="64912" class="Symbol">(</a><a id="64913" href="ualib.html#64766" class="Bound">f</a> <a id="64915" href="ualib.html#38193" class="Function Operator">̂</a> <a id="64917" href="ualib.html#38896" class="Function">⨅</a> <a id="64919" href="ualib.html#64771" class="Bound">𝒜</a><a id="64920" class="Symbol">)(λ</a> <a id="64924" href="ualib.html#64924" class="Bound">x₁</a> <a id="64927" class="Symbol">→</a> <a id="64929" class="Symbol">(λ</a> <a id="64932" href="ualib.html#64932" class="Bound">i₁</a> <a id="64935" class="Symbol">→</a> <a id="64937" class="Symbol">(</a><a id="64938" href="ualib.html#64768" class="Bound">t</a> <a id="64940" href="ualib.html#64924" class="Bound">x₁</a> <a id="64943" href="ualib.html#62400" class="Function Operator">̇</a> <a id="64945" href="ualib.html#64771" class="Bound">𝒜</a> <a id="64947" href="ualib.html#64932" class="Bound">i₁</a><a id="64949" class="Symbol">)(λ</a> <a id="64953" href="ualib.html#64953" class="Bound">j₁</a> <a id="64956" class="Symbol">→</a> <a id="64958" href="ualib.html#64773" class="Bound">x</a> <a id="64960" href="ualib.html#64953" class="Bound">j₁</a> <a id="64963" href="ualib.html#64932" class="Bound">i₁</a><a id="64965" class="Symbol">)))</a>  <a id="64970" href="MGS-MLTT.html#5997" class="Function Operator">≡⟨</a> <a id="64973" href="ualib.html#19955" class="InductiveConstructor">𝓇ℯ𝒻𝓁</a> <a id="64978" href="MGS-MLTT.html#5997" class="Function Operator">⟩</a>
   <a id="64983" class="Symbol">(λ</a> <a id="64986" href="ualib.html#64986" class="Bound">i₁</a> <a id="64989" class="Symbol">→</a> <a id="64991" class="Symbol">(</a><a id="64992" href="ualib.html#64766" class="Bound">f</a> <a id="64994" href="ualib.html#38193" class="Function Operator">̂</a> <a id="64996" href="ualib.html#64771" class="Bound">𝒜</a> <a id="64998" href="ualib.html#64986" class="Bound">i₁</a><a id="65000" class="Symbol">)(λ</a> <a id="65004" href="ualib.html#65004" class="Bound">x₁</a> <a id="65007" class="Symbol">→</a> <a id="65009" class="Symbol">(</a><a id="65010" href="ualib.html#64768" class="Bound">t</a> <a id="65012" href="ualib.html#65004" class="Bound">x₁</a> <a id="65015" href="ualib.html#62400" class="Function Operator">̇</a> <a id="65017" href="ualib.html#64771" class="Bound">𝒜</a> <a id="65019" href="ualib.html#64986" class="Bound">i₁</a><a id="65021" class="Symbol">)(λ</a> <a id="65025" href="ualib.html#65025" class="Bound">j₁</a> <a id="65028" class="Symbol">→</a> <a id="65030" href="ualib.html#64773" class="Bound">x</a> <a id="65032" href="ualib.html#65025" class="Bound">j₁</a> <a id="65035" href="ualib.html#64986" class="Bound">i₁</a><a id="65037" class="Symbol">)))</a> <a id="65041" href="MGS-MLTT.html#6079" class="Function Operator">∎</a>

 <a id="terms.interp-prod2"></a><a id="65045" href="ualib.html#65045" class="Function">interp-prod2</a> <a id="65058" class="Symbol">:</a> <a id="65060" href="MGS-Subsingleton-Theorems.html#3468" class="Function">global-dfunext</a>
  <a id="65077" class="Symbol">→</a>             <a id="65091" class="Symbol">{</a><a id="65092" href="ualib.html#65092" class="Bound">𝓤</a> <a id="65094" class="Symbol">:</a> <a id="65096" href="Agda.Primitive.html#423" class="Postulate">Universe</a><a id="65104" class="Symbol">}{</a><a id="65106" href="ualib.html#65106" class="Bound">X</a> <a id="65108" class="Symbol">:</a> <a id="65110" href="ualib.html#65092" class="Bound">𝓤</a> <a id="65112" href="Universes.html#403" class="Function Operator">̇</a><a id="65113" class="Symbol">}{</a><a id="65115" href="ualib.html#65115" class="Bound">I</a> <a id="65117" class="Symbol">:</a> <a id="65119" href="ualib.html#65092" class="Bound">𝓤</a> <a id="65121" href="Universes.html#403" class="Function Operator">̇</a><a id="65122" class="Symbol">}(</a><a id="65124" href="ualib.html#65124" class="Bound">p</a> <a id="65126" class="Symbol">:</a> <a id="65128" href="ualib.html#58364" class="Datatype">Term</a><a id="65132" class="Symbol">)(</a><a id="65134" href="ualib.html#65134" class="Bound">𝒜</a> <a id="65136" class="Symbol">:</a> <a id="65138" href="ualib.html#65115" class="Bound">I</a> <a id="65140" class="Symbol">→</a> <a id="65142" href="ualib.html#35648" class="Function">Algebra</a> <a id="65150" href="ualib.html#65092" class="Bound">𝓤</a> <a id="65152" href="ualib.html#57938" class="Bound">𝑆</a><a id="65153" class="Symbol">)</a>
                <a id="65171" class="Comment">----------------------------------------------------------------------</a>
  <a id="65244" class="Symbol">→</a>             <a id="65258" class="Symbol">(</a><a id="65259" href="ualib.html#65124" class="Bound">p</a> <a id="65261" href="ualib.html#62400" class="Function Operator">̇</a> <a id="65263" href="ualib.html#38896" class="Function">⨅</a> <a id="65265" href="ualib.html#65134" class="Bound">𝒜</a><a id="65266" class="Symbol">)</a> <a id="65268" href="ualib.html#19941" class="Datatype Operator">≡</a> <a id="65270" class="Symbol">λ(</a><a id="65272" href="ualib.html#65272" class="Bound">args</a> <a id="65277" class="Symbol">:</a> <a id="65279" href="ualib.html#65106" class="Bound">X</a> <a id="65281" class="Symbol">→</a> <a id="65283" href="ualib.html#21378" class="Function Operator">∣</a> <a id="65285" href="ualib.html#38896" class="Function">⨅</a> <a id="65287" href="ualib.html#65134" class="Bound">𝒜</a> <a id="65289" href="ualib.html#21378" class="Function Operator">∣</a><a id="65290" class="Symbol">)</a> <a id="65292" class="Symbol">→</a> <a id="65294" class="Symbol">(λ</a> <a id="65297" href="ualib.html#65297" class="Bound">i</a> <a id="65299" class="Symbol">→</a> <a id="65301" class="Symbol">(</a><a id="65302" href="ualib.html#65124" class="Bound">p</a> <a id="65304" href="ualib.html#62400" class="Function Operator">̇</a> <a id="65306" href="ualib.html#65134" class="Bound">𝒜</a> <a id="65308" href="ualib.html#65297" class="Bound">i</a><a id="65309" class="Symbol">)(λ</a> <a id="65313" href="ualib.html#65313" class="Bound">x</a> <a id="65315" class="Symbol">→</a> <a id="65317" href="ualib.html#65272" class="Bound">args</a> <a id="65322" href="ualib.html#65313" class="Bound">x</a> <a id="65324" href="ualib.html#65297" class="Bound">i</a><a id="65325" class="Symbol">))</a>

 <a id="65330" href="ualib.html#65045" class="Function">interp-prod2</a> <a id="65343" href="ualib.html#65343" class="Bound">fe</a> <a id="65346" class="Symbol">(</a><a id="65347" href="ualib.html#58419" class="InductiveConstructor">generator</a> <a id="65357" href="ualib.html#65357" class="Bound">x₁</a><a id="65359" class="Symbol">)</a> <a id="65361" href="ualib.html#65361" class="Bound">𝒜</a> <a id="65363" class="Symbol">=</a> <a id="65365" href="ualib.html#19955" class="InductiveConstructor">𝓇ℯ𝒻𝓁</a>

 <a id="65372" href="ualib.html#65045" class="Function">interp-prod2</a> <a id="65385" href="ualib.html#65385" class="Bound">fe</a> <a id="65388" class="Symbol">{</a><a id="65389" href="ualib.html#65389" class="Bound">𝓤</a><a id="65390" class="Symbol">}{</a><a id="65392" href="ualib.html#65392" class="Bound">X</a><a id="65393" class="Symbol">}</a> <a id="65395" class="Symbol">(</a><a id="65396" href="ualib.html#58449" class="InductiveConstructor">node</a> <a id="65401" href="ualib.html#65401" class="Bound">f</a> <a id="65403" href="ualib.html#65403" class="Bound">t</a><a id="65404" class="Symbol">)</a> <a id="65406" href="ualib.html#65406" class="Bound">𝒜</a> <a id="65408" class="Symbol">=</a>
  <a id="65412" href="ualib.html#65385" class="Bound">fe</a> <a id="65415" class="Symbol">λ</a> <a id="65417" class="Symbol">(</a><a id="65418" href="ualib.html#65418" class="Bound">tup</a> <a id="65422" class="Symbol">:</a> <a id="65424" href="ualib.html#65392" class="Bound">X</a> <a id="65426" class="Symbol">→</a> <a id="65428" href="ualib.html#21378" class="Function Operator">∣</a> <a id="65430" href="ualib.html#38896" class="Function">⨅</a> <a id="65432" href="ualib.html#65406" class="Bound">𝒜</a> <a id="65434" href="ualib.html#21378" class="Function Operator">∣</a><a id="65435" class="Symbol">)</a> <a id="65437" class="Symbol">→</a>
   <a id="65442" class="Keyword">let</a> <a id="65446" href="ualib.html#65446" class="Bound">IH</a> <a id="65449" class="Symbol">=</a> <a id="65451" class="Symbol">λ</a> <a id="65453" href="ualib.html#65453" class="Bound">x</a> <a id="65455" class="Symbol">→</a> <a id="65457" href="ualib.html#64465" class="Function">interp-prod</a> <a id="65469" href="ualib.html#65385" class="Bound">fe</a> <a id="65472" class="Symbol">(</a><a id="65473" href="ualib.html#65403" class="Bound">t</a> <a id="65475" href="ualib.html#65453" class="Bound">x</a><a id="65476" class="Symbol">)</a> <a id="65478" href="ualib.html#65406" class="Bound">𝒜</a>  <a id="65481" class="Keyword">in</a>
   <a id="65487" class="Keyword">let</a> <a id="65491" href="ualib.html#65491" class="Bound">tA</a> <a id="65494" class="Symbol">=</a> <a id="65496" class="Symbol">λ</a> <a id="65498" href="ualib.html#65498" class="Bound">z</a> <a id="65500" class="Symbol">→</a> <a id="65502" href="ualib.html#65403" class="Bound">t</a> <a id="65504" href="ualib.html#65498" class="Bound">z</a> <a id="65506" href="ualib.html#62400" class="Function Operator">̇</a> <a id="65508" href="ualib.html#38896" class="Function">⨅</a> <a id="65510" href="ualib.html#65406" class="Bound">𝒜</a> <a id="65512" class="Keyword">in</a>
    <a id="65519" class="Symbol">(</a><a id="65520" href="ualib.html#65401" class="Bound">f</a> <a id="65522" href="ualib.html#38193" class="Function Operator">̂</a> <a id="65524" href="ualib.html#38896" class="Function">⨅</a> <a id="65526" href="ualib.html#65406" class="Bound">𝒜</a><a id="65527" class="Symbol">)(λ</a> <a id="65531" href="ualib.html#65531" class="Bound">s</a> <a id="65533" class="Symbol">→</a> <a id="65535" href="ualib.html#65491" class="Bound">tA</a> <a id="65538" href="ualib.html#65531" class="Bound">s</a> <a id="65540" href="ualib.html#65418" class="Bound">tup</a><a id="65543" class="Symbol">)</a>                           <a id="65571" href="MGS-MLTT.html#5997" class="Function Operator">≡⟨</a> <a id="65574" href="ualib.html#19955" class="InductiveConstructor">𝓇ℯ𝒻𝓁</a> <a id="65579" href="MGS-MLTT.html#5997" class="Function Operator">⟩</a>
    <a id="65585" class="Symbol">(</a><a id="65586" href="ualib.html#65401" class="Bound">f</a> <a id="65588" href="ualib.html#38193" class="Function Operator">̂</a> <a id="65590" href="ualib.html#38896" class="Function">⨅</a> <a id="65592" href="ualib.html#65406" class="Bound">𝒜</a><a id="65593" class="Symbol">)(λ</a> <a id="65597" href="ualib.html#65597" class="Bound">s</a> <a id="65599" class="Symbol">→</a>  <a id="65602" href="ualib.html#65491" class="Bound">tA</a> <a id="65605" href="ualib.html#65597" class="Bound">s</a> <a id="65607" href="ualib.html#65418" class="Bound">tup</a><a id="65610" class="Symbol">)</a>                          <a id="65637" href="MGS-MLTT.html#5997" class="Function Operator">≡⟨</a> <a id="65640" href="MGS-MLTT.html#6613" class="Function">ap</a> <a id="65643" class="Symbol">(</a><a id="65644" href="ualib.html#65401" class="Bound">f</a> <a id="65646" href="ualib.html#38193" class="Function Operator">̂</a> <a id="65648" href="ualib.html#38896" class="Function">⨅</a> <a id="65650" href="ualib.html#65406" class="Bound">𝒜</a><a id="65651" class="Symbol">)(</a><a id="65653" href="ualib.html#65385" class="Bound">fe</a>  <a id="65657" class="Symbol">λ</a> <a id="65659" href="ualib.html#65659" class="Bound">x</a> <a id="65661" class="Symbol">→</a> <a id="65663" href="ualib.html#65446" class="Bound">IH</a> <a id="65666" href="ualib.html#65659" class="Bound">x</a> <a id="65668" href="ualib.html#65418" class="Bound">tup</a><a id="65671" class="Symbol">)</a><a id="65672" href="MGS-MLTT.html#5997" class="Function Operator">⟩</a>
    <a id="65678" class="Symbol">(</a><a id="65679" href="ualib.html#65401" class="Bound">f</a> <a id="65681" href="ualib.html#38193" class="Function Operator">̂</a> <a id="65683" href="ualib.html#38896" class="Function">⨅</a> <a id="65685" href="ualib.html#65406" class="Bound">𝒜</a><a id="65686" class="Symbol">)(λ</a> <a id="65690" href="ualib.html#65690" class="Bound">s</a> <a id="65692" class="Symbol">→</a> <a id="65694" class="Symbol">(λ</a> <a id="65697" href="ualib.html#65697" class="Bound">j</a> <a id="65699" class="Symbol">→</a> <a id="65701" class="Symbol">(</a><a id="65702" href="ualib.html#65403" class="Bound">t</a> <a id="65704" href="ualib.html#65690" class="Bound">s</a> <a id="65706" href="ualib.html#62400" class="Function Operator">̇</a> <a id="65708" href="ualib.html#65406" class="Bound">𝒜</a> <a id="65710" href="ualib.html#65697" class="Bound">j</a><a id="65711" class="Symbol">)(λ</a> <a id="65715" href="ualib.html#65715" class="Bound">ℓ</a> <a id="65717" class="Symbol">→</a> <a id="65719" href="ualib.html#65418" class="Bound">tup</a> <a id="65723" href="ualib.html#65715" class="Bound">ℓ</a> <a id="65725" href="ualib.html#65697" class="Bound">j</a><a id="65726" class="Symbol">)))</a>  <a id="65731" href="MGS-MLTT.html#5997" class="Function Operator">≡⟨</a> <a id="65734" href="ualib.html#19955" class="InductiveConstructor">𝓇ℯ𝒻𝓁</a> <a id="65739" href="MGS-MLTT.html#5997" class="Function Operator">⟩</a>
    <a id="65745" class="Symbol">(λ</a> <a id="65748" href="ualib.html#65748" class="Bound">i</a> <a id="65750" class="Symbol">→</a> <a id="65752" class="Symbol">(</a><a id="65753" href="ualib.html#65401" class="Bound">f</a> <a id="65755" href="ualib.html#38193" class="Function Operator">̂</a> <a id="65757" href="ualib.html#65406" class="Bound">𝒜</a> <a id="65759" href="ualib.html#65748" class="Bound">i</a><a id="65760" class="Symbol">)(λ</a> <a id="65764" href="ualib.html#65764" class="Bound">s</a> <a id="65766" class="Symbol">→</a> <a id="65768" class="Symbol">(</a><a id="65769" href="ualib.html#65403" class="Bound">t</a> <a id="65771" href="ualib.html#65764" class="Bound">s</a> <a id="65773" href="ualib.html#62400" class="Function Operator">̇</a> <a id="65775" href="ualib.html#65406" class="Bound">𝒜</a> <a id="65777" href="ualib.html#65748" class="Bound">i</a><a id="65778" class="Symbol">)(λ</a> <a id="65782" href="ualib.html#65782" class="Bound">ℓ</a> <a id="65784" class="Symbol">→</a> <a id="65786" href="ualib.html#65418" class="Bound">tup</a> <a id="65790" href="ualib.html#65782" class="Bound">ℓ</a> <a id="65792" href="ualib.html#65748" class="Bound">i</a><a id="65793" class="Symbol">)))</a>  <a id="65798" href="MGS-MLTT.html#6079" class="Function Operator">∎</a> 
</pre>

<h3 id="compatibility-of-terms">Compatibility of terms</h3>

<p>In this section we present the formal proof of the fact that homomorphisms commute with terms. More precisely, if 𝑨 and 𝑩 are
𝑆-algebras, ℎ : 𝑨 → 𝑩 a homomorphism, and 𝑡 a term in the language of 𝑆, then for all 𝑎 : 𝑋 → ∣ 𝑨 ∣ we have</p>

<p>ℎ (𝑡<sup>𝑨</sup> 𝑎) = 𝑡<sup>𝑩</sup> (ℎ ∘ 𝑎).</p>

<h4 id="homomorphisms-commute-with-terms">Homomorphisms commute with terms</h4>

<pre class="Agda">
 <a id="terms.comm-hom-term"></a><a id="66177" href="ualib.html#66177" class="Function">comm-hom-term</a> <a id="66191" class="Symbol">:</a> <a id="66193" class="Symbol">{</a><a id="66194" href="ualib.html#66194" class="Bound">𝓤</a> <a id="66196" href="ualib.html#66196" class="Bound">𝓦</a> <a id="66198" href="ualib.html#66198" class="Bound">𝓧</a> <a id="66200" class="Symbol">:</a> <a id="66202" href="Agda.Primitive.html#423" class="Postulate">Universe</a><a id="66210" class="Symbol">}{</a><a id="66212" href="ualib.html#66212" class="Bound">X</a> <a id="66214" class="Symbol">:</a> <a id="66216" href="ualib.html#66198" class="Bound">𝓧</a> <a id="66218" href="Universes.html#403" class="Function Operator">̇</a><a id="66219" class="Symbol">}</a> <a id="66221" class="Symbol">→</a> <a id="66223" href="MGS-FunExt-from-Univalence.html#393" class="Function">funext</a> <a id="66230" href="ualib.html#57954" class="Bound">𝓥</a> <a id="66232" href="ualib.html#66196" class="Bound">𝓦</a>
  <a id="66236" class="Symbol">→</a>       <a id="66244" class="Symbol">(</a><a id="66245" href="ualib.html#66245" class="Bound">𝑨</a> <a id="66247" class="Symbol">:</a> <a id="66249" href="ualib.html#35648" class="Function">Algebra</a> <a id="66257" href="ualib.html#66194" class="Bound">𝓤</a> <a id="66259" href="ualib.html#57938" class="Bound">𝑆</a><a id="66260" class="Symbol">)</a> <a id="66262" class="Symbol">(</a><a id="66263" href="ualib.html#66263" class="Bound">𝑩</a> <a id="66265" class="Symbol">:</a> <a id="66267" href="ualib.html#35648" class="Function">Algebra</a> <a id="66275" href="ualib.html#66196" class="Bound">𝓦</a> <a id="66277" href="ualib.html#57938" class="Bound">𝑆</a><a id="66278" class="Symbol">)</a>
  <a id="66282" class="Symbol">→</a>       <a id="66290" class="Symbol">(</a><a id="66291" href="ualib.html#66291" class="Bound">h</a> <a id="66293" class="Symbol">:</a> <a id="66295" href="ualib.html#51876" class="Function">hom</a> <a id="66299" href="ualib.html#66245" class="Bound">𝑨</a> <a id="66301" href="ualib.html#66263" class="Bound">𝑩</a><a id="66302" class="Symbol">)</a> <a id="66304" class="Symbol">(</a><a id="66305" href="ualib.html#66305" class="Bound">t</a> <a id="66307" class="Symbol">:</a> <a id="66309" href="ualib.html#58364" class="Datatype">Term</a><a id="66313" class="Symbol">{</a><a id="66314" href="ualib.html#66198" class="Bound">𝓧</a><a id="66315" class="Symbol">}{</a><a id="66317" href="ualib.html#66212" class="Bound">X</a><a id="66318" class="Symbol">})</a> <a id="66321" class="Symbol">(</a><a id="66322" href="ualib.html#66322" class="Bound">a</a> <a id="66324" class="Symbol">:</a> <a id="66326" href="ualib.html#66212" class="Bound">X</a> <a id="66328" class="Symbol">→</a> <a id="66330" href="ualib.html#21378" class="Function Operator">∣</a> <a id="66332" href="ualib.html#66245" class="Bound">𝑨</a> <a id="66334" href="ualib.html#21378" class="Function Operator">∣</a><a id="66335" class="Symbol">)</a>
          <a id="66347" class="Comment">--------------------------------------------</a>
  <a id="66394" class="Symbol">→</a>         <a id="66404" href="ualib.html#21378" class="Function Operator">∣</a> <a id="66406" href="ualib.html#66291" class="Bound">h</a> <a id="66408" href="ualib.html#21378" class="Function Operator">∣</a> <a id="66410" class="Symbol">((</a><a id="66412" href="ualib.html#66305" class="Bound">t</a> <a id="66414" href="ualib.html#62400" class="Function Operator">̇</a> <a id="66416" href="ualib.html#66245" class="Bound">𝑨</a><a id="66417" class="Symbol">)</a> <a id="66419" href="ualib.html#66322" class="Bound">a</a><a id="66420" class="Symbol">)</a> <a id="66422" href="ualib.html#19941" class="Datatype Operator">≡</a> <a id="66424" class="Symbol">(</a><a id="66425" href="ualib.html#66305" class="Bound">t</a> <a id="66427" href="ualib.html#62400" class="Function Operator">̇</a> <a id="66429" href="ualib.html#66263" class="Bound">𝑩</a><a id="66430" class="Symbol">)</a> <a id="66432" class="Symbol">(</a><a id="66433" href="ualib.html#21378" class="Function Operator">∣</a> <a id="66435" href="ualib.html#66291" class="Bound">h</a> <a id="66437" href="ualib.html#21378" class="Function Operator">∣</a> <a id="66439" href="MGS-MLTT.html#3813" class="Function Operator">∘</a> <a id="66441" href="ualib.html#66322" class="Bound">a</a><a id="66442" class="Symbol">)</a>

 <a id="66446" href="ualib.html#66177" class="Function">comm-hom-term</a> <a id="66460" class="Symbol">{</a><a id="66461" href="ualib.html#66461" class="Bound">𝓤</a><a id="66462" class="Symbol">}{</a><a id="66464" href="ualib.html#66464" class="Bound">𝓦</a><a id="66465" class="Symbol">}{</a><a id="66467" href="ualib.html#66467" class="Bound">𝓧</a><a id="66468" class="Symbol">}{</a><a id="66470" href="ualib.html#66470" class="Bound">X</a><a id="66471" class="Symbol">}</a> <a id="66473" href="ualib.html#66473" class="Bound">fe</a> <a id="66476" href="ualib.html#66476" class="Bound">𝑨</a> <a id="66478" href="ualib.html#66478" class="Bound">𝑩</a> <a id="66480" href="ualib.html#66480" class="Bound">h</a> <a id="66482" class="Symbol">(</a><a id="66483" href="ualib.html#58419" class="InductiveConstructor">generator</a> <a id="66493" href="ualib.html#66493" class="Bound">x</a><a id="66494" class="Symbol">)</a> <a id="66496" href="ualib.html#66496" class="Bound">a</a> <a id="66498" class="Symbol">=</a> <a id="66500" href="ualib.html#19955" class="InductiveConstructor">𝓇ℯ𝒻𝓁</a>

 <a id="66507" href="ualib.html#66177" class="Function">comm-hom-term</a> <a id="66521" href="ualib.html#66521" class="Bound">fe</a> <a id="66524" href="ualib.html#66524" class="Bound">𝑨</a> <a id="66526" href="ualib.html#66526" class="Bound">𝑩</a> <a id="66528" href="ualib.html#66528" class="Bound">h</a> <a id="66530" class="Symbol">(</a><a id="66531" href="ualib.html#58449" class="InductiveConstructor">node</a> <a id="66536" href="ualib.html#66536" class="Bound">f</a> <a id="66538" href="ualib.html#66538" class="Bound">args</a><a id="66542" class="Symbol">)</a> <a id="66544" href="ualib.html#66544" class="Bound">a</a> <a id="66546" class="Symbol">=</a>
  <a id="66550" href="ualib.html#21378" class="Function Operator">∣</a> <a id="66552" href="ualib.html#66528" class="Bound">h</a> <a id="66554" href="ualib.html#21378" class="Function Operator">∣</a><a id="66555" class="Symbol">((</a><a id="66557" href="ualib.html#66536" class="Bound">f</a> <a id="66559" href="ualib.html#38193" class="Function Operator">̂</a> <a id="66561" href="ualib.html#66524" class="Bound">𝑨</a><a id="66562" class="Symbol">)(λ</a> <a id="66566" href="ualib.html#66566" class="Bound">i₁</a> <a id="66569" class="Symbol">→</a> <a id="66571" class="Symbol">(</a><a id="66572" href="ualib.html#66538" class="Bound">args</a> <a id="66577" href="ualib.html#66566" class="Bound">i₁</a> <a id="66580" href="ualib.html#62400" class="Function Operator">̇</a> <a id="66582" href="ualib.html#66524" class="Bound">𝑨</a><a id="66583" class="Symbol">)</a> <a id="66585" href="ualib.html#66544" class="Bound">a</a><a id="66586" class="Symbol">))</a>  <a id="66590" href="MGS-MLTT.html#5997" class="Function Operator">≡⟨</a> <a id="66593" href="ualib.html#21456" class="Function Operator">∥</a> <a id="66595" href="ualib.html#66528" class="Bound">h</a> <a id="66597" href="ualib.html#21456" class="Function Operator">∥</a> <a id="66599" href="ualib.html#66536" class="Bound">f</a> <a id="66601" class="Symbol">(</a> <a id="66603" class="Symbol">λ</a> <a id="66605" href="ualib.html#66605" class="Bound">r</a> <a id="66607" class="Symbol">→</a> <a id="66609" class="Symbol">(</a><a id="66610" href="ualib.html#66538" class="Bound">args</a> <a id="66615" href="ualib.html#66605" class="Bound">r</a> <a id="66617" href="ualib.html#62400" class="Function Operator">̇</a> <a id="66619" href="ualib.html#66524" class="Bound">𝑨</a><a id="66620" class="Symbol">)</a> <a id="66622" href="ualib.html#66544" class="Bound">a</a> <a id="66624" class="Symbol">)</a> <a id="66626" href="MGS-MLTT.html#5997" class="Function Operator">⟩</a>
  <a id="66630" class="Symbol">(</a><a id="66631" href="ualib.html#66536" class="Bound">f</a> <a id="66633" href="ualib.html#38193" class="Function Operator">̂</a> <a id="66635" href="ualib.html#66526" class="Bound">𝑩</a><a id="66636" class="Symbol">)(λ</a> <a id="66640" href="ualib.html#66640" class="Bound">i₁</a> <a id="66643" class="Symbol">→</a>  <a id="66646" href="ualib.html#21378" class="Function Operator">∣</a> <a id="66648" href="ualib.html#66528" class="Bound">h</a> <a id="66650" href="ualib.html#21378" class="Function Operator">∣</a><a id="66651" class="Symbol">((</a><a id="66653" href="ualib.html#66538" class="Bound">args</a> <a id="66658" href="ualib.html#66640" class="Bound">i₁</a> <a id="66661" href="ualib.html#62400" class="Function Operator">̇</a> <a id="66663" href="ualib.html#66524" class="Bound">𝑨</a><a id="66664" class="Symbol">)</a> <a id="66666" href="ualib.html#66544" class="Bound">a</a><a id="66667" class="Symbol">))</a> <a id="66670" href="MGS-MLTT.html#5997" class="Function Operator">≡⟨</a> <a id="66673" href="MGS-MLTT.html#6613" class="Function">ap</a> <a id="66676" class="Symbol">(_</a> <a id="66679" href="ualib.html#38193" class="Function Operator">̂</a> <a id="66681" href="ualib.html#66526" class="Bound">𝑩</a><a id="66682" class="Symbol">)(</a><a id="66684" href="ualib.html#66521" class="Bound">fe</a> <a id="66687" class="Symbol">(λ</a> <a id="66690" href="ualib.html#66690" class="Bound">i₁</a> <a id="66693" class="Symbol">→</a> <a id="66695" href="ualib.html#66177" class="Function">comm-hom-term</a> <a id="66709" href="ualib.html#66521" class="Bound">fe</a> <a id="66712" href="ualib.html#66524" class="Bound">𝑨</a> <a id="66714" href="ualib.html#66526" class="Bound">𝑩</a> <a id="66716" href="ualib.html#66528" class="Bound">h</a> <a id="66718" class="Symbol">(</a><a id="66719" href="ualib.html#66538" class="Bound">args</a> <a id="66724" href="ualib.html#66690" class="Bound">i₁</a><a id="66726" class="Symbol">)</a> <a id="66728" href="ualib.html#66544" class="Bound">a</a><a id="66729" class="Symbol">))</a><a id="66731" href="MGS-MLTT.html#5997" class="Function Operator">⟩</a>
  <a id="66735" class="Symbol">(</a><a id="66736" href="ualib.html#66536" class="Bound">f</a> <a id="66738" href="ualib.html#38193" class="Function Operator">̂</a> <a id="66740" href="ualib.html#66526" class="Bound">𝑩</a><a id="66741" class="Symbol">)(λ</a> <a id="66745" href="ualib.html#66745" class="Bound">r</a> <a id="66747" class="Symbol">→</a> <a id="66749" class="Symbol">(</a><a id="66750" href="ualib.html#66538" class="Bound">args</a> <a id="66755" href="ualib.html#66745" class="Bound">r</a> <a id="66757" href="ualib.html#62400" class="Function Operator">̇</a> <a id="66759" href="ualib.html#66526" class="Bound">𝑩</a><a id="66760" class="Symbol">)(</a><a id="66762" href="ualib.html#21378" class="Function Operator">∣</a> <a id="66764" href="ualib.html#66528" class="Bound">h</a> <a id="66766" href="ualib.html#21378" class="Function Operator">∣</a> <a id="66768" href="MGS-MLTT.html#3813" class="Function Operator">∘</a> <a id="66770" href="ualib.html#66544" class="Bound">a</a><a id="66771" class="Symbol">))</a>   <a id="66776" href="MGS-MLTT.html#6079" class="Function Operator">∎</a>
</pre>

<h4 id="congruences-commute-with-terms">Congruences commute with terms</h4>

<p>Rounding out this chapter is an formal proof of the fact that terms respect congruences. More precisely, we show that for every term <code class="language-plaintext highlighter-rouge">t</code>, every <code class="language-plaintext highlighter-rouge">θ ∈ Con(𝑨)</code>, and all tuples <code class="language-plaintext highlighter-rouge">a, b : 𝑋 → A</code>, we have</p>

<p>(∀ x, a(x) θ b(x)) → (t ̇ 𝑨) a θ (t ̇ 𝑨) b.</p>

<pre class="Agda">
 <a id="terms.compatible-term"></a><a id="67087" href="ualib.html#67087" class="Function">compatible-term</a> <a id="67103" class="Symbol">:</a> <a id="67105" class="Symbol">{</a><a id="67106" href="ualib.html#67106" class="Bound">𝓤</a> <a id="67108" class="Symbol">:</a> <a id="67110" href="Agda.Primitive.html#423" class="Postulate">Universe</a><a id="67118" class="Symbol">}{</a><a id="67120" href="ualib.html#67120" class="Bound">X</a> <a id="67122" class="Symbol">:</a> <a id="67124" href="ualib.html#67106" class="Bound">𝓤</a> <a id="67126" href="Universes.html#403" class="Function Operator">̇</a><a id="67127" class="Symbol">}</a>
                   <a id="67148" class="Symbol">(</a><a id="67149" href="ualib.html#67149" class="Bound">𝑨</a> <a id="67151" class="Symbol">:</a> <a id="67153" href="ualib.html#35648" class="Function">Algebra</a> <a id="67161" href="ualib.html#67106" class="Bound">𝓤</a> <a id="67163" href="ualib.html#57938" class="Bound">𝑆</a><a id="67164" class="Symbol">)</a> <a id="67166" class="Symbol">(</a><a id="67167" href="ualib.html#67167" class="Bound">t</a> <a id="67169" class="Symbol">:</a> <a id="67171" href="ualib.html#58364" class="Datatype">Term</a><a id="67175" class="Symbol">{</a><a id="67176" href="ualib.html#67106" class="Bound">𝓤</a><a id="67177" class="Symbol">}{</a><a id="67179" href="ualib.html#67120" class="Bound">X</a><a id="67180" class="Symbol">})</a> <a id="67183" class="Symbol">(</a><a id="67184" href="ualib.html#67184" class="Bound">θ</a> <a id="67186" class="Symbol">:</a> <a id="67188" href="ualib.html#47489" class="Function">Con</a> <a id="67192" href="ualib.html#67149" class="Bound">𝑨</a><a id="67193" class="Symbol">)</a>
                  <a id="67213" class="Comment">------------------------------------------</a>
  <a id="67258" class="Symbol">→</a>                <a id="67275" href="ualib.html#46325" class="Function">compatible-fun</a> <a id="67290" class="Symbol">(</a><a id="67291" href="ualib.html#67167" class="Bound">t</a> <a id="67293" href="ualib.html#62400" class="Function Operator">̇</a> <a id="67295" href="ualib.html#67149" class="Bound">𝑨</a><a id="67296" class="Symbol">)</a> <a id="67298" href="ualib.html#21378" class="Function Operator">∣</a> <a id="67300" href="ualib.html#67184" class="Bound">θ</a> <a id="67302" href="ualib.html#21378" class="Function Operator">∣</a>

 <a id="67306" href="ualib.html#67087" class="Function">compatible-term</a> <a id="67322" href="ualib.html#67322" class="Bound">𝑨</a> <a id="67324" class="Symbol">(</a><a id="67325" href="ualib.html#58419" class="InductiveConstructor">generator</a> <a id="67335" href="ualib.html#67335" class="Bound">x</a><a id="67336" class="Symbol">)</a> <a id="67338" href="ualib.html#67338" class="Bound">θ</a> <a id="67340" href="ualib.html#67340" class="Bound">p</a> <a id="67342" class="Symbol">=</a> <a id="67344" href="ualib.html#67340" class="Bound">p</a> <a id="67346" href="ualib.html#67335" class="Bound">x</a>

 <a id="67350" href="ualib.html#67087" class="Function">compatible-term</a> <a id="67366" href="ualib.html#67366" class="Bound">𝑨</a> <a id="67368" class="Symbol">(</a><a id="67369" href="ualib.html#58449" class="InductiveConstructor">node</a> <a id="67374" href="ualib.html#67374" class="Bound">f</a> <a id="67376" href="ualib.html#67376" class="Bound">args</a><a id="67380" class="Symbol">)</a> <a id="67382" href="ualib.html#67382" class="Bound">θ</a> <a id="67384" href="ualib.html#67384" class="Bound">p</a> <a id="67386" class="Symbol">=</a> <a id="67388" href="MGS-MLTT.html#3001" class="Function">pr₂</a><a id="67391" class="Symbol">(</a> <a id="67393" href="ualib.html#21456" class="Function Operator">∥</a> <a id="67395" href="ualib.html#67382" class="Bound">θ</a> <a id="67397" href="ualib.html#21456" class="Function Operator">∥</a> <a id="67399" class="Symbol">)</a> <a id="67401" href="ualib.html#67374" class="Bound">f</a> <a id="67403" class="Symbol">λ{</a><a id="67405" href="ualib.html#67405" class="Bound">x</a> <a id="67407" class="Symbol">→</a> <a id="67409" class="Symbol">(</a><a id="67410" href="ualib.html#67087" class="Function">compatible-term</a> <a id="67426" href="ualib.html#67366" class="Bound">𝑨</a> <a id="67428" class="Symbol">(</a><a id="67429" href="ualib.html#67376" class="Bound">args</a> <a id="67434" href="ualib.html#67405" class="Bound">x</a><a id="67435" class="Symbol">)</a> <a id="67437" href="ualib.html#67382" class="Bound">θ</a><a id="67438" class="Symbol">)</a> <a id="67440" href="ualib.html#67384" class="Bound">p</a><a id="67441" class="Symbol">}</a>
</pre>

<hr />

<p><a href="ualib.html#contents"><sub>Table of contents ⇑</sub></a></p>
<h2 id="subalgebras-in-agda">Subalgebras in Agda</h2>

<p>This chapter describes the <a href="https://gitlab.com/ualib/ualib.gitlab.io/-/blob/master/subuniverses.lagda.rst">subuniverses module</a>
of the <a href="https://ualib.org">UALib</a>.</p>

<p>We define subuniverses and subalgebras and prove some basic facts about them in this, the <a href="subuniverses%20module">subuniverses.lagda.rst</a> file of the <a href="https://ualib.org">UALib</a>.</p>

<h3 id="preliminaries">Preliminaries</h3>

<p>The <a href="subuniverses%20module">subuniverses.lagda.rst</a> file starts, as usual, by fixing a signature 𝑆 and satisfying some dependencies.</p>

<pre class="Agda">
<a id="68081" class="Keyword">open</a> <a id="68086" href="ualib.html#33986" class="Module">basic</a>
<a id="68092" class="Keyword">open</a> <a id="68097" href="ualib.html#41753" class="Module">congruences</a>
<a id="68109" class="Keyword">open</a> <a id="68114" href="ualib.html#15713" class="Module">prelude</a> <a id="68122" class="Keyword">using</a> <a id="68128" class="Symbol">(</a><a id="68129" href="MGS-Subsingleton-Theorems.html#3468" class="Function">global-dfunext</a><a id="68143" class="Symbol">)</a>

<a id="68146" class="Keyword">module</a> <a id="subuniverses"></a><a id="68153" href="ualib.html#68153" class="Module">subuniverses</a> <a id="68166" class="Symbol">{</a><a id="68167" href="ualib.html#68167" class="Bound">𝑆</a> <a id="68169" class="Symbol">:</a> <a id="68171" href="ualib.html#34935" class="Function">Signature</a> <a id="68181" href="ualib.html#17590" class="Generalizable">𝓞</a> <a id="68183" href="Universes.html#262" class="Generalizable">𝓥</a><a id="68184" class="Symbol">}</a>
                    <a id="68206" class="Symbol">{</a><a id="68207" href="ualib.html#68207" class="Bound">𝕏</a> <a id="68209" class="Symbol">:</a> <a id="68211" class="Symbol">{</a><a id="68212" href="ualib.html#68212" class="Bound">𝓤</a> <a id="68214" href="ualib.html#68214" class="Bound">𝓧</a> <a id="68216" class="Symbol">:</a> <a id="68218" href="Agda.Primitive.html#423" class="Postulate">Universe</a><a id="68226" class="Symbol">}{</a><a id="68228" href="ualib.html#68228" class="Bound">X</a> <a id="68230" class="Symbol">:</a> <a id="68232" href="ualib.html#68214" class="Bound">𝓧</a> <a id="68234" href="Universes.html#403" class="Function Operator">̇</a><a id="68235" class="Symbol">}(</a><a id="68237" href="ualib.html#68237" class="Bound">𝑨</a> <a id="68239" class="Symbol">:</a> <a id="68241" href="ualib.html#35648" class="Function">Algebra</a> <a id="68249" href="ualib.html#68212" class="Bound">𝓤</a> <a id="68251" href="ualib.html#68167" class="Bound">𝑆</a><a id="68252" class="Symbol">)</a> <a id="68254" class="Symbol">→</a> <a id="68256" href="ualib.html#68228" class="Bound">X</a> <a id="68258" href="ualib.html#39443" class="Function Operator">↠</a> <a id="68260" href="ualib.html#68237" class="Bound">𝑨</a><a id="68261" class="Symbol">}</a>
                    <a id="68283" class="Symbol">{</a><a id="68284" href="ualib.html#68284" class="Bound">fe</a> <a id="68287" class="Symbol">:</a> <a id="68289" href="MGS-Subsingleton-Theorems.html#3468" class="Function">global-dfunext</a><a id="68303" class="Symbol">}</a> <a id="68305" class="Keyword">where</a>

 <a id="68313" class="Keyword">open</a> <a id="68318" href="ualib.html#51059" class="Module">homomorphisms</a> <a id="68332" class="Symbol">{</a><a id="68333" class="Argument">𝑆</a> <a id="68335" class="Symbol">=</a> <a id="68337" href="ualib.html#68167" class="Bound">𝑆</a><a id="68338" class="Symbol">}</a>

 <a id="68342" class="Keyword">open</a> <a id="68347" href="ualib.html#57930" class="Module">terms</a> <a id="68353" class="Symbol">{</a><a id="68354" class="Argument">𝑆</a> <a id="68356" class="Symbol">=</a> <a id="68358" href="ualib.html#68167" class="Bound">𝑆</a><a id="68359" class="Symbol">}{</a><a id="68361" class="Argument">𝕏</a> <a id="68363" class="Symbol">=</a> <a id="68365" href="ualib.html#68207" class="Bound">𝕏</a><a id="68366" class="Symbol">}{</a><a id="68368" class="Argument">gfe</a> <a id="68372" class="Symbol">=</a> <a id="68374" href="ualib.html#68284" class="Bound">fe</a><a id="68376" class="Symbol">}</a> <a id="68378" class="Keyword">renaming</a> <a id="68387" class="Symbol">(</a>generator <a id="68398" class="Symbol">to</a> ℊ<a id="68402" class="Symbol">)</a>

 <a id="68406" class="Keyword">open</a> <a id="68411" class="Keyword">import</a> <a id="68418" href="Relation.Unary.html" class="Module">Relation.Unary</a> <a id="68433" class="Keyword">using</a> <a id="68439" class="Symbol">(</a><a id="68440" href="Relation.Unary.html#4506" class="Function">⋂</a><a id="68441" class="Symbol">)</a>

 <a id="68445" class="Keyword">open</a> <a id="68450" href="ualib.html#15713" class="Module">prelude</a> <a id="68458" class="Keyword">using</a> <a id="68464" class="Symbol">(</a><a id="68465" href="ualib.html#27773" class="Function Operator">Im_⊆_</a><a id="68470" class="Symbol">;</a> <a id="68472" href="MGS-Subsingleton-Theorems.html#2964" class="Function">Univalence</a><a id="68482" class="Symbol">;</a> <a id="68484" href="MGS-Embeddings.html#4830" class="Function">embeddings-are-lc</a><a id="68501" class="Symbol">;</a> <a id="68503" href="MGS-Subsingleton-Theorems.html#3528" class="Function">univalence-gives-global-dfunext</a><a id="68534" class="Symbol">;</a> 
  <a id="68539" href="MGS-Powerset.html#4551" class="Function">𝓟</a><a id="68540" class="Symbol">;</a> <a id="68542" href="ualib.html#20631" class="Function Operator">_∈₀_</a><a id="68546" class="Symbol">;</a> <a id="68548" href="ualib.html#20644" class="Function Operator">_⊆₀_</a><a id="68552" class="Symbol">;</a> <a id="68554" href="MGS-MLTT.html#2942" class="Function">pr₁</a><a id="68557" class="Symbol">;</a> <a id="68559" href="MGS-MLTT.html#3944" class="Function">domain</a><a id="68565" class="Symbol">;</a> <a id="68567" href="MGS-Basic-UF.html#743" class="Function">is-subsingleton</a><a id="68582" class="Symbol">;</a> <a id="68584" href="MGS-Subsingleton-Theorems.html#393" class="Function">Π-is-subsingleton</a><a id="68601" class="Symbol">;</a><a id="68602" href="MGS-Equivalences.html#868" class="Function">is-equiv</a><a id="68610" class="Symbol">;</a> <a id="68612" href="MGS-MLTT.html#7133" class="Function">lr-implication</a><a id="68626" class="Symbol">;</a> 
  <a id="68631" href="MGS-Solved-Exercises.html#6381" class="Function">×-is-subsingleton</a><a id="68648" class="Symbol">;</a> <a id="68650" href="MGS-Powerset.html#5040" class="Function">∈-is-subsingleton</a><a id="68667" class="Symbol">;</a> <a id="68669" href="MGS-Embeddings.html#384" class="Function">is-embedding</a><a id="68681" class="Symbol">;</a> <a id="68683" href="MGS-Embeddings.html#1089" class="Function">pr₁-embedding</a><a id="68696" class="Symbol">;</a> <a id="68698" href="MGS-MLTT.html#7214" class="Function">rl-implication</a><a id="68712" class="Symbol">;</a> <a id="68714" href="MGS-Equivalences.html#979" class="Function">inverse</a><a id="68721" class="Symbol">;</a>
  <a id="68725" href="MGS-Embeddings.html#3808" class="Function">embedding-gives-ap-is-equiv</a><a id="68752" class="Symbol">;</a> <a id="68754" href="MGS-Basic-UF.html#1929" class="Function">is-set</a><a id="68760" class="Symbol">;</a><a id="68761" href="MGS-MLTT.html#7080" class="Function Operator">_⇔_</a><a id="68764" class="Symbol">;</a><a id="68765" href="MGS-MLTT.html#4946" class="Function">transport</a><a id="68774" class="Symbol">;</a> <a id="68776" href="MGS-Powerset.html#6079" class="Function">subset-extensionality&#39;</a><a id="68798" class="Symbol">;</a> <a id="68800" href="MGS-Solved-Exercises.html#1652" class="Function">equiv-to-subsingleton</a><a id="68821" class="Symbol">;</a> 
  <a id="68826" href="MGS-Powerset.html#4586" class="Function">powersets-are-sets&#39;</a><a id="68845" class="Symbol">;</a> <a id="68847" href="MGS-Equivalences.html#5035" class="Function Operator">_≃_</a><a id="68850" class="Symbol">;</a> <a id="68852" href="MGS-MLTT.html#3744" class="Function">id</a><a id="68854" class="Symbol">;</a> <a id="68856" href="MGS-Equivalences.html#6164" class="Function Operator">_●_</a><a id="68859" class="Symbol">;</a> <a id="68861" href="MGS-Solved-Exercises.html#5136" class="Function">logically-equivalent-subsingletons-are-equivalent</a><a id="68910" class="Symbol">)</a> <a id="68912" class="Keyword">public</a>
</pre>

<h3 id="types-for-subuniverses">Types for subuniverses</h3>

<p>We begin the <a href="https://gitlab.com/ualib/ualib.gitlab.io/-/blob/master/subuniverses.lagda.rst">subuniverses module</a> with a straightforward definition of the collection of subuniverses of an algebra A. Since a subuniverse is a subset of the domain of A, it is defined as a predicate on ∣ A ∣. Thus, the collection of subuniverses is a predicate on predicates on ∣ A ∣.</p>

<pre class="Agda">
 <a id="subuniverses.Subuniverses"></a><a id="69340" href="ualib.html#69340" class="Function">Subuniverses</a> <a id="69353" class="Symbol">:</a> <a id="69355" class="Symbol">(</a><a id="69356" href="ualib.html#69356" class="Bound">𝑨</a> <a id="69358" class="Symbol">:</a> <a id="69360" href="ualib.html#35648" class="Function">Algebra</a> <a id="69368" href="Universes.html#260" class="Generalizable">𝓤</a> <a id="69370" href="ualib.html#68167" class="Bound">𝑆</a><a id="69371" class="Symbol">)</a> <a id="69373" class="Symbol">→</a> <a id="69375" href="ualib.html#25725" class="Function">Pred</a> <a id="69380" class="Symbol">(</a><a id="69381" href="ualib.html#25725" class="Function">Pred</a> <a id="69386" href="ualib.html#21378" class="Function Operator">∣</a> <a id="69388" href="ualib.html#69356" class="Bound">𝑨</a> <a id="69390" href="ualib.html#21378" class="Function Operator">∣</a> <a id="69392" href="Universes.html#266" class="Generalizable">𝓣</a><a id="69393" class="Symbol">)</a> <a id="69395" class="Symbol">(</a><a id="69396" href="ualib.html#68181" class="Bound">𝓞</a> <a id="69398" href="Agda.Primitive.html#636" class="Primitive Operator">⊔</a> <a id="69400" href="ualib.html#68183" class="Bound">𝓥</a> <a id="69402" href="Agda.Primitive.html#636" class="Primitive Operator">⊔</a> <a id="69404" href="Universes.html#260" class="Generalizable">𝓤</a> <a id="69406" href="Agda.Primitive.html#636" class="Primitive Operator">⊔</a> <a id="69408" href="Universes.html#266" class="Generalizable">𝓣</a><a id="69409" class="Symbol">)</a>

 <a id="69413" href="ualib.html#69340" class="Function">Subuniverses</a> <a id="69426" href="ualib.html#69426" class="Bound">𝑨</a> <a id="69428" href="ualib.html#69428" class="Bound">B</a> <a id="69430" class="Symbol">=</a> <a id="69432" class="Symbol">(</a><a id="69433" href="ualib.html#69433" class="Bound">f</a> <a id="69435" class="Symbol">:</a> <a id="69437" href="ualib.html#21378" class="Function Operator">∣</a> <a id="69439" href="ualib.html#68167" class="Bound">𝑆</a> <a id="69441" href="ualib.html#21378" class="Function Operator">∣</a><a id="69442" class="Symbol">)(</a><a id="69444" href="ualib.html#69444" class="Bound">a</a> <a id="69446" class="Symbol">:</a> <a id="69448" href="ualib.html#21456" class="Function Operator">∥</a> <a id="69450" href="ualib.html#68167" class="Bound">𝑆</a> <a id="69452" href="ualib.html#21456" class="Function Operator">∥</a> <a id="69454" href="ualib.html#69433" class="Bound">f</a> <a id="69456" class="Symbol">→</a> <a id="69458" href="ualib.html#21378" class="Function Operator">∣</a> <a id="69460" href="ualib.html#69426" class="Bound">𝑨</a> <a id="69462" href="ualib.html#21378" class="Function Operator">∣</a><a id="69463" class="Symbol">)</a> <a id="69465" class="Symbol">→</a> <a id="69467" href="ualib.html#27773" class="Function Operator">Im</a> <a id="69470" href="ualib.html#69444" class="Bound">a</a> <a id="69472" href="ualib.html#27773" class="Function Operator">⊆</a> <a id="69474" href="ualib.html#69428" class="Bound">B</a> <a id="69476" class="Symbol">→</a> <a id="69478" class="Symbol">(</a><a id="69479" href="ualib.html#69433" class="Bound">f</a> <a id="69481" href="ualib.html#38193" class="Function Operator">̂</a> <a id="69483" href="ualib.html#69426" class="Bound">𝑨</a><a id="69484" class="Symbol">)</a> <a id="69486" href="ualib.html#69444" class="Bound">a</a> <a id="69488" href="ualib.html#26625" class="Function Operator">∈</a> <a id="69490" href="ualib.html#69428" class="Bound">B</a>
</pre>

<h3 id="subuniverse-generation">Subuniverse generation</h3>

<p>Next we formalize the important theorem about subuniverse generation. Recall, if 𝑨 = ⟨𝐴, …⟩ is an 𝑆-algebra, if ∅ ≠ 𝐴₀ ⊆ 𝐴, and if we define by recursion the sets 𝐴<sub>n+1</sub> = 𝐴ₙ ∪ {𝑓 𝑎 ∣ 𝑓 : ∣ 𝑆 ∣, 𝑎 : ∥ 𝑆 ∥ 𝑓 → 𝐴ₙ }, then the subuniverse of 𝐴 generated by 𝐴₀ is Sg<sup>𝑨</sup>(𝐴₀) = ⋃ₙ 𝐴ₙ.</p>

<pre class="Agda">
 <a id="69844" class="Keyword">record</a> <a id="subuniverses.Subuniverse"></a><a id="69851" href="ualib.html#69851" class="Record">Subuniverse</a> <a id="69863" class="Symbol">{</a><a id="69864" href="ualib.html#69864" class="Bound">𝑨</a> <a id="69866" class="Symbol">:</a> <a id="69868" href="ualib.html#35648" class="Function">Algebra</a> <a id="69876" href="Universes.html#260" class="Generalizable">𝓤</a> <a id="69878" href="ualib.html#68167" class="Bound">𝑆</a><a id="69879" class="Symbol">}</a> <a id="69881" class="Symbol">:</a> <a id="69883" href="ualib.html#68181" class="Bound">𝓞</a> <a id="69885" href="Agda.Primitive.html#636" class="Primitive Operator">⊔</a> <a id="69887" href="ualib.html#68183" class="Bound">𝓥</a> <a id="69889" href="Agda.Primitive.html#636" class="Primitive Operator">⊔</a> <a id="69891" href="ualib.html#69876" class="Bound">𝓤</a> <a id="69893" href="Agda.Primitive.html#606" class="Primitive Operator">⁺</a> <a id="69895" href="Universes.html#403" class="Function Operator">̇</a> <a id="69897" class="Keyword">where</a>
  <a id="69905" class="Keyword">constructor</a> <a id="subuniverses.mksub"></a><a id="69917" href="ualib.html#69917" class="InductiveConstructor">mksub</a>
  <a id="69925" class="Keyword">field</a>
    <a id="subuniverses.Subuniverse.sset"></a><a id="69935" href="ualib.html#69935" class="Field">sset</a>  <a id="69941" class="Symbol">:</a> <a id="69943" href="ualib.html#25725" class="Function">Pred</a> <a id="69948" href="ualib.html#21378" class="Function Operator">∣</a> <a id="69950" href="ualib.html#69864" class="Bound">𝑨</a> <a id="69952" href="ualib.html#21378" class="Function Operator">∣</a> <a id="69954" href="ualib.html#69876" class="Bound">𝓤</a>
    <a id="subuniverses.Subuniverse.isSub"></a><a id="69960" href="ualib.html#69960" class="Field">isSub</a> <a id="69966" class="Symbol">:</a> <a id="69968" href="ualib.html#69935" class="Field">sset</a> <a id="69973" href="ualib.html#26625" class="Function Operator">∈</a> <a id="69975" href="ualib.html#69340" class="Function">Subuniverses</a> <a id="69988" href="ualib.html#69864" class="Bound">𝑨</a>

 <a id="69992" class="Keyword">data</a> <a id="subuniverses.Sg"></a><a id="69997" href="ualib.html#69997" class="Datatype">Sg</a> <a id="70000" class="Symbol">(</a><a id="70001" href="ualib.html#70001" class="Bound">𝑨</a> <a id="70003" class="Symbol">:</a> <a id="70005" href="ualib.html#35648" class="Function">Algebra</a> <a id="70013" href="Universes.html#260" class="Generalizable">𝓤</a> <a id="70015" href="ualib.html#68167" class="Bound">𝑆</a><a id="70016" class="Symbol">)</a> <a id="70018" class="Symbol">(</a><a id="70019" href="ualib.html#70019" class="Bound">X</a> <a id="70021" class="Symbol">:</a> <a id="70023" href="ualib.html#25725" class="Function">Pred</a> <a id="70028" href="ualib.html#21378" class="Function Operator">∣</a> <a id="70030" href="ualib.html#70001" class="Bound">𝑨</a> <a id="70032" href="ualib.html#21378" class="Function Operator">∣</a> <a id="70034" href="Universes.html#266" class="Generalizable">𝓣</a><a id="70035" class="Symbol">)</a> <a id="70037" class="Symbol">:</a> <a id="70039" href="ualib.html#25725" class="Function">Pred</a> <a id="70044" href="ualib.html#21378" class="Function Operator">∣</a> <a id="70046" href="ualib.html#70001" class="Bound">𝑨</a> <a id="70048" href="ualib.html#21378" class="Function Operator">∣</a> <a id="70050" class="Symbol">(</a><a id="70051" href="ualib.html#68181" class="Bound">𝓞</a> <a id="70053" href="Agda.Primitive.html#636" class="Primitive Operator">⊔</a> <a id="70055" href="ualib.html#68183" class="Bound">𝓥</a> <a id="70057" href="Agda.Primitive.html#636" class="Primitive Operator">⊔</a> <a id="70059" href="ualib.html#70013" class="Bound">𝓤</a> <a id="70061" href="Agda.Primitive.html#636" class="Primitive Operator">⊔</a> <a id="70063" href="ualib.html#70034" class="Bound">𝓣</a><a id="70064" class="Symbol">)</a> <a id="70066" class="Keyword">where</a>
  <a id="subuniverses.Sg.var"></a><a id="70074" href="ualib.html#70074" class="InductiveConstructor">var</a> <a id="70078" class="Symbol">:</a> <a id="70080" class="Symbol">∀</a> <a id="70082" class="Symbol">{</a><a id="70083" href="ualib.html#70083" class="Bound">v</a><a id="70084" class="Symbol">}</a> <a id="70086" class="Symbol">→</a> <a id="70088" href="ualib.html#70083" class="Bound">v</a> <a id="70090" href="ualib.html#26625" class="Function Operator">∈</a> <a id="70092" href="ualib.html#70019" class="Bound">X</a> <a id="70094" class="Symbol">→</a> <a id="70096" href="ualib.html#70083" class="Bound">v</a> <a id="70098" href="ualib.html#26625" class="Function Operator">∈</a> <a id="70100" href="ualib.html#69997" class="Datatype">Sg</a> <a id="70103" href="ualib.html#70001" class="Bound">𝑨</a> <a id="70105" href="ualib.html#70019" class="Bound">X</a>
  <a id="subuniverses.Sg.app"></a><a id="70109" href="ualib.html#70109" class="InductiveConstructor">app</a> <a id="70113" class="Symbol">:</a> <a id="70115" class="Symbol">(</a><a id="70116" href="ualib.html#70116" class="Bound">f</a> <a id="70118" class="Symbol">:</a> <a id="70120" href="ualib.html#21378" class="Function Operator">∣</a> <a id="70122" href="ualib.html#68167" class="Bound">𝑆</a> <a id="70124" href="ualib.html#21378" class="Function Operator">∣</a><a id="70125" class="Symbol">){</a><a id="70127" href="ualib.html#70127" class="Bound">a</a> <a id="70129" class="Symbol">:</a> <a id="70131" href="ualib.html#21456" class="Function Operator">∥</a> <a id="70133" href="ualib.html#68167" class="Bound">𝑆</a> <a id="70135" href="ualib.html#21456" class="Function Operator">∥</a> <a id="70137" href="ualib.html#70116" class="Bound">f</a> <a id="70139" class="Symbol">→</a> <a id="70141" href="ualib.html#21378" class="Function Operator">∣</a> <a id="70143" href="ualib.html#70001" class="Bound">𝑨</a> <a id="70145" href="ualib.html#21378" class="Function Operator">∣</a><a id="70146" class="Symbol">}</a> <a id="70148" class="Symbol">→</a> <a id="70150" href="ualib.html#27773" class="Function Operator">Im</a> <a id="70153" href="ualib.html#70127" class="Bound">a</a> <a id="70155" href="ualib.html#27773" class="Function Operator">⊆</a> <a id="70157" href="ualib.html#69997" class="Datatype">Sg</a> <a id="70160" href="ualib.html#70001" class="Bound">𝑨</a> <a id="70162" href="ualib.html#70019" class="Bound">X</a>
        <a id="70172" class="Comment">---------------------------------------------</a>
   <a id="70221" class="Symbol">→</a>       <a id="70229" class="Symbol">(</a><a id="70230" href="ualib.html#70116" class="Bound">f</a> <a id="70232" href="ualib.html#38193" class="Function Operator">̂</a> <a id="70234" href="ualib.html#70001" class="Bound">𝑨</a><a id="70235" class="Symbol">)</a> <a id="70237" href="ualib.html#70127" class="Bound">a</a> <a id="70239" href="ualib.html#26625" class="Function Operator">∈</a> <a id="70241" href="ualib.html#69997" class="Datatype">Sg</a> <a id="70244" href="ualib.html#70001" class="Bound">𝑨</a> <a id="70246" href="ualib.html#70019" class="Bound">X</a>

</pre>
<p>Of course, we should be able to prove that Sg 𝑨 𝑋 is indeed a subuniverse of 𝑨.</p>
<pre class="Agda">
 <a id="subuniverses.sgIsSub"></a><a id="70354" href="ualib.html#70354" class="Function">sgIsSub</a> <a id="70362" class="Symbol">:</a> <a id="70364" class="Symbol">{</a><a id="70365" href="ualib.html#70365" class="Bound">𝑨</a> <a id="70367" class="Symbol">:</a> <a id="70369" href="ualib.html#35648" class="Function">Algebra</a> <a id="70377" href="Universes.html#260" class="Generalizable">𝓤</a> <a id="70379" href="ualib.html#68167" class="Bound">𝑆</a><a id="70380" class="Symbol">}{</a><a id="70382" href="ualib.html#70382" class="Bound">X</a> <a id="70384" class="Symbol">:</a> <a id="70386" href="ualib.html#25725" class="Function">Pred</a> <a id="70391" href="ualib.html#21378" class="Function Operator">∣</a> <a id="70393" href="ualib.html#70365" class="Bound">𝑨</a> <a id="70395" href="ualib.html#21378" class="Function Operator">∣</a> <a id="70397" href="Universes.html#260" class="Generalizable">𝓤</a><a id="70398" class="Symbol">}</a> <a id="70400" class="Symbol">→</a> <a id="70402" href="ualib.html#69997" class="Datatype">Sg</a> <a id="70405" href="ualib.html#70365" class="Bound">𝑨</a> <a id="70407" href="ualib.html#70382" class="Bound">X</a> <a id="70409" href="ualib.html#26625" class="Function Operator">∈</a> <a id="70411" href="ualib.html#69340" class="Function">Subuniverses</a> <a id="70424" href="ualib.html#70365" class="Bound">𝑨</a>
 <a id="70427" href="ualib.html#70354" class="Function">sgIsSub</a> <a id="70435" href="ualib.html#70435" class="Bound">f</a> <a id="70437" href="ualib.html#70437" class="Bound">a</a> <a id="70439" href="ualib.html#70439" class="Bound">α</a> <a id="70441" class="Symbol">=</a> <a id="70443" href="ualib.html#70109" class="InductiveConstructor">app</a> <a id="70447" href="ualib.html#70435" class="Bound">f</a> <a id="70449" href="ualib.html#70439" class="Bound">α</a>
</pre>
<p>And, as the subuniverse <em>generated by</em> 𝑋, it had better be the smallest subuniverse of 𝑨 containing 𝑋. We prove this by induction, as follows:</p>
<pre class="Agda">
 <a id="subuniverses.sgIsSmallest"></a><a id="70619" href="ualib.html#70619" class="Function">sgIsSmallest</a> <a id="70632" class="Symbol">:</a> <a id="70634" class="Symbol">{</a><a id="70635" href="ualib.html#70635" class="Bound">𝑨</a> <a id="70637" class="Symbol">:</a> <a id="70639" href="ualib.html#35648" class="Function">Algebra</a> <a id="70647" href="Universes.html#260" class="Generalizable">𝓤</a> <a id="70649" href="ualib.html#68167" class="Bound">𝑆</a><a id="70650" class="Symbol">}{</a><a id="70652" href="ualib.html#70652" class="Bound">X</a> <a id="70654" class="Symbol">:</a> <a id="70656" href="ualib.html#25725" class="Function">Pred</a> <a id="70661" href="ualib.html#21378" class="Function Operator">∣</a> <a id="70663" href="ualib.html#70635" class="Bound">𝑨</a> <a id="70665" href="ualib.html#21378" class="Function Operator">∣</a> <a id="70667" href="ualib.html#17594" class="Generalizable">𝓡</a><a id="70668" class="Symbol">}</a> <a id="70670" class="Symbol">{</a><a id="70671" href="ualib.html#70671" class="Bound">Y</a> <a id="70673" class="Symbol">:</a> <a id="70675" href="ualib.html#25725" class="Function">Pred</a> <a id="70680" href="ualib.html#21378" class="Function Operator">∣</a> <a id="70682" href="ualib.html#70635" class="Bound">𝑨</a> <a id="70684" href="ualib.html#21378" class="Function Operator">∣</a> <a id="70686" href="ualib.html#17596" class="Generalizable">𝓢</a><a id="70687" class="Symbol">}</a>
  <a id="70691" class="Symbol">→</a>             <a id="70705" href="ualib.html#70671" class="Bound">Y</a> <a id="70707" href="ualib.html#26625" class="Function Operator">∈</a> <a id="70709" href="ualib.html#69340" class="Function">Subuniverses</a> <a id="70722" href="ualib.html#70635" class="Bound">𝑨</a>  <a id="70725" class="Symbol">→</a>   <a id="70729" href="ualib.html#70652" class="Bound">X</a> <a id="70731" href="ualib.html#26982" class="Function Operator">⊆</a> <a id="70733" href="ualib.html#70671" class="Bound">Y</a>
               <a id="70750" class="Comment">-------------------------------</a>
  <a id="70784" class="Symbol">→</a>                     <a id="70806" href="ualib.html#69997" class="Datatype">Sg</a> <a id="70809" href="ualib.html#70635" class="Bound">𝑨</a> <a id="70811" href="ualib.html#70652" class="Bound">X</a> <a id="70813" href="ualib.html#26982" class="Function Operator">⊆</a> <a id="70815" href="ualib.html#70671" class="Bound">Y</a>

 <a id="70819" class="Comment">-- By induction on x ∈ Sg X, show x ∈ Y</a>
 <a id="70860" href="ualib.html#70619" class="Function">sgIsSmallest</a> <a id="70873" class="Symbol">_</a> <a id="70875" href="ualib.html#70875" class="Bound">X⊆Y</a> <a id="70879" class="Symbol">(</a><a id="70880" href="ualib.html#70074" class="InductiveConstructor">var</a> <a id="70884" href="ualib.html#70884" class="Bound">v∈X</a><a id="70887" class="Symbol">)</a> <a id="70889" class="Symbol">=</a> <a id="70891" href="ualib.html#70875" class="Bound">X⊆Y</a> <a id="70895" href="ualib.html#70884" class="Bound">v∈X</a>

 <a id="70901" href="ualib.html#70619" class="Function">sgIsSmallest</a> <a id="70914" class="Symbol">{</a><a id="70915" class="Argument">𝑨</a> <a id="70917" class="Symbol">=</a> <a id="70919" href="ualib.html#70919" class="Bound">𝑨</a><a id="70920" class="Symbol">}{</a><a id="70922" class="Argument">Y</a> <a id="70924" class="Symbol">=</a> <a id="70926" href="ualib.html#70926" class="Bound">Y</a><a id="70927" class="Symbol">}</a> <a id="70929" href="ualib.html#70929" class="Bound">YIsSub</a> <a id="70936" href="ualib.html#70936" class="Bound">X⊆Y</a> <a id="70940" class="Symbol">(</a><a id="70941" href="ualib.html#70109" class="InductiveConstructor">app</a> <a id="70945" href="ualib.html#70945" class="Bound">f</a> <a id="70947" class="Symbol">{</a><a id="70948" href="ualib.html#70948" class="Bound">a</a><a id="70949" class="Symbol">}</a> <a id="70951" href="ualib.html#70951" class="Bound">ima⊆SgX</a><a id="70958" class="Symbol">)</a> <a id="70960" class="Symbol">=</a> <a id="70962" href="ualib.html#71149" class="Function">app∈Y</a>
  <a id="70970" class="Keyword">where</a>
   <a id="70979" class="Comment">-- First, show the args are in Y</a>
   <a id="71015" href="ualib.html#71015" class="Function">ima⊆Y</a> <a id="71021" class="Symbol">:</a> <a id="71023" href="ualib.html#27773" class="Function Operator">Im</a> <a id="71026" href="ualib.html#70948" class="Bound">a</a> <a id="71028" href="ualib.html#27773" class="Function Operator">⊆</a> <a id="71030" href="ualib.html#70926" class="Bound">Y</a>
   <a id="71035" href="ualib.html#71015" class="Function">ima⊆Y</a> <a id="71041" href="ualib.html#71041" class="Bound">i</a> <a id="71043" class="Symbol">=</a> <a id="71045" href="ualib.html#70619" class="Function">sgIsSmallest</a> <a id="71058" href="ualib.html#70929" class="Bound">YIsSub</a> <a id="71065" href="ualib.html#70936" class="Bound">X⊆Y</a> <a id="71069" class="Symbol">(</a><a id="71070" href="ualib.html#70951" class="Bound">ima⊆SgX</a> <a id="71078" href="ualib.html#71041" class="Bound">i</a><a id="71079" class="Symbol">)</a>

   <a id="71085" class="Comment">--Since Y is a subuniverse of 𝑨, it contains the application</a>
   <a id="71149" href="ualib.html#71149" class="Function">app∈Y</a> <a id="71155" class="Symbol">:</a> <a id="71157" class="Symbol">(</a><a id="71158" href="ualib.html#70945" class="Bound">f</a> <a id="71160" href="ualib.html#38193" class="Function Operator">̂</a> <a id="71162" href="ualib.html#70919" class="Bound">𝑨</a><a id="71163" class="Symbol">)</a> <a id="71165" href="ualib.html#70948" class="Bound">a</a> <a id="71167" href="ualib.html#26625" class="Function Operator">∈</a> <a id="71169" href="ualib.html#70926" class="Bound">Y</a>          <a id="71180" class="Comment">--           of f to said args.</a>
   <a id="71215" href="ualib.html#71149" class="Function">app∈Y</a> <a id="71221" class="Symbol">=</a> <a id="71223" href="ualib.html#70929" class="Bound">YIsSub</a> <a id="71230" href="ualib.html#70945" class="Bound">f</a> <a id="71232" href="ualib.html#70948" class="Bound">a</a> <a id="71234" href="ualib.html#71015" class="Function">ima⊆Y</a>
</pre>

<h3 id="closure-under-intersection">Closure under intersection</h3>

<p>Recall that the intersection ⋂ᵢ 𝐴ᵢ of a collection {𝐴ᵢ ∣ 𝐴ᵢ ≤ 𝑨} of subuniverses of an algebra 𝑨 is again a subuniverse of 𝑨. We formalize the statement and proof of this easy fact in Agda as follows.</p>

<pre class="Agda">
 <a id="subuniverses.sub-inter-is-sub"></a><a id="71500" href="ualib.html#71500" class="Function">sub-inter-is-sub</a> <a id="71517" class="Symbol">:</a> <a id="71519" class="Symbol">{</a><a id="71520" href="ualib.html#71520" class="Bound">𝑨</a> <a id="71522" class="Symbol">:</a> <a id="71524" href="ualib.html#35648" class="Function">Algebra</a> <a id="71532" href="Universes.html#260" class="Generalizable">𝓤</a> <a id="71534" href="ualib.html#68167" class="Bound">𝑆</a><a id="71535" class="Symbol">}</a>
                    <a id="71557" class="Symbol">{</a><a id="71558" href="ualib.html#71558" class="Bound">I</a> <a id="71560" class="Symbol">:</a> <a id="71562" href="ualib.html#17578" class="Generalizable">𝓘</a> <a id="71564" href="Universes.html#403" class="Function Operator">̇</a><a id="71565" class="Symbol">}{</a><a id="71567" href="ualib.html#71567" class="Bound">𝒜</a> <a id="71569" class="Symbol">:</a> <a id="71571" href="ualib.html#71558" class="Bound">I</a> <a id="71573" class="Symbol">→</a> <a id="71575" href="ualib.html#25725" class="Function">Pred</a> <a id="71580" href="ualib.html#21378" class="Function Operator">∣</a> <a id="71582" href="ualib.html#71520" class="Bound">𝑨</a> <a id="71584" href="ualib.html#21378" class="Function Operator">∣</a> <a id="71586" href="Universes.html#266" class="Generalizable">𝓣</a><a id="71587" class="Symbol">}</a>
  <a id="71591" class="Symbol">→</a>                 <a id="71609" class="Symbol">((</a><a id="71611" href="ualib.html#71611" class="Bound">i</a> <a id="71613" class="Symbol">:</a> <a id="71615" href="ualib.html#71558" class="Bound">I</a><a id="71616" class="Symbol">)</a> <a id="71618" class="Symbol">→</a> <a id="71620" href="ualib.html#71567" class="Bound">𝒜</a> <a id="71622" href="ualib.html#71611" class="Bound">i</a> <a id="71624" href="ualib.html#26625" class="Function Operator">∈</a> <a id="71626" href="ualib.html#69340" class="Function">Subuniverses</a> <a id="71639" href="ualib.html#71520" class="Bound">𝑨</a><a id="71640" class="Symbol">)</a>
                   <a id="71661" class="Comment">-------------------------------------</a>
  <a id="71701" class="Symbol">→</a>                  <a id="71720" href="Relation.Unary.html#4506" class="Function">⋂</a> <a id="71722" href="ualib.html#71558" class="Bound">I</a> <a id="71724" href="ualib.html#71567" class="Bound">𝒜</a> <a id="71726" href="ualib.html#26625" class="Function Operator">∈</a> <a id="71728" href="ualib.html#69340" class="Function">Subuniverses</a> <a id="71741" href="ualib.html#71520" class="Bound">𝑨</a>

 <a id="71745" href="ualib.html#71500" class="Function">sub-inter-is-sub</a> <a id="71762" class="Symbol">{</a><a id="71763" class="Argument">𝑨</a> <a id="71765" class="Symbol">=</a> <a id="71767" href="ualib.html#71767" class="Bound">𝑨</a><a id="71768" class="Symbol">}</a> <a id="71770" class="Symbol">{</a><a id="71771" class="Argument">I</a> <a id="71773" class="Symbol">=</a> <a id="71775" href="ualib.html#71775" class="Bound">I</a><a id="71776" class="Symbol">}</a> <a id="71778" class="Symbol">{</a><a id="71779" class="Argument">𝒜</a> <a id="71781" class="Symbol">=</a> <a id="71783" href="ualib.html#71783" class="Bound">𝒜</a><a id="71784" class="Symbol">}</a> <a id="71786" href="ualib.html#71786" class="Bound">Ai-is-Sub</a> <a id="71796" href="ualib.html#71796" class="Bound">f</a> <a id="71798" href="ualib.html#71798" class="Bound">a</a> <a id="71800" href="ualib.html#71800" class="Bound">ima⊆⋂A</a> <a id="71807" class="Symbol">=</a> <a id="71809" href="ualib.html#71822" class="Function">α</a>
  <a id="71813" class="Keyword">where</a>
   <a id="71822" href="ualib.html#71822" class="Function">α</a> <a id="71824" class="Symbol">:</a> <a id="71826" class="Symbol">(</a><a id="71827" href="ualib.html#71796" class="Bound">f</a> <a id="71829" href="ualib.html#38193" class="Function Operator">̂</a> <a id="71831" href="ualib.html#71767" class="Bound">𝑨</a><a id="71832" class="Symbol">)</a> <a id="71834" href="ualib.html#71798" class="Bound">a</a> <a id="71836" href="ualib.html#26625" class="Function Operator">∈</a> <a id="71838" href="Relation.Unary.html#4506" class="Function">⋂</a> <a id="71840" href="ualib.html#71775" class="Bound">I</a> <a id="71842" href="ualib.html#71783" class="Bound">𝒜</a>
   <a id="71847" href="ualib.html#71822" class="Function">α</a> <a id="71849" href="ualib.html#71849" class="Bound">i</a> <a id="71851" class="Symbol">=</a> <a id="71853" href="ualib.html#71786" class="Bound">Ai-is-Sub</a> <a id="71863" href="ualib.html#71849" class="Bound">i</a> <a id="71865" href="ualib.html#71796" class="Bound">f</a> <a id="71867" href="ualib.html#71798" class="Bound">a</a> <a id="71869" class="Symbol">λ</a> <a id="71871" href="ualib.html#71871" class="Bound">j</a> <a id="71873" class="Symbol">→</a> <a id="71875" href="ualib.html#71800" class="Bound">ima⊆⋂A</a> <a id="71882" href="ualib.html#71871" class="Bound">j</a> <a id="71884" href="ualib.html#71849" class="Bound">i</a>
</pre>

<h3 id="generation-with-terms">Generation with terms</h3>

<p>Recall that subuniverse can be generated using the images of terms: If 𝑌 is a subset of 𝐴, then</p>

<p>Sg<sup>𝑨</sup>(𝑌) = {𝑡<sup>𝑨</sup> 𝑎 : 𝑡 ∈ 𝑻(𝑋), 𝑎 : 𝑋 → 𝑌}.</p>

<p>To formalize this idea in Agda, we first prove that subuniverses are closed under the action of term operations.</p>

<pre class="Agda">
 <a id="subuniverses.sub-term-closed"></a><a id="72216" href="ualib.html#72216" class="Function">sub-term-closed</a> <a id="72232" class="Symbol">:</a> <a id="72234" class="Symbol">{</a><a id="72235" href="ualib.html#72235" class="Bound">X</a> <a id="72237" class="Symbol">:</a> <a id="72239" href="Universes.html#260" class="Generalizable">𝓤</a> <a id="72241" href="Universes.html#403" class="Function Operator">̇</a><a id="72242" class="Symbol">}{</a><a id="72244" href="ualib.html#72244" class="Bound">𝑨</a> <a id="72246" class="Symbol">:</a> <a id="72248" href="ualib.html#35648" class="Function">Algebra</a> <a id="72256" href="Universes.html#260" class="Generalizable">𝓤</a> <a id="72258" href="ualib.html#68167" class="Bound">𝑆</a><a id="72259" class="Symbol">}{</a><a id="72261" href="ualib.html#72261" class="Bound">B</a> <a id="72263" class="Symbol">:</a> <a id="72265" href="ualib.html#25725" class="Function">Pred</a> <a id="72270" href="ualib.html#21378" class="Function Operator">∣</a> <a id="72272" href="ualib.html#72244" class="Bound">𝑨</a> <a id="72274" href="ualib.html#21378" class="Function Operator">∣</a> <a id="72276" href="Universes.html#260" class="Generalizable">𝓤</a><a id="72277" class="Symbol">}</a>
  <a id="72281" class="Symbol">→</a>                <a id="72298" href="ualib.html#72261" class="Bound">B</a> <a id="72300" href="ualib.html#26625" class="Function Operator">∈</a> <a id="72302" href="ualib.html#69340" class="Function">Subuniverses</a> <a id="72315" href="ualib.html#72244" class="Bound">𝑨</a>
  <a id="72319" class="Symbol">→</a>                <a id="72336" class="Symbol">(</a><a id="72337" href="ualib.html#72337" class="Bound">t</a> <a id="72339" class="Symbol">:</a> <a id="72341" href="ualib.html#58364" class="Datatype">Term</a><a id="72345" class="Symbol">)(</a><a id="72347" href="ualib.html#72347" class="Bound">b</a> <a id="72349" class="Symbol">:</a> <a id="72351" href="ualib.html#72235" class="Bound">X</a> <a id="72353" class="Symbol">→</a> <a id="72355" href="ualib.html#21378" class="Function Operator">∣</a> <a id="72357" href="ualib.html#72244" class="Bound">𝑨</a> <a id="72359" href="ualib.html#21378" class="Function Operator">∣</a><a id="72360" class="Symbol">)</a>
  <a id="72364" class="Symbol">→</a>                <a id="72381" class="Symbol">(∀</a> <a id="72384" href="ualib.html#72384" class="Bound">x</a> <a id="72386" class="Symbol">→</a> <a id="72388" href="ualib.html#72347" class="Bound">b</a> <a id="72390" href="ualib.html#72384" class="Bound">x</a> <a id="72392" href="ualib.html#26625" class="Function Operator">∈</a> <a id="72394" href="ualib.html#72261" class="Bound">B</a><a id="72395" class="Symbol">)</a>
                 <a id="72414" class="Comment">---------------------------</a>
  <a id="72444" class="Symbol">→</a>                <a id="72461" class="Symbol">((</a><a id="72463" href="ualib.html#72337" class="Bound">t</a> <a id="72465" href="ualib.html#62400" class="Function Operator">̇</a> <a id="72467" href="ualib.html#72244" class="Bound">𝑨</a><a id="72468" class="Symbol">)</a> <a id="72470" href="ualib.html#72347" class="Bound">b</a><a id="72471" class="Symbol">)</a> <a id="72473" href="ualib.html#26625" class="Function Operator">∈</a> <a id="72475" href="ualib.html#72261" class="Bound">B</a>

 <a id="72479" href="ualib.html#72216" class="Function">sub-term-closed</a> <a id="72495" href="ualib.html#72495" class="Bound">B≤A</a> <a id="72499" class="Symbol">(</a><a id="72500" href="ualib.html#68401" class="InductiveConstructor">ℊ</a> <a id="72502" href="ualib.html#72502" class="Bound">x</a><a id="72503" class="Symbol">)</a> <a id="72505" href="ualib.html#72505" class="Bound">b</a> <a id="72507" href="ualib.html#72507" class="Bound">b∈B</a> <a id="72511" class="Symbol">=</a> <a id="72513" href="ualib.html#72507" class="Bound">b∈B</a> <a id="72517" href="ualib.html#72502" class="Bound">x</a>

 <a id="72521" href="ualib.html#72216" class="Function">sub-term-closed</a> <a id="72537" class="Symbol">{</a><a id="72538" class="Argument">𝑨</a> <a id="72540" class="Symbol">=</a> <a id="72542" href="ualib.html#72542" class="Bound">𝑨</a><a id="72543" class="Symbol">}</a> <a id="72545" class="Symbol">{</a><a id="72546" class="Argument">B</a> <a id="72548" class="Symbol">=</a> <a id="72550" href="ualib.html#72550" class="Bound">B</a><a id="72551" class="Symbol">}</a> <a id="72553" href="ualib.html#72553" class="Bound">B≤A</a> <a id="72557" class="Symbol">(</a><a id="72558" href="ualib.html#58449" class="InductiveConstructor">node</a> <a id="72563" href="ualib.html#72563" class="Bound">f</a> <a id="72565" href="ualib.html#72565" class="Bound">t</a><a id="72566" class="Symbol">)</a> <a id="72568" href="ualib.html#72568" class="Bound">b</a> <a id="72570" href="ualib.html#72570" class="Bound">b∈B</a> <a id="72574" class="Symbol">=</a>
    <a id="72580" href="ualib.html#72553" class="Bound">B≤A</a> <a id="72584" href="ualib.html#72563" class="Bound">f</a> <a id="72586" class="Symbol">(λ</a> <a id="72589" href="ualib.html#72589" class="Bound">z</a> <a id="72591" class="Symbol">→</a> <a id="72593" class="Symbol">(</a><a id="72594" href="ualib.html#72565" class="Bound">t</a> <a id="72596" href="ualib.html#72589" class="Bound">z</a> <a id="72598" href="ualib.html#62400" class="Function Operator">̇</a> <a id="72600" href="ualib.html#72542" class="Bound">𝑨</a><a id="72601" class="Symbol">)</a> <a id="72603" href="ualib.html#72568" class="Bound">b</a><a id="72604" class="Symbol">)</a>
           <a id="72617" class="Symbol">(λ</a> <a id="72620" href="ualib.html#72620" class="Bound">x</a> <a id="72622" class="Symbol">→</a> <a id="72624" href="ualib.html#72216" class="Function">sub-term-closed</a> <a id="72640" class="Symbol">{</a><a id="72641" class="Argument">𝑨</a> <a id="72643" class="Symbol">=</a> <a id="72645" href="ualib.html#72542" class="Bound">𝑨</a><a id="72646" class="Symbol">}</a> <a id="72648" class="Symbol">{</a><a id="72649" class="Argument">B</a> <a id="72651" class="Symbol">=</a> <a id="72653" href="ualib.html#72550" class="Bound">B</a><a id="72654" class="Symbol">}</a> <a id="72656" href="ualib.html#72553" class="Bound">B≤A</a> <a id="72660" class="Symbol">(</a><a id="72661" href="ualib.html#72565" class="Bound">t</a> <a id="72663" href="ualib.html#72620" class="Bound">x</a><a id="72664" class="Symbol">)</a> <a id="72666" href="ualib.html#72568" class="Bound">b</a> <a id="72668" href="ualib.html#72570" class="Bound">b∈B</a><a id="72671" class="Symbol">)</a>
</pre>
<p>This proves Sg<sup>𝑨</sup>(𝑌) ⊇ {𝑡<sup>𝑨</sup> 𝑎 : 𝑡 ∈ 𝑇(𝑋), 𝑎 : 𝑋 → 𝑌 }.</p>

<p>Next we prove Sg<sup>𝑨</sup>(𝑌) ⊆ {𝑡<sup>𝑨</sup> 𝑎 : 𝑡 ∈ 𝑇(𝑋), 𝑎 : 𝑋 → 𝑌 } by the following steps:</p>

<ol>
  <li>
    <p>The image of 𝑌 under all terms, which we call TermImage 𝑌, is a subuniverse of 𝑨; i.e.,</p>

    <p>TermImage 𝑌 ={𝑡<sup>𝑨</sup> 𝑎 : 𝑡 ∈ 𝑇(𝑋), 𝑎 : 𝑋 → 𝑌 } ≤ 𝑨.</p>
  </li>
  <li>
    <p>𝑌 ⊆ TermImage 𝑌 (obvious)</p>
  </li>
  <li>
    <p>Sg<sup>𝑨</sup>(𝑌) is the smallest subuniverse containing 𝑌 (see sgIsSmallest) so</p>

    <p>Sg<sup>𝑨</sup>(𝑌) ⊆ TermImage 𝑌.</p>
  </li>
</ol>

<p>(The last item was already proved above; see <code class="language-plaintext highlighter-rouge">sgIsSmallest</code>.)</p>

<pre class="Agda">
 <a id="73253" class="Keyword">data</a> <a id="subuniverses.TermImage"></a><a id="73258" href="ualib.html#73258" class="Datatype">TermImage</a> <a id="73268" class="Symbol">(</a><a id="73269" href="ualib.html#73269" class="Bound">𝑨</a> <a id="73271" class="Symbol">:</a> <a id="73273" href="ualib.html#35648" class="Function">Algebra</a> <a id="73281" href="Universes.html#260" class="Generalizable">𝓤</a> <a id="73283" href="ualib.html#68167" class="Bound">𝑆</a><a id="73284" class="Symbol">)(</a><a id="73286" href="ualib.html#73286" class="Bound">Y</a> <a id="73288" class="Symbol">:</a> <a id="73290" href="ualib.html#25725" class="Function">Pred</a> <a id="73295" href="ualib.html#21378" class="Function Operator">∣</a> <a id="73297" href="ualib.html#73269" class="Bound">𝑨</a> <a id="73299" href="ualib.html#21378" class="Function Operator">∣</a> <a id="73301" href="Universes.html#260" class="Generalizable">𝓤</a><a id="73302" class="Symbol">)</a> <a id="73304" class="Symbol">:</a> <a id="73306" href="ualib.html#25725" class="Function">Pred</a> <a id="73311" href="ualib.html#21378" class="Function Operator">∣</a> <a id="73313" href="ualib.html#73269" class="Bound">𝑨</a> <a id="73315" href="ualib.html#21378" class="Function Operator">∣</a> <a id="73317" class="Symbol">(</a><a id="73318" href="ualib.html#68181" class="Bound">𝓞</a> <a id="73320" href="Agda.Primitive.html#636" class="Primitive Operator">⊔</a> <a id="73322" href="ualib.html#68183" class="Bound">𝓥</a> <a id="73324" href="Agda.Primitive.html#636" class="Primitive Operator">⊔</a> <a id="73326" href="ualib.html#73281" class="Bound">𝓤</a><a id="73327" class="Symbol">)</a> <a id="73329" class="Keyword">where</a>
  <a id="subuniverses.TermImage.var"></a><a id="73337" href="ualib.html#73337" class="InductiveConstructor">var</a> <a id="73341" class="Symbol">:</a> <a id="73343" class="Symbol">∀</a> <a id="73345" class="Symbol">{</a><a id="73346" href="ualib.html#73346" class="Bound">y</a> <a id="73348" class="Symbol">:</a> <a id="73350" href="ualib.html#21378" class="Function Operator">∣</a> <a id="73352" href="ualib.html#73269" class="Bound">𝑨</a> <a id="73354" href="ualib.html#21378" class="Function Operator">∣</a><a id="73355" class="Symbol">}</a> <a id="73357" class="Symbol">→</a> <a id="73359" href="ualib.html#73346" class="Bound">y</a> <a id="73361" href="ualib.html#26625" class="Function Operator">∈</a> <a id="73363" href="ualib.html#73286" class="Bound">Y</a> <a id="73365" class="Symbol">→</a> <a id="73367" href="ualib.html#73346" class="Bound">y</a> <a id="73369" href="ualib.html#26625" class="Function Operator">∈</a> <a id="73371" href="ualib.html#73258" class="Datatype">TermImage</a> <a id="73381" href="ualib.html#73269" class="Bound">𝑨</a> <a id="73383" href="ualib.html#73286" class="Bound">Y</a>
  <a id="subuniverses.TermImage.app"></a><a id="73387" href="ualib.html#73387" class="InductiveConstructor">app</a> <a id="73391" class="Symbol">:</a> <a id="73393" class="Symbol">(</a><a id="73394" href="ualib.html#73394" class="Bound">f</a> <a id="73396" class="Symbol">:</a> <a id="73398" href="ualib.html#21378" class="Function Operator">∣</a> <a id="73400" href="ualib.html#68167" class="Bound">𝑆</a> <a id="73402" href="ualib.html#21378" class="Function Operator">∣</a><a id="73403" class="Symbol">)</a> <a id="73405" class="Symbol">(</a><a id="73406" href="ualib.html#73406" class="Bound">t</a> <a id="73408" class="Symbol">:</a> <a id="73410" href="ualib.html#21456" class="Function Operator">∥</a> <a id="73412" href="ualib.html#68167" class="Bound">𝑆</a> <a id="73414" href="ualib.html#21456" class="Function Operator">∥</a> <a id="73416" href="ualib.html#73394" class="Bound">f</a> <a id="73418" class="Symbol">→</a> <a id="73420" href="ualib.html#21378" class="Function Operator">∣</a> <a id="73422" href="ualib.html#73269" class="Bound">𝑨</a> <a id="73424" href="ualib.html#21378" class="Function Operator">∣</a><a id="73425" class="Symbol">)</a> <a id="73427" class="Symbol">→</a> <a id="73429" class="Symbol">(∀</a> <a id="73432" href="ualib.html#73432" class="Bound">i</a>  <a id="73435" class="Symbol">→</a>  <a id="73438" href="ualib.html#73406" class="Bound">t</a> <a id="73440" href="ualib.html#73432" class="Bound">i</a> <a id="73442" href="ualib.html#26625" class="Function Operator">∈</a> <a id="73444" href="ualib.html#73258" class="Datatype">TermImage</a> <a id="73454" href="ualib.html#73269" class="Bound">𝑨</a> <a id="73456" href="ualib.html#73286" class="Bound">Y</a><a id="73457" class="Symbol">)</a>
       <a id="73466" class="Comment">---------------------------------------------------------------</a>
   <a id="73533" class="Symbol">→</a>                <a id="73550" class="Symbol">(</a><a id="73551" href="ualib.html#73394" class="Bound">f</a> <a id="73553" href="ualib.html#38193" class="Function Operator">̂</a> <a id="73555" href="ualib.html#73269" class="Bound">𝑨</a><a id="73556" class="Symbol">)</a> <a id="73558" href="ualib.html#73406" class="Bound">t</a> <a id="73560" href="ualib.html#26625" class="Function Operator">∈</a> <a id="73562" href="ualib.html#73258" class="Datatype">TermImage</a> <a id="73572" href="ualib.html#73269" class="Bound">𝑨</a> <a id="73574" href="ualib.html#73286" class="Bound">Y</a>

 <a id="73578" class="Comment">--1. TermImage is a subuniverse</a>
 <a id="subuniverses.TermImageIsSub"></a><a id="73611" href="ualib.html#73611" class="Function">TermImageIsSub</a> <a id="73626" class="Symbol">:</a> <a id="73628" class="Symbol">{</a><a id="73629" href="ualib.html#73629" class="Bound">𝑨</a> <a id="73631" class="Symbol">:</a> <a id="73633" href="ualib.html#35648" class="Function">Algebra</a> <a id="73641" href="Universes.html#260" class="Generalizable">𝓤</a> <a id="73643" href="ualib.html#68167" class="Bound">𝑆</a><a id="73644" class="Symbol">}{</a><a id="73646" href="ualib.html#73646" class="Bound">Y</a> <a id="73648" class="Symbol">:</a> <a id="73650" href="ualib.html#25725" class="Function">Pred</a> <a id="73655" href="ualib.html#21378" class="Function Operator">∣</a> <a id="73657" href="ualib.html#73629" class="Bound">𝑨</a> <a id="73659" href="ualib.html#21378" class="Function Operator">∣</a> <a id="73661" href="Universes.html#260" class="Generalizable">𝓤</a><a id="73662" class="Symbol">}</a>
  <a id="73666" class="Symbol">→</a>               <a id="73682" href="ualib.html#73258" class="Datatype">TermImage</a> <a id="73692" href="ualib.html#73629" class="Bound">𝑨</a> <a id="73694" href="ualib.html#73646" class="Bound">Y</a> <a id="73696" href="ualib.html#26625" class="Function Operator">∈</a> <a id="73698" href="ualib.html#69340" class="Function">Subuniverses</a> <a id="73711" href="ualib.html#73629" class="Bound">𝑨</a>

 <a id="73715" href="ualib.html#73611" class="Function">TermImageIsSub</a> <a id="73730" class="Symbol">=</a> <a id="73732" class="Symbol">λ</a> <a id="73734" href="ualib.html#73734" class="Bound">f</a> <a id="73736" href="ualib.html#73736" class="Bound">a</a> <a id="73738" href="ualib.html#73738" class="Bound">x</a> <a id="73740" class="Symbol">→</a> <a id="73742" href="ualib.html#73387" class="InductiveConstructor">app</a> <a id="73746" href="ualib.html#73734" class="Bound">f</a> <a id="73748" href="ualib.html#73736" class="Bound">a</a> <a id="73750" href="ualib.html#73738" class="Bound">x</a>

 <a id="73754" class="Comment">--2. Y ⊆ TermImageY</a>
 <a id="subuniverses.Y⊆TermImageY"></a><a id="73775" href="ualib.html#73775" class="Function">Y⊆TermImageY</a> <a id="73788" class="Symbol">:</a> <a id="73790" class="Symbol">{</a><a id="73791" href="ualib.html#73791" class="Bound">𝑨</a> <a id="73793" class="Symbol">:</a> <a id="73795" href="ualib.html#35648" class="Function">Algebra</a> <a id="73803" href="Universes.html#260" class="Generalizable">𝓤</a> <a id="73805" href="ualib.html#68167" class="Bound">𝑆</a><a id="73806" class="Symbol">}{</a><a id="73808" href="ualib.html#73808" class="Bound">Y</a> <a id="73810" class="Symbol">:</a> <a id="73812" href="ualib.html#25725" class="Function">Pred</a> <a id="73817" href="ualib.html#21378" class="Function Operator">∣</a> <a id="73819" href="ualib.html#73791" class="Bound">𝑨</a> <a id="73821" href="ualib.html#21378" class="Function Operator">∣</a> <a id="73823" href="Universes.html#260" class="Generalizable">𝓤</a><a id="73824" class="Symbol">}</a>
  <a id="73828" class="Symbol">→</a>             <a id="73842" href="ualib.html#73808" class="Bound">Y</a> <a id="73844" href="ualib.html#26982" class="Function Operator">⊆</a> <a id="73846" href="ualib.html#73258" class="Datatype">TermImage</a> <a id="73856" href="ualib.html#73791" class="Bound">𝑨</a> <a id="73858" href="ualib.html#73808" class="Bound">Y</a>

 <a id="73862" href="ualib.html#73775" class="Function">Y⊆TermImageY</a> <a id="73875" class="Symbol">{</a><a id="73876" href="ualib.html#73876" class="Bound">a</a><a id="73877" class="Symbol">}</a> <a id="73879" href="ualib.html#73879" class="Bound">a∈Y</a> <a id="73883" class="Symbol">=</a> <a id="73885" href="ualib.html#73337" class="InductiveConstructor">var</a> <a id="73889" href="ualib.html#73879" class="Bound">a∈Y</a>

 <a id="73895" class="Comment">-- 3. Sg^A(Y) is the smallest subuniverse containing Y. (Proof: see `sgIsSmallest`)</a>
</pre>
<p>Finally, we can prove the desired inclusion.</p>
<pre class="Agda">
 <a id="subuniverses.SgY⊆TermImageY"></a><a id="74049" href="ualib.html#74049" class="Function">SgY⊆TermImageY</a> <a id="74064" class="Symbol">:</a> <a id="74066" class="Symbol">{</a><a id="74067" href="ualib.html#74067" class="Bound">𝑨</a> <a id="74069" class="Symbol">:</a> <a id="74071" href="ualib.html#35648" class="Function">Algebra</a> <a id="74079" href="Universes.html#260" class="Generalizable">𝓤</a> <a id="74081" href="ualib.html#68167" class="Bound">𝑆</a><a id="74082" class="Symbol">}{</a><a id="74084" href="ualib.html#74084" class="Bound">Y</a> <a id="74086" class="Symbol">:</a> <a id="74088" href="ualib.html#25725" class="Function">Pred</a> <a id="74093" href="ualib.html#21378" class="Function Operator">∣</a> <a id="74095" href="ualib.html#74067" class="Bound">𝑨</a> <a id="74097" href="ualib.html#21378" class="Function Operator">∣</a> <a id="74099" href="Universes.html#260" class="Generalizable">𝓤</a><a id="74100" class="Symbol">}</a>
  <a id="74104" class="Symbol">→</a>               <a id="74120" href="ualib.html#69997" class="Datatype">Sg</a> <a id="74123" href="ualib.html#74067" class="Bound">𝑨</a> <a id="74125" href="ualib.html#74084" class="Bound">Y</a> <a id="74127" href="ualib.html#26982" class="Function Operator">⊆</a> <a id="74129" href="ualib.html#73258" class="Datatype">TermImage</a> <a id="74139" href="ualib.html#74067" class="Bound">𝑨</a> <a id="74141" href="ualib.html#74084" class="Bound">Y</a>
 <a id="74144" href="ualib.html#74049" class="Function">SgY⊆TermImageY</a> <a id="74159" class="Symbol">=</a> <a id="74161" href="ualib.html#70619" class="Function">sgIsSmallest</a> <a id="74174" href="ualib.html#73611" class="Function">TermImageIsSub</a> <a id="74189" href="ualib.html#73775" class="Function">Y⊆TermImageY</a>
</pre>

<!-- **Exercise**. Prove the following by generalizing the relation ≃ to predicates: -->
<!-- ```agda -->
<!-- SgY≃TermImageY : (Y : Pred ∣ 𝑨 ∣ k) → (TermImage Y) ≃ (Sg Y) -->
<!-- SgY≃TermImageY {x} Y = ? -->
<!-- ``` -->

<h3 id="homomorphic-images-are-subuniverses">Homomorphic images are subuniverses</h3>

<p>In this subsection we show that the image of an (extensional) homomorphism is a subuniverse. Before implementing the result formally in Agda, let us recall the steps of the informal proof.</p>

<p>Let 𝑓 be an operation symbol, let 𝑏 : ∥ 𝑆 ∥ 𝑓 → ∣ 𝐵 ∣ be a (∥ 𝑆 ∥ 𝑓)-tuple of elements of ∣ 𝑩 ∣, and assume the image Im 𝑏 of 𝑏 belongs to the image <code class="language-plaintext highlighter-rouge">Image ℎ</code> of ℎ. We must show that 𝑓<sup>𝑩</sup> 𝑏 ∈ Image ℎ. The assumption Im 𝑏 ⊆ Image ℎ implies that there is a (∥ 𝑆 ∥ 𝑓)-tuple 𝑎 : ∥ 𝑆 ∥ 𝑓 → ∣ 𝑨 ∣ such that ℎ ∘ 𝑎 = 𝑏. Since ℎ is a homomorphism, we have 𝑓<sup>𝑩</sup> 𝑏 = 𝑓<sup>𝑩</sup> (ℎ ∘ 𝑎) = ℎ (𝑓<sup>𝑨</sup> 𝑎) ∈ Image ℎ.</p>

<p>Recall the definition of <code class="language-plaintext highlighter-rouge">HomImage</code> from the <a href="https://gitlab.com/ualib/ualib.gitlab.io/-/blob/master/homomorphisms.lagda.rst">homomorphisms module</a>,</p>

<pre><code class="language-agda">HomImage : ∣ B ∣ → 𝓤 ̇
HomImage = λ b → Image ∣ h ∣ ∋ b
</code></pre>

<p>We are now ready to formalize the proof that homomorphic images are subuniverses.</p>

<pre class="Agda">
 <a id="subuniverses.hom-image-is-sub"></a><a id="75416" href="ualib.html#75416" class="Function">hom-image-is-sub</a> <a id="75433" class="Symbol">:</a> <a id="75435" class="Symbol">{</a><a id="75436" href="ualib.html#75436" class="Bound">fe</a> <a id="75439" class="Symbol">:</a> <a id="75441" href="MGS-FunExt-from-Univalence.html#393" class="Function">funext</a> <a id="75448" href="ualib.html#68183" class="Bound">𝓥</a> <a id="75450" href="Universes.html#260" class="Generalizable">𝓤</a><a id="75451" class="Symbol">}</a> <a id="75453" class="Symbol">{</a><a id="75454" href="ualib.html#75454" class="Bound">𝑨</a> <a id="75456" href="ualib.html#75456" class="Bound">𝑩</a> <a id="75458" class="Symbol">:</a> <a id="75460" href="ualib.html#35648" class="Function">Algebra</a> <a id="75468" href="Universes.html#260" class="Generalizable">𝓤</a> <a id="75470" href="ualib.html#68167" class="Bound">𝑆</a><a id="75471" class="Symbol">}</a> <a id="75473" class="Symbol">(</a><a id="75474" href="ualib.html#75474" class="Bound">ϕ</a> <a id="75476" class="Symbol">:</a> <a id="75478" href="ualib.html#51876" class="Function">hom</a> <a id="75482" href="ualib.html#75454" class="Bound">𝑨</a> <a id="75484" href="ualib.html#75456" class="Bound">𝑩</a><a id="75485" class="Symbol">)</a>
                   <a id="75506" class="Comment">-------------------------------------------------</a>
  <a id="75558" class="Symbol">→</a>                 <a id="75576" class="Symbol">(</a><a id="75577" href="ualib.html#55222" class="Function">HomImage</a><a id="75585" class="Symbol">{</a><a id="75586" class="Argument">𝑨</a> <a id="75588" class="Symbol">=</a> <a id="75590" href="ualib.html#75454" class="Bound">𝑨</a><a id="75591" class="Symbol">}</a> <a id="75593" href="ualib.html#75456" class="Bound">𝑩</a> <a id="75595" href="ualib.html#75474" class="Bound">ϕ</a><a id="75596" class="Symbol">)</a> <a id="75598" href="ualib.html#26625" class="Function Operator">∈</a> <a id="75600" href="ualib.html#69340" class="Function">Subuniverses</a> <a id="75613" href="ualib.html#75456" class="Bound">𝑩</a>

 <a id="75617" href="ualib.html#75416" class="Function">hom-image-is-sub</a> <a id="75634" class="Symbol">{</a><a id="75635" class="Argument">fe</a> <a id="75638" class="Symbol">=</a> <a id="75640" href="ualib.html#75640" class="Bound">fe</a><a id="75642" class="Symbol">}{</a><a id="75644" class="Argument">𝑨</a> <a id="75646" class="Symbol">=</a> <a id="75648" href="ualib.html#75648" class="Bound">𝑨</a><a id="75649" class="Symbol">}{</a><a id="75651" class="Argument">𝑩</a> <a id="75653" class="Symbol">=</a> <a id="75655" href="ualib.html#75655" class="Bound">𝑩</a><a id="75656" class="Symbol">}</a> <a id="75658" href="ualib.html#75658" class="Bound">ϕ</a> <a id="75660" href="ualib.html#75660" class="Bound">f</a> <a id="75662" href="ualib.html#75662" class="Bound">b</a> <a id="75664" href="ualib.html#75664" class="Bound">b∈Imf</a> <a id="75670" class="Symbol">=</a> <a id="75672" href="ualib.html#29076" class="InductiveConstructor">eq</a> <a id="75675" class="Symbol">((</a><a id="75677" href="ualib.html#75660" class="Bound">f</a> <a id="75679" href="ualib.html#38193" class="Function Operator">̂</a> <a id="75681" href="ualib.html#75655" class="Bound">𝑩</a><a id="75682" class="Symbol">)</a> <a id="75684" href="ualib.html#75662" class="Bound">b</a><a id="75685" class="Symbol">)</a> <a id="75687" class="Symbol">((</a><a id="75689" href="ualib.html#75660" class="Bound">f</a> <a id="75691" href="ualib.html#38193" class="Function Operator">̂</a> <a id="75693" href="ualib.html#75648" class="Bound">𝑨</a><a id="75694" class="Symbol">)</a> <a id="75696" href="ualib.html#75713" class="Function">ar</a><a id="75698" class="Symbol">)</a> <a id="75700" href="ualib.html#75846" class="Function">γ</a>
  <a id="75704" class="Keyword">where</a>
   <a id="75713" href="ualib.html#75713" class="Function">ar</a> <a id="75716" class="Symbol">:</a> <a id="75718" href="ualib.html#21456" class="Function Operator">∥</a> <a id="75720" href="ualib.html#68167" class="Bound">𝑆</a> <a id="75722" href="ualib.html#21456" class="Function Operator">∥</a> <a id="75724" href="ualib.html#75660" class="Bound">f</a> <a id="75726" class="Symbol">→</a> <a id="75728" href="ualib.html#21378" class="Function Operator">∣</a> <a id="75730" href="ualib.html#75648" class="Bound">𝑨</a> <a id="75732" href="ualib.html#21378" class="Function Operator">∣</a>
   <a id="75737" href="ualib.html#75713" class="Function">ar</a> <a id="75740" class="Symbol">=</a> <a id="75742" class="Symbol">λ</a> <a id="75744" href="ualib.html#75744" class="Bound">x</a> <a id="75746" class="Symbol">→</a> <a id="75748" href="ualib.html#29556" class="Function">Inv</a> <a id="75752" href="ualib.html#21378" class="Function Operator">∣</a> <a id="75754" href="ualib.html#75658" class="Bound">ϕ</a> <a id="75756" href="ualib.html#21378" class="Function Operator">∣</a><a id="75757" class="Symbol">(</a><a id="75758" href="ualib.html#75662" class="Bound">b</a> <a id="75760" href="ualib.html#75744" class="Bound">x</a><a id="75761" class="Symbol">)(</a><a id="75763" href="ualib.html#75664" class="Bound">b∈Imf</a> <a id="75769" href="ualib.html#75744" class="Bound">x</a><a id="75770" class="Symbol">)</a>

   <a id="75776" href="ualib.html#75776" class="Function">ζ</a> <a id="75778" class="Symbol">:</a> <a id="75780" href="ualib.html#21378" class="Function Operator">∣</a> <a id="75782" href="ualib.html#75658" class="Bound">ϕ</a> <a id="75784" href="ualib.html#21378" class="Function Operator">∣</a> <a id="75786" href="MGS-MLTT.html#3813" class="Function Operator">∘</a> <a id="75788" href="ualib.html#75713" class="Function">ar</a> <a id="75791" href="ualib.html#19941" class="Datatype Operator">≡</a> <a id="75793" href="ualib.html#75662" class="Bound">b</a>
   <a id="75798" href="ualib.html#75776" class="Function">ζ</a> <a id="75800" class="Symbol">=</a> <a id="75802" href="ualib.html#75640" class="Bound">fe</a> <a id="75805" class="Symbol">(λ</a> <a id="75808" href="ualib.html#75808" class="Bound">x</a> <a id="75810" class="Symbol">→</a> <a id="75812" href="ualib.html#29835" class="Function">InvIsInv</a> <a id="75821" href="ualib.html#21378" class="Function Operator">∣</a> <a id="75823" href="ualib.html#75658" class="Bound">ϕ</a> <a id="75825" href="ualib.html#21378" class="Function Operator">∣</a><a id="75826" class="Symbol">(</a><a id="75827" href="ualib.html#75662" class="Bound">b</a> <a id="75829" href="ualib.html#75808" class="Bound">x</a><a id="75830" class="Symbol">)(</a><a id="75832" href="ualib.html#75664" class="Bound">b∈Imf</a> <a id="75838" href="ualib.html#75808" class="Bound">x</a><a id="75839" class="Symbol">))</a>

   <a id="75846" href="ualib.html#75846" class="Function">γ</a> <a id="75848" class="Symbol">:</a> <a id="75850" class="Symbol">(</a><a id="75851" href="ualib.html#75660" class="Bound">f</a> <a id="75853" href="ualib.html#38193" class="Function Operator">̂</a> <a id="75855" href="ualib.html#75655" class="Bound">𝑩</a><a id="75856" class="Symbol">)</a> <a id="75858" href="ualib.html#75662" class="Bound">b</a> <a id="75860" href="ualib.html#19941" class="Datatype Operator">≡</a> <a id="75862" href="ualib.html#21378" class="Function Operator">∣</a> <a id="75864" href="ualib.html#75658" class="Bound">ϕ</a> <a id="75866" href="ualib.html#21378" class="Function Operator">∣</a><a id="75867" class="Symbol">((</a><a id="75869" href="ualib.html#75660" class="Bound">f</a> <a id="75871" href="ualib.html#38193" class="Function Operator">̂</a> <a id="75873" href="ualib.html#75648" class="Bound">𝑨</a><a id="75874" class="Symbol">)(λ</a> <a id="75878" href="ualib.html#75878" class="Bound">x</a> <a id="75880" class="Symbol">→</a> <a id="75882" href="ualib.html#29556" class="Function">Inv</a> <a id="75886" href="ualib.html#21378" class="Function Operator">∣</a> <a id="75888" href="ualib.html#75658" class="Bound">ϕ</a> <a id="75890" href="ualib.html#21378" class="Function Operator">∣</a><a id="75891" class="Symbol">(</a><a id="75892" href="ualib.html#75662" class="Bound">b</a> <a id="75894" href="ualib.html#75878" class="Bound">x</a><a id="75895" class="Symbol">)(</a><a id="75897" href="ualib.html#75664" class="Bound">b∈Imf</a> <a id="75903" href="ualib.html#75878" class="Bound">x</a><a id="75904" class="Symbol">)))</a>

   <a id="75912" href="ualib.html#75846" class="Function">γ</a> <a id="75914" class="Symbol">=</a> <a id="75916" class="Symbol">(</a><a id="75917" href="ualib.html#75660" class="Bound">f</a> <a id="75919" href="ualib.html#38193" class="Function Operator">̂</a> <a id="75921" href="ualib.html#75655" class="Bound">𝑩</a><a id="75922" class="Symbol">)</a> <a id="75924" href="ualib.html#75662" class="Bound">b</a>          <a id="75935" href="MGS-MLTT.html#5997" class="Function Operator">≡⟨</a> <a id="75938" href="MGS-MLTT.html#6613" class="Function">ap</a> <a id="75941" class="Symbol">(</a><a id="75942" href="ualib.html#75660" class="Bound">f</a> <a id="75944" href="ualib.html#38193" class="Function Operator">̂</a> <a id="75946" href="ualib.html#75655" class="Bound">𝑩</a><a id="75947" class="Symbol">)(</a><a id="75949" href="ualib.html#75776" class="Function">ζ</a> <a id="75951" href="MGS-MLTT.html#6125" class="Function Operator">⁻¹</a><a id="75953" class="Symbol">)</a> <a id="75955" href="MGS-MLTT.html#5997" class="Function Operator">⟩</a>
       <a id="75964" class="Symbol">(</a><a id="75965" href="ualib.html#75660" class="Bound">f</a> <a id="75967" href="ualib.html#38193" class="Function Operator">̂</a> <a id="75969" href="ualib.html#75655" class="Bound">𝑩</a><a id="75970" class="Symbol">)(</a><a id="75972" href="ualib.html#21378" class="Function Operator">∣</a> <a id="75974" href="ualib.html#75658" class="Bound">ϕ</a> <a id="75976" href="ualib.html#21378" class="Function Operator">∣</a> <a id="75978" href="MGS-MLTT.html#3813" class="Function Operator">∘</a> <a id="75980" href="ualib.html#75713" class="Function">ar</a><a id="75982" class="Symbol">)</a>  <a id="75985" href="MGS-MLTT.html#5997" class="Function Operator">≡⟨</a><a id="75987" class="Symbol">(</a><a id="75988" href="ualib.html#21456" class="Function Operator">∥</a> <a id="75990" href="ualib.html#75658" class="Bound">ϕ</a> <a id="75992" href="ualib.html#21456" class="Function Operator">∥</a> <a id="75994" href="ualib.html#75660" class="Bound">f</a> <a id="75996" href="ualib.html#75713" class="Function">ar</a><a id="75998" class="Symbol">)</a><a id="75999" href="MGS-MLTT.html#6125" class="Function Operator">⁻¹</a> <a id="76002" href="MGS-MLTT.html#5997" class="Function Operator">⟩</a>
       <a id="76011" href="ualib.html#21378" class="Function Operator">∣</a> <a id="76013" href="ualib.html#75658" class="Bound">ϕ</a> <a id="76015" href="ualib.html#21378" class="Function Operator">∣</a><a id="76016" class="Symbol">((</a><a id="76018" href="ualib.html#75660" class="Bound">f</a> <a id="76020" href="ualib.html#38193" class="Function Operator">̂</a> <a id="76022" href="ualib.html#75648" class="Bound">𝑨</a><a id="76023" class="Symbol">)</a> <a id="76025" href="ualib.html#75713" class="Function">ar</a><a id="76027" class="Symbol">)</a>   <a id="76031" href="MGS-MLTT.html#6079" class="Function Operator">∎</a>
</pre>

<h3 id="types-for-subalgebras">Types for subalgebras</h3>

<p>Finally, we define, once and for all, the type of subalgebras of an algebra (resp., subalgebras of algebras in a class of algebras) that we will use in the sequel.</p>

<pre class="Agda">
 <a id="subuniverses.SubalgebrasOf"></a><a id="76252" href="ualib.html#76252" class="Function">SubalgebrasOf</a> <a id="76266" class="Symbol">:</a> <a id="76268" class="Symbol">{</a><a id="76269" href="ualib.html#76269" class="Bound">𝓢</a> <a id="76271" class="Symbol">:</a> <a id="76273" href="Agda.Primitive.html#423" class="Postulate">Universe</a><a id="76281" class="Symbol">}</a> <a id="76283" class="Symbol">→</a> <a id="76285" href="ualib.html#35648" class="Function">Algebra</a> <a id="76293" href="ualib.html#76269" class="Bound">𝓢</a> <a id="76295" href="ualib.html#68167" class="Bound">𝑆</a> <a id="76297" class="Symbol">→</a> <a id="76299" href="ualib.html#68181" class="Bound">𝓞</a> <a id="76301" href="Agda.Primitive.html#636" class="Primitive Operator">⊔</a> <a id="76303" href="ualib.html#68183" class="Bound">𝓥</a> <a id="76305" href="Agda.Primitive.html#636" class="Primitive Operator">⊔</a> <a id="76307" href="ualib.html#76269" class="Bound">𝓢</a> <a id="76309" href="Agda.Primitive.html#606" class="Primitive Operator">⁺</a> <a id="76311" href="Universes.html#403" class="Function Operator">̇</a>
 <a id="76314" href="ualib.html#76252" class="Function">SubalgebrasOf</a> <a id="76328" class="Symbol">{</a><a id="76329" href="ualib.html#76329" class="Bound">𝓢</a><a id="76330" class="Symbol">}</a> <a id="76332" href="ualib.html#76332" class="Bound">𝑨</a> <a id="76334" class="Symbol">=</a> <a id="76336" href="MGS-MLTT.html#3074" class="Function">Σ</a> <a id="76338" href="ualib.html#76338" class="Bound">𝑩</a> <a id="76340" href="MGS-MLTT.html#3074" class="Function">꞉</a> <a id="76342" class="Symbol">(</a><a id="76343" href="ualib.html#35648" class="Function">Algebra</a> <a id="76351" href="ualib.html#76329" class="Bound">𝓢</a> <a id="76353" href="ualib.html#68167" class="Bound">𝑆</a><a id="76354" class="Symbol">)</a> <a id="76356" href="MGS-MLTT.html#3074" class="Function">,</a> <a id="76358" href="MGS-MLTT.html#3074" class="Function">Σ</a> <a id="76360" href="ualib.html#76360" class="Bound">h</a> <a id="76362" href="MGS-MLTT.html#3074" class="Function">꞉</a> <a id="76364" class="Symbol">(</a><a id="76365" href="ualib.html#21378" class="Function Operator">∣</a> <a id="76367" href="ualib.html#76338" class="Bound">𝑩</a> <a id="76369" href="ualib.html#21378" class="Function Operator">∣</a> <a id="76371" class="Symbol">→</a> <a id="76373" href="ualib.html#21378" class="Function Operator">∣</a> <a id="76375" href="ualib.html#76332" class="Bound">𝑨</a> <a id="76377" href="ualib.html#21378" class="Function Operator">∣</a><a id="76378" class="Symbol">)</a> <a id="76380" href="MGS-MLTT.html#3074" class="Function">,</a> <a id="76382" href="MGS-Embeddings.html#384" class="Function">is-embedding</a> <a id="76395" href="ualib.html#76360" class="Bound">h</a> <a id="76397" href="MGS-MLTT.html#3515" class="Function Operator">×</a> <a id="76399" href="ualib.html#51635" class="Function">is-homomorphism</a> <a id="76415" href="ualib.html#76338" class="Bound">𝑩</a> <a id="76417" href="ualib.html#76332" class="Bound">𝑨</a> <a id="76419" href="ualib.html#76360" class="Bound">h</a>

 <a id="subuniverses.SubalgebrasOfClass"></a><a id="76423" href="ualib.html#76423" class="Function">SubalgebrasOfClass</a> <a id="76442" class="Symbol">:</a> <a id="76444" class="Symbol">{</a><a id="76445" href="ualib.html#76445" class="Bound">𝓢</a> <a id="76447" class="Symbol">:</a> <a id="76449" href="Agda.Primitive.html#423" class="Postulate">Universe</a><a id="76457" class="Symbol">}</a> <a id="76459" class="Symbol">→</a> <a id="76461" href="ualib.html#25725" class="Function">Pred</a> <a id="76466" class="Symbol">(</a><a id="76467" href="ualib.html#35648" class="Function">Algebra</a> <a id="76475" href="ualib.html#76445" class="Bound">𝓢</a> <a id="76477" href="ualib.html#68167" class="Bound">𝑆</a><a id="76478" class="Symbol">)(</a><a id="76480" href="ualib.html#76445" class="Bound">𝓢</a> <a id="76482" href="Agda.Primitive.html#606" class="Primitive Operator">⁺</a><a id="76483" class="Symbol">)</a> <a id="76485" class="Symbol">→</a> <a id="76487" href="ualib.html#68181" class="Bound">𝓞</a> <a id="76489" href="Agda.Primitive.html#636" class="Primitive Operator">⊔</a> <a id="76491" href="ualib.html#68183" class="Bound">𝓥</a> <a id="76493" href="Agda.Primitive.html#636" class="Primitive Operator">⊔</a> <a id="76495" href="ualib.html#76445" class="Bound">𝓢</a> <a id="76497" href="Agda.Primitive.html#606" class="Primitive Operator">⁺</a> <a id="76499" href="Universes.html#403" class="Function Operator">̇</a>
 <a id="76502" href="ualib.html#76423" class="Function">SubalgebrasOfClass</a> <a id="76521" href="ualib.html#76521" class="Bound">𝒦</a> <a id="76523" class="Symbol">=</a> <a id="76525" href="MGS-MLTT.html#3074" class="Function">Σ</a> <a id="76527" href="ualib.html#76527" class="Bound">𝑨</a> <a id="76529" href="MGS-MLTT.html#3074" class="Function">꞉</a> <a id="76531" class="Symbol">(</a><a id="76532" href="ualib.html#35648" class="Function">Algebra</a> <a id="76540" class="Symbol">_</a> <a id="76542" href="ualib.html#68167" class="Bound">𝑆</a><a id="76543" class="Symbol">)</a> <a id="76545" href="MGS-MLTT.html#3074" class="Function">,</a> <a id="76547" class="Symbol">(</a><a id="76548" href="ualib.html#76527" class="Bound">𝑨</a> <a id="76550" href="ualib.html#26625" class="Function Operator">∈</a> <a id="76552" href="ualib.html#76521" class="Bound">𝒦</a><a id="76553" class="Symbol">)</a> <a id="76555" href="MGS-MLTT.html#3515" class="Function Operator">×</a> <a id="76557" href="ualib.html#76252" class="Function">SubalgebrasOf</a> <a id="76571" href="ualib.html#76527" class="Bound">𝑨</a>

 <a id="subuniverses.SubalgebrasOfClass&#39;"></a><a id="76575" href="ualib.html#76575" class="Function">SubalgebrasOfClass&#39;</a> <a id="76595" class="Symbol">:</a> <a id="76597" class="Symbol">{</a><a id="76598" href="ualib.html#76598" class="Bound">𝓢</a> <a id="76600" class="Symbol">:</a> <a id="76602" href="Agda.Primitive.html#423" class="Postulate">Universe</a><a id="76610" class="Symbol">}</a> <a id="76612" class="Symbol">→</a> <a id="76614" href="ualib.html#25725" class="Function">Pred</a> <a id="76619" class="Symbol">(</a><a id="76620" href="ualib.html#35648" class="Function">Algebra</a> <a id="76628" href="ualib.html#76598" class="Bound">𝓢</a> <a id="76630" href="ualib.html#68167" class="Bound">𝑆</a><a id="76631" class="Symbol">)(</a><a id="76633" href="ualib.html#68181" class="Bound">𝓞</a> <a id="76635" href="Agda.Primitive.html#636" class="Primitive Operator">⊔</a> <a id="76637" href="ualib.html#68183" class="Bound">𝓥</a> <a id="76639" href="Agda.Primitive.html#636" class="Primitive Operator">⊔</a> <a id="76641" href="ualib.html#76598" class="Bound">𝓢</a> <a id="76643" href="Agda.Primitive.html#606" class="Primitive Operator">⁺</a><a id="76644" class="Symbol">)</a> <a id="76646" class="Symbol">→</a> <a id="76648" href="ualib.html#68181" class="Bound">𝓞</a> <a id="76650" href="Agda.Primitive.html#636" class="Primitive Operator">⊔</a> <a id="76652" href="ualib.html#68183" class="Bound">𝓥</a> <a id="76654" href="Agda.Primitive.html#636" class="Primitive Operator">⊔</a> <a id="76656" href="ualib.html#76598" class="Bound">𝓢</a> <a id="76658" href="Agda.Primitive.html#606" class="Primitive Operator">⁺</a> <a id="76660" href="Universes.html#403" class="Function Operator">̇</a>
 <a id="76663" href="ualib.html#76575" class="Function">SubalgebrasOfClass&#39;</a> <a id="76683" href="ualib.html#76683" class="Bound">𝒦</a> <a id="76685" class="Symbol">=</a> <a id="76687" href="MGS-MLTT.html#3074" class="Function">Σ</a> <a id="76689" href="ualib.html#76689" class="Bound">𝑨</a> <a id="76691" href="MGS-MLTT.html#3074" class="Function">꞉</a> <a id="76693" class="Symbol">(</a><a id="76694" href="ualib.html#35648" class="Function">Algebra</a> <a id="76702" class="Symbol">_</a> <a id="76704" href="ualib.html#68167" class="Bound">𝑆</a><a id="76705" class="Symbol">)</a> <a id="76707" href="MGS-MLTT.html#3074" class="Function">,</a> <a id="76709" class="Symbol">(</a><a id="76710" href="ualib.html#76689" class="Bound">𝑨</a> <a id="76712" href="ualib.html#26625" class="Function Operator">∈</a> <a id="76714" href="ualib.html#76683" class="Bound">𝒦</a><a id="76715" class="Symbol">)</a> <a id="76717" href="MGS-MLTT.html#3515" class="Function Operator">×</a> <a id="76719" href="ualib.html#76252" class="Function">SubalgebrasOf</a> <a id="76733" href="ualib.html#76689" class="Bound">𝑨</a>
</pre>

<hr />

<h3 id="unicode-hints-4">Unicode Hints 4</h3>

<p>Table of some special characters used in the <a href="https://gitlab.com/ualib/ualib.gitlab.io/-/blob/master/subuniverses.lagda.rst">subuniverses module</a>.</p>

<table>
  <thead>
    <tr>
      <th> </th>
      <th>To get</th>
      <th>Type</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td> </td>
      <td>𝓘, 𝓣</td>
      <td><code class="language-plaintext highlighter-rouge">\MCI</code>, <code class="language-plaintext highlighter-rouge">\MCT</code></td>
    </tr>
    <tr>
      <td> </td>
      <td>_⊧_≈_</td>
      <td><code class="language-plaintext highlighter-rouge">_\models_\~~_</code></td>
    </tr>
    <tr>
      <td> </td>
      <td>_⊧_≋_</td>
      <td><code class="language-plaintext highlighter-rouge">_\models_\~~~_</code></td>
    </tr>
    <tr>
      <td> </td>
      <td>⊆</td>
      <td><code class="language-plaintext highlighter-rouge">\subseteq</code> or <code class="language-plaintext highlighter-rouge">\sub=</code></td>
    </tr>
    <tr>
      <td> </td>
      <td>⋂</td>
      <td><code class="language-plaintext highlighter-rouge">\bigcap</code> or <code class="language-plaintext highlighter-rouge">\I</code></td>
    </tr>
    <tr>
      <td> </td>
      <td>ξ</td>
      <td><code class="language-plaintext highlighter-rouge">\xi</code></td>
    </tr>
  </tbody>
</table>

<p><strong>Emacs commands providing information about special characters/input methods</strong>:</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">M-x describe-char</code> (or <code class="language-plaintext highlighter-rouge">M-m h d c</code>) with the cursor on the character of interest</li>
  <li><code class="language-plaintext highlighter-rouge">M-x describe-input-method</code> (or <code class="language-plaintext highlighter-rouge">C-h I</code>)</li>
</ul>

<hr />

<p><a href="ualib.html#contents"><sub>Table of contents ⇑</sub></a></p>
<h2 id="equational-logic-in-agda">Equational Logic in Agda</h2>

<p>This chapter describes the <a href="https://gitlab.com/ualib/ualib.gitlab.io/-/blob/master/congruences.lagda.rst">closure module</a>
of the <a href="https://gitlab.com/ualib/ualib.gitlab.io">agda-ualib</a>.</p>

<h3 id="closure-operators-and-varieties">Closure operators and varieties</h3>

<p>Fix a signature 𝑆 and let 𝒦 be a class of 𝑆-algebras. Define</p>

<ul>
  <li>H(𝒦) = homomorphic images of members of 𝒦;</li>
  <li>S(𝒦) = algebras isomorphic to a subalgebra of a member of 𝒦;</li>
  <li>P(𝒦) = algebras isomorphic to a direct product of members of 𝒦.</li>
</ul>

<p>As a straight-forward verification confirms, H, S, and P are closure operators. A class 𝒦 of 𝑆-algebras is said to be <em>closed under the formation of homomorphic images</em> if H(𝒦) ⊆ 𝒦. Similarly, 𝒦 is <em>closed under the formation of subalgebras</em> (resp., <em>products</em>) provided S(𝒦) ⊆ 𝒦 (resp., P(𝒦) ⊆ 𝒦).</p>

<p>An algebra is a homomorphic image (resp., subalgebra; resp., product) of every algebra to which it is isomorphic. Thus, the class H(𝒦) (resp., S(𝒦); resp., P(𝒦)) is closed under isomorphism.</p>

<p>The operators H, S, and P can be composed with one another repeatedly, forming yet more closure operators. If C₁ and C₂ are closure operators on classes of structures, let us say that C₁ ≤ C₂ if for every class 𝒦 we have C₁(𝒦) ⊆ C₂(𝒦).</p>

<p>A class 𝒦 of 𝑆-algebras is called a <strong>variety</strong> if it is closed under each of the closure operators H, S, and P introduced above; the corresponding closure operator is often denoted 𝕍. Thus, if 𝒦 is a class of similar algebras, then the <strong>variety generated by</strong> 𝒦 is denoted by 𝕍(𝒦) and defined to be the smallest class that contains 𝒦 and is closed under H, S, and P.</p>

<p>We would like to know how to construct 𝕍(𝒦) directly from 𝒦, but it’s not immediately obvious how many times we would have to apply the operators H, S, P before the result stabilizes to form a variety—the <strong>variety generated by</strong> 𝒦. Fortunately, Garrett Birkhoff proved that if we apply the operators in the correct order, then it suffices to apply each one only once.</p>

<h3 id="types-for-identities">Types for identities</h3>

<p>In his treatment of Birhoff’s HSP theorem, Cliff Bergman (at the start of Section 4.4 of his universal algebra textbook Bergman:2012) proclaims, “Now, finally, we can formalize the idea we have been using since the first page of this text.” He then proceeds to define <strong>identities of terms</strong> as follows (paraphrasing for notational consistency):</p>

<p>Let 𝑆 be a signature. An <strong>identity</strong> or <strong>equation</strong> in 𝑆 is an ordered pair of terms, written 𝑝 ≈ 𝑞, from the term algebra 𝑻(X). If A is an 𝑆-algebra we say that A <strong>satisfies</strong> 𝑝 ≈ 𝑞 if 𝑝 ̇ A ≡ 𝑞 ̇ A. In this situation, we write A ⊧ 𝑝 ≈ 𝑞.</p>

<p>If 𝒦 is a class of 𝑆-algebras, we write 𝒦 ⊧ 𝑝 ≋ 𝑞 if, for every A ∈ 𝒦, A ⊧ 𝑝 ≈ 𝑞. Finally, if 𝓔 is a set of equations, we write 𝒦 ⊧ 𝓔 if every member of 𝒦 satisfies every member of 𝓔.</p>

<p>We formalize these notions in Agda in the <a href="https://gitlab.com/ualib/ualib.gitlab.io/-/blob/master/congruences.lagda.rst">closure module</a>, which begins as follows. (Note the imports that were postponed until after the start of the closure module so that the imports share the same signature 𝑆 with the <a href="https://gitlab.com/ualib/ualib.gitlab.io/-/blob/master/congruences.lagda.rst">closure module</a>.</p>

<pre class="Agda">
<a id="80974" class="Keyword">open</a> <a id="80979" href="ualib.html#33986" class="Module">basic</a>
<a id="80985" class="Keyword">open</a> <a id="80990" href="ualib.html#41753" class="Module">congruences</a>
<a id="81002" class="Keyword">open</a> <a id="81007" href="ualib.html#15713" class="Module">prelude</a> <a id="81015" class="Keyword">using</a> <a id="81021" class="Symbol">(</a><a id="81022" href="MGS-Subsingleton-Theorems.html#3468" class="Function">global-dfunext</a><a id="81036" class="Symbol">;</a> <a id="81038" href="MGS-FunExt-from-Univalence.html#2039" class="Function">dfunext</a><a id="81045" class="Symbol">;</a> <a id="81047" href="ualib.html#29044" class="InductiveConstructor">im</a><a id="81049" class="Symbol">;</a> <a id="81051" href="ualib.html#27297" class="Function Operator">_∪_</a><a id="81054" class="Symbol">;</a> <a id="81056" href="ualib.html#27221" class="InductiveConstructor">inj₁</a><a id="81060" class="Symbol">;</a> <a id="81062" href="ualib.html#27247" class="InductiveConstructor">inj₂</a><a id="81066" class="Symbol">)</a>

<a id="81069" class="Keyword">module</a> <a id="closure"></a><a id="81076" href="ualib.html#81076" class="Module">closure</a>
 <a id="81085" class="Symbol">{</a><a id="81086" href="ualib.html#81086" class="Bound">𝑆</a> <a id="81088" class="Symbol">:</a> <a id="81090" href="ualib.html#34935" class="Function">Signature</a> <a id="81100" href="ualib.html#17590" class="Generalizable">𝓞</a> <a id="81102" href="Universes.html#262" class="Generalizable">𝓥</a><a id="81103" class="Symbol">}</a>
 <a id="81106" class="Symbol">{</a><a id="81107" href="ualib.html#81107" class="Bound">X</a> <a id="81109" class="Symbol">:</a> <a id="81111" href="Universes.html#260" class="Generalizable">𝓤</a> <a id="81113" href="Universes.html#403" class="Function Operator">̇</a><a id="81114" class="Symbol">}</a>
 <a id="81117" class="Symbol">{</a><a id="81118" href="ualib.html#81118" class="Bound">𝒦</a> <a id="81120" class="Symbol">:</a> <a id="81122" href="ualib.html#25725" class="Function">Pred</a> <a id="81127" class="Symbol">(</a><a id="81128" href="ualib.html#35648" class="Function">Algebra</a> <a id="81136" href="Universes.html#260" class="Generalizable">𝓤</a> <a id="81138" href="ualib.html#81086" class="Bound">𝑆</a><a id="81139" class="Symbol">)(</a><a id="81141" href="ualib.html#17590" class="Generalizable">𝓞</a> <a id="81143" href="Agda.Primitive.html#636" class="Primitive Operator">⊔</a> <a id="81145" href="Universes.html#262" class="Generalizable">𝓥</a> <a id="81147" href="Agda.Primitive.html#636" class="Primitive Operator">⊔</a> <a id="81149" href="Universes.html#260" class="Generalizable">𝓤</a> <a id="81151" href="Agda.Primitive.html#606" class="Primitive Operator">⁺</a><a id="81152" class="Symbol">)}</a>
 <a id="81156" class="Symbol">{</a><a id="81157" href="ualib.html#81157" class="Bound">𝕏</a> <a id="81159" class="Symbol">:</a> <a id="81161" class="Symbol">{</a><a id="81162" href="ualib.html#81162" class="Bound">𝓤</a> <a id="81164" href="ualib.html#81164" class="Bound">𝓧</a> <a id="81166" class="Symbol">:</a> <a id="81168" href="Agda.Primitive.html#423" class="Postulate">Universe</a><a id="81176" class="Symbol">}{</a><a id="81178" href="ualib.html#81178" class="Bound">X</a> <a id="81180" class="Symbol">:</a> <a id="81182" href="ualib.html#81164" class="Bound">𝓧</a> <a id="81184" href="Universes.html#403" class="Function Operator">̇</a> <a id="81186" class="Symbol">}(</a><a id="81188" href="ualib.html#81188" class="Bound">𝑨</a> <a id="81190" class="Symbol">:</a> <a id="81192" href="ualib.html#35648" class="Function">Algebra</a> <a id="81200" href="ualib.html#81162" class="Bound">𝓤</a> <a id="81202" href="ualib.html#81086" class="Bound">𝑆</a><a id="81203" class="Symbol">)</a> <a id="81205" class="Symbol">→</a> <a id="81207" href="ualib.html#81178" class="Bound">X</a> <a id="81209" href="ualib.html#39443" class="Function Operator">↠</a> <a id="81211" href="ualib.html#81188" class="Bound">𝑨</a><a id="81212" class="Symbol">}</a>
 <a id="81215" class="Symbol">{</a><a id="81216" href="ualib.html#81216" class="Bound">gfe</a> <a id="81220" class="Symbol">:</a> <a id="81222" href="MGS-Subsingleton-Theorems.html#3468" class="Function">global-dfunext</a><a id="81236" class="Symbol">}</a>
 <a id="81239" class="Symbol">{</a><a id="81240" href="ualib.html#81240" class="Bound">dfe</a> <a id="81244" class="Symbol">:</a> <a id="81246" href="MGS-FunExt-from-Univalence.html#2039" class="Function">dfunext</a> <a id="81254" href="Universes.html#260" class="Generalizable">𝓤</a> <a id="81256" href="Universes.html#260" class="Generalizable">𝓤</a><a id="81257" class="Symbol">}</a>
 <a id="81260" class="Symbol">{</a><a id="81261" href="ualib.html#81261" class="Bound">fevu</a> <a id="81266" class="Symbol">:</a> <a id="81268" href="MGS-FunExt-from-Univalence.html#2039" class="Function">dfunext</a> <a id="81276" href="Universes.html#262" class="Generalizable">𝓥</a> <a id="81278" href="Universes.html#260" class="Generalizable">𝓤</a><a id="81279" class="Symbol">}</a> <a id="81281" class="Keyword">where</a>

 <a id="81289" class="Keyword">open</a> <a id="81294" href="ualib.html#51059" class="Module">homomorphisms</a> <a id="81308" class="Symbol">{</a><a id="81309" class="Argument">𝑆</a> <a id="81311" class="Symbol">=</a> <a id="81313" href="ualib.html#81086" class="Bound">𝑆</a><a id="81314" class="Symbol">}</a> <a id="81316" class="Keyword">public</a>
 <a id="81324" class="Keyword">open</a> <a id="81329" href="ualib.html#57930" class="Module">terms</a> <a id="81335" class="Symbol">{</a><a id="81336" class="Argument">𝑆</a> <a id="81338" class="Symbol">=</a> <a id="81340" href="ualib.html#81086" class="Bound">𝑆</a><a id="81341" class="Symbol">}{</a><a id="81343" class="Argument">𝕏</a> <a id="81345" class="Symbol">=</a> <a id="81347" href="ualib.html#81157" class="Bound">𝕏</a><a id="81348" class="Symbol">}{</a><a id="81350" class="Argument">gfe</a> <a id="81354" class="Symbol">=</a> <a id="81356" href="ualib.html#81216" class="Bound">gfe</a><a id="81359" class="Symbol">}</a> <a id="81361" class="Keyword">renaming</a> <a id="81370" class="Symbol">(</a>generator <a id="81381" class="Symbol">to</a> ℊ<a id="81385" class="Symbol">)</a> <a id="81387" class="Keyword">public</a>
 <a id="81395" class="Keyword">open</a> <a id="81400" href="ualib.html#68153" class="Module">subuniverses</a> <a id="81413" class="Symbol">{</a><a id="81414" class="Argument">𝑆</a> <a id="81416" class="Symbol">=</a> <a id="81418" href="ualib.html#81086" class="Bound">𝑆</a><a id="81419" class="Symbol">}{</a><a id="81421" class="Argument">𝕏</a> <a id="81423" class="Symbol">=</a> <a id="81425" href="ualib.html#81157" class="Bound">𝕏</a><a id="81426" class="Symbol">}{</a><a id="81428" class="Argument">fe</a> <a id="81431" class="Symbol">=</a> <a id="81433" href="ualib.html#81216" class="Bound">gfe</a><a id="81436" class="Symbol">}</a> <a id="81438" class="Keyword">public</a>
</pre>

<p>Our first definition in the <a href="https://gitlab.com/ualib/ualib.gitlab.io/-/blob/master/congruences.lagda.rst">closure module</a>
is notation that represents the satisfaction of equations.</p>

<p>The standard notation is <code class="language-plaintext highlighter-rouge">𝑨 ⊧ p ≈ q</code>, which means that the identity <code class="language-plaintext highlighter-rouge">p ≈ q</code> is satisfied in 𝑨. In otherwords, for all assignments <code class="language-plaintext highlighter-rouge">a : X → ∣ 𝑨 ∣</code> of values to variables, we have <code class="language-plaintext highlighter-rouge">(p ̇ 𝑨) a ≡ (q ̇ 𝑨) a</code>.</p>

<p>If 𝒦 is a class of structures, it is standard to write <code class="language-plaintext highlighter-rouge">𝒦 ⊧ p ≈ q</code> just in case all structures in the class 𝒦 model the identity p ≈ q. However, because a class of structures has a different type than a single structure, we will need different notation, so we have settled on writing <code class="language-plaintext highlighter-rouge">𝒦 ⊧ p ≋ q</code> to denote this concept.</p>

<pre class="Agda">
 <a id="closure._⊧_≈_"></a><a id="82179" href="ualib.html#82179" class="Function Operator">_⊧_≈_</a> <a id="82185" class="Symbol">:</a> <a id="82187" href="ualib.html#35648" class="Function">Algebra</a> <a id="82195" href="ualib.html#81111" class="Bound">𝓤</a> <a id="82197" href="ualib.html#81086" class="Bound">𝑆</a> <a id="82199" class="Symbol">→</a> <a id="82201" href="ualib.html#58364" class="Datatype">Term</a><a id="82205" class="Symbol">{</a><a id="82206" href="ualib.html#81111" class="Bound">𝓤</a><a id="82207" class="Symbol">}{</a><a id="82209" href="ualib.html#81107" class="Bound">X</a><a id="82210" class="Symbol">}</a> <a id="82212" class="Symbol">→</a> <a id="82214" href="ualib.html#58364" class="Datatype">Term</a> <a id="82219" class="Symbol">→</a> <a id="82221" href="ualib.html#81111" class="Bound">𝓤</a> <a id="82223" href="Universes.html#403" class="Function Operator">̇</a>
 <a id="82226" href="ualib.html#82226" class="Bound">𝑨</a> <a id="82228" href="ualib.html#82179" class="Function Operator">⊧</a> <a id="82230" href="ualib.html#82230" class="Bound">p</a> <a id="82232" href="ualib.html#82179" class="Function Operator">≈</a> <a id="82234" href="ualib.html#82234" class="Bound">q</a> <a id="82236" class="Symbol">=</a> <a id="82238" class="Symbol">(</a><a id="82239" href="ualib.html#82230" class="Bound">p</a> <a id="82241" href="ualib.html#62400" class="Function Operator">̇</a> <a id="82243" href="ualib.html#82226" class="Bound">𝑨</a><a id="82244" class="Symbol">)</a> <a id="82246" href="ualib.html#19941" class="Datatype Operator">≡</a> <a id="82248" class="Symbol">(</a><a id="82249" href="ualib.html#82234" class="Bound">q</a> <a id="82251" href="ualib.html#62400" class="Function Operator">̇</a> <a id="82253" href="ualib.html#82226" class="Bound">𝑨</a><a id="82254" class="Symbol">)</a>

 <a id="closure._⊧_≋_"></a><a id="82258" href="ualib.html#82258" class="Function Operator">_⊧_≋_</a> <a id="82264" class="Symbol">:</a> <a id="82266" href="ualib.html#25725" class="Function">Pred</a> <a id="82271" class="Symbol">(</a><a id="82272" href="ualib.html#35648" class="Function">Algebra</a> <a id="82280" href="ualib.html#81111" class="Bound">𝓤</a> <a id="82282" href="ualib.html#81086" class="Bound">𝑆</a><a id="82283" class="Symbol">)</a> <a id="82285" class="Symbol">(</a><a id="82286" href="ualib.html#81100" class="Bound">𝓞</a> <a id="82288" href="Agda.Primitive.html#636" class="Primitive Operator">⊔</a> <a id="82290" href="ualib.html#81102" class="Bound">𝓥</a> <a id="82292" href="Agda.Primitive.html#636" class="Primitive Operator">⊔</a> <a id="82294" href="ualib.html#81111" class="Bound">𝓤</a> <a id="82296" href="Agda.Primitive.html#606" class="Primitive Operator">⁺</a><a id="82297" class="Symbol">)</a> <a id="82299" class="Symbol">→</a> <a id="82301" href="ualib.html#58364" class="Datatype">Term</a> <a id="82306" class="Symbol">→</a> <a id="82308" href="ualib.html#58364" class="Datatype">Term</a> <a id="82313" class="Symbol">→</a> <a id="82315" href="ualib.html#81100" class="Bound">𝓞</a> <a id="82317" href="Agda.Primitive.html#636" class="Primitive Operator">⊔</a> <a id="82319" href="ualib.html#81102" class="Bound">𝓥</a> <a id="82321" href="Agda.Primitive.html#636" class="Primitive Operator">⊔</a> <a id="82323" href="ualib.html#81111" class="Bound">𝓤</a> <a id="82325" href="Agda.Primitive.html#606" class="Primitive Operator">⁺</a> <a id="82327" href="Universes.html#403" class="Function Operator">̇</a>
 <a id="82330" href="ualib.html#82258" class="Function Operator">_⊧_≋_</a> <a id="82336" href="ualib.html#82336" class="Bound">𝒦</a> <a id="82338" href="ualib.html#82338" class="Bound">p</a> <a id="82340" href="ualib.html#82340" class="Bound">q</a> <a id="82342" class="Symbol">=</a> <a id="82344" class="Symbol">{</a><a id="82345" href="ualib.html#82345" class="Bound">𝑨</a> <a id="82347" class="Symbol">:</a> <a id="82349" href="ualib.html#35648" class="Function">Algebra</a> <a id="82357" class="Symbol">_</a> <a id="82359" href="ualib.html#81086" class="Bound">𝑆</a><a id="82360" class="Symbol">}</a> <a id="82362" class="Symbol">→</a> <a id="82364" href="ualib.html#82336" class="Bound">𝒦</a> <a id="82366" href="ualib.html#82345" class="Bound">𝑨</a> <a id="82368" class="Symbol">→</a> <a id="82370" href="ualib.html#82345" class="Bound">𝑨</a> <a id="82372" href="ualib.html#82179" class="Function Operator">⊧</a> <a id="82374" href="ualib.html#82338" class="Bound">p</a> <a id="82376" href="ualib.html#82179" class="Function Operator">≈</a> <a id="82378" href="ualib.html#82340" class="Bound">q</a>
</pre>

<h3 id="equational-theories-and-classes">Equational theories and classes</h3>

<p>Here we define the notation <code class="language-plaintext highlighter-rouge">Th</code> for the identities satisfied by all structures in a given class, and <code class="language-plaintext highlighter-rouge">Mod</code> for all structures that satisfy a given collection of identities.</p>

<pre class="Agda">
 <a id="closure.Th"></a><a id="82618" href="ualib.html#82618" class="Function">Th</a> <a id="82621" class="Symbol">:</a>  <a id="82624" href="ualib.html#25725" class="Function">Pred</a> <a id="82629" class="Symbol">(</a><a id="82630" href="ualib.html#35648" class="Function">Algebra</a> <a id="82638" href="ualib.html#81111" class="Bound">𝓤</a> <a id="82640" href="ualib.html#81086" class="Bound">𝑆</a><a id="82641" class="Symbol">)</a> <a id="82643" class="Symbol">(</a><a id="82644" href="ualib.html#81100" class="Bound">𝓞</a> <a id="82646" href="Agda.Primitive.html#636" class="Primitive Operator">⊔</a> <a id="82648" href="ualib.html#81102" class="Bound">𝓥</a> <a id="82650" href="Agda.Primitive.html#636" class="Primitive Operator">⊔</a> <a id="82652" href="ualib.html#81111" class="Bound">𝓤</a> <a id="82654" href="Agda.Primitive.html#606" class="Primitive Operator">⁺</a><a id="82655" class="Symbol">)</a> <a id="82657" class="Symbol">→</a> <a id="82659" href="ualib.html#25725" class="Function">Pred</a> <a id="82664" class="Symbol">(</a><a id="82665" href="ualib.html#58364" class="Datatype">Term</a> <a id="82670" href="MGS-MLTT.html#3515" class="Function Operator">×</a> <a id="82672" href="ualib.html#58364" class="Datatype">Term</a><a id="82676" class="Symbol">)</a> <a id="82678" class="Symbol">(</a><a id="82679" href="ualib.html#81100" class="Bound">𝓞</a> <a id="82681" href="Agda.Primitive.html#636" class="Primitive Operator">⊔</a> <a id="82683" href="ualib.html#81102" class="Bound">𝓥</a> <a id="82685" href="Agda.Primitive.html#636" class="Primitive Operator">⊔</a> <a id="82687" href="ualib.html#81111" class="Bound">𝓤</a> <a id="82689" href="Agda.Primitive.html#606" class="Primitive Operator">⁺</a><a id="82690" class="Symbol">)</a>
 <a id="82693" href="ualib.html#82618" class="Function">Th</a> <a id="82696" href="ualib.html#82696" class="Bound">𝒦</a> <a id="82698" class="Symbol">=</a> <a id="82700" class="Symbol">λ</a> <a id="82702" class="Symbol">(</a><a id="82703" href="ualib.html#82703" class="Bound">p</a> <a id="82705" href="ualib.html#20052" class="InductiveConstructor Operator">,</a> <a id="82707" href="ualib.html#82707" class="Bound">q</a><a id="82708" class="Symbol">)</a> <a id="82710" class="Symbol">→</a> <a id="82712" href="ualib.html#82696" class="Bound">𝒦</a> <a id="82714" href="ualib.html#82258" class="Function Operator">⊧</a> <a id="82716" href="ualib.html#82703" class="Bound">p</a> <a id="82718" href="ualib.html#82258" class="Function Operator">≋</a> <a id="82720" href="ualib.html#82707" class="Bound">q</a>

 <a id="closure.Mod"></a><a id="82724" href="ualib.html#82724" class="Function">Mod</a> <a id="82728" class="Symbol">:</a> <a id="82730" href="ualib.html#25725" class="Function">Pred</a> <a id="82735" class="Symbol">(</a><a id="82736" href="ualib.html#58364" class="Datatype">Term</a> <a id="82741" href="MGS-MLTT.html#3515" class="Function Operator">×</a> <a id="82743" href="ualib.html#58364" class="Datatype">Term</a><a id="82747" class="Symbol">)</a> <a id="82749" class="Symbol">(</a><a id="82750" href="ualib.html#81100" class="Bound">𝓞</a> <a id="82752" href="Agda.Primitive.html#636" class="Primitive Operator">⊔</a> <a id="82754" href="ualib.html#81102" class="Bound">𝓥</a> <a id="82756" href="Agda.Primitive.html#636" class="Primitive Operator">⊔</a> <a id="82758" href="ualib.html#81111" class="Bound">𝓤</a> <a id="82760" href="Agda.Primitive.html#606" class="Primitive Operator">⁺</a><a id="82761" class="Symbol">)</a> <a id="82763" class="Symbol">→</a> <a id="82765" href="ualib.html#25725" class="Function">Pred</a> <a id="82770" class="Symbol">(</a><a id="82771" href="ualib.html#35648" class="Function">Algebra</a> <a id="82779" href="ualib.html#81111" class="Bound">𝓤</a> <a id="82781" href="ualib.html#81086" class="Bound">𝑆</a><a id="82782" class="Symbol">)</a> <a id="82784" class="Symbol">(</a><a id="82785" href="ualib.html#81100" class="Bound">𝓞</a> <a id="82787" href="Agda.Primitive.html#636" class="Primitive Operator">⊔</a> <a id="82789" href="ualib.html#81102" class="Bound">𝓥</a> <a id="82791" href="Agda.Primitive.html#636" class="Primitive Operator">⊔</a> <a id="82793" href="ualib.html#81111" class="Bound">𝓤</a> <a id="82795" href="Agda.Primitive.html#606" class="Primitive Operator">⁺</a><a id="82796" class="Symbol">)</a>
 <a id="82799" href="ualib.html#82724" class="Function">Mod</a> <a id="82803" href="ualib.html#82803" class="Bound">ℰ</a> <a id="82805" class="Symbol">=</a> <a id="82807" class="Symbol">λ</a> <a id="82809" href="ualib.html#82809" class="Bound">A</a> <a id="82811" class="Symbol">→</a> <a id="82813" class="Symbol">∀</a> <a id="82815" href="ualib.html#82815" class="Bound">p</a> <a id="82817" href="ualib.html#82817" class="Bound">q</a> <a id="82819" class="Symbol">→</a> <a id="82821" class="Symbol">(</a><a id="82822" href="ualib.html#82815" class="Bound">p</a> <a id="82824" href="ualib.html#20052" class="InductiveConstructor Operator">,</a> <a id="82826" href="ualib.html#82817" class="Bound">q</a><a id="82827" class="Symbol">)</a> <a id="82829" href="ualib.html#26625" class="Function Operator">∈</a> <a id="82831" href="ualib.html#82803" class="Bound">ℰ</a> <a id="82833" class="Symbol">→</a> <a id="82835" href="ualib.html#82809" class="Bound">A</a> <a id="82837" href="ualib.html#82179" class="Function Operator">⊧</a> <a id="82839" href="ualib.html#82815" class="Bound">p</a> <a id="82841" href="ualib.html#82179" class="Function Operator">≈</a> <a id="82843" href="ualib.html#82817" class="Bound">q</a>
</pre>

<h3 id="compatibility-of-identities">Compatibility of identities</h3>

<p>Identities are compatible with the formation of subalgebras, homomorphic images and products. More precisely, for every class 𝒦 of structures, each of the classes S(𝒦), H(𝒦), P(𝒦), 𝕍(𝒦) satisfies the same set of identities as does 𝒦.</p>

<p>Here we formalize the notion of closure under the taking of products, subalgebras, and homomorphic images, and we prove that each of these closures preserves identities.</p>

<p>First a data type that represents classes of algebraic structures that are closed under the taking of products of algebras in the class can be defined in <a href="https://wiki.portal.chalmers.se/agda/pmwiki.php">Agda</a> as follows.</p>

<pre class="Agda">
 <a id="83486" class="Comment">--Closure under products</a>
 <a id="83512" class="Keyword">data</a> <a id="closure.PClo"></a><a id="83517" href="ualib.html#83517" class="Datatype">PClo</a> <a id="83522" class="Symbol">:</a> <a id="83524" href="ualib.html#25725" class="Function">Pred</a> <a id="83529" class="Symbol">(</a><a id="83530" href="ualib.html#35648" class="Function">Algebra</a> <a id="83538" href="ualib.html#81111" class="Bound">𝓤</a> <a id="83540" href="ualib.html#81086" class="Bound">𝑆</a><a id="83541" class="Symbol">)</a> <a id="83543" class="Symbol">(</a><a id="83544" href="ualib.html#81100" class="Bound">𝓞</a> <a id="83546" href="Agda.Primitive.html#636" class="Primitive Operator">⊔</a> <a id="83548" href="ualib.html#81102" class="Bound">𝓥</a> <a id="83550" href="Agda.Primitive.html#636" class="Primitive Operator">⊔</a> <a id="83552" href="ualib.html#81111" class="Bound">𝓤</a> <a id="83554" href="Agda.Primitive.html#606" class="Primitive Operator">⁺</a><a id="83555" class="Symbol">)</a> <a id="83557" class="Keyword">where</a>
  <a id="closure.PClo.pbase"></a><a id="83565" href="ualib.html#83565" class="InductiveConstructor">pbase</a> <a id="83571" class="Symbol">:</a> <a id="83573" class="Symbol">{</a><a id="83574" href="ualib.html#83574" class="Bound">𝑨</a> <a id="83576" class="Symbol">:</a> <a id="83578" href="ualib.html#35648" class="Function">Algebra</a> <a id="83586" class="Symbol">_</a> <a id="83588" href="ualib.html#81086" class="Bound">𝑆</a><a id="83589" class="Symbol">}</a> <a id="83591" class="Symbol">→</a> <a id="83593" href="ualib.html#83574" class="Bound">𝑨</a> <a id="83595" href="ualib.html#26625" class="Function Operator">∈</a> <a id="83597" href="ualib.html#81118" class="Bound">𝒦</a> <a id="83599" class="Symbol">→</a> <a id="83601" href="ualib.html#83574" class="Bound">𝑨</a> <a id="83603" href="ualib.html#26625" class="Function Operator">∈</a> <a id="83605" href="ualib.html#83517" class="Datatype">PClo</a>
  <a id="closure.PClo.prod"></a><a id="83612" href="ualib.html#83612" class="InductiveConstructor">prod</a> <a id="83617" class="Symbol">:</a> <a id="83619" class="Symbol">{</a><a id="83620" href="ualib.html#83620" class="Bound">I</a> <a id="83622" class="Symbol">:</a> <a id="83624" href="ualib.html#81111" class="Bound">𝓤</a> <a id="83626" href="Universes.html#403" class="Function Operator">̇</a> <a id="83628" class="Symbol">}{</a><a id="83630" href="ualib.html#83630" class="Bound">𝒜</a> <a id="83632" class="Symbol">:</a> <a id="83634" href="ualib.html#83620" class="Bound">I</a> <a id="83636" class="Symbol">→</a> <a id="83638" href="ualib.html#35648" class="Function">Algebra</a> <a id="83646" class="Symbol">_</a> <a id="83648" href="ualib.html#81086" class="Bound">𝑆</a><a id="83649" class="Symbol">}</a> <a id="83651" class="Symbol">→</a> <a id="83653" class="Symbol">(∀</a> <a id="83656" href="ualib.html#83656" class="Bound">i</a> <a id="83658" class="Symbol">→</a> <a id="83660" href="ualib.html#83630" class="Bound">𝒜</a> <a id="83662" href="ualib.html#83656" class="Bound">i</a> <a id="83664" href="ualib.html#26625" class="Function Operator">∈</a> <a id="83666" href="ualib.html#83517" class="Datatype">PClo</a><a id="83670" class="Symbol">)</a> <a id="83672" class="Symbol">→</a> <a id="83674" href="ualib.html#38896" class="Function">⨅</a> <a id="83676" href="ualib.html#83630" class="Bound">𝒜</a> <a id="83678" href="ualib.html#26625" class="Function Operator">∈</a> <a id="83680" href="ualib.html#83517" class="Datatype">PClo</a>
</pre>
<p>A datatype that represents classes of structures that are closed under the taking of subalgebras is</p>
<pre class="Agda">
 <a id="83810" class="Comment">-- Subalgebra Closure</a>
 <a id="83833" class="Keyword">data</a> <a id="closure.SClo"></a><a id="83838" href="ualib.html#83838" class="Datatype">SClo</a> <a id="83843" class="Symbol">:</a> <a id="83845" href="ualib.html#25725" class="Function">Pred</a> <a id="83850" class="Symbol">(</a><a id="83851" href="ualib.html#35648" class="Function">Algebra</a> <a id="83859" href="ualib.html#81111" class="Bound">𝓤</a> <a id="83861" href="ualib.html#81086" class="Bound">𝑆</a><a id="83862" class="Symbol">)</a> <a id="83864" class="Symbol">(</a><a id="83865" href="ualib.html#81100" class="Bound">𝓞</a> <a id="83867" href="Agda.Primitive.html#636" class="Primitive Operator">⊔</a> <a id="83869" href="ualib.html#81102" class="Bound">𝓥</a> <a id="83871" href="Agda.Primitive.html#636" class="Primitive Operator">⊔</a> <a id="83873" href="ualib.html#81111" class="Bound">𝓤</a> <a id="83875" href="Agda.Primitive.html#606" class="Primitive Operator">⁺</a> <a id="83877" class="Symbol">)</a> <a id="83879" class="Keyword">where</a>
  <a id="closure.SClo.sbase"></a><a id="83887" href="ualib.html#83887" class="InductiveConstructor">sbase</a> <a id="83893" class="Symbol">:</a> <a id="83895" class="Symbol">{</a><a id="83896" href="ualib.html#83896" class="Bound">𝑨</a> <a id="83898" class="Symbol">:</a>  <a id="83901" href="ualib.html#35648" class="Function">Algebra</a> <a id="83909" class="Symbol">_</a> <a id="83911" href="ualib.html#81086" class="Bound">𝑆</a><a id="83912" class="Symbol">}</a> <a id="83914" class="Symbol">→</a> <a id="83916" href="ualib.html#83896" class="Bound">𝑨</a> <a id="83918" href="ualib.html#26625" class="Function Operator">∈</a> <a id="83920" href="ualib.html#81118" class="Bound">𝒦</a> <a id="83922" class="Symbol">→</a> <a id="83924" href="ualib.html#83896" class="Bound">𝑨</a> <a id="83926" href="ualib.html#26625" class="Function Operator">∈</a> <a id="83928" href="ualib.html#83838" class="Datatype">SClo</a>
  <a id="closure.SClo.sub"></a><a id="83935" href="ualib.html#83935" class="InductiveConstructor">sub</a> <a id="83939" class="Symbol">:</a> <a id="83941" class="Symbol">{</a><a id="83942" href="ualib.html#83942" class="Bound">𝑨</a> <a id="83944" class="Symbol">:</a> <a id="83946" href="ualib.html#35648" class="Function">Algebra</a> <a id="83954" class="Symbol">_</a> <a id="83956" href="ualib.html#81086" class="Bound">𝑆</a><a id="83957" class="Symbol">}</a> <a id="83959" class="Symbol">→</a> <a id="83961" href="ualib.html#83942" class="Bound">𝑨</a> <a id="83963" href="ualib.html#26625" class="Function Operator">∈</a> <a id="83965" href="ualib.html#83838" class="Datatype">SClo</a> <a id="83970" class="Symbol">→</a> <a id="83972" class="Symbol">(</a><a id="83973" href="ualib.html#83973" class="Bound">sa</a> <a id="83976" class="Symbol">:</a> <a id="83978" href="ualib.html#76252" class="Function">SubalgebrasOf</a> <a id="83992" href="ualib.html#83942" class="Bound">𝑨</a><a id="83993" class="Symbol">)</a> <a id="83995" class="Symbol">→</a> <a id="83997" href="ualib.html#21378" class="Function Operator">∣</a> <a id="83999" href="ualib.html#83973" class="Bound">sa</a> <a id="84002" href="ualib.html#21378" class="Function Operator">∣</a> <a id="84004" href="ualib.html#26625" class="Function Operator">∈</a> <a id="84006" href="ualib.html#83838" class="Datatype">SClo</a>
</pre>
<p>Next, a datatype representing classes of algebras that are closed under homomorphic images of algebras in the class,</p>
<pre class="Agda">
 <a id="84153" class="Comment">--Closure under hom images</a>
 <a id="84181" class="Keyword">data</a> <a id="closure.HClo"></a><a id="84186" href="ualib.html#84186" class="Datatype">HClo</a> <a id="84191" class="Symbol">:</a> <a id="84193" href="ualib.html#25725" class="Function">Pred</a> <a id="84198" class="Symbol">(</a><a id="84199" href="ualib.html#35648" class="Function">Algebra</a> <a id="84207" href="ualib.html#81111" class="Bound">𝓤</a> <a id="84209" href="ualib.html#81086" class="Bound">𝑆</a><a id="84210" class="Symbol">)</a> <a id="84212" class="Symbol">(</a><a id="84213" href="ualib.html#81100" class="Bound">𝓞</a> <a id="84215" href="Agda.Primitive.html#636" class="Primitive Operator">⊔</a> <a id="84217" href="ualib.html#81102" class="Bound">𝓥</a> <a id="84219" href="Agda.Primitive.html#636" class="Primitive Operator">⊔</a> <a id="84221" href="ualib.html#81111" class="Bound">𝓤</a> <a id="84223" href="Agda.Primitive.html#606" class="Primitive Operator">⁺</a><a id="84224" class="Symbol">)</a> <a id="84226" class="Keyword">where</a>
  <a id="closure.HClo.hbase"></a><a id="84234" href="ualib.html#84234" class="InductiveConstructor">hbase</a> <a id="84240" class="Symbol">:</a> <a id="84242" class="Symbol">{</a><a id="84243" href="ualib.html#84243" class="Bound">𝑨</a> <a id="84245" class="Symbol">:</a> <a id="84247" href="ualib.html#35648" class="Function">Algebra</a> <a id="84255" class="Symbol">_</a> <a id="84257" href="ualib.html#81086" class="Bound">𝑆</a><a id="84258" class="Symbol">}</a> <a id="84260" class="Symbol">→</a> <a id="84262" href="ualib.html#84243" class="Bound">𝑨</a> <a id="84264" href="ualib.html#26625" class="Function Operator">∈</a> <a id="84266" href="ualib.html#81118" class="Bound">𝒦</a> <a id="84268" class="Symbol">→</a> <a id="84270" href="ualib.html#84243" class="Bound">𝑨</a> <a id="84272" href="ualib.html#26625" class="Function Operator">∈</a> <a id="84274" href="ualib.html#84186" class="Datatype">HClo</a>
  <a id="closure.HClo.hhom"></a><a id="84281" href="ualib.html#84281" class="InductiveConstructor">hhom</a> <a id="84286" class="Symbol">:</a> <a id="84288" class="Symbol">{</a><a id="84289" href="ualib.html#84289" class="Bound">𝑨</a> <a id="84291" class="Symbol">:</a> <a id="84293" href="ualib.html#35648" class="Function">Algebra</a> <a id="84301" class="Symbol">_</a> <a id="84303" href="ualib.html#81086" class="Bound">𝑆</a><a id="84304" class="Symbol">}</a> <a id="84306" class="Symbol">→</a> <a id="84308" href="ualib.html#84289" class="Bound">𝑨</a> <a id="84310" href="ualib.html#26625" class="Function Operator">∈</a> <a id="84312" href="ualib.html#84186" class="Datatype">HClo</a> <a id="84317" class="Symbol">→</a> <a id="84319" class="Symbol">(</a><a id="84320" href="ualib.html#84320" class="Bound">(𝑩</a> <a id="84323" href="ualib.html#84320" class="Bound">,</a> <a id="84325" href="ualib.html#84320" class="Bound">_</a> <a id="84327" href="ualib.html#84320" class="Bound">)</a> <a id="84329" class="Symbol">:</a> <a id="84331" href="ualib.html#55338" class="Function">HomImagesOf</a> <a id="84343" href="ualib.html#84289" class="Bound">𝑨</a><a id="84344" class="Symbol">)</a> <a id="84346" class="Symbol">→</a> <a id="84348" href="ualib.html#84321" class="Bound">𝑩</a> <a id="84350" href="ualib.html#26625" class="Function Operator">∈</a> <a id="84352" href="ualib.html#84186" class="Datatype">HClo</a>
</pre>
<p>And, finally, an inductive type representing classes that are closed under all three, H, S, and P,</p>
<pre class="Agda">
 <a id="84481" class="Comment">-- Variety Closure</a>
 <a id="84501" class="Keyword">data</a> <a id="closure.VClo"></a><a id="84506" href="ualib.html#84506" class="Datatype">VClo</a> <a id="84511" class="Symbol">:</a> <a id="84513" href="ualib.html#25725" class="Function">Pred</a> <a id="84518" class="Symbol">(</a><a id="84519" href="ualib.html#35648" class="Function">Algebra</a> <a id="84527" href="ualib.html#81111" class="Bound">𝓤</a> <a id="84529" href="ualib.html#81086" class="Bound">𝑆</a><a id="84530" class="Symbol">)(</a><a id="84532" href="ualib.html#81100" class="Bound">𝓞</a> <a id="84534" href="Agda.Primitive.html#636" class="Primitive Operator">⊔</a> <a id="84536" href="ualib.html#81102" class="Bound">𝓥</a> <a id="84538" href="Agda.Primitive.html#636" class="Primitive Operator">⊔</a> <a id="84540" href="ualib.html#81111" class="Bound">𝓤</a> <a id="84542" href="Agda.Primitive.html#606" class="Primitive Operator">⁺</a> <a id="84544" class="Symbol">)</a> <a id="84546" class="Keyword">where</a>
  <a id="closure.VClo.vbase"></a><a id="84554" href="ualib.html#84554" class="InductiveConstructor">vbase</a> <a id="84560" class="Symbol">:</a> <a id="84562" class="Symbol">{</a><a id="84563" href="ualib.html#84563" class="Bound">𝑨</a> <a id="84565" class="Symbol">:</a> <a id="84567" href="ualib.html#35648" class="Function">Algebra</a> <a id="84575" href="ualib.html#81111" class="Bound">𝓤</a> <a id="84577" href="ualib.html#81086" class="Bound">𝑆</a><a id="84578" class="Symbol">}</a> <a id="84580" class="Symbol">→</a> <a id="84582" href="ualib.html#84563" class="Bound">𝑨</a> <a id="84584" href="ualib.html#26625" class="Function Operator">∈</a> <a id="84586" href="ualib.html#81118" class="Bound">𝒦</a> <a id="84588" class="Symbol">→</a> <a id="84590" href="ualib.html#84563" class="Bound">𝑨</a> <a id="84592" href="ualib.html#26625" class="Function Operator">∈</a> <a id="84594" href="ualib.html#84506" class="Datatype">VClo</a>
  <a id="closure.VClo.vprod"></a><a id="84601" href="ualib.html#84601" class="InductiveConstructor">vprod</a> <a id="84607" class="Symbol">:</a> <a id="84609" class="Symbol">{</a><a id="84610" href="ualib.html#84610" class="Bound">I</a> <a id="84612" class="Symbol">:</a> <a id="84614" href="ualib.html#81111" class="Bound">𝓤</a> <a id="84616" href="Universes.html#403" class="Function Operator">̇</a> <a id="84618" class="Symbol">}{</a><a id="84620" href="ualib.html#84620" class="Bound">𝒜</a> <a id="84622" class="Symbol">:</a> <a id="84624" href="ualib.html#84610" class="Bound">I</a> <a id="84626" class="Symbol">→</a> <a id="84628" href="ualib.html#35648" class="Function">Algebra</a> <a id="84636" class="Symbol">_</a> <a id="84638" href="ualib.html#81086" class="Bound">𝑆</a><a id="84639" class="Symbol">}</a> <a id="84641" class="Symbol">→</a> <a id="84643" class="Symbol">(∀</a> <a id="84646" href="ualib.html#84646" class="Bound">i</a> <a id="84648" class="Symbol">→</a> <a id="84650" href="ualib.html#84620" class="Bound">𝒜</a> <a id="84652" href="ualib.html#84646" class="Bound">i</a> <a id="84654" href="ualib.html#26625" class="Function Operator">∈</a> <a id="84656" href="ualib.html#84506" class="Datatype">VClo</a><a id="84660" class="Symbol">)</a> <a id="84662" class="Symbol">→</a> <a id="84664" href="ualib.html#38896" class="Function">⨅</a> <a id="84666" href="ualib.html#84620" class="Bound">𝒜</a> <a id="84668" href="ualib.html#26625" class="Function Operator">∈</a> <a id="84670" href="ualib.html#84506" class="Datatype">VClo</a>
  <a id="closure.VClo.vsub"></a><a id="84677" href="ualib.html#84677" class="InductiveConstructor">vsub</a> <a id="84682" class="Symbol">:</a> <a id="84684" class="Symbol">{</a><a id="84685" href="ualib.html#84685" class="Bound">𝑨</a> <a id="84687" class="Symbol">:</a> <a id="84689" href="ualib.html#35648" class="Function">Algebra</a> <a id="84697" href="ualib.html#81111" class="Bound">𝓤</a> <a id="84699" href="ualib.html#81086" class="Bound">𝑆</a><a id="84700" class="Symbol">}</a> <a id="84702" class="Symbol">→</a> <a id="84704" href="ualib.html#84685" class="Bound">𝑨</a> <a id="84706" href="ualib.html#26625" class="Function Operator">∈</a> <a id="84708" href="ualib.html#84506" class="Datatype">VClo</a> <a id="84713" class="Symbol">→</a> <a id="84715" class="Symbol">(</a><a id="84716" href="ualib.html#84716" class="Bound">sa</a> <a id="84719" class="Symbol">:</a> <a id="84721" href="ualib.html#76252" class="Function">SubalgebrasOf</a> <a id="84735" href="ualib.html#84685" class="Bound">𝑨</a><a id="84736" class="Symbol">)</a> <a id="84738" class="Symbol">→</a> <a id="84740" href="ualib.html#21378" class="Function Operator">∣</a> <a id="84742" href="ualib.html#84716" class="Bound">sa</a> <a id="84745" href="ualib.html#21378" class="Function Operator">∣</a> <a id="84747" href="ualib.html#26625" class="Function Operator">∈</a> <a id="84749" href="ualib.html#84506" class="Datatype">VClo</a>
  <a id="closure.VClo.vhom"></a><a id="84756" href="ualib.html#84756" class="InductiveConstructor">vhom</a> <a id="84761" class="Symbol">:</a> <a id="84763" class="Symbol">{</a><a id="84764" href="ualib.html#84764" class="Bound">𝑨</a> <a id="84766" class="Symbol">:</a> <a id="84768" href="ualib.html#35648" class="Function">Algebra</a> <a id="84776" href="ualib.html#81111" class="Bound">𝓤</a> <a id="84778" href="ualib.html#81086" class="Bound">𝑆</a><a id="84779" class="Symbol">}</a> <a id="84781" class="Symbol">→</a> <a id="84783" href="ualib.html#84764" class="Bound">𝑨</a> <a id="84785" href="ualib.html#26625" class="Function Operator">∈</a> <a id="84787" href="ualib.html#84506" class="Datatype">VClo</a> <a id="84792" class="Symbol">→</a> <a id="84794" class="Symbol">(</a><a id="84795" href="ualib.html#84795" class="Bound">(𝑩</a> <a id="84798" href="ualib.html#84795" class="Bound">,</a> <a id="84800" href="ualib.html#84795" class="Bound">_</a> <a id="84802" href="ualib.html#84795" class="Bound">,</a> <a id="84804" href="ualib.html#84795" class="Bound">_)</a> <a id="84807" class="Symbol">:</a> <a id="84809" href="ualib.html#55338" class="Function">HomImagesOf</a> <a id="84821" href="ualib.html#84764" class="Bound">𝑨</a><a id="84822" class="Symbol">)</a> <a id="84824" class="Symbol">→</a> <a id="84826" href="ualib.html#84796" class="Bound">𝑩</a> <a id="84828" href="ualib.html#26625" class="Function Operator">∈</a> <a id="84830" href="ualib.html#84506" class="Datatype">VClo</a>
</pre>

<h4 id="products-preserve-identities">Products preserve identities</h4>

<p>We prove that identities satisfied by all factors of a product are also satisfied by the product.</p>

<pre class="Agda">
 <a id="closure.products-preserve-identities"></a><a id="84995" href="ualib.html#84995" class="Function">products-preserve-identities</a> <a id="85024" class="Symbol">:</a> <a id="85026" class="Symbol">(</a><a id="85027" href="ualib.html#85027" class="Bound">p</a> <a id="85029" href="ualib.html#85029" class="Bound">q</a> <a id="85031" class="Symbol">:</a> <a id="85033" href="ualib.html#58364" class="Datatype">Term</a><a id="85037" class="Symbol">{</a><a id="85038" href="ualib.html#81111" class="Bound">𝓤</a><a id="85039" class="Symbol">}{</a><a id="85041" href="ualib.html#81107" class="Bound">X</a><a id="85042" class="Symbol">})</a> <a id="85045" class="Symbol">(</a><a id="85046" href="ualib.html#85046" class="Bound">I</a> <a id="85048" class="Symbol">:</a> <a id="85050" href="ualib.html#81111" class="Bound">𝓤</a> <a id="85052" href="Universes.html#403" class="Function Operator">̇</a> <a id="85054" class="Symbol">)</a> <a id="85056" class="Symbol">(</a><a id="85057" href="ualib.html#85057" class="Bound">𝒜</a> <a id="85059" class="Symbol">:</a> <a id="85061" href="ualib.html#85046" class="Bound">I</a> <a id="85063" class="Symbol">→</a> <a id="85065" href="ualib.html#35648" class="Function">Algebra</a> <a id="85073" href="ualib.html#81111" class="Bound">𝓤</a> <a id="85075" href="ualib.html#81086" class="Bound">𝑆</a><a id="85076" class="Symbol">)</a>
  <a id="85080" class="Symbol">→</a>                             <a id="85110" class="Symbol">((</a><a id="85112" href="ualib.html#85112" class="Bound">i</a> <a id="85114" class="Symbol">:</a> <a id="85116" href="ualib.html#85046" class="Bound">I</a><a id="85117" class="Symbol">)</a> <a id="85119" class="Symbol">→</a> <a id="85121" class="Symbol">(</a><a id="85122" href="ualib.html#85057" class="Bound">𝒜</a> <a id="85124" href="ualib.html#85112" class="Bound">i</a><a id="85125" class="Symbol">)</a> <a id="85127" href="ualib.html#82179" class="Function Operator">⊧</a> <a id="85129" href="ualib.html#85027" class="Bound">p</a> <a id="85131" href="ualib.html#82179" class="Function Operator">≈</a> <a id="85133" href="ualib.html#85029" class="Bound">q</a><a id="85134" class="Symbol">)</a>
                                <a id="85168" class="Comment">------------------------------------------------------</a>
  <a id="85225" class="Symbol">→</a>                             <a id="85255" href="ualib.html#38896" class="Function">⨅</a> <a id="85257" href="ualib.html#85057" class="Bound">𝒜</a> <a id="85259" href="ualib.html#82179" class="Function Operator">⊧</a> <a id="85261" href="ualib.html#85027" class="Bound">p</a> <a id="85263" href="ualib.html#82179" class="Function Operator">≈</a> <a id="85265" href="ualib.html#85029" class="Bound">q</a>

 <a id="85269" href="ualib.html#84995" class="Function">products-preserve-identities</a> <a id="85298" href="ualib.html#85298" class="Bound">p</a> <a id="85300" href="ualib.html#85300" class="Bound">q</a> <a id="85302" href="ualib.html#85302" class="Bound">I</a> <a id="85304" href="ualib.html#85304" class="Bound">𝒜</a> <a id="85306" href="ualib.html#85306" class="Bound">𝒜⊧p≈q</a> <a id="85312" class="Symbol">=</a> <a id="85314" href="ualib.html#85329" class="Function">γ</a>
   <a id="85319" class="Keyword">where</a>
    <a id="85329" href="ualib.html#85329" class="Function">γ</a> <a id="85331" class="Symbol">:</a> <a id="85333" class="Symbol">(</a><a id="85334" href="ualib.html#85298" class="Bound">p</a> <a id="85336" href="ualib.html#62400" class="Function Operator">̇</a> <a id="85338" href="ualib.html#38896" class="Function">⨅</a> <a id="85340" href="ualib.html#85304" class="Bound">𝒜</a><a id="85341" class="Symbol">)</a> <a id="85343" href="ualib.html#19941" class="Datatype Operator">≡</a> <a id="85345" class="Symbol">(</a><a id="85346" href="ualib.html#85300" class="Bound">q</a> <a id="85348" href="ualib.html#62400" class="Function Operator">̇</a> <a id="85350" href="ualib.html#38896" class="Function">⨅</a> <a id="85352" href="ualib.html#85304" class="Bound">𝒜</a><a id="85353" class="Symbol">)</a>
    <a id="85359" href="ualib.html#85329" class="Function">γ</a> <a id="85361" class="Symbol">=</a> <a id="85363" href="ualib.html#81216" class="Bound">gfe</a> <a id="85367" class="Symbol">λ</a> <a id="85369" href="ualib.html#85369" class="Bound">a</a> <a id="85371" class="Symbol">→</a>
     <a id="85378" class="Symbol">(</a><a id="85379" href="ualib.html#85298" class="Bound">p</a> <a id="85381" href="ualib.html#62400" class="Function Operator">̇</a> <a id="85383" href="ualib.html#38896" class="Function">⨅</a> <a id="85385" href="ualib.html#85304" class="Bound">𝒜</a><a id="85386" class="Symbol">)</a> <a id="85388" href="ualib.html#85369" class="Bound">a</a>                           <a id="85416" href="MGS-MLTT.html#5997" class="Function Operator">≡⟨</a> <a id="85419" href="ualib.html#64465" class="Function">interp-prod</a><a id="85430" class="Symbol">{</a><a id="85431" class="Argument">𝓤</a> <a id="85433" class="Symbol">=</a> <a id="85435" href="ualib.html#81111" class="Bound">𝓤</a><a id="85436" class="Symbol">}</a> <a id="85438" href="ualib.html#81261" class="Bound">fevu</a> <a id="85443" href="ualib.html#85298" class="Bound">p</a> <a id="85445" href="ualib.html#85304" class="Bound">𝒜</a> <a id="85447" href="ualib.html#85369" class="Bound">a</a> <a id="85449" href="MGS-MLTT.html#5997" class="Function Operator">⟩</a>
     <a id="85456" class="Symbol">(λ</a> <a id="85459" href="ualib.html#85459" class="Bound">i</a> <a id="85461" class="Symbol">→</a> <a id="85463" class="Symbol">((</a><a id="85465" href="ualib.html#85298" class="Bound">p</a> <a id="85467" href="ualib.html#62400" class="Function Operator">̇</a> <a id="85469" class="Symbol">(</a><a id="85470" href="ualib.html#85304" class="Bound">𝒜</a> <a id="85472" href="ualib.html#85459" class="Bound">i</a><a id="85473" class="Symbol">))</a> <a id="85476" class="Symbol">(λ</a> <a id="85479" href="ualib.html#85479" class="Bound">x</a> <a id="85481" class="Symbol">→</a> <a id="85483" class="Symbol">(</a><a id="85484" href="ualib.html#85369" class="Bound">a</a> <a id="85486" href="ualib.html#85479" class="Bound">x</a><a id="85487" class="Symbol">)</a> <a id="85489" href="ualib.html#85459" class="Bound">i</a><a id="85490" class="Symbol">)))</a> <a id="85494" href="MGS-MLTT.html#5997" class="Function Operator">≡⟨</a> <a id="85497" href="ualib.html#81216" class="Bound">gfe</a> <a id="85501" class="Symbol">(λ</a> <a id="85504" href="ualib.html#85504" class="Bound">i</a> <a id="85506" class="Symbol">→</a> <a id="85508" href="ualib.html#24316" class="Function">cong-app</a> <a id="85517" class="Symbol">(</a><a id="85518" href="ualib.html#85306" class="Bound">𝒜⊧p≈q</a> <a id="85524" href="ualib.html#85504" class="Bound">i</a><a id="85525" class="Symbol">)</a> <a id="85527" class="Symbol">(λ</a> <a id="85530" href="ualib.html#85530" class="Bound">x</a> <a id="85532" class="Symbol">→</a> <a id="85534" class="Symbol">(</a><a id="85535" href="ualib.html#85369" class="Bound">a</a> <a id="85537" href="ualib.html#85530" class="Bound">x</a><a id="85538" class="Symbol">)</a> <a id="85540" href="ualib.html#85504" class="Bound">i</a><a id="85541" class="Symbol">))</a> <a id="85544" href="MGS-MLTT.html#5997" class="Function Operator">⟩</a>
     <a id="85551" class="Symbol">(λ</a> <a id="85554" href="ualib.html#85554" class="Bound">i</a> <a id="85556" class="Symbol">→</a> <a id="85558" class="Symbol">((</a><a id="85560" href="ualib.html#85300" class="Bound">q</a> <a id="85562" href="ualib.html#62400" class="Function Operator">̇</a> <a id="85564" class="Symbol">(</a><a id="85565" href="ualib.html#85304" class="Bound">𝒜</a> <a id="85567" href="ualib.html#85554" class="Bound">i</a><a id="85568" class="Symbol">))</a> <a id="85571" class="Symbol">(λ</a> <a id="85574" href="ualib.html#85574" class="Bound">x</a> <a id="85576" class="Symbol">→</a> <a id="85578" class="Symbol">(</a><a id="85579" href="ualib.html#85369" class="Bound">a</a> <a id="85581" href="ualib.html#85574" class="Bound">x</a><a id="85582" class="Symbol">)</a> <a id="85584" href="ualib.html#85554" class="Bound">i</a><a id="85585" class="Symbol">)))</a> <a id="85589" href="MGS-MLTT.html#5997" class="Function Operator">≡⟨</a> <a id="85592" class="Symbol">(</a><a id="85593" href="ualib.html#64465" class="Function">interp-prod</a> <a id="85605" href="ualib.html#81216" class="Bound">gfe</a> <a id="85609" href="ualib.html#85300" class="Bound">q</a> <a id="85611" href="ualib.html#85304" class="Bound">𝒜</a> <a id="85613" href="ualib.html#85369" class="Bound">a</a><a id="85614" class="Symbol">)</a><a id="85615" href="MGS-MLTT.html#6125" class="Function Operator">⁻¹</a> <a id="85618" href="MGS-MLTT.html#5997" class="Function Operator">⟩</a>
     <a id="85625" class="Symbol">(</a><a id="85626" href="ualib.html#85300" class="Bound">q</a> <a id="85628" href="ualib.html#62400" class="Function Operator">̇</a> <a id="85630" href="ualib.html#38896" class="Function">⨅</a> <a id="85632" href="ualib.html#85304" class="Bound">𝒜</a><a id="85633" class="Symbol">)</a> <a id="85635" href="ualib.html#85369" class="Bound">a</a>                           <a id="85663" href="MGS-MLTT.html#6079" class="Function Operator">∎</a>

 <a id="closure.products-in-class-preserve-identities"></a><a id="85667" href="ualib.html#85667" class="Function">products-in-class-preserve-identities</a> <a id="85705" class="Symbol">:</a> <a id="85707" class="Symbol">(</a><a id="85708" href="ualib.html#85708" class="Bound">p</a> <a id="85710" href="ualib.html#85710" class="Bound">q</a> <a id="85712" class="Symbol">:</a> <a id="85714" href="ualib.html#58364" class="Datatype">Term</a><a id="85718" class="Symbol">{</a><a id="85719" href="ualib.html#81111" class="Bound">𝓤</a><a id="85720" class="Symbol">}{</a><a id="85722" href="ualib.html#81107" class="Bound">X</a><a id="85723" class="Symbol">})</a> <a id="85726" class="Symbol">(</a><a id="85727" href="ualib.html#85727" class="Bound">I</a> <a id="85729" class="Symbol">:</a> <a id="85731" href="ualib.html#81111" class="Bound">𝓤</a> <a id="85733" href="Universes.html#403" class="Function Operator">̇</a> <a id="85735" class="Symbol">)</a> <a id="85737" class="Symbol">(</a><a id="85738" href="ualib.html#85738" class="Bound">𝒜</a> <a id="85740" class="Symbol">:</a> <a id="85742" href="ualib.html#85727" class="Bound">I</a> <a id="85744" class="Symbol">→</a> <a id="85746" href="ualib.html#35648" class="Function">Algebra</a> <a id="85754" href="ualib.html#81111" class="Bound">𝓤</a> <a id="85756" href="ualib.html#81086" class="Bound">𝑆</a><a id="85757" class="Symbol">)</a>
  <a id="85761" class="Symbol">→</a>                                      <a id="85800" href="ualib.html#81118" class="Bound">𝒦</a> <a id="85802" href="ualib.html#82258" class="Function Operator">⊧</a> <a id="85804" href="ualib.html#85708" class="Bound">p</a> <a id="85806" href="ualib.html#82258" class="Function Operator">≋</a> <a id="85808" href="ualib.html#85710" class="Bound">q</a>  <a id="85811" class="Symbol">→</a>  <a id="85814" class="Symbol">((</a><a id="85816" href="ualib.html#85816" class="Bound">i</a> <a id="85818" class="Symbol">:</a> <a id="85820" href="ualib.html#85727" class="Bound">I</a><a id="85821" class="Symbol">)</a> <a id="85823" class="Symbol">→</a> <a id="85825" href="ualib.html#85738" class="Bound">𝒜</a> <a id="85827" href="ualib.html#85816" class="Bound">i</a> <a id="85829" href="ualib.html#26625" class="Function Operator">∈</a> <a id="85831" href="ualib.html#81118" class="Bound">𝒦</a><a id="85832" class="Symbol">)</a>
                                         <a id="85875" class="Comment">-----------------------------------------------------</a>
  <a id="85931" class="Symbol">→</a>                                       <a id="85971" href="ualib.html#38896" class="Function">⨅</a> <a id="85973" href="ualib.html#85738" class="Bound">𝒜</a> <a id="85975" href="ualib.html#82179" class="Function Operator">⊧</a> <a id="85977" href="ualib.html#85708" class="Bound">p</a> <a id="85979" href="ualib.html#82179" class="Function Operator">≈</a> <a id="85981" href="ualib.html#85710" class="Bound">q</a>

 <a id="85985" href="ualib.html#85667" class="Function">products-in-class-preserve-identities</a> <a id="86023" href="ualib.html#86023" class="Bound">p</a> <a id="86025" href="ualib.html#86025" class="Bound">q</a> <a id="86027" href="ualib.html#86027" class="Bound">I</a> <a id="86029" href="ualib.html#86029" class="Bound">𝒜</a> <a id="86031" href="ualib.html#86031" class="Bound">𝒦⊧p≋q</a> <a id="86037" href="ualib.html#86037" class="Bound">all𝒜i∈𝒦</a> <a id="86045" class="Symbol">=</a> <a id="86047" href="ualib.html#86127" class="Function">γ</a>
   <a id="86052" class="Keyword">where</a>
    <a id="86062" href="ualib.html#86062" class="Function">𝒜⊧p≈q</a> <a id="86068" class="Symbol">:</a> <a id="86070" class="Symbol">∀</a> <a id="86072" href="ualib.html#86072" class="Bound">i</a> <a id="86074" class="Symbol">→</a> <a id="86076" class="Symbol">(</a><a id="86077" href="ualib.html#86029" class="Bound">𝒜</a> <a id="86079" href="ualib.html#86072" class="Bound">i</a><a id="86080" class="Symbol">)</a> <a id="86082" href="ualib.html#82179" class="Function Operator">⊧</a> <a id="86084" href="ualib.html#86023" class="Bound">p</a> <a id="86086" href="ualib.html#82179" class="Function Operator">≈</a> <a id="86088" href="ualib.html#86025" class="Bound">q</a>
    <a id="86094" href="ualib.html#86062" class="Function">𝒜⊧p≈q</a> <a id="86100" href="ualib.html#86100" class="Bound">i</a> <a id="86102" class="Symbol">=</a> <a id="86104" href="ualib.html#86031" class="Bound">𝒦⊧p≋q</a> <a id="86110" class="Symbol">(</a><a id="86111" href="ualib.html#86037" class="Bound">all𝒜i∈𝒦</a> <a id="86119" href="ualib.html#86100" class="Bound">i</a><a id="86120" class="Symbol">)</a>

    <a id="86127" href="ualib.html#86127" class="Function">γ</a> <a id="86129" class="Symbol">:</a> <a id="86131" class="Symbol">(</a><a id="86132" href="ualib.html#86023" class="Bound">p</a> <a id="86134" href="ualib.html#62400" class="Function Operator">̇</a> <a id="86136" href="ualib.html#38896" class="Function">⨅</a> <a id="86138" href="ualib.html#86029" class="Bound">𝒜</a><a id="86139" class="Symbol">)</a> <a id="86141" href="ualib.html#19941" class="Datatype Operator">≡</a> <a id="86143" class="Symbol">(</a><a id="86144" href="ualib.html#86025" class="Bound">q</a> <a id="86146" href="ualib.html#62400" class="Function Operator">̇</a> <a id="86148" href="ualib.html#38896" class="Function">⨅</a> <a id="86150" href="ualib.html#86029" class="Bound">𝒜</a><a id="86151" class="Symbol">)</a>
    <a id="86157" href="ualib.html#86127" class="Function">γ</a> <a id="86159" class="Symbol">=</a> <a id="86161" href="ualib.html#84995" class="Function">products-preserve-identities</a> <a id="86190" href="ualib.html#86023" class="Bound">p</a> <a id="86192" href="ualib.html#86025" class="Bound">q</a> <a id="86194" href="ualib.html#86027" class="Bound">I</a> <a id="86196" href="ualib.html#86029" class="Bound">𝒜</a> <a id="86198" href="ualib.html#86062" class="Function">𝒜⊧p≈q</a>
</pre>

<h4 id="subalgebras-preserve-identities">Subalgebras preserve identities</h4>
<p>We now show that every term equation, <code class="language-plaintext highlighter-rouge">p ≈ q</code>, that is satisfied by all algebras in 𝒦 is also satisfied by every subalgebra of every member of 𝒦.  In other words, the collection of identities modeled by a given class of algebras is also modeled by all of the subalgebras of algebras in that class.</p>

<pre class="Agda">
 <a id="closure.subalgebras-preserve-identities"></a><a id="86566" href="ualib.html#86566" class="Function">subalgebras-preserve-identities</a> <a id="86598" class="Symbol">:</a> <a id="86600" class="Symbol">{</a><a id="86601" href="ualib.html#86601" class="Bound">𝒦</a> <a id="86603" class="Symbol">:</a> <a id="86605" href="ualib.html#25725" class="Function">Pred</a> <a id="86610" class="Symbol">(</a><a id="86611" href="ualib.html#35648" class="Function">Algebra</a> <a id="86619" href="ualib.html#81111" class="Bound">𝓤</a> <a id="86621" href="ualib.html#81086" class="Bound">𝑆</a><a id="86622" class="Symbol">)(</a><a id="86624" href="ualib.html#81100" class="Bound">𝓞</a> <a id="86626" href="Agda.Primitive.html#636" class="Primitive Operator">⊔</a> <a id="86628" href="ualib.html#81102" class="Bound">𝓥</a> <a id="86630" href="Agda.Primitive.html#636" class="Primitive Operator">⊔</a> <a id="86632" href="ualib.html#81111" class="Bound">𝓤</a> <a id="86634" href="Agda.Primitive.html#606" class="Primitive Operator">⁺</a><a id="86635" class="Symbol">)}(</a><a id="86638" href="ualib.html#86638" class="Bound">p</a> <a id="86640" href="ualib.html#86640" class="Bound">q</a> <a id="86642" class="Symbol">:</a> <a id="86644" href="ualib.html#58364" class="Datatype">Term</a><a id="86648" class="Symbol">)</a>
                                   <a id="86685" class="Symbol">(</a><a id="86686" href="ualib.html#86686" class="Bound">(_</a> <a id="86689" href="ualib.html#86686" class="Bound">,</a> <a id="86691" href="ualib.html#86686" class="Bound">_</a> <a id="86693" href="ualib.html#86686" class="Bound">,</a> <a id="86695" href="ualib.html#86686" class="Bound">(𝑩</a> <a id="86698" href="ualib.html#86686" class="Bound">,</a> <a id="86700" href="ualib.html#86686" class="Bound">_</a> <a id="86702" href="ualib.html#86686" class="Bound">,</a> <a id="86704" href="ualib.html#86686" class="Bound">_))</a> <a id="86708" class="Symbol">:</a> <a id="86710" href="ualib.html#76575" class="Function">SubalgebrasOfClass&#39;</a> <a id="86730" href="ualib.html#86601" class="Bound">𝒦</a><a id="86731" class="Symbol">)</a>
  <a id="86735" class="Symbol">→</a>                                <a id="86768" href="ualib.html#86601" class="Bound">𝒦</a> <a id="86770" href="ualib.html#82258" class="Function Operator">⊧</a> <a id="86772" href="ualib.html#86638" class="Bound">p</a> <a id="86774" href="ualib.html#82258" class="Function Operator">≋</a> <a id="86776" href="ualib.html#86640" class="Bound">q</a>
                                   <a id="86813" class="Comment">-------------</a>
  <a id="86829" class="Symbol">→</a>                                <a id="86862" href="ualib.html#86696" class="Bound">𝑩</a> <a id="86864" href="ualib.html#82179" class="Function Operator">⊧</a> <a id="86866" href="ualib.html#86638" class="Bound">p</a> <a id="86868" href="ualib.html#82179" class="Function Operator">≈</a> <a id="86870" href="ualib.html#86640" class="Bound">q</a>

 <a id="86874" href="ualib.html#86566" class="Function">subalgebras-preserve-identities</a> <a id="86906" class="Symbol">{</a><a id="86907" href="ualib.html#86907" class="Bound">𝒦</a><a id="86908" class="Symbol">}</a> <a id="86910" href="ualib.html#86910" class="Bound">p</a> <a id="86912" href="ualib.html#86912" class="Bound">q</a> <a id="86914" class="Symbol">(</a><a id="86915" href="ualib.html#86915" class="Bound">𝑨</a> <a id="86917" href="ualib.html#20052" class="InductiveConstructor Operator">,</a> <a id="86919" href="ualib.html#86919" class="Bound">KA</a> <a id="86922" href="ualib.html#20052" class="InductiveConstructor Operator">,</a> <a id="86924" class="Symbol">(</a><a id="86925" href="ualib.html#86925" class="Bound">𝑩</a> <a id="86927" href="ualib.html#20052" class="InductiveConstructor Operator">,</a> <a id="86929" href="ualib.html#86929" class="Bound">h</a> <a id="86931" href="ualib.html#20052" class="InductiveConstructor Operator">,</a> <a id="86933" class="Symbol">(</a><a id="86934" href="ualib.html#86934" class="Bound">hem</a> <a id="86938" href="ualib.html#20052" class="InductiveConstructor Operator">,</a> <a id="86940" href="ualib.html#86940" class="Bound">hhm</a><a id="86943" class="Symbol">)))</a> <a id="86947" href="ualib.html#86947" class="Bound">Kpq</a> <a id="86951" class="Symbol">=</a> <a id="86953" href="ualib.html#87357" class="Function">γ</a>
  <a id="86957" class="Keyword">where</a>
   <a id="86966" href="ualib.html#86966" class="Function">β</a> <a id="86968" class="Symbol">:</a> <a id="86970" href="ualib.html#86915" class="Bound">𝑨</a> <a id="86972" href="ualib.html#82179" class="Function Operator">⊧</a> <a id="86974" href="ualib.html#86910" class="Bound">p</a> <a id="86976" href="ualib.html#82179" class="Function Operator">≈</a> <a id="86978" href="ualib.html#86912" class="Bound">q</a>
   <a id="86983" href="ualib.html#86966" class="Function">β</a> <a id="86985" class="Symbol">=</a> <a id="86987" href="ualib.html#86947" class="Bound">Kpq</a> <a id="86991" href="ualib.html#86919" class="Bound">KA</a>

   <a id="86998" href="ualib.html#86998" class="Function">ξ</a> <a id="87000" class="Symbol">:</a> <a id="87002" class="Symbol">(</a><a id="87003" href="ualib.html#87003" class="Bound">b</a> <a id="87005" class="Symbol">:</a> <a id="87007" href="ualib.html#81107" class="Bound">X</a> <a id="87009" class="Symbol">→</a> <a id="87011" href="ualib.html#21378" class="Function Operator">∣</a> <a id="87013" href="ualib.html#86925" class="Bound">𝑩</a> <a id="87015" href="ualib.html#21378" class="Function Operator">∣</a> <a id="87017" class="Symbol">)</a> <a id="87019" class="Symbol">→</a> <a id="87021" href="ualib.html#86929" class="Bound">h</a> <a id="87023" class="Symbol">((</a><a id="87025" href="ualib.html#86910" class="Bound">p</a> <a id="87027" href="ualib.html#62400" class="Function Operator">̇</a> <a id="87029" href="ualib.html#86925" class="Bound">𝑩</a><a id="87030" class="Symbol">)</a> <a id="87032" href="ualib.html#87003" class="Bound">b</a><a id="87033" class="Symbol">)</a> <a id="87035" href="ualib.html#19941" class="Datatype Operator">≡</a> <a id="87037" href="ualib.html#86929" class="Bound">h</a> <a id="87039" class="Symbol">((</a><a id="87041" href="ualib.html#86912" class="Bound">q</a> <a id="87043" href="ualib.html#62400" class="Function Operator">̇</a> <a id="87045" href="ualib.html#86925" class="Bound">𝑩</a><a id="87046" class="Symbol">)</a> <a id="87048" href="ualib.html#87003" class="Bound">b</a><a id="87049" class="Symbol">)</a>
   <a id="87054" href="ualib.html#86998" class="Function">ξ</a> <a id="87056" href="ualib.html#87056" class="Bound">b</a> <a id="87058" class="Symbol">=</a>
    <a id="87064" href="ualib.html#86929" class="Bound">h</a> <a id="87066" class="Symbol">((</a><a id="87068" href="ualib.html#86910" class="Bound">p</a> <a id="87070" href="ualib.html#62400" class="Function Operator">̇</a> <a id="87072" href="ualib.html#86925" class="Bound">𝑩</a><a id="87073" class="Symbol">)</a> <a id="87075" href="ualib.html#87056" class="Bound">b</a><a id="87076" class="Symbol">)</a>  <a id="87079" href="MGS-MLTT.html#5997" class="Function Operator">≡⟨</a> <a id="87082" href="ualib.html#66177" class="Function">comm-hom-term</a> <a id="87096" href="ualib.html#81216" class="Bound">gfe</a> <a id="87100" href="ualib.html#86925" class="Bound">𝑩</a> <a id="87102" href="ualib.html#86915" class="Bound">𝑨</a> <a id="87104" class="Symbol">(</a><a id="87105" href="ualib.html#86929" class="Bound">h</a> <a id="87107" href="ualib.html#20052" class="InductiveConstructor Operator">,</a> <a id="87109" href="ualib.html#86940" class="Bound">hhm</a><a id="87112" class="Symbol">)</a> <a id="87114" href="ualib.html#86910" class="Bound">p</a> <a id="87116" href="ualib.html#87056" class="Bound">b</a> <a id="87118" href="MGS-MLTT.html#5997" class="Function Operator">⟩</a>
    <a id="87124" class="Symbol">(</a><a id="87125" href="ualib.html#86910" class="Bound">p</a> <a id="87127" href="ualib.html#62400" class="Function Operator">̇</a> <a id="87129" href="ualib.html#86915" class="Bound">𝑨</a><a id="87130" class="Symbol">)(</a><a id="87132" href="ualib.html#86929" class="Bound">h</a> <a id="87134" href="MGS-MLTT.html#3813" class="Function Operator">∘</a> <a id="87136" href="ualib.html#87056" class="Bound">b</a><a id="87137" class="Symbol">)</a> <a id="87139" href="MGS-MLTT.html#5997" class="Function Operator">≡⟨</a> <a id="87142" href="ualib.html#32191" class="Function">intensionality</a> <a id="87157" href="ualib.html#86966" class="Function">β</a> <a id="87159" class="Symbol">(</a><a id="87160" href="ualib.html#86929" class="Bound">h</a> <a id="87162" href="MGS-MLTT.html#3813" class="Function Operator">∘</a> <a id="87164" href="ualib.html#87056" class="Bound">b</a><a id="87165" class="Symbol">)</a> <a id="87167" href="MGS-MLTT.html#5997" class="Function Operator">⟩</a>
    <a id="87173" class="Symbol">(</a><a id="87174" href="ualib.html#86912" class="Bound">q</a> <a id="87176" href="ualib.html#62400" class="Function Operator">̇</a> <a id="87178" href="ualib.html#86915" class="Bound">𝑨</a><a id="87179" class="Symbol">)(</a><a id="87181" href="ualib.html#86929" class="Bound">h</a> <a id="87183" href="MGS-MLTT.html#3813" class="Function Operator">∘</a> <a id="87185" href="ualib.html#87056" class="Bound">b</a><a id="87186" class="Symbol">)</a> <a id="87188" href="MGS-MLTT.html#5997" class="Function Operator">≡⟨</a> <a id="87191" class="Symbol">(</a><a id="87192" href="ualib.html#66177" class="Function">comm-hom-term</a> <a id="87206" href="ualib.html#81216" class="Bound">gfe</a> <a id="87210" href="ualib.html#86925" class="Bound">𝑩</a> <a id="87212" href="ualib.html#86915" class="Bound">𝑨</a> <a id="87214" class="Symbol">(</a><a id="87215" href="ualib.html#86929" class="Bound">h</a> <a id="87217" href="ualib.html#20052" class="InductiveConstructor Operator">,</a> <a id="87219" href="ualib.html#86940" class="Bound">hhm</a><a id="87222" class="Symbol">)</a> <a id="87224" href="ualib.html#86912" class="Bound">q</a> <a id="87226" href="ualib.html#87056" class="Bound">b</a><a id="87227" class="Symbol">)</a><a id="87228" href="MGS-MLTT.html#6125" class="Function Operator">⁻¹</a> <a id="87231" href="MGS-MLTT.html#5997" class="Function Operator">⟩</a>
    <a id="87237" href="ualib.html#86929" class="Bound">h</a> <a id="87239" class="Symbol">((</a><a id="87241" href="ualib.html#86912" class="Bound">q</a> <a id="87243" href="ualib.html#62400" class="Function Operator">̇</a> <a id="87245" href="ualib.html#86925" class="Bound">𝑩</a><a id="87246" class="Symbol">)</a> <a id="87248" href="ualib.html#87056" class="Bound">b</a><a id="87249" class="Symbol">)</a>  <a id="87252" href="MGS-MLTT.html#6079" class="Function Operator">∎</a>

   <a id="87258" href="ualib.html#87258" class="Function">hlc</a> <a id="87262" class="Symbol">:</a> <a id="87264" class="Symbol">{</a><a id="87265" href="ualib.html#87265" class="Bound">b</a> <a id="87267" href="ualib.html#87267" class="Bound">b&#39;</a> <a id="87270" class="Symbol">:</a> <a id="87272" href="MGS-MLTT.html#3944" class="Function">domain</a> <a id="87279" href="ualib.html#86929" class="Bound">h</a><a id="87280" class="Symbol">}</a> <a id="87282" class="Symbol">→</a> <a id="87284" href="ualib.html#86929" class="Bound">h</a> <a id="87286" href="ualib.html#87265" class="Bound">b</a> <a id="87288" href="ualib.html#19941" class="Datatype Operator">≡</a> <a id="87290" href="ualib.html#86929" class="Bound">h</a> <a id="87292" href="ualib.html#87267" class="Bound">b&#39;</a> <a id="87295" class="Symbol">→</a> <a id="87297" href="ualib.html#87265" class="Bound">b</a> <a id="87299" href="ualib.html#19941" class="Datatype Operator">≡</a> <a id="87301" href="ualib.html#87267" class="Bound">b&#39;</a>
   <a id="87307" href="ualib.html#87258" class="Function">hlc</a> <a id="87311" href="ualib.html#87311" class="Bound">hb≡hb&#39;</a> <a id="87318" class="Symbol">=</a> <a id="87320" class="Symbol">(</a><a id="87321" href="MGS-Embeddings.html#4830" class="Function">embeddings-are-lc</a> <a id="87339" href="ualib.html#86929" class="Bound">h</a> <a id="87341" href="ualib.html#86934" class="Bound">hem</a><a id="87344" class="Symbol">)</a> <a id="87346" href="ualib.html#87311" class="Bound">hb≡hb&#39;</a>

   <a id="87357" href="ualib.html#87357" class="Function">γ</a> <a id="87359" class="Symbol">:</a> <a id="87361" href="ualib.html#86925" class="Bound">𝑩</a> <a id="87363" href="ualib.html#82179" class="Function Operator">⊧</a> <a id="87365" href="ualib.html#86910" class="Bound">p</a> <a id="87367" href="ualib.html#82179" class="Function Operator">≈</a> <a id="87369" href="ualib.html#86912" class="Bound">q</a>
   <a id="87374" href="ualib.html#87357" class="Function">γ</a> <a id="87376" class="Symbol">=</a> <a id="87378" href="ualib.html#81216" class="Bound">gfe</a> <a id="87382" class="Symbol">λ</a> <a id="87384" href="ualib.html#87384" class="Bound">b</a> <a id="87386" class="Symbol">→</a> <a id="87388" href="ualib.html#87258" class="Function">hlc</a> <a id="87392" class="Symbol">(</a><a id="87393" href="ualib.html#86998" class="Function">ξ</a> <a id="87395" href="ualib.html#87384" class="Bound">b</a><a id="87396" class="Symbol">)</a>
</pre>

<h4 id="closure-under-hom-images">Closure under hom images</h4>

<p>Recall that an identity is satisfied by all algebras in a class if and only if that identity is compatible with all
homomorphisms from the term algebra 𝑻(𝑋) into algebras of the class. More precisely, if 𝓚 is a class of 𝑆-algebras and 𝑝, 𝑞 terms in the language of 𝑆, then,</p>

<p>𝒦 ⊧ p ≈ q  ⇔  ∀𝑨 ∈ 𝒦, ∀h ∈ Hom(𝑻(X), 𝑨), h ∘ p<sup>𝑻(X)</sup> = h ∘ q<sup>𝑻(X)</sup>.</p>

<p>We now formalize this result in Agda.  We begin with the “only if” direction.</p>

<pre class="Agda">
 <a id="closure.identities-compatible-with-homs"></a><a id="87898" href="ualib.html#87898" class="Function">identities-compatible-with-homs</a> <a id="87930" class="Symbol">:</a> <a id="87932" class="Symbol">(</a><a id="87933" href="ualib.html#87933" class="Bound">p</a> <a id="87935" href="ualib.html#87935" class="Bound">q</a> <a id="87937" class="Symbol">:</a> <a id="87939" href="ualib.html#58364" class="Datatype">Term</a><a id="87943" class="Symbol">{</a><a id="87944" href="ualib.html#81111" class="Bound">𝓤</a><a id="87945" class="Symbol">}{</a><a id="87947" href="ualib.html#81107" class="Bound">X</a><a id="87948" class="Symbol">})</a>
                                   <a id="87986" class="Symbol">(</a><a id="87987" href="ualib.html#87987" class="Bound">p≋q</a> <a id="87991" class="Symbol">:</a> <a id="87993" href="ualib.html#81118" class="Bound">𝒦</a> <a id="87995" href="ualib.html#82258" class="Function Operator">⊧</a> <a id="87997" href="ualib.html#87933" class="Bound">p</a> <a id="87999" href="ualib.html#82258" class="Function Operator">≋</a> <a id="88001" href="ualib.html#87935" class="Bound">q</a><a id="88002" class="Symbol">)</a>
                                  <a id="88038" class="Comment">------------------------------------------------------</a>
  <a id="88095" class="Symbol">→</a>                                <a id="88128" class="Symbol">∀</a> <a id="88130" class="Symbol">(</a><a id="88131" href="ualib.html#88131" class="Bound">𝑨</a> <a id="88133" class="Symbol">:</a> <a id="88135" href="ualib.html#35648" class="Function">Algebra</a> <a id="88143" href="ualib.html#81111" class="Bound">𝓤</a> <a id="88145" href="ualib.html#81086" class="Bound">𝑆</a><a id="88146" class="Symbol">)(</a><a id="88148" href="ualib.html#88148" class="Bound">KA</a> <a id="88151" class="Symbol">:</a> <a id="88153" href="ualib.html#81118" class="Bound">𝒦</a> <a id="88155" href="ualib.html#88131" class="Bound">𝑨</a><a id="88156" class="Symbol">)(</a><a id="88158" href="ualib.html#88158" class="Bound">h</a> <a id="88160" class="Symbol">:</a> <a id="88162" href="ualib.html#51876" class="Function">hom</a> <a id="88166" class="Symbol">(</a><a id="88167" href="ualib.html#58724" class="Function">𝑻</a><a id="88168" class="Symbol">{</a><a id="88169" href="ualib.html#81111" class="Bound">𝓤</a><a id="88170" class="Symbol">}{</a><a id="88172" href="ualib.html#81107" class="Bound">X</a><a id="88173" class="Symbol">})</a> <a id="88176" href="ualib.html#88131" class="Bound">𝑨</a><a id="88177" class="Symbol">)</a>
                                   <a id="88214" class="Symbol">→</a>  <a id="88217" href="ualib.html#21378" class="Function Operator">∣</a> <a id="88219" href="ualib.html#88158" class="Bound">h</a> <a id="88221" href="ualib.html#21378" class="Function Operator">∣</a> <a id="88223" href="MGS-MLTT.html#3813" class="Function Operator">∘</a> <a id="88225" class="Symbol">(</a><a id="88226" href="ualib.html#87933" class="Bound">p</a> <a id="88228" href="ualib.html#62400" class="Function Operator">̇</a> <a id="88230" href="ualib.html#58724" class="Function">𝑻</a><a id="88231" class="Symbol">{</a><a id="88232" href="ualib.html#81111" class="Bound">𝓤</a><a id="88233" class="Symbol">}{</a><a id="88235" href="ualib.html#81107" class="Bound">X</a><a id="88236" class="Symbol">})</a> <a id="88239" href="ualib.html#19941" class="Datatype Operator">≡</a> <a id="88241" href="ualib.html#21378" class="Function Operator">∣</a> <a id="88243" href="ualib.html#88158" class="Bound">h</a> <a id="88245" href="ualib.html#21378" class="Function Operator">∣</a> <a id="88247" href="MGS-MLTT.html#3813" class="Function Operator">∘</a> <a id="88249" class="Symbol">(</a><a id="88250" href="ualib.html#87935" class="Bound">q</a> <a id="88252" href="ualib.html#62400" class="Function Operator">̇</a> <a id="88254" href="ualib.html#58724" class="Function">𝑻</a><a id="88255" class="Symbol">)</a>

 <a id="88259" href="ualib.html#87898" class="Function">identities-compatible-with-homs</a> <a id="88291" href="ualib.html#88291" class="Bound">p</a> <a id="88293" href="ualib.html#88293" class="Bound">q</a> <a id="88295" href="ualib.html#88295" class="Bound">p≋q</a> <a id="88299" href="ualib.html#88299" class="Bound">𝑨</a> <a id="88301" href="ualib.html#88301" class="Bound">KA</a> <a id="88304" href="ualib.html#88304" class="Bound">h</a> <a id="88306" class="Symbol">=</a> <a id="88308" href="ualib.html#88789" class="Function">γ</a>
  <a id="88312" class="Keyword">where</a>
   <a id="88321" href="ualib.html#88321" class="Function">pA≡qA</a> <a id="88327" class="Symbol">:</a> <a id="88329" href="ualib.html#88291" class="Bound">p</a> <a id="88331" href="ualib.html#62400" class="Function Operator">̇</a> <a id="88333" href="ualib.html#88299" class="Bound">𝑨</a> <a id="88335" href="ualib.html#19941" class="Datatype Operator">≡</a> <a id="88337" href="ualib.html#88293" class="Bound">q</a> <a id="88339" href="ualib.html#62400" class="Function Operator">̇</a> <a id="88341" href="ualib.html#88299" class="Bound">𝑨</a>
   <a id="88346" href="ualib.html#88321" class="Function">pA≡qA</a> <a id="88352" class="Symbol">=</a> <a id="88354" href="ualib.html#88295" class="Bound">p≋q</a> <a id="88358" href="ualib.html#88301" class="Bound">KA</a>

   <a id="88365" href="ualib.html#88365" class="Function">pAh≡qAh</a> <a id="88373" class="Symbol">:</a> <a id="88375" class="Symbol">∀(</a><a id="88377" href="ualib.html#88377" class="Bound">𝒂</a> <a id="88379" class="Symbol">:</a> <a id="88381" href="ualib.html#81107" class="Bound">X</a> <a id="88383" class="Symbol">→</a> <a id="88385" href="ualib.html#21378" class="Function Operator">∣</a> <a id="88387" href="ualib.html#58724" class="Function">𝑻</a> <a id="88389" href="ualib.html#21378" class="Function Operator">∣</a> <a id="88391" class="Symbol">)</a> <a id="88393" class="Symbol">→</a> <a id="88395" class="Symbol">(</a><a id="88396" href="ualib.html#88291" class="Bound">p</a> <a id="88398" href="ualib.html#62400" class="Function Operator">̇</a> <a id="88400" href="ualib.html#88299" class="Bound">𝑨</a><a id="88401" class="Symbol">)(</a><a id="88403" href="ualib.html#21378" class="Function Operator">∣</a> <a id="88405" href="ualib.html#88304" class="Bound">h</a> <a id="88407" href="ualib.html#21378" class="Function Operator">∣</a> <a id="88409" href="MGS-MLTT.html#3813" class="Function Operator">∘</a> <a id="88411" href="ualib.html#88377" class="Bound">𝒂</a><a id="88412" class="Symbol">)</a> <a id="88414" href="ualib.html#19941" class="Datatype Operator">≡</a> <a id="88416" class="Symbol">(</a><a id="88417" href="ualib.html#88293" class="Bound">q</a> <a id="88419" href="ualib.html#62400" class="Function Operator">̇</a> <a id="88421" href="ualib.html#88299" class="Bound">𝑨</a><a id="88422" class="Symbol">)(</a><a id="88424" href="ualib.html#21378" class="Function Operator">∣</a> <a id="88426" href="ualib.html#88304" class="Bound">h</a> <a id="88428" href="ualib.html#21378" class="Function Operator">∣</a> <a id="88430" href="MGS-MLTT.html#3813" class="Function Operator">∘</a> <a id="88432" href="ualib.html#88377" class="Bound">𝒂</a><a id="88433" class="Symbol">)</a>
   <a id="88438" href="ualib.html#88365" class="Function">pAh≡qAh</a> <a id="88446" href="ualib.html#88446" class="Bound">𝒂</a> <a id="88448" class="Symbol">=</a> <a id="88450" href="ualib.html#32191" class="Function">intensionality</a> <a id="88465" href="ualib.html#88321" class="Function">pA≡qA</a> <a id="88471" class="Symbol">(</a><a id="88472" href="ualib.html#21378" class="Function Operator">∣</a> <a id="88474" href="ualib.html#88304" class="Bound">h</a> <a id="88476" href="ualib.html#21378" class="Function Operator">∣</a> <a id="88478" href="MGS-MLTT.html#3813" class="Function Operator">∘</a> <a id="88480" href="ualib.html#88446" class="Bound">𝒂</a><a id="88481" class="Symbol">)</a>

   <a id="88487" href="ualib.html#88487" class="Function">hpa≡hqa</a> <a id="88495" class="Symbol">:</a> <a id="88497" class="Symbol">∀(</a><a id="88499" href="ualib.html#88499" class="Bound">𝒂</a> <a id="88501" class="Symbol">:</a> <a id="88503" href="ualib.html#81107" class="Bound">X</a> <a id="88505" class="Symbol">→</a> <a id="88507" href="ualib.html#21378" class="Function Operator">∣</a> <a id="88509" href="ualib.html#58724" class="Function">𝑻</a> <a id="88511" href="ualib.html#21378" class="Function Operator">∣</a> <a id="88513" class="Symbol">)</a> <a id="88515" class="Symbol">→</a> <a id="88517" href="ualib.html#21378" class="Function Operator">∣</a> <a id="88519" href="ualib.html#88304" class="Bound">h</a> <a id="88521" href="ualib.html#21378" class="Function Operator">∣</a> <a id="88523" class="Symbol">((</a><a id="88525" href="ualib.html#88291" class="Bound">p</a> <a id="88527" href="ualib.html#62400" class="Function Operator">̇</a> <a id="88529" href="ualib.html#58724" class="Function">𝑻</a><a id="88530" class="Symbol">)</a> <a id="88532" href="ualib.html#88499" class="Bound">𝒂</a><a id="88533" class="Symbol">)</a> <a id="88535" href="ualib.html#19941" class="Datatype Operator">≡</a> <a id="88537" href="ualib.html#21378" class="Function Operator">∣</a> <a id="88539" href="ualib.html#88304" class="Bound">h</a> <a id="88541" href="ualib.html#21378" class="Function Operator">∣</a> <a id="88543" class="Symbol">((</a><a id="88545" href="ualib.html#88293" class="Bound">q</a> <a id="88547" href="ualib.html#62400" class="Function Operator">̇</a> <a id="88549" href="ualib.html#58724" class="Function">𝑻</a><a id="88550" class="Symbol">)</a> <a id="88552" href="ualib.html#88499" class="Bound">𝒂</a><a id="88553" class="Symbol">)</a>
   <a id="88558" href="ualib.html#88487" class="Function">hpa≡hqa</a> <a id="88566" href="ualib.html#88566" class="Bound">𝒂</a> <a id="88568" class="Symbol">=</a>
    <a id="88574" href="ualib.html#21378" class="Function Operator">∣</a> <a id="88576" href="ualib.html#88304" class="Bound">h</a> <a id="88578" href="ualib.html#21378" class="Function Operator">∣</a> <a id="88580" class="Symbol">((</a><a id="88582" href="ualib.html#88291" class="Bound">p</a> <a id="88584" href="ualib.html#62400" class="Function Operator">̇</a> <a id="88586" href="ualib.html#58724" class="Function">𝑻</a><a id="88587" class="Symbol">)</a> <a id="88589" href="ualib.html#88566" class="Bound">𝒂</a><a id="88590" class="Symbol">)</a>  <a id="88593" href="MGS-MLTT.html#5997" class="Function Operator">≡⟨</a> <a id="88596" href="ualib.html#66177" class="Function">comm-hom-term</a><a id="88609" class="Symbol">{</a><a id="88610" href="ualib.html#81100" class="Bound">𝓞</a> <a id="88612" href="Agda.Primitive.html#636" class="Primitive Operator">⊔</a> <a id="88614" href="ualib.html#81102" class="Bound">𝓥</a> <a id="88616" href="Agda.Primitive.html#636" class="Primitive Operator">⊔</a> <a id="88618" href="ualib.html#81111" class="Bound">𝓤</a> <a id="88620" href="Agda.Primitive.html#606" class="Primitive Operator">⁺</a><a id="88621" class="Symbol">}</a> <a id="88623" href="ualib.html#81261" class="Bound">fevu</a> <a id="88628" class="Symbol">(</a><a id="88629" href="ualib.html#58724" class="Function">𝑻</a><a id="88630" class="Symbol">{</a><a id="88631" href="ualib.html#81111" class="Bound">𝓤</a><a id="88632" class="Symbol">}{</a><a id="88634" href="ualib.html#81107" class="Bound">X</a><a id="88635" class="Symbol">})</a> <a id="88638" href="ualib.html#88299" class="Bound">𝑨</a> <a id="88640" href="ualib.html#88304" class="Bound">h</a> <a id="88642" href="ualib.html#88291" class="Bound">p</a> <a id="88644" href="ualib.html#88566" class="Bound">𝒂</a> <a id="88646" href="MGS-MLTT.html#5997" class="Function Operator">⟩</a>
    <a id="88652" class="Symbol">(</a><a id="88653" href="ualib.html#88291" class="Bound">p</a> <a id="88655" href="ualib.html#62400" class="Function Operator">̇</a> <a id="88657" href="ualib.html#88299" class="Bound">𝑨</a><a id="88658" class="Symbol">)(</a><a id="88660" href="ualib.html#21378" class="Function Operator">∣</a> <a id="88662" href="ualib.html#88304" class="Bound">h</a> <a id="88664" href="ualib.html#21378" class="Function Operator">∣</a> <a id="88666" href="MGS-MLTT.html#3813" class="Function Operator">∘</a> <a id="88668" href="ualib.html#88566" class="Bound">𝒂</a><a id="88669" class="Symbol">)</a> <a id="88671" href="MGS-MLTT.html#5997" class="Function Operator">≡⟨</a> <a id="88674" href="ualib.html#88365" class="Function">pAh≡qAh</a> <a id="88682" href="ualib.html#88566" class="Bound">𝒂</a> <a id="88684" href="MGS-MLTT.html#5997" class="Function Operator">⟩</a>
    <a id="88690" class="Symbol">(</a><a id="88691" href="ualib.html#88293" class="Bound">q</a> <a id="88693" href="ualib.html#62400" class="Function Operator">̇</a> <a id="88695" href="ualib.html#88299" class="Bound">𝑨</a><a id="88696" class="Symbol">)(</a><a id="88698" href="ualib.html#21378" class="Function Operator">∣</a> <a id="88700" href="ualib.html#88304" class="Bound">h</a> <a id="88702" href="ualib.html#21378" class="Function Operator">∣</a> <a id="88704" href="MGS-MLTT.html#3813" class="Function Operator">∘</a> <a id="88706" href="ualib.html#88566" class="Bound">𝒂</a><a id="88707" class="Symbol">)</a> <a id="88709" href="MGS-MLTT.html#5997" class="Function Operator">≡⟨</a> <a id="88712" class="Symbol">(</a><a id="88713" href="ualib.html#66177" class="Function">comm-hom-term</a><a id="88726" class="Symbol">{</a><a id="88727" href="ualib.html#81100" class="Bound">𝓞</a> <a id="88729" href="Agda.Primitive.html#636" class="Primitive Operator">⊔</a> <a id="88731" href="ualib.html#81102" class="Bound">𝓥</a> <a id="88733" href="Agda.Primitive.html#636" class="Primitive Operator">⊔</a> <a id="88735" href="ualib.html#81111" class="Bound">𝓤</a> <a id="88737" href="Agda.Primitive.html#606" class="Primitive Operator">⁺</a><a id="88738" class="Symbol">}</a> <a id="88740" href="ualib.html#81261" class="Bound">fevu</a> <a id="88745" href="ualib.html#58724" class="Function">𝑻</a> <a id="88747" href="ualib.html#88299" class="Bound">𝑨</a> <a id="88749" href="ualib.html#88304" class="Bound">h</a> <a id="88751" href="ualib.html#88293" class="Bound">q</a> <a id="88753" href="ualib.html#88566" class="Bound">𝒂</a><a id="88754" class="Symbol">)</a><a id="88755" href="MGS-MLTT.html#6125" class="Function Operator">⁻¹</a> <a id="88758" href="MGS-MLTT.html#5997" class="Function Operator">⟩</a>
    <a id="88764" href="ualib.html#21378" class="Function Operator">∣</a> <a id="88766" href="ualib.html#88304" class="Bound">h</a> <a id="88768" href="ualib.html#21378" class="Function Operator">∣</a> <a id="88770" class="Symbol">((</a><a id="88772" href="ualib.html#88293" class="Bound">q</a> <a id="88774" href="ualib.html#62400" class="Function Operator">̇</a> <a id="88776" href="ualib.html#58724" class="Function">𝑻</a><a id="88777" class="Symbol">)</a> <a id="88779" href="ualib.html#88566" class="Bound">𝒂</a><a id="88780" class="Symbol">)</a>  <a id="88783" href="MGS-MLTT.html#6079" class="Function Operator">∎</a>

   <a id="88789" href="ualib.html#88789" class="Function">γ</a> <a id="88791" class="Symbol">:</a> <a id="88793" href="ualib.html#21378" class="Function Operator">∣</a> <a id="88795" href="ualib.html#88304" class="Bound">h</a> <a id="88797" href="ualib.html#21378" class="Function Operator">∣</a> <a id="88799" href="MGS-MLTT.html#3813" class="Function Operator">∘</a> <a id="88801" class="Symbol">(</a><a id="88802" href="ualib.html#88291" class="Bound">p</a> <a id="88804" href="ualib.html#62400" class="Function Operator">̇</a> <a id="88806" href="ualib.html#58724" class="Function">𝑻</a><a id="88807" class="Symbol">)</a> <a id="88809" href="ualib.html#19941" class="Datatype Operator">≡</a> <a id="88811" href="ualib.html#21378" class="Function Operator">∣</a> <a id="88813" href="ualib.html#88304" class="Bound">h</a> <a id="88815" href="ualib.html#21378" class="Function Operator">∣</a> <a id="88817" href="MGS-MLTT.html#3813" class="Function Operator">∘</a> <a id="88819" class="Symbol">(</a><a id="88820" href="ualib.html#88293" class="Bound">q</a> <a id="88822" href="ualib.html#62400" class="Function Operator">̇</a> <a id="88824" href="ualib.html#58724" class="Function">𝑻</a><a id="88825" class="Symbol">)</a>
   <a id="88830" href="ualib.html#88789" class="Function">γ</a> <a id="88832" class="Symbol">=</a> <a id="88834" href="ualib.html#81216" class="Bound">gfe</a> <a id="88838" href="ualib.html#88487" class="Function">hpa≡hqa</a>
</pre>
<p>And now for the “if” direction.</p>
<pre class="Agda">
 <a id="closure.homs-compatible-with-identities"></a><a id="88903" href="ualib.html#88903" class="Function">homs-compatible-with-identities</a> <a id="88935" class="Symbol">:</a> <a id="88937" class="Symbol">(</a><a id="88938" href="ualib.html#88938" class="Bound">p</a> <a id="88940" href="ualib.html#88940" class="Bound">q</a> <a id="88942" class="Symbol">:</a> <a id="88944" href="ualib.html#58364" class="Datatype">Term</a><a id="88948" class="Symbol">{</a><a id="88949" href="ualib.html#81111" class="Bound">𝓤</a><a id="88950" class="Symbol">}{</a><a id="88952" href="ualib.html#81107" class="Bound">X</a><a id="88953" class="Symbol">})</a>
                                   <a id="88991" class="Symbol">(</a><a id="88992" href="ualib.html#88992" class="Bound">hp≡hq</a> <a id="88998" class="Symbol">:</a> <a id="89000" class="Symbol">∀</a> <a id="89002" class="Symbol">(</a><a id="89003" href="ualib.html#89003" class="Bound">𝑨</a> <a id="89005" class="Symbol">:</a> <a id="89007" href="ualib.html#35648" class="Function">Algebra</a> <a id="89015" href="ualib.html#81111" class="Bound">𝓤</a> <a id="89017" href="ualib.html#81086" class="Bound">𝑆</a><a id="89018" class="Symbol">)(</a><a id="89020" href="ualib.html#89020" class="Bound">KA</a> <a id="89023" class="Symbol">:</a> <a id="89025" href="ualib.html#89003" class="Bound">𝑨</a> <a id="89027" href="ualib.html#26625" class="Function Operator">∈</a> <a id="89029" href="ualib.html#81118" class="Bound">𝒦</a><a id="89030" class="Symbol">)</a> <a id="89032" class="Symbol">(</a><a id="89033" href="ualib.html#89033" class="Bound">h</a> <a id="89035" class="Symbol">:</a> <a id="89037" href="ualib.html#51876" class="Function">hom</a> <a id="89041" class="Symbol">(</a><a id="89042" href="ualib.html#58724" class="Function">𝑻</a><a id="89043" class="Symbol">{</a><a id="89044" href="ualib.html#81111" class="Bound">𝓤</a><a id="89045" class="Symbol">}{</a><a id="89047" href="ualib.html#81107" class="Bound">X</a><a id="89048" class="Symbol">})</a> <a id="89051" href="ualib.html#89003" class="Bound">𝑨</a><a id="89052" class="Symbol">)</a>
                                            <a id="89098" class="Symbol">→</a> <a id="89100" href="ualib.html#21378" class="Function Operator">∣</a> <a id="89102" href="ualib.html#89033" class="Bound">h</a> <a id="89104" href="ualib.html#21378" class="Function Operator">∣</a> <a id="89106" href="MGS-MLTT.html#3813" class="Function Operator">∘</a> <a id="89108" class="Symbol">(</a><a id="89109" href="ualib.html#88938" class="Bound">p</a> <a id="89111" href="ualib.html#62400" class="Function Operator">̇</a> <a id="89113" href="ualib.html#58724" class="Function">𝑻</a><a id="89114" class="Symbol">)</a> <a id="89116" href="ualib.html#19941" class="Datatype Operator">≡</a> <a id="89118" href="ualib.html#21378" class="Function Operator">∣</a> <a id="89120" href="ualib.html#89033" class="Bound">h</a> <a id="89122" href="ualib.html#21378" class="Function Operator">∣</a> <a id="89124" href="MGS-MLTT.html#3813" class="Function Operator">∘</a> <a id="89126" class="Symbol">(</a><a id="89127" href="ualib.html#88940" class="Bound">q</a> <a id="89129" href="ualib.html#62400" class="Function Operator">̇</a> <a id="89131" href="ualib.html#58724" class="Function">𝑻</a><a id="89132" class="Symbol">))</a>
                                   <a id="89170" class="Comment">----------------------------------------------------------------</a>
  <a id="89237" class="Symbol">→</a>                                 <a id="89271" href="ualib.html#81118" class="Bound">𝒦</a> <a id="89273" href="ualib.html#82258" class="Function Operator">⊧</a> <a id="89275" href="ualib.html#88938" class="Bound">p</a> <a id="89277" href="ualib.html#82258" class="Function Operator">≋</a> <a id="89279" href="ualib.html#88940" class="Bound">q</a>

 <a id="89283" href="ualib.html#88903" class="Function">homs-compatible-with-identities</a> <a id="89315" href="ualib.html#89315" class="Bound">p</a> <a id="89317" href="ualib.html#89317" class="Bound">q</a> <a id="89319" href="ualib.html#89319" class="Bound">hp≡hq</a> <a id="89325" class="Symbol">{</a><a id="89326" href="ualib.html#89326" class="Bound">𝑨</a><a id="89327" class="Symbol">}</a> <a id="89329" href="ualib.html#89329" class="Bound">KA</a> <a id="89332" class="Symbol">=</a> <a id="89334" href="ualib.html#89408" class="Function">γ</a>
  <a id="89338" class="Keyword">where</a>
   <a id="89347" href="ualib.html#89347" class="Function">h</a> <a id="89349" class="Symbol">:</a> <a id="89351" class="Symbol">(</a><a id="89352" href="ualib.html#89352" class="Bound">𝒂</a> <a id="89354" class="Symbol">:</a> <a id="89356" href="ualib.html#81107" class="Bound">X</a> <a id="89358" class="Symbol">→</a> <a id="89360" href="ualib.html#21378" class="Function Operator">∣</a> <a id="89362" href="ualib.html#89326" class="Bound">𝑨</a> <a id="89364" href="ualib.html#21378" class="Function Operator">∣</a><a id="89365" class="Symbol">)</a> <a id="89367" class="Symbol">→</a> <a id="89369" href="ualib.html#51876" class="Function">hom</a> <a id="89373" href="ualib.html#58724" class="Function">𝑻</a> <a id="89375" href="ualib.html#89326" class="Bound">𝑨</a>
   <a id="89380" href="ualib.html#89347" class="Function">h</a> <a id="89382" href="ualib.html#89382" class="Bound">𝒂</a> <a id="89384" class="Symbol">=</a> <a id="89386" href="ualib.html#59459" class="Function">lift-hom</a><a id="89394" class="Symbol">{</a><a id="89395" class="Argument">𝑨</a> <a id="89397" class="Symbol">=</a> <a id="89399" href="ualib.html#89326" class="Bound">𝑨</a><a id="89400" class="Symbol">}</a> <a id="89402" href="ualib.html#89382" class="Bound">𝒂</a>

   <a id="89408" href="ualib.html#89408" class="Function">γ</a> <a id="89410" class="Symbol">:</a> <a id="89412" href="ualib.html#89326" class="Bound">𝑨</a> <a id="89414" href="ualib.html#82179" class="Function Operator">⊧</a> <a id="89416" href="ualib.html#89315" class="Bound">p</a> <a id="89418" href="ualib.html#82179" class="Function Operator">≈</a> <a id="89420" href="ualib.html#89317" class="Bound">q</a>
   <a id="89425" href="ualib.html#89408" class="Function">γ</a> <a id="89427" class="Symbol">=</a> <a id="89429" href="ualib.html#81216" class="Bound">gfe</a> <a id="89433" class="Symbol">λ</a> <a id="89435" href="ualib.html#89435" class="Bound">𝒂</a> <a id="89437" class="Symbol">→</a>
    <a id="89443" class="Symbol">(</a><a id="89444" href="ualib.html#89315" class="Bound">p</a> <a id="89446" href="ualib.html#62400" class="Function Operator">̇</a> <a id="89448" href="ualib.html#89326" class="Bound">𝑨</a><a id="89449" class="Symbol">)</a> <a id="89451" href="ualib.html#89435" class="Bound">𝒂</a>            <a id="89464" href="MGS-MLTT.html#5997" class="Function Operator">≡⟨</a> <a id="89467" href="ualib.html#19955" class="InductiveConstructor">𝓇ℯ𝒻𝓁</a> <a id="89472" href="MGS-MLTT.html#5997" class="Function Operator">⟩</a>
    <a id="89478" class="Symbol">(</a><a id="89479" href="ualib.html#89315" class="Bound">p</a> <a id="89481" href="ualib.html#62400" class="Function Operator">̇</a> <a id="89483" href="ualib.html#89326" class="Bound">𝑨</a><a id="89484" class="Symbol">)(</a><a id="89486" href="ualib.html#21378" class="Function Operator">∣</a> <a id="89488" href="ualib.html#89347" class="Function">h</a> <a id="89490" href="ualib.html#89435" class="Bound">𝒂</a> <a id="89492" href="ualib.html#21378" class="Function Operator">∣</a> <a id="89494" href="MGS-MLTT.html#3813" class="Function Operator">∘</a> <a id="89496" href="ualib.html#81384" class="InductiveConstructor">ℊ</a><a id="89497" class="Symbol">)</a>   <a id="89501" href="MGS-MLTT.html#5997" class="Function Operator">≡⟨</a><a id="89503" class="Symbol">(</a><a id="89504" href="ualib.html#66177" class="Function">comm-hom-term</a> <a id="89518" href="ualib.html#81216" class="Bound">gfe</a> <a id="89522" href="ualib.html#58724" class="Function">𝑻</a> <a id="89524" href="ualib.html#89326" class="Bound">𝑨</a> <a id="89526" class="Symbol">(</a><a id="89527" href="ualib.html#89347" class="Function">h</a> <a id="89529" href="ualib.html#89435" class="Bound">𝒂</a><a id="89530" class="Symbol">)</a> <a id="89532" href="ualib.html#89315" class="Bound">p</a> <a id="89534" href="ualib.html#81384" class="InductiveConstructor">ℊ</a><a id="89535" class="Symbol">)</a><a id="89536" href="MGS-MLTT.html#6125" class="Function Operator">⁻¹</a> <a id="89539" href="MGS-MLTT.html#5997" class="Function Operator">⟩</a>
    <a id="89545" class="Symbol">(</a><a id="89546" href="ualib.html#21378" class="Function Operator">∣</a> <a id="89548" href="ualib.html#89347" class="Function">h</a> <a id="89550" href="ualib.html#89435" class="Bound">𝒂</a> <a id="89552" href="ualib.html#21378" class="Function Operator">∣</a> <a id="89554" href="MGS-MLTT.html#3813" class="Function Operator">∘</a> <a id="89556" class="Symbol">(</a><a id="89557" href="ualib.html#89315" class="Bound">p</a> <a id="89559" href="ualib.html#62400" class="Function Operator">̇</a> <a id="89561" href="ualib.html#58724" class="Function">𝑻</a><a id="89562" class="Symbol">))</a> <a id="89565" href="ualib.html#81384" class="InductiveConstructor">ℊ</a>  <a id="89568" href="MGS-MLTT.html#5997" class="Function Operator">≡⟨</a> <a id="89571" href="MGS-MLTT.html#6613" class="Function">ap</a> <a id="89574" class="Symbol">(λ</a> <a id="89577" href="ualib.html#89577" class="Bound">-</a> <a id="89579" class="Symbol">→</a> <a id="89581" href="ualib.html#89577" class="Bound">-</a> <a id="89583" href="ualib.html#81384" class="InductiveConstructor">ℊ</a><a id="89584" class="Symbol">)</a> <a id="89586" class="Symbol">(</a><a id="89587" href="ualib.html#89319" class="Bound">hp≡hq</a> <a id="89593" href="ualib.html#89326" class="Bound">𝑨</a> <a id="89595" href="ualib.html#89329" class="Bound">KA</a> <a id="89598" class="Symbol">(</a><a id="89599" href="ualib.html#89347" class="Function">h</a> <a id="89601" href="ualib.html#89435" class="Bound">𝒂</a><a id="89602" class="Symbol">))</a> <a id="89605" href="MGS-MLTT.html#5997" class="Function Operator">⟩</a>
    <a id="89611" class="Symbol">(</a><a id="89612" href="ualib.html#21378" class="Function Operator">∣</a> <a id="89614" href="ualib.html#89347" class="Function">h</a> <a id="89616" href="ualib.html#89435" class="Bound">𝒂</a> <a id="89618" href="ualib.html#21378" class="Function Operator">∣</a> <a id="89620" href="MGS-MLTT.html#3813" class="Function Operator">∘</a> <a id="89622" class="Symbol">(</a><a id="89623" href="ualib.html#89317" class="Bound">q</a> <a id="89625" href="ualib.html#62400" class="Function Operator">̇</a> <a id="89627" href="ualib.html#58724" class="Function">𝑻</a><a id="89628" class="Symbol">))</a> <a id="89631" href="ualib.html#81384" class="InductiveConstructor">ℊ</a>  <a id="89634" href="MGS-MLTT.html#5997" class="Function Operator">≡⟨</a> <a id="89637" class="Symbol">(</a><a id="89638" href="ualib.html#66177" class="Function">comm-hom-term</a> <a id="89652" href="ualib.html#81216" class="Bound">gfe</a> <a id="89656" href="ualib.html#58724" class="Function">𝑻</a> <a id="89658" href="ualib.html#89326" class="Bound">𝑨</a> <a id="89660" class="Symbol">(</a><a id="89661" href="ualib.html#89347" class="Function">h</a> <a id="89663" href="ualib.html#89435" class="Bound">𝒂</a><a id="89664" class="Symbol">)</a> <a id="89666" href="ualib.html#89317" class="Bound">q</a> <a id="89668" href="ualib.html#81384" class="InductiveConstructor">ℊ</a><a id="89669" class="Symbol">)</a> <a id="89671" href="MGS-MLTT.html#5997" class="Function Operator">⟩</a>
    <a id="89677" class="Symbol">(</a><a id="89678" href="ualib.html#89317" class="Bound">q</a> <a id="89680" href="ualib.html#62400" class="Function Operator">̇</a> <a id="89682" href="ualib.html#89326" class="Bound">𝑨</a><a id="89683" class="Symbol">)(</a><a id="89685" href="ualib.html#21378" class="Function Operator">∣</a> <a id="89687" href="ualib.html#89347" class="Function">h</a> <a id="89689" href="ualib.html#89435" class="Bound">𝒂</a> <a id="89691" href="ualib.html#21378" class="Function Operator">∣</a> <a id="89693" href="MGS-MLTT.html#3813" class="Function Operator">∘</a> <a id="89695" href="ualib.html#81384" class="InductiveConstructor">ℊ</a><a id="89696" class="Symbol">)</a>   <a id="89700" href="MGS-MLTT.html#5997" class="Function Operator">≡⟨</a> <a id="89703" href="ualib.html#19955" class="InductiveConstructor">𝓇ℯ𝒻𝓁</a> <a id="89708" href="MGS-MLTT.html#5997" class="Function Operator">⟩</a>
    <a id="89714" class="Symbol">(</a><a id="89715" href="ualib.html#89317" class="Bound">q</a> <a id="89717" href="ualib.html#62400" class="Function Operator">̇</a> <a id="89719" href="ualib.html#89326" class="Bound">𝑨</a><a id="89720" class="Symbol">)</a> <a id="89722" href="ualib.html#89435" class="Bound">𝒂</a>             <a id="89736" href="MGS-MLTT.html#6079" class="Function Operator">∎</a>
</pre>
<p>Of course, we can easily combine the last two results into a single “iff” theorem.</p>
<pre class="Agda">
 <a id="closure.compatibility-of-identities-and-homs"></a><a id="89846" href="ualib.html#89846" class="Function">compatibility-of-identities-and-homs</a> <a id="89883" class="Symbol">:</a> <a id="89885" class="Symbol">(</a><a id="89886" href="ualib.html#89886" class="Bound">p</a> <a id="89888" href="ualib.html#89888" class="Bound">q</a> <a id="89890" class="Symbol">:</a> <a id="89892" href="ualib.html#58364" class="Datatype">Term</a><a id="89896" class="Symbol">{</a><a id="89897" href="ualib.html#81111" class="Bound">𝓤</a><a id="89898" class="Symbol">}{</a><a id="89900" href="ualib.html#81107" class="Bound">X</a><a id="89901" class="Symbol">})</a>
                                        <a id="89944" class="Comment">-------------------------------------------------</a>
  <a id="89996" class="Symbol">→</a>                                     <a id="90034" class="Symbol">(</a><a id="90035" href="ualib.html#81118" class="Bound">𝒦</a> <a id="90037" href="ualib.html#82258" class="Function Operator">⊧</a> <a id="90039" href="ualib.html#89886" class="Bound">p</a> <a id="90041" href="ualib.html#82258" class="Function Operator">≋</a> <a id="90043" href="ualib.html#89888" class="Bound">q</a><a id="90044" class="Symbol">)</a> <a id="90046" href="MGS-MLTT.html#7080" class="Function Operator">⇔</a> <a id="90048" class="Symbol">(∀(</a><a id="90051" href="ualib.html#90051" class="Bound">𝑨</a> <a id="90053" class="Symbol">:</a> <a id="90055" href="ualib.html#35648" class="Function">Algebra</a> <a id="90063" href="ualib.html#81111" class="Bound">𝓤</a> <a id="90065" href="ualib.html#81086" class="Bound">𝑆</a><a id="90066" class="Symbol">)</a>
                                                           <a id="90127" class="Symbol">(</a><a id="90128" href="ualib.html#90128" class="Bound">KA</a> <a id="90131" class="Symbol">:</a> <a id="90133" href="ualib.html#90051" class="Bound">𝑨</a> <a id="90135" href="ualib.html#26625" class="Function Operator">∈</a> <a id="90137" href="ualib.html#81118" class="Bound">𝒦</a><a id="90138" class="Symbol">)(</a><a id="90140" href="ualib.html#90140" class="Bound">hh</a> <a id="90143" class="Symbol">:</a> <a id="90145" href="ualib.html#51876" class="Function">hom</a> <a id="90149" href="ualib.html#58724" class="Function">𝑻</a> <a id="90151" href="ualib.html#90051" class="Bound">𝑨</a><a id="90152" class="Symbol">)</a>
                                                          <a id="90212" class="Symbol">→</a>   <a id="90216" href="ualib.html#21378" class="Function Operator">∣</a> <a id="90218" href="ualib.html#90140" class="Bound">hh</a> <a id="90221" href="ualib.html#21378" class="Function Operator">∣</a> <a id="90223" href="MGS-MLTT.html#3813" class="Function Operator">∘</a> <a id="90225" class="Symbol">(</a><a id="90226" href="ualib.html#89886" class="Bound">p</a> <a id="90228" href="ualib.html#62400" class="Function Operator">̇</a> <a id="90230" href="ualib.html#58724" class="Function">𝑻</a><a id="90231" class="Symbol">)</a> <a id="90233" href="ualib.html#19941" class="Datatype Operator">≡</a> <a id="90235" href="ualib.html#21378" class="Function Operator">∣</a> <a id="90237" href="ualib.html#90140" class="Bound">hh</a> <a id="90240" href="ualib.html#21378" class="Function Operator">∣</a> <a id="90242" href="MGS-MLTT.html#3813" class="Function Operator">∘</a> <a id="90244" class="Symbol">(</a><a id="90245" href="ualib.html#89888" class="Bound">q</a> <a id="90247" href="ualib.html#62400" class="Function Operator">̇</a> <a id="90249" href="ualib.html#58724" class="Function">𝑻</a><a id="90250" class="Symbol">))</a>

 <a id="90255" href="ualib.html#89846" class="Function">compatibility-of-identities-and-homs</a> <a id="90292" href="ualib.html#90292" class="Bound">p</a> <a id="90294" href="ualib.html#90294" class="Bound">q</a> <a id="90296" class="Symbol">=</a> <a id="90298" href="ualib.html#87898" class="Function">identities-compatible-with-homs</a> <a id="90330" href="ualib.html#90292" class="Bound">p</a> <a id="90332" href="ualib.html#90294" class="Bound">q</a> <a id="90334" href="ualib.html#20052" class="InductiveConstructor Operator">,</a> <a id="90336" href="ualib.html#88903" class="Function">homs-compatible-with-identities</a> <a id="90368" href="ualib.html#90292" class="Bound">p</a> <a id="90370" href="ualib.html#90294" class="Bound">q</a>
</pre>
<p>Next we prove a fact that might seem obvious or at least intuitive—namely, that identities modeled by an algebra are compatible with the interpretation of terms in that algebra.</p>

<pre class="Agda">
 <a id="closure.hom-id-compatibility"></a><a id="90578" href="ualib.html#90578" class="Function">hom-id-compatibility</a> <a id="90599" class="Symbol">:</a> <a id="90601" class="Symbol">(</a><a id="90602" href="ualib.html#90602" class="Bound">p</a> <a id="90604" href="ualib.html#90604" class="Bound">q</a> <a id="90606" class="Symbol">:</a> <a id="90608" href="ualib.html#21378" class="Function Operator">∣</a> <a id="90610" href="ualib.html#58724" class="Function">𝑻</a><a id="90611" class="Symbol">{</a><a id="90612" href="ualib.html#81111" class="Bound">𝓤</a><a id="90613" class="Symbol">}{</a><a id="90615" href="ualib.html#81107" class="Bound">X</a><a id="90616" class="Symbol">}</a> <a id="90618" href="ualib.html#21378" class="Function Operator">∣</a> <a id="90620" class="Symbol">)</a> <a id="90622" class="Symbol">(</a><a id="90623" href="ualib.html#90623" class="Bound">𝑨</a> <a id="90625" class="Symbol">:</a> <a id="90627" href="ualib.html#35648" class="Function">Algebra</a> <a id="90635" href="ualib.html#81111" class="Bound">𝓤</a> <a id="90637" href="ualib.html#81086" class="Bound">𝑆</a><a id="90638" class="Symbol">)</a>
                        <a id="90664" class="Symbol">(</a><a id="90665" href="ualib.html#90665" class="Bound">ϕ</a> <a id="90667" class="Symbol">:</a> <a id="90669" href="ualib.html#51876" class="Function">hom</a> <a id="90673" href="ualib.html#58724" class="Function">𝑻</a> <a id="90675" href="ualib.html#90623" class="Bound">𝑨</a><a id="90676" class="Symbol">)</a> <a id="90678" class="Symbol">(</a><a id="90679" href="ualib.html#90679" class="Bound">p≈q</a> <a id="90683" class="Symbol">:</a> <a id="90685" href="ualib.html#90623" class="Bound">𝑨</a> <a id="90687" href="ualib.html#82179" class="Function Operator">⊧</a> <a id="90689" href="ualib.html#90602" class="Bound">p</a> <a id="90691" href="ualib.html#82179" class="Function Operator">≈</a> <a id="90693" href="ualib.html#90604" class="Bound">q</a><a id="90694" class="Symbol">)</a>
                       <a id="90719" class="Comment">----------------------------------------</a>
  <a id="90762" class="Symbol">→</a>                     <a id="90784" href="ualib.html#21378" class="Function Operator">∣</a> <a id="90786" href="ualib.html#90665" class="Bound">ϕ</a> <a id="90788" href="ualib.html#21378" class="Function Operator">∣</a> <a id="90790" href="ualib.html#90602" class="Bound">p</a> <a id="90792" href="ualib.html#19941" class="Datatype Operator">≡</a> <a id="90794" href="ualib.html#21378" class="Function Operator">∣</a> <a id="90796" href="ualib.html#90665" class="Bound">ϕ</a> <a id="90798" href="ualib.html#21378" class="Function Operator">∣</a> <a id="90800" href="ualib.html#90604" class="Bound">q</a>

 <a id="90804" href="ualib.html#90578" class="Function">hom-id-compatibility</a> <a id="90825" href="ualib.html#90825" class="Bound">p</a> <a id="90827" href="ualib.html#90827" class="Bound">q</a> <a id="90829" href="ualib.html#90829" class="Bound">𝑨</a> <a id="90831" href="ualib.html#90831" class="Bound">ϕ</a> <a id="90833" href="ualib.html#90833" class="Bound">p≈q</a> <a id="90837" class="Symbol">=</a>
  <a id="90841" href="ualib.html#21378" class="Function Operator">∣</a> <a id="90843" href="ualib.html#90831" class="Bound">ϕ</a> <a id="90845" href="ualib.html#21378" class="Function Operator">∣</a> <a id="90847" href="ualib.html#90825" class="Bound">p</a>              <a id="90862" href="MGS-MLTT.html#5997" class="Function Operator">≡⟨</a> <a id="90865" href="MGS-MLTT.html#6613" class="Function">ap</a> <a id="90868" href="ualib.html#21378" class="Function Operator">∣</a> <a id="90870" href="ualib.html#90831" class="Bound">ϕ</a> <a id="90872" href="ualib.html#21378" class="Function Operator">∣</a> <a id="90874" class="Symbol">(</a><a id="90875" href="ualib.html#64186" class="Function">term-agreement</a> <a id="90890" href="ualib.html#90825" class="Bound">p</a><a id="90891" class="Symbol">)</a> <a id="90893" href="MGS-MLTT.html#5997" class="Function Operator">⟩</a>
  <a id="90897" href="ualib.html#21378" class="Function Operator">∣</a> <a id="90899" href="ualib.html#90831" class="Bound">ϕ</a> <a id="90901" href="ualib.html#21378" class="Function Operator">∣</a> <a id="90903" class="Symbol">((</a><a id="90905" href="ualib.html#90825" class="Bound">p</a> <a id="90907" href="ualib.html#62400" class="Function Operator">̇</a> <a id="90909" href="ualib.html#58724" class="Function">𝑻</a><a id="90910" class="Symbol">)</a> <a id="90912" href="ualib.html#81384" class="InductiveConstructor">ℊ</a><a id="90913" class="Symbol">)</a>    <a id="90918" href="MGS-MLTT.html#5997" class="Function Operator">≡⟨</a> <a id="90921" class="Symbol">(</a><a id="90922" href="ualib.html#66177" class="Function">comm-hom-term</a> <a id="90936" href="ualib.html#81261" class="Bound">fevu</a> <a id="90941" class="Symbol">(</a><a id="90942" href="ualib.html#58724" class="Function">𝑻</a><a id="90943" class="Symbol">{</a><a id="90944" href="ualib.html#81111" class="Bound">𝓤</a><a id="90945" class="Symbol">}{</a><a id="90947" href="ualib.html#81107" class="Bound">X</a><a id="90948" class="Symbol">})</a> <a id="90951" href="ualib.html#90829" class="Bound">𝑨</a> <a id="90953" href="ualib.html#90831" class="Bound">ϕ</a> <a id="90955" href="ualib.html#90825" class="Bound">p</a> <a id="90957" href="ualib.html#81384" class="InductiveConstructor">ℊ</a><a id="90958" class="Symbol">)</a> <a id="90960" href="MGS-MLTT.html#5997" class="Function Operator">⟩</a>
  <a id="90964" class="Symbol">(</a><a id="90965" href="ualib.html#90825" class="Bound">p</a> <a id="90967" href="ualib.html#62400" class="Function Operator">̇</a> <a id="90969" href="ualib.html#90829" class="Bound">𝑨</a><a id="90970" class="Symbol">)</a> <a id="90972" class="Symbol">(</a><a id="90973" href="ualib.html#21378" class="Function Operator">∣</a> <a id="90975" href="ualib.html#90831" class="Bound">ϕ</a> <a id="90977" href="ualib.html#21378" class="Function Operator">∣</a> <a id="90979" href="MGS-MLTT.html#3813" class="Function Operator">∘</a> <a id="90981" href="ualib.html#81384" class="InductiveConstructor">ℊ</a><a id="90982" class="Symbol">)</a>  <a id="90985" href="MGS-MLTT.html#5997" class="Function Operator">≡⟨</a> <a id="90988" href="ualib.html#32191" class="Function">intensionality</a> <a id="91003" href="ualib.html#90833" class="Bound">p≈q</a> <a id="91007" class="Symbol">(</a><a id="91008" href="ualib.html#21378" class="Function Operator">∣</a> <a id="91010" href="ualib.html#90831" class="Bound">ϕ</a> <a id="91012" href="ualib.html#21378" class="Function Operator">∣</a> <a id="91014" href="MGS-MLTT.html#3813" class="Function Operator">∘</a> <a id="91016" href="ualib.html#81384" class="InductiveConstructor">ℊ</a><a id="91017" class="Symbol">)</a>  <a id="91020" href="MGS-MLTT.html#5997" class="Function Operator">⟩</a>
  <a id="91024" class="Symbol">(</a><a id="91025" href="ualib.html#90827" class="Bound">q</a> <a id="91027" href="ualib.html#62400" class="Function Operator">̇</a> <a id="91029" href="ualib.html#90829" class="Bound">𝑨</a><a id="91030" class="Symbol">)</a> <a id="91032" class="Symbol">(</a><a id="91033" href="ualib.html#21378" class="Function Operator">∣</a> <a id="91035" href="ualib.html#90831" class="Bound">ϕ</a> <a id="91037" href="ualib.html#21378" class="Function Operator">∣</a> <a id="91039" href="MGS-MLTT.html#3813" class="Function Operator">∘</a> <a id="91041" href="ualib.html#81384" class="InductiveConstructor">ℊ</a><a id="91042" class="Symbol">)</a>  <a id="91045" href="MGS-MLTT.html#5997" class="Function Operator">≡⟨</a> <a id="91048" class="Symbol">(</a><a id="91049" href="ualib.html#66177" class="Function">comm-hom-term</a> <a id="91063" href="ualib.html#81261" class="Bound">fevu</a> <a id="91068" class="Symbol">(</a><a id="91069" href="ualib.html#58724" class="Function">𝑻</a><a id="91070" class="Symbol">{</a><a id="91071" href="ualib.html#81111" class="Bound">𝓤</a><a id="91072" class="Symbol">}{</a><a id="91074" href="ualib.html#81107" class="Bound">X</a><a id="91075" class="Symbol">})</a> <a id="91078" href="ualib.html#90829" class="Bound">𝑨</a> <a id="91080" href="ualib.html#90831" class="Bound">ϕ</a> <a id="91082" href="ualib.html#90827" class="Bound">q</a> <a id="91084" href="ualib.html#81384" class="InductiveConstructor">ℊ</a><a id="91085" class="Symbol">)</a><a id="91086" href="MGS-MLTT.html#6125" class="Function Operator">⁻¹</a> <a id="91089" href="MGS-MLTT.html#5997" class="Function Operator">⟩</a>
  <a id="91093" href="ualib.html#21378" class="Function Operator">∣</a> <a id="91095" href="ualib.html#90831" class="Bound">ϕ</a> <a id="91097" href="ualib.html#21378" class="Function Operator">∣</a> <a id="91099" class="Symbol">((</a><a id="91101" href="ualib.html#90827" class="Bound">q</a> <a id="91103" href="ualib.html#62400" class="Function Operator">̇</a> <a id="91105" href="ualib.html#58724" class="Function">𝑻</a><a id="91106" class="Symbol">)</a> <a id="91108" href="ualib.html#81384" class="InductiveConstructor">ℊ</a><a id="91109" class="Symbol">)</a>    <a id="91114" href="MGS-MLTT.html#5997" class="Function Operator">≡⟨</a> <a id="91117" class="Symbol">(</a><a id="91118" href="MGS-MLTT.html#6613" class="Function">ap</a> <a id="91121" href="ualib.html#21378" class="Function Operator">∣</a> <a id="91123" href="ualib.html#90831" class="Bound">ϕ</a> <a id="91125" href="ualib.html#21378" class="Function Operator">∣</a> <a id="91127" class="Symbol">(</a><a id="91128" href="ualib.html#64186" class="Function">term-agreement</a> <a id="91143" href="ualib.html#90827" class="Bound">q</a><a id="91144" class="Symbol">))</a><a id="91146" href="MGS-MLTT.html#6125" class="Function Operator">⁻¹</a> <a id="91149" href="MGS-MLTT.html#5997" class="Function Operator">⟩</a>
  <a id="91153" href="ualib.html#21378" class="Function Operator">∣</a> <a id="91155" href="ualib.html#90831" class="Bound">ϕ</a> <a id="91157" href="ualib.html#21378" class="Function Operator">∣</a> <a id="91159" href="ualib.html#90827" class="Bound">q</a>              <a id="91174" href="MGS-MLTT.html#6079" class="Function Operator">∎</a>
</pre>

<h4 id="identities-for-product-closure">Identities for product closure</h4>
<p>Next we prove</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">pclo-id1</code>: if every algebra in the class 𝒦 satisfies a particular identity, say 𝑝 ≈ 𝑞, then every algebra in the closure PClo of 𝒦 under the taking of arbitrary products also satisfies 𝑝 ≈ 𝑞, and, conversely,</li>
  <li><code class="language-plaintext highlighter-rouge">pclo-id2</code>: if every algebra of the product closure PClo of 𝒦 satisfies 𝑝 ≈ 𝑞, then so does every algebra in 𝒦.</li>
</ul>

<p>Here’s proof of the first item.</p>
<pre class="Agda">
 <a id="closure.pclo-id1"></a><a id="91614" href="ualib.html#91614" class="Function">pclo-id1</a> <a id="91623" class="Symbol">:</a> <a id="91625" class="Symbol">∀</a> <a id="91627" class="Symbol">{</a><a id="91628" href="ualib.html#91628" class="Bound">p</a> <a id="91630" href="ualib.html#91630" class="Bound">q</a><a id="91631" class="Symbol">}</a> <a id="91633" class="Symbol">→</a> <a id="91635" class="Symbol">(</a><a id="91636" href="ualib.html#81118" class="Bound">𝒦</a> <a id="91638" href="ualib.html#82258" class="Function Operator">⊧</a> <a id="91640" href="ualib.html#91628" class="Bound">p</a> <a id="91642" href="ualib.html#82258" class="Function Operator">≋</a> <a id="91644" href="ualib.html#91630" class="Bound">q</a><a id="91645" class="Symbol">)</a> <a id="91647" class="Symbol">→</a> <a id="91649" class="Symbol">(</a><a id="91650" href="ualib.html#83517" class="Datatype">PClo</a> <a id="91655" href="ualib.html#82258" class="Function Operator">⊧</a> <a id="91657" href="ualib.html#91628" class="Bound">p</a> <a id="91659" href="ualib.html#82258" class="Function Operator">≋</a> <a id="91661" href="ualib.html#91630" class="Bound">q</a><a id="91662" class="Symbol">)</a>
 <a id="91665" href="ualib.html#91614" class="Function">pclo-id1</a> <a id="91674" class="Symbol">{</a><a id="91675" href="ualib.html#91675" class="Bound">p</a><a id="91676" class="Symbol">}</a> <a id="91678" class="Symbol">{</a><a id="91679" href="ualib.html#91679" class="Bound">q</a><a id="91680" class="Symbol">}</a> <a id="91682" href="ualib.html#91682" class="Bound">α</a> <a id="91684" class="Symbol">(</a><a id="91685" href="ualib.html#83565" class="InductiveConstructor">pbase</a> <a id="91691" href="ualib.html#91691" class="Bound">x</a><a id="91692" class="Symbol">)</a> <a id="91694" class="Symbol">=</a> <a id="91696" href="ualib.html#91682" class="Bound">α</a> <a id="91698" href="ualib.html#91691" class="Bound">x</a>
 <a id="91701" href="ualib.html#91614" class="Function">pclo-id1</a> <a id="91710" class="Symbol">{</a><a id="91711" href="ualib.html#91711" class="Bound">p</a><a id="91712" class="Symbol">}</a> <a id="91714" class="Symbol">{</a><a id="91715" href="ualib.html#91715" class="Bound">q</a><a id="91716" class="Symbol">}</a> <a id="91718" href="ualib.html#91718" class="Bound">α</a> <a id="91720" class="Symbol">(</a><a id="91721" href="ualib.html#83612" class="InductiveConstructor">prod</a><a id="91725" class="Symbol">{</a><a id="91726" href="ualib.html#91726" class="Bound">I</a><a id="91727" class="Symbol">}{</a><a id="91729" href="ualib.html#91729" class="Bound">𝒜</a><a id="91730" class="Symbol">}</a> <a id="91732" href="ualib.html#91732" class="Bound">𝒜-P𝒦</a> <a id="91737" class="Symbol">)</a> <a id="91739" class="Symbol">=</a> <a id="91741" href="ualib.html#91840" class="Function">γ</a>
  <a id="91745" class="Keyword">where</a>
   <a id="91754" href="ualib.html#91754" class="Function">IH</a> <a id="91757" class="Symbol">:</a> <a id="91759" class="Symbol">(</a><a id="91760" href="ualib.html#91760" class="Bound">i</a> <a id="91762" class="Symbol">:</a> <a id="91764" href="ualib.html#91726" class="Bound">I</a><a id="91765" class="Symbol">)</a>  <a id="91768" class="Symbol">→</a> <a id="91770" class="Symbol">(</a><a id="91771" href="ualib.html#91711" class="Bound">p</a> <a id="91773" href="ualib.html#62400" class="Function Operator">̇</a> <a id="91775" href="ualib.html#91729" class="Bound">𝒜</a> <a id="91777" href="ualib.html#91760" class="Bound">i</a><a id="91778" class="Symbol">)</a> <a id="91780" href="ualib.html#19941" class="Datatype Operator">≡</a> <a id="91782" class="Symbol">(</a><a id="91783" href="ualib.html#91715" class="Bound">q</a> <a id="91785" href="ualib.html#62400" class="Function Operator">̇</a> <a id="91787" href="ualib.html#91729" class="Bound">𝒜</a> <a id="91789" href="ualib.html#91760" class="Bound">i</a><a id="91790" class="Symbol">)</a>
   <a id="91795" href="ualib.html#91754" class="Function">IH</a> <a id="91798" class="Symbol">=</a> <a id="91800" class="Symbol">λ</a> <a id="91802" href="ualib.html#91802" class="Bound">i</a> <a id="91804" class="Symbol">→</a> <a id="91806" href="ualib.html#91614" class="Function">pclo-id1</a><a id="91814" class="Symbol">{</a><a id="91815" href="ualib.html#91711" class="Bound">p</a><a id="91816" class="Symbol">}{</a><a id="91818" href="ualib.html#91715" class="Bound">q</a><a id="91819" class="Symbol">}</a> <a id="91821" href="ualib.html#91718" class="Bound">α</a>  <a id="91824" class="Symbol">(</a> <a id="91826" href="ualib.html#91732" class="Bound">𝒜-P𝒦</a>  <a id="91832" href="ualib.html#91802" class="Bound">i</a> <a id="91834" class="Symbol">)</a>

   <a id="91840" href="ualib.html#91840" class="Function">γ</a> <a id="91842" class="Symbol">:</a> <a id="91844" href="ualib.html#91711" class="Bound">p</a> <a id="91846" href="ualib.html#62400" class="Function Operator">̇</a> <a id="91848" class="Symbol">(</a><a id="91849" href="ualib.html#38896" class="Function">⨅</a> <a id="91851" href="ualib.html#91729" class="Bound">𝒜</a><a id="91852" class="Symbol">)</a> <a id="91854" href="ualib.html#19941" class="Datatype Operator">≡</a> <a id="91856" href="ualib.html#91715" class="Bound">q</a> <a id="91858" href="ualib.html#62400" class="Function Operator">̇</a> <a id="91860" class="Symbol">(</a><a id="91861" href="ualib.html#38896" class="Function">⨅</a> <a id="91863" href="ualib.html#91729" class="Bound">𝒜</a><a id="91864" class="Symbol">)</a>
   <a id="91869" href="ualib.html#91840" class="Function">γ</a> <a id="91871" class="Symbol">=</a> <a id="91873" href="ualib.html#84995" class="Function">products-preserve-identities</a> <a id="91902" href="ualib.html#91711" class="Bound">p</a> <a id="91904" href="ualib.html#91715" class="Bound">q</a> <a id="91906" href="ualib.html#91726" class="Bound">I</a> <a id="91908" href="ualib.html#91729" class="Bound">𝒜</a> <a id="91910" href="ualib.html#91754" class="Function">IH</a>
</pre>
<p>The second item is even easier to prove since 𝒦 ⊆ PClo.</p>
<pre class="Agda">
 <a id="closure.pclo-id2"></a><a id="91994" href="ualib.html#91994" class="Function">pclo-id2</a> <a id="92003" class="Symbol">:</a> <a id="92005" class="Symbol">∀{</a><a id="92007" href="ualib.html#92007" class="Bound">p</a> <a id="92009" href="ualib.html#92009" class="Bound">q</a><a id="92010" class="Symbol">}</a> <a id="92012" class="Symbol">→</a> <a id="92014" class="Symbol">((</a><a id="92016" href="ualib.html#83517" class="Datatype">PClo</a><a id="92020" class="Symbol">)</a> <a id="92022" href="ualib.html#82258" class="Function Operator">⊧</a> <a id="92024" href="ualib.html#92007" class="Bound">p</a> <a id="92026" href="ualib.html#82258" class="Function Operator">≋</a> <a id="92028" href="ualib.html#92009" class="Bound">q</a> <a id="92030" class="Symbol">)</a> <a id="92032" class="Symbol">→</a> <a id="92034" class="Symbol">(</a><a id="92035" href="ualib.html#81118" class="Bound">𝒦</a> <a id="92037" href="ualib.html#82258" class="Function Operator">⊧</a> <a id="92039" href="ualib.html#92007" class="Bound">p</a> <a id="92041" href="ualib.html#82258" class="Function Operator">≋</a> <a id="92043" href="ualib.html#92009" class="Bound">q</a><a id="92044" class="Symbol">)</a>
 <a id="92047" href="ualib.html#91994" class="Function">pclo-id2</a> <a id="92056" href="ualib.html#92056" class="Bound">p</a> <a id="92058" href="ualib.html#92058" class="Bound">A∈𝒦</a> <a id="92062" class="Symbol">=</a> <a id="92064" href="ualib.html#92056" class="Bound">p</a> <a id="92066" class="Symbol">(</a><a id="92067" href="ualib.html#83565" class="InductiveConstructor">pbase</a> <a id="92073" href="ualib.html#92058" class="Bound">A∈𝒦</a><a id="92076" class="Symbol">)</a>
</pre>

<h4 id="identities-for-subalgebra-closure">Identities for subalgebra closure</h4>
<p>Here we prove</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">sclo-id1</code>: if every algebra in the class 𝒦 satisfies 𝑝 ≈ 𝑞, then so does every algebra in the closure SClo of 𝒦 under the taking of subalgebras; and, conversely,</li>
  <li><code class="language-plaintext highlighter-rouge">sclo-id2</code>: if every algebra of the subalgebra closure SClo of 𝒦 satisfies 𝑝 ≈ 𝑞, then so does every algebra in 𝒦.</li>
</ul>

<p>First we need to define a type that represents singletons containing exactly one algebra.</p>
<pre class="Agda">
 <a id="closure.｛_｝"></a><a id="92531" href="ualib.html#92531" class="Function Operator">｛_｝</a> <a id="92535" class="Symbol">:</a> <a id="92537" href="ualib.html#35648" class="Function">Algebra</a> <a id="92545" href="ualib.html#81111" class="Bound">𝓤</a> <a id="92547" href="ualib.html#81086" class="Bound">𝑆</a> <a id="92549" class="Symbol">→</a> <a id="92551" href="ualib.html#25725" class="Function">Pred</a> <a id="92556" class="Symbol">(</a><a id="92557" href="ualib.html#35648" class="Function">Algebra</a> <a id="92565" href="ualib.html#81111" class="Bound">𝓤</a> <a id="92567" href="ualib.html#81086" class="Bound">𝑆</a><a id="92568" class="Symbol">)(</a><a id="92570" href="ualib.html#81100" class="Bound">𝓞</a> <a id="92572" href="Agda.Primitive.html#636" class="Primitive Operator">⊔</a> <a id="92574" href="ualib.html#81102" class="Bound">𝓥</a> <a id="92576" href="Agda.Primitive.html#636" class="Primitive Operator">⊔</a> <a id="92578" href="ualib.html#81111" class="Bound">𝓤</a> <a id="92580" href="Agda.Primitive.html#606" class="Primitive Operator">⁺</a><a id="92581" class="Symbol">)</a>
 <a id="92584" href="ualib.html#92531" class="Function Operator">｛</a> <a id="92586" href="ualib.html#92586" class="Bound">𝑨</a> <a id="92588" href="ualib.html#92531" class="Function Operator">｝</a> <a id="92590" href="ualib.html#92590" class="Bound">𝑩</a> <a id="92592" class="Symbol">=</a> <a id="92594" href="ualib.html#92586" class="Bound">𝑨</a> <a id="92596" href="ualib.html#19941" class="Datatype Operator">≡</a> <a id="92598" href="ualib.html#92590" class="Bound">𝑩</a>
</pre>
<p>The formal statement and proof of the first item above is as follows.</p>
<pre class="Agda">
 <a id="closure.sclo-id1"></a><a id="92695" href="ualib.html#92695" class="Function">sclo-id1</a> <a id="92704" class="Symbol">:</a> <a id="92706" class="Symbol">∀{</a><a id="92708" href="ualib.html#92708" class="Bound">p</a> <a id="92710" href="ualib.html#92710" class="Bound">q</a><a id="92711" class="Symbol">}</a> <a id="92713" class="Symbol">→</a> <a id="92715" class="Symbol">(</a><a id="92716" href="ualib.html#81118" class="Bound">𝒦</a> <a id="92718" href="ualib.html#82258" class="Function Operator">⊧</a> <a id="92720" href="ualib.html#92708" class="Bound">p</a> <a id="92722" href="ualib.html#82258" class="Function Operator">≋</a> <a id="92724" href="ualib.html#92710" class="Bound">q</a><a id="92725" class="Symbol">)</a> <a id="92727" class="Symbol">→</a> <a id="92729" class="Symbol">(</a><a id="92730" href="ualib.html#83838" class="Datatype">SClo</a> <a id="92735" href="ualib.html#82258" class="Function Operator">⊧</a> <a id="92737" href="ualib.html#92708" class="Bound">p</a> <a id="92739" href="ualib.html#82258" class="Function Operator">≋</a> <a id="92741" href="ualib.html#92710" class="Bound">q</a><a id="92742" class="Symbol">)</a>
 <a id="92745" href="ualib.html#92695" class="Function">sclo-id1</a> <a id="92754" class="Symbol">{</a><a id="92755" href="ualib.html#92755" class="Bound">p</a><a id="92756" class="Symbol">}</a> <a id="92758" class="Symbol">{</a><a id="92759" href="ualib.html#92759" class="Bound">q</a><a id="92760" class="Symbol">}</a> <a id="92762" href="ualib.html#92762" class="Bound">𝒦⊧p≋q</a> <a id="92768" class="Symbol">(</a><a id="92769" href="ualib.html#83887" class="InductiveConstructor">sbase</a> <a id="92775" href="ualib.html#92775" class="Bound">A∈𝒦</a><a id="92778" class="Symbol">)</a> <a id="92780" class="Symbol">=</a> <a id="92782" href="ualib.html#92762" class="Bound">𝒦⊧p≋q</a> <a id="92788" href="ualib.html#92775" class="Bound">A∈𝒦</a>
 <a id="92793" href="ualib.html#92695" class="Function">sclo-id1</a> <a id="92802" class="Symbol">{</a><a id="92803" href="ualib.html#92803" class="Bound">p</a><a id="92804" class="Symbol">}</a> <a id="92806" class="Symbol">{</a><a id="92807" href="ualib.html#92807" class="Bound">q</a><a id="92808" class="Symbol">}</a> <a id="92810" href="ualib.html#92810" class="Bound">𝒦⊧p≋q</a> <a id="92816" class="Symbol">(</a><a id="92817" href="ualib.html#83935" class="InductiveConstructor">sub</a> <a id="92821" class="Symbol">{</a><a id="92822" class="Argument">𝑨</a> <a id="92824" class="Symbol">=</a> <a id="92826" href="ualib.html#92826" class="Bound">𝑨</a><a id="92827" class="Symbol">}</a> <a id="92829" href="ualib.html#92829" class="Bound">A∈SClo𝒦</a> <a id="92837" href="ualib.html#92837" class="Bound">sa</a><a id="92839" class="Symbol">)</a> <a id="92841" class="Symbol">=</a> 

  <a id="92847" class="Comment">-- (We apply subalgebras-preserve-identities to the class 𝒦 ∪ ｛ 𝑨 ｝)</a>
  <a id="92918" href="ualib.html#86566" class="Function">subalgebras-preserve-identities</a> <a id="92950" href="ualib.html#92803" class="Bound">p</a> <a id="92952" href="ualib.html#92807" class="Bound">q</a> <a id="92954" class="Symbol">(</a><a id="92955" href="ualib.html#92826" class="Bound">𝑨</a> <a id="92957" href="ualib.html#20052" class="InductiveConstructor Operator">,</a> <a id="92959" href="ualib.html#27247" class="InductiveConstructor">inj₂</a> <a id="92964" href="ualib.html#19955" class="InductiveConstructor">𝓇ℯ𝒻𝓁</a> <a id="92969" href="ualib.html#20052" class="InductiveConstructor Operator">,</a> <a id="92971" href="ualib.html#92837" class="Bound">sa</a><a id="92973" class="Symbol">)</a> <a id="92975" href="ualib.html#93134" class="Function">𝒦A⊧p≋q</a> 

   <a id="92987" class="Keyword">where</a>
    <a id="92997" href="ualib.html#92997" class="Function">A⊧p≈q</a> <a id="93003" class="Symbol">:</a> <a id="93005" href="ualib.html#92826" class="Bound">𝑨</a> <a id="93007" href="ualib.html#82179" class="Function Operator">⊧</a> <a id="93009" href="ualib.html#92803" class="Bound">p</a> <a id="93011" href="ualib.html#82179" class="Function Operator">≈</a> <a id="93013" href="ualib.html#92807" class="Bound">q</a>
    <a id="93019" href="ualib.html#92997" class="Function">A⊧p≈q</a> <a id="93025" class="Symbol">=</a> <a id="93027" href="ualib.html#92695" class="Function">sclo-id1</a><a id="93035" class="Symbol">{</a><a id="93036" href="ualib.html#92803" class="Bound">p</a><a id="93037" class="Symbol">}{</a><a id="93039" href="ualib.html#92807" class="Bound">q</a><a id="93040" class="Symbol">}</a> <a id="93042" href="ualib.html#92810" class="Bound">𝒦⊧p≋q</a> <a id="93048" href="ualib.html#92829" class="Bound">A∈SClo𝒦</a>

    <a id="93061" href="ualib.html#93061" class="Function">Asingleton⊧p≋q</a> <a id="93076" class="Symbol">:</a> <a id="93078" href="ualib.html#92531" class="Function Operator">｛</a> <a id="93080" href="ualib.html#92826" class="Bound">𝑨</a> <a id="93082" href="ualib.html#92531" class="Function Operator">｝</a> <a id="93084" href="ualib.html#82258" class="Function Operator">⊧</a> <a id="93086" href="ualib.html#92803" class="Bound">p</a> <a id="93088" href="ualib.html#82258" class="Function Operator">≋</a> <a id="93090" href="ualib.html#92807" class="Bound">q</a>
    <a id="93096" href="ualib.html#93061" class="Function">Asingleton⊧p≋q</a> <a id="93111" class="Symbol">(</a><a id="93112" href="ualib.html#19978" class="InductiveConstructor">refl</a> <a id="93117" class="Symbol">_)</a>  <a id="93121" class="Symbol">=</a> <a id="93123" href="ualib.html#92997" class="Function">A⊧p≈q</a>

    <a id="93134" href="ualib.html#93134" class="Function">𝒦A⊧p≋q</a> <a id="93141" class="Symbol">:</a> <a id="93143" class="Symbol">(</a><a id="93144" href="ualib.html#81118" class="Bound">𝒦</a> <a id="93146" href="ualib.html#27297" class="Function Operator">∪</a> <a id="93148" href="ualib.html#92531" class="Function Operator">｛</a> <a id="93150" href="ualib.html#92826" class="Bound">𝑨</a> <a id="93152" href="ualib.html#92531" class="Function Operator">｝</a><a id="93153" class="Symbol">)</a> <a id="93155" href="ualib.html#82258" class="Function Operator">⊧</a> <a id="93157" href="ualib.html#92803" class="Bound">p</a> <a id="93159" href="ualib.html#82258" class="Function Operator">≋</a> <a id="93161" href="ualib.html#92807" class="Bound">q</a>
    <a id="93167" href="ualib.html#93134" class="Function">𝒦A⊧p≋q</a> <a id="93174" class="Symbol">{</a><a id="93175" href="ualib.html#93175" class="Bound">𝑩</a><a id="93176" class="Symbol">}</a> <a id="93178" class="Symbol">(</a><a id="93179" href="ualib.html#27221" class="InductiveConstructor">inj₁</a> <a id="93184" href="ualib.html#93184" class="Bound">x</a><a id="93185" class="Symbol">)</a> <a id="93187" class="Symbol">=</a> <a id="93189" href="ualib.html#92810" class="Bound">𝒦⊧p≋q</a> <a id="93195" href="ualib.html#93184" class="Bound">x</a>
    <a id="93201" href="ualib.html#93134" class="Function">𝒦A⊧p≋q</a> <a id="93208" class="Symbol">{</a><a id="93209" href="ualib.html#93209" class="Bound">𝑩</a><a id="93210" class="Symbol">}</a> <a id="93212" class="Symbol">(</a><a id="93213" href="ualib.html#27247" class="InductiveConstructor">inj₂</a> <a id="93218" href="ualib.html#93218" class="Bound">y</a><a id="93219" class="Symbol">)</a> <a id="93221" class="Symbol">=</a> <a id="93223" href="ualib.html#93061" class="Function">Asingleton⊧p≋q</a> <a id="93238" href="ualib.html#93218" class="Bound">y</a>
</pre>
<p>As with the analogous result for products, proving the second item from the list above is trivial.</p>
<pre class="Agda">
 <a id="closure.sclo-id2"></a><a id="93364" href="ualib.html#93364" class="Function">sclo-id2</a> <a id="93373" class="Symbol">:</a> <a id="93375" class="Symbol">∀</a> <a id="93377" class="Symbol">{</a><a id="93378" href="ualib.html#93378" class="Bound">p</a> <a id="93380" href="ualib.html#93380" class="Bound">q</a><a id="93381" class="Symbol">}</a> <a id="93383" class="Symbol">→</a> <a id="93385" class="Symbol">(</a><a id="93386" href="ualib.html#83838" class="Datatype">SClo</a> <a id="93391" href="ualib.html#82258" class="Function Operator">⊧</a> <a id="93393" href="ualib.html#93378" class="Bound">p</a> <a id="93395" href="ualib.html#82258" class="Function Operator">≋</a> <a id="93397" href="ualib.html#93380" class="Bound">q</a><a id="93398" class="Symbol">)</a> <a id="93400" class="Symbol">→</a> <a id="93402" class="Symbol">(</a><a id="93403" href="ualib.html#81118" class="Bound">𝒦</a> <a id="93405" href="ualib.html#82258" class="Function Operator">⊧</a> <a id="93407" href="ualib.html#93378" class="Bound">p</a> <a id="93409" href="ualib.html#82258" class="Function Operator">≋</a> <a id="93411" href="ualib.html#93380" class="Bound">q</a><a id="93412" class="Symbol">)</a>
 <a id="93415" href="ualib.html#93364" class="Function">sclo-id2</a> <a id="93424" href="ualib.html#93424" class="Bound">p</a> <a id="93426" href="ualib.html#93426" class="Bound">A∈𝒦</a> <a id="93430" class="Symbol">=</a> <a id="93432" href="ualib.html#93424" class="Bound">p</a> <a id="93434" class="Symbol">(</a><a id="93435" href="ualib.html#83887" class="InductiveConstructor">sbase</a> <a id="93441" href="ualib.html#93426" class="Bound">A∈𝒦</a><a id="93444" class="Symbol">)</a>
</pre>

<h4 id="identities-for-hom-image-closure">Identities for hom image closure</h4>
<p>We prove</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">hclo-id1</code>: if every algebra in the class 𝒦 satisfies a 𝑝 ≈ 𝑞, then so does every algebra in the closure HClo of 𝒦 under the taking of homomorphic images; and, conversely,</li>
  <li><code class="language-plaintext highlighter-rouge">hclo-id2</code>: if every algebra of the homomorphic image closure HClo of 𝒦 satisfies 𝑝 ≈ 𝑞, then so does every algebra in 𝒦.</li>
</ul>

<pre class="Agda">
 <a id="closure.hclo-id1"></a><a id="93819" href="ualib.html#93819" class="Function">hclo-id1</a> <a id="93828" class="Symbol">:</a> <a id="93830" class="Symbol">∀{</a><a id="93832" href="ualib.html#93832" class="Bound">p</a> <a id="93834" href="ualib.html#93834" class="Bound">q</a><a id="93835" class="Symbol">}</a> <a id="93837" class="Symbol">→</a> <a id="93839" class="Symbol">(</a><a id="93840" href="ualib.html#81118" class="Bound">𝒦</a> <a id="93842" href="ualib.html#82258" class="Function Operator">⊧</a> <a id="93844" href="ualib.html#93832" class="Bound">p</a> <a id="93846" href="ualib.html#82258" class="Function Operator">≋</a> <a id="93848" href="ualib.html#93834" class="Bound">q</a><a id="93849" class="Symbol">)</a> <a id="93851" class="Symbol">→</a> <a id="93853" class="Symbol">(</a><a id="93854" href="ualib.html#84186" class="Datatype">HClo</a> <a id="93859" href="ualib.html#82258" class="Function Operator">⊧</a> <a id="93861" href="ualib.html#93832" class="Bound">p</a> <a id="93863" href="ualib.html#82258" class="Function Operator">≋</a> <a id="93865" href="ualib.html#93834" class="Bound">q</a><a id="93866" class="Symbol">)</a>
 <a id="93869" href="ualib.html#93819" class="Function">hclo-id1</a> <a id="93878" class="Symbol">{</a><a id="93879" href="ualib.html#93879" class="Bound">p</a><a id="93880" class="Symbol">}{</a><a id="93882" href="ualib.html#93882" class="Bound">q</a><a id="93883" class="Symbol">}</a> <a id="93885" href="ualib.html#93885" class="Bound">α</a> <a id="93887" class="Symbol">(</a><a id="93888" href="ualib.html#84234" class="InductiveConstructor">hbase</a> <a id="93894" href="ualib.html#93894" class="Bound">KA</a><a id="93896" class="Symbol">)</a> <a id="93898" class="Symbol">=</a> <a id="93900" href="ualib.html#93885" class="Bound">α</a> <a id="93902" href="ualib.html#93894" class="Bound">KA</a>
 <a id="93906" href="ualib.html#93819" class="Function">hclo-id1</a> <a id="93915" class="Symbol">{</a><a id="93916" href="ualib.html#93916" class="Bound">p</a><a id="93917" class="Symbol">}{</a><a id="93919" href="ualib.html#93919" class="Bound">q</a><a id="93920" class="Symbol">}</a> <a id="93922" href="ualib.html#93922" class="Bound">α</a> <a id="93924" class="Symbol">(</a><a id="93925" href="ualib.html#84281" class="InductiveConstructor">hhom</a><a id="93929" class="Symbol">{</a><a id="93930" href="ualib.html#93930" class="Bound">𝑨</a><a id="93931" class="Symbol">}</a> <a id="93933" href="ualib.html#93933" class="Bound">HCloA</a> <a id="93939" class="Symbol">(</a><a id="93940" href="ualib.html#93940" class="Bound">𝑩</a> <a id="93942" href="ualib.html#20052" class="InductiveConstructor Operator">,</a> <a id="93944" href="ualib.html#93944" class="Bound">ϕ</a> <a id="93946" href="ualib.html#20052" class="InductiveConstructor Operator">,</a> <a id="93948" class="Symbol">(</a><a id="93949" href="ualib.html#93949" class="Bound">ϕhom</a> <a id="93954" href="ualib.html#20052" class="InductiveConstructor Operator">,</a> <a id="93956" href="ualib.html#93956" class="Bound">ϕsur</a><a id="93960" class="Symbol">)))</a> <a id="93964" class="Symbol">=</a> <a id="93966" href="ualib.html#94207" class="Function">γ</a>
  <a id="93970" class="Keyword">where</a>
   <a id="93979" href="ualib.html#93979" class="Function">β</a> <a id="93981" class="Symbol">:</a> <a id="93983" href="ualib.html#93930" class="Bound">𝑨</a> <a id="93985" href="ualib.html#82179" class="Function Operator">⊧</a> <a id="93987" href="ualib.html#93916" class="Bound">p</a> <a id="93989" href="ualib.html#82179" class="Function Operator">≈</a> <a id="93991" href="ualib.html#93919" class="Bound">q</a>
   <a id="93996" href="ualib.html#93979" class="Function">β</a> <a id="93998" class="Symbol">=</a> <a id="94000" class="Symbol">(</a><a id="94001" href="ualib.html#93819" class="Function">hclo-id1</a><a id="94009" class="Symbol">{</a><a id="94010" href="ualib.html#93916" class="Bound">p</a><a id="94011" class="Symbol">}{</a><a id="94013" href="ualib.html#93919" class="Bound">q</a><a id="94014" class="Symbol">}</a> <a id="94016" href="ualib.html#93922" class="Bound">α</a><a id="94017" class="Symbol">)</a> <a id="94019" href="ualib.html#93933" class="Bound">HCloA</a>

   <a id="94029" href="ualib.html#94029" class="Function">preim</a> <a id="94035" class="Symbol">:</a> <a id="94037" class="Symbol">(</a><a id="94038" href="ualib.html#94038" class="Bound">𝒃</a> <a id="94040" class="Symbol">:</a> <a id="94042" href="ualib.html#81107" class="Bound">X</a> <a id="94044" class="Symbol">→</a> <a id="94046" href="ualib.html#21378" class="Function Operator">∣</a> <a id="94048" href="ualib.html#93940" class="Bound">𝑩</a> <a id="94050" href="ualib.html#21378" class="Function Operator">∣</a><a id="94051" class="Symbol">)(</a><a id="94053" href="ualib.html#94053" class="Bound">x</a> <a id="94055" class="Symbol">:</a> <a id="94057" href="ualib.html#81107" class="Bound">X</a><a id="94058" class="Symbol">)</a> <a id="94060" class="Symbol">→</a> <a id="94062" href="ualib.html#21378" class="Function Operator">∣</a> <a id="94064" href="ualib.html#93930" class="Bound">𝑨</a> <a id="94066" href="ualib.html#21378" class="Function Operator">∣</a>
   <a id="94071" href="ualib.html#94029" class="Function">preim</a> <a id="94077" href="ualib.html#94077" class="Bound">𝒃</a> <a id="94079" href="ualib.html#94079" class="Bound">x</a> <a id="94081" class="Symbol">=</a> <a id="94083" class="Symbol">(</a><a id="94084" href="ualib.html#29556" class="Function">Inv</a> <a id="94088" href="ualib.html#93944" class="Bound">ϕ</a> <a id="94090" class="Symbol">(</a><a id="94091" href="ualib.html#94077" class="Bound">𝒃</a> <a id="94093" href="ualib.html#94079" class="Bound">x</a><a id="94094" class="Symbol">)</a> <a id="94096" class="Symbol">(</a><a id="94097" href="ualib.html#93956" class="Bound">ϕsur</a> <a id="94102" class="Symbol">(</a><a id="94103" href="ualib.html#94077" class="Bound">𝒃</a> <a id="94105" href="ualib.html#94079" class="Bound">x</a><a id="94106" class="Symbol">)))</a>

   <a id="94114" href="ualib.html#94114" class="Function">ζ</a> <a id="94116" class="Symbol">:</a> <a id="94118" class="Symbol">(</a><a id="94119" href="ualib.html#94119" class="Bound">𝒃</a> <a id="94121" class="Symbol">:</a> <a id="94123" href="ualib.html#81107" class="Bound">X</a> <a id="94125" class="Symbol">→</a> <a id="94127" href="ualib.html#21378" class="Function Operator">∣</a> <a id="94129" href="ualib.html#93940" class="Bound">𝑩</a> <a id="94131" href="ualib.html#21378" class="Function Operator">∣</a><a id="94132" class="Symbol">)</a> <a id="94134" class="Symbol">→</a> <a id="94136" href="ualib.html#93944" class="Bound">ϕ</a> <a id="94138" href="MGS-MLTT.html#3813" class="Function Operator">∘</a> <a id="94140" class="Symbol">(</a><a id="94141" href="ualib.html#94029" class="Function">preim</a> <a id="94147" href="ualib.html#94119" class="Bound">𝒃</a><a id="94148" class="Symbol">)</a> <a id="94150" href="ualib.html#19941" class="Datatype Operator">≡</a> <a id="94152" href="ualib.html#94119" class="Bound">𝒃</a>
   <a id="94157" href="ualib.html#94114" class="Function">ζ</a> <a id="94159" href="ualib.html#94159" class="Bound">𝒃</a> <a id="94161" class="Symbol">=</a> <a id="94163" href="ualib.html#81216" class="Bound">gfe</a> <a id="94167" class="Symbol">λ</a> <a id="94169" href="ualib.html#94169" class="Bound">x</a> <a id="94171" class="Symbol">→</a> <a id="94173" href="ualib.html#29835" class="Function">InvIsInv</a> <a id="94182" href="ualib.html#93944" class="Bound">ϕ</a> <a id="94184" class="Symbol">(</a><a id="94185" href="ualib.html#94159" class="Bound">𝒃</a> <a id="94187" href="ualib.html#94169" class="Bound">x</a><a id="94188" class="Symbol">)</a> <a id="94190" class="Symbol">(</a><a id="94191" href="ualib.html#93956" class="Bound">ϕsur</a> <a id="94196" class="Symbol">(</a><a id="94197" href="ualib.html#94159" class="Bound">𝒃</a> <a id="94199" href="ualib.html#94169" class="Bound">x</a><a id="94200" class="Symbol">))</a>

   <a id="94207" href="ualib.html#94207" class="Function">γ</a> <a id="94209" class="Symbol">:</a> <a id="94211" class="Symbol">(</a><a id="94212" href="ualib.html#93916" class="Bound">p</a> <a id="94214" href="ualib.html#62400" class="Function Operator">̇</a> <a id="94216" href="ualib.html#93940" class="Bound">𝑩</a><a id="94217" class="Symbol">)</a> <a id="94219" href="ualib.html#19941" class="Datatype Operator">≡</a> <a id="94221" class="Symbol">(</a><a id="94222" href="ualib.html#93919" class="Bound">q</a> <a id="94224" href="ualib.html#62400" class="Function Operator">̇</a> <a id="94226" href="ualib.html#93940" class="Bound">𝑩</a><a id="94227" class="Symbol">)</a>
   <a id="94232" href="ualib.html#94207" class="Function">γ</a> <a id="94234" class="Symbol">=</a> <a id="94236" href="ualib.html#81216" class="Bound">gfe</a> <a id="94240" class="Symbol">λ</a> <a id="94242" href="ualib.html#94242" class="Bound">𝒃</a> <a id="94244" class="Symbol">→</a>
    <a id="94250" class="Symbol">(</a><a id="94251" href="ualib.html#93916" class="Bound">p</a> <a id="94253" href="ualib.html#62400" class="Function Operator">̇</a> <a id="94255" href="ualib.html#93940" class="Bound">𝑩</a><a id="94256" class="Symbol">)</a> <a id="94258" href="ualib.html#94242" class="Bound">𝒃</a>              <a id="94273" href="MGS-MLTT.html#5997" class="Function Operator">≡⟨</a> <a id="94276" class="Symbol">(</a><a id="94277" href="MGS-MLTT.html#6613" class="Function">ap</a> <a id="94280" class="Symbol">(</a><a id="94281" href="ualib.html#93916" class="Bound">p</a> <a id="94283" href="ualib.html#62400" class="Function Operator">̇</a> <a id="94285" href="ualib.html#93940" class="Bound">𝑩</a><a id="94286" class="Symbol">)</a> <a id="94288" class="Symbol">(</a><a id="94289" href="ualib.html#94114" class="Function">ζ</a> <a id="94291" href="ualib.html#94242" class="Bound">𝒃</a><a id="94292" class="Symbol">))</a><a id="94294" href="MGS-MLTT.html#6125" class="Function Operator">⁻¹</a> <a id="94297" href="MGS-MLTT.html#5997" class="Function Operator">⟩</a>
    <a id="94303" class="Symbol">(</a><a id="94304" href="ualib.html#93916" class="Bound">p</a> <a id="94306" href="ualib.html#62400" class="Function Operator">̇</a> <a id="94308" href="ualib.html#93940" class="Bound">𝑩</a><a id="94309" class="Symbol">)</a> <a id="94311" class="Symbol">(</a><a id="94312" href="ualib.html#93944" class="Bound">ϕ</a> <a id="94314" href="MGS-MLTT.html#3813" class="Function Operator">∘</a> <a id="94316" class="Symbol">(</a><a id="94317" href="ualib.html#94029" class="Function">preim</a> <a id="94323" href="ualib.html#94242" class="Bound">𝒃</a><a id="94324" class="Symbol">))</a> <a id="94327" href="MGS-MLTT.html#5997" class="Function Operator">≡⟨</a> <a id="94330" class="Symbol">(</a><a id="94331" href="ualib.html#66177" class="Function">comm-hom-term</a> <a id="94345" href="ualib.html#81216" class="Bound">gfe</a> <a id="94349" href="ualib.html#93930" class="Bound">𝑨</a> <a id="94351" href="ualib.html#93940" class="Bound">𝑩</a> <a id="94353" class="Symbol">(</a><a id="94354" href="ualib.html#93944" class="Bound">ϕ</a> <a id="94356" href="ualib.html#20052" class="InductiveConstructor Operator">,</a> <a id="94358" href="ualib.html#93949" class="Bound">ϕhom</a><a id="94362" class="Symbol">)</a> <a id="94364" href="ualib.html#93916" class="Bound">p</a> <a id="94366" class="Symbol">(</a><a id="94367" href="ualib.html#94029" class="Function">preim</a> <a id="94373" href="ualib.html#94242" class="Bound">𝒃</a><a id="94374" class="Symbol">))</a><a id="94376" href="MGS-MLTT.html#6125" class="Function Operator">⁻¹</a> <a id="94379" href="MGS-MLTT.html#5997" class="Function Operator">⟩</a>
    <a id="94385" href="ualib.html#93944" class="Bound">ϕ</a><a id="94386" class="Symbol">((</a><a id="94388" href="ualib.html#93916" class="Bound">p</a> <a id="94390" href="ualib.html#62400" class="Function Operator">̇</a> <a id="94392" href="ualib.html#93930" class="Bound">𝑨</a><a id="94393" class="Symbol">)(</a><a id="94395" href="ualib.html#94029" class="Function">preim</a> <a id="94401" href="ualib.html#94242" class="Bound">𝒃</a><a id="94402" class="Symbol">))</a>     <a id="94409" href="MGS-MLTT.html#5997" class="Function Operator">≡⟨</a> <a id="94412" href="MGS-MLTT.html#6613" class="Function">ap</a> <a id="94415" href="ualib.html#93944" class="Bound">ϕ</a> <a id="94417" class="Symbol">(</a><a id="94418" href="ualib.html#32191" class="Function">intensionality</a> <a id="94433" href="ualib.html#93979" class="Function">β</a> <a id="94435" class="Symbol">(</a><a id="94436" href="ualib.html#94029" class="Function">preim</a> <a id="94442" href="ualib.html#94242" class="Bound">𝒃</a><a id="94443" class="Symbol">))</a> <a id="94446" href="MGS-MLTT.html#5997" class="Function Operator">⟩</a>
    <a id="94452" href="ualib.html#93944" class="Bound">ϕ</a><a id="94453" class="Symbol">((</a><a id="94455" href="ualib.html#93919" class="Bound">q</a> <a id="94457" href="ualib.html#62400" class="Function Operator">̇</a> <a id="94459" href="ualib.html#93930" class="Bound">𝑨</a><a id="94460" class="Symbol">)(</a><a id="94462" href="ualib.html#94029" class="Function">preim</a> <a id="94468" href="ualib.html#94242" class="Bound">𝒃</a><a id="94469" class="Symbol">))</a>     <a id="94476" href="MGS-MLTT.html#5997" class="Function Operator">≡⟨</a> <a id="94479" href="ualib.html#66177" class="Function">comm-hom-term</a> <a id="94493" href="ualib.html#81216" class="Bound">gfe</a> <a id="94497" href="ualib.html#93930" class="Bound">𝑨</a> <a id="94499" href="ualib.html#93940" class="Bound">𝑩</a> <a id="94501" class="Symbol">(</a><a id="94502" href="ualib.html#93944" class="Bound">ϕ</a> <a id="94504" href="ualib.html#20052" class="InductiveConstructor Operator">,</a> <a id="94506" href="ualib.html#93949" class="Bound">ϕhom</a><a id="94510" class="Symbol">)</a> <a id="94512" href="ualib.html#93919" class="Bound">q</a> <a id="94514" class="Symbol">(</a><a id="94515" href="ualib.html#94029" class="Function">preim</a> <a id="94521" href="ualib.html#94242" class="Bound">𝒃</a><a id="94522" class="Symbol">)</a> <a id="94524" href="MGS-MLTT.html#5997" class="Function Operator">⟩</a>
    <a id="94530" class="Symbol">(</a><a id="94531" href="ualib.html#93919" class="Bound">q</a> <a id="94533" href="ualib.html#62400" class="Function Operator">̇</a> <a id="94535" href="ualib.html#93940" class="Bound">𝑩</a><a id="94536" class="Symbol">)(</a><a id="94538" href="ualib.html#93944" class="Bound">ϕ</a> <a id="94540" href="MGS-MLTT.html#3813" class="Function Operator">∘</a> <a id="94542" class="Symbol">(</a><a id="94543" href="ualib.html#94029" class="Function">preim</a> <a id="94549" href="ualib.html#94242" class="Bound">𝒃</a><a id="94550" class="Symbol">))</a>  <a id="94554" href="MGS-MLTT.html#5997" class="Function Operator">≡⟨</a> <a id="94557" href="MGS-MLTT.html#6613" class="Function">ap</a> <a id="94560" class="Symbol">(</a><a id="94561" href="ualib.html#93919" class="Bound">q</a> <a id="94563" href="ualib.html#62400" class="Function Operator">̇</a> <a id="94565" href="ualib.html#93940" class="Bound">𝑩</a><a id="94566" class="Symbol">)</a> <a id="94568" class="Symbol">(</a><a id="94569" href="ualib.html#94114" class="Function">ζ</a> <a id="94571" href="ualib.html#94242" class="Bound">𝒃</a><a id="94572" class="Symbol">)</a> <a id="94574" href="MGS-MLTT.html#5997" class="Function Operator">⟩</a>
    <a id="94580" class="Symbol">(</a><a id="94581" href="ualib.html#93919" class="Bound">q</a> <a id="94583" href="ualib.html#62400" class="Function Operator">̇</a> <a id="94585" href="ualib.html#93940" class="Bound">𝑩</a><a id="94586" class="Symbol">)</a> <a id="94588" href="ualib.html#94242" class="Bound">𝒃</a>               <a id="94604" href="MGS-MLTT.html#6079" class="Function Operator">∎</a>

 <a id="closure.hclo-id2"></a><a id="94608" href="ualib.html#94608" class="Function">hclo-id2</a> <a id="94617" class="Symbol">:</a> <a id="94619" class="Symbol">∀</a> <a id="94621" class="Symbol">{</a><a id="94622" href="ualib.html#94622" class="Bound">p</a> <a id="94624" href="ualib.html#94624" class="Bound">q</a><a id="94625" class="Symbol">}</a> <a id="94627" class="Symbol">→</a> <a id="94629" class="Symbol">(</a><a id="94630" href="ualib.html#84186" class="Datatype">HClo</a> <a id="94635" href="ualib.html#82258" class="Function Operator">⊧</a> <a id="94637" href="ualib.html#94622" class="Bound">p</a> <a id="94639" href="ualib.html#82258" class="Function Operator">≋</a> <a id="94641" href="ualib.html#94624" class="Bound">q</a><a id="94642" class="Symbol">)</a> <a id="94644" class="Symbol">→</a> <a id="94646" class="Symbol">(</a><a id="94647" href="ualib.html#81118" class="Bound">𝒦</a> <a id="94649" href="ualib.html#82258" class="Function Operator">⊧</a> <a id="94651" href="ualib.html#94622" class="Bound">p</a> <a id="94653" href="ualib.html#82258" class="Function Operator">≋</a> <a id="94655" href="ualib.html#94624" class="Bound">q</a><a id="94656" class="Symbol">)</a>
 <a id="94659" href="ualib.html#94608" class="Function">hclo-id2</a> <a id="94668" href="ualib.html#94668" class="Bound">p</a> <a id="94670" href="ualib.html#94670" class="Bound">KA</a> <a id="94673" class="Symbol">=</a> <a id="94675" href="ualib.html#94668" class="Bound">p</a> <a id="94677" class="Symbol">(</a><a id="94678" href="ualib.html#84234" class="InductiveConstructor">hbase</a> <a id="94684" href="ualib.html#94670" class="Bound">KA</a><a id="94686" class="Symbol">)</a>
</pre>

<h4 id="identities-for-hsp-closure">Identities for HSP closure</h4>

<p>Finally, we prove</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">vclo-id1</code>: if every algebra in the class 𝒦 satisfies a 𝑝 ≈ 𝑞, then so does every algebra in the closure VClo of 𝒦 under the taking of homomorphic images, subalgebras, and products; and, conversely,</li>
  <li><code class="language-plaintext highlighter-rouge">vclo-id2</code>: if every algebra of the varietal closure VClo of 𝒦 satisfies 𝑝 ≈ 𝑞, then so does every algebra in 𝒦.</li>
</ul>

<pre class="Agda">
 <a id="closure.vclo-id1"></a><a id="95083" href="ualib.html#95083" class="Function">vclo-id1</a> <a id="95092" class="Symbol">:</a> <a id="95094" class="Symbol">∀</a> <a id="95096" class="Symbol">{</a><a id="95097" href="ualib.html#95097" class="Bound">p</a> <a id="95099" href="ualib.html#95099" class="Bound">q</a><a id="95100" class="Symbol">}</a> <a id="95102" class="Symbol">→</a> <a id="95104" class="Symbol">(</a><a id="95105" href="ualib.html#81118" class="Bound">𝒦</a> <a id="95107" href="ualib.html#82258" class="Function Operator">⊧</a> <a id="95109" href="ualib.html#95097" class="Bound">p</a> <a id="95111" href="ualib.html#82258" class="Function Operator">≋</a> <a id="95113" href="ualib.html#95099" class="Bound">q</a><a id="95114" class="Symbol">)</a> <a id="95116" class="Symbol">→</a> <a id="95118" class="Symbol">(</a><a id="95119" href="ualib.html#84506" class="Datatype">VClo</a> <a id="95124" href="ualib.html#82258" class="Function Operator">⊧</a> <a id="95126" href="ualib.html#95097" class="Bound">p</a> <a id="95128" href="ualib.html#82258" class="Function Operator">≋</a> <a id="95130" href="ualib.html#95099" class="Bound">q</a><a id="95131" class="Symbol">)</a>
 <a id="95134" href="ualib.html#95083" class="Function">vclo-id1</a> <a id="95143" class="Symbol">{</a><a id="95144" href="ualib.html#95144" class="Bound">p</a><a id="95145" class="Symbol">}</a> <a id="95147" class="Symbol">{</a><a id="95148" href="ualib.html#95148" class="Bound">q</a><a id="95149" class="Symbol">}</a> <a id="95151" href="ualib.html#95151" class="Bound">α</a> <a id="95153" class="Symbol">(</a><a id="95154" href="ualib.html#84554" class="InductiveConstructor">vbase</a> <a id="95160" href="ualib.html#95160" class="Bound">A∈𝒦</a><a id="95163" class="Symbol">)</a> <a id="95165" class="Symbol">=</a> <a id="95167" href="ualib.html#95151" class="Bound">α</a> <a id="95169" href="ualib.html#95160" class="Bound">A∈𝒦</a>
 <a id="95174" href="ualib.html#95083" class="Function">vclo-id1</a> <a id="95183" class="Symbol">{</a><a id="95184" href="ualib.html#95184" class="Bound">p</a><a id="95185" class="Symbol">}</a> <a id="95187" class="Symbol">{</a><a id="95188" href="ualib.html#95188" class="Bound">q</a><a id="95189" class="Symbol">}</a> <a id="95191" href="ualib.html#95191" class="Bound">α</a> <a id="95193" class="Symbol">(</a><a id="95194" href="ualib.html#84601" class="InductiveConstructor">vprod</a><a id="95199" class="Symbol">{</a><a id="95200" class="Argument">I</a> <a id="95202" class="Symbol">=</a> <a id="95204" href="ualib.html#95204" class="Bound">I</a><a id="95205" class="Symbol">}{</a><a id="95207" class="Argument">𝒜</a> <a id="95209" class="Symbol">=</a> <a id="95211" href="ualib.html#95211" class="Bound">𝒜</a><a id="95212" class="Symbol">}</a> <a id="95214" href="ualib.html#95214" class="Bound">𝒜∈VClo</a><a id="95220" class="Symbol">)</a> <a id="95222" class="Symbol">=</a> <a id="95224" href="ualib.html#95306" class="Function">γ</a>
  <a id="95228" class="Keyword">where</a>
   <a id="95237" href="ualib.html#95237" class="Function">IH</a> <a id="95240" class="Symbol">:</a> <a id="95242" class="Symbol">(</a><a id="95243" href="ualib.html#95243" class="Bound">i</a> <a id="95245" class="Symbol">:</a> <a id="95247" href="ualib.html#95204" class="Bound">I</a><a id="95248" class="Symbol">)</a> <a id="95250" class="Symbol">→</a> <a id="95252" href="ualib.html#95211" class="Bound">𝒜</a> <a id="95254" href="ualib.html#95243" class="Bound">i</a> <a id="95256" href="ualib.html#82179" class="Function Operator">⊧</a> <a id="95258" href="ualib.html#95184" class="Bound">p</a> <a id="95260" href="ualib.html#82179" class="Function Operator">≈</a> <a id="95262" href="ualib.html#95188" class="Bound">q</a>
   <a id="95267" href="ualib.html#95237" class="Function">IH</a> <a id="95270" href="ualib.html#95270" class="Bound">i</a> <a id="95272" class="Symbol">=</a> <a id="95274" href="ualib.html#95083" class="Function">vclo-id1</a><a id="95282" class="Symbol">{</a><a id="95283" href="ualib.html#95184" class="Bound">p</a><a id="95284" class="Symbol">}{</a><a id="95286" href="ualib.html#95188" class="Bound">q</a><a id="95287" class="Symbol">}</a> <a id="95289" href="ualib.html#95191" class="Bound">α</a> <a id="95291" class="Symbol">(</a><a id="95292" href="ualib.html#95214" class="Bound">𝒜∈VClo</a> <a id="95299" href="ualib.html#95270" class="Bound">i</a><a id="95300" class="Symbol">)</a>

   <a id="95306" href="ualib.html#95306" class="Function">γ</a> <a id="95308" class="Symbol">:</a> <a id="95310" href="ualib.html#95184" class="Bound">p</a> <a id="95312" href="ualib.html#62400" class="Function Operator">̇</a> <a id="95314" class="Symbol">(</a><a id="95315" href="ualib.html#38896" class="Function">⨅</a> <a id="95317" href="ualib.html#95211" class="Bound">𝒜</a><a id="95318" class="Symbol">)</a>  <a id="95321" href="ualib.html#19941" class="Datatype Operator">≡</a> <a id="95323" href="ualib.html#95188" class="Bound">q</a> <a id="95325" href="ualib.html#62400" class="Function Operator">̇</a> <a id="95327" class="Symbol">(</a><a id="95328" href="ualib.html#38896" class="Function">⨅</a> <a id="95330" href="ualib.html#95211" class="Bound">𝒜</a><a id="95331" class="Symbol">)</a>
   <a id="95336" href="ualib.html#95306" class="Function">γ</a> <a id="95338" class="Symbol">=</a> <a id="95340" href="ualib.html#84995" class="Function">products-preserve-identities</a> <a id="95369" href="ualib.html#95184" class="Bound">p</a> <a id="95371" href="ualib.html#95188" class="Bound">q</a> <a id="95373" href="ualib.html#95204" class="Bound">I</a> <a id="95375" href="ualib.html#95211" class="Bound">𝒜</a> <a id="95377" href="ualib.html#95237" class="Function">IH</a>

 <a id="95382" href="ualib.html#95083" class="Function">vclo-id1</a> <a id="95391" class="Symbol">{</a><a id="95392" href="ualib.html#95392" class="Bound">p</a><a id="95393" class="Symbol">}</a> <a id="95395" class="Symbol">{</a><a id="95396" href="ualib.html#95396" class="Bound">q</a><a id="95397" class="Symbol">}</a> <a id="95399" href="ualib.html#95399" class="Bound">α</a> <a id="95401" class="Symbol">(</a> <a id="95403" href="ualib.html#84677" class="InductiveConstructor">vsub</a> <a id="95408" class="Symbol">{</a><a id="95409" class="Argument">𝑨</a> <a id="95411" class="Symbol">=</a> <a id="95413" href="ualib.html#95413" class="Bound">𝑨</a><a id="95414" class="Symbol">}</a> <a id="95416" href="ualib.html#95416" class="Bound">A∈VClo</a> <a id="95423" href="ualib.html#95423" class="Bound">sa</a> <a id="95426" class="Symbol">)</a> <a id="95428" class="Symbol">=</a>
  <a id="95432" href="ualib.html#86566" class="Function">subalgebras-preserve-identities</a>  <a id="95465" href="ualib.html#95392" class="Bound">p</a> <a id="95467" href="ualib.html#95396" class="Bound">q</a> <a id="95469" class="Symbol">(</a><a id="95470" href="ualib.html#95413" class="Bound">𝑨</a> <a id="95472" href="ualib.html#20052" class="InductiveConstructor Operator">,</a> <a id="95474" href="ualib.html#27247" class="InductiveConstructor">inj₂</a> <a id="95479" href="ualib.html#19955" class="InductiveConstructor">𝓇ℯ𝒻𝓁</a> <a id="95484" href="ualib.html#20052" class="InductiveConstructor Operator">,</a> <a id="95486" href="ualib.html#95423" class="Bound">sa</a><a id="95488" class="Symbol">)</a> <a id="95490" href="ualib.html#95643" class="Function">𝒦A⊧p≋q</a> 
   <a id="95501" class="Keyword">where</a>
    <a id="95511" href="ualib.html#95511" class="Function">A⊧p≈q</a> <a id="95517" class="Symbol">:</a> <a id="95519" href="ualib.html#95413" class="Bound">𝑨</a> <a id="95521" href="ualib.html#82179" class="Function Operator">⊧</a> <a id="95523" href="ualib.html#95392" class="Bound">p</a> <a id="95525" href="ualib.html#82179" class="Function Operator">≈</a> <a id="95527" href="ualib.html#95396" class="Bound">q</a>
    <a id="95533" href="ualib.html#95511" class="Function">A⊧p≈q</a> <a id="95539" class="Symbol">=</a> <a id="95541" href="ualib.html#95083" class="Function">vclo-id1</a><a id="95549" class="Symbol">{</a><a id="95550" href="ualib.html#95392" class="Bound">p</a><a id="95551" class="Symbol">}{</a><a id="95553" href="ualib.html#95396" class="Bound">q</a><a id="95554" class="Symbol">}</a> <a id="95556" href="ualib.html#95399" class="Bound">α</a> <a id="95558" href="ualib.html#95416" class="Bound">A∈VClo</a>

    <a id="95570" href="ualib.html#95570" class="Function">Asingleton⊧p≋q</a> <a id="95585" class="Symbol">:</a> <a id="95587" href="ualib.html#92531" class="Function Operator">｛</a> <a id="95589" href="ualib.html#95413" class="Bound">𝑨</a> <a id="95591" href="ualib.html#92531" class="Function Operator">｝</a> <a id="95593" href="ualib.html#82258" class="Function Operator">⊧</a> <a id="95595" href="ualib.html#95392" class="Bound">p</a> <a id="95597" href="ualib.html#82258" class="Function Operator">≋</a> <a id="95599" href="ualib.html#95396" class="Bound">q</a>
    <a id="95605" href="ualib.html#95570" class="Function">Asingleton⊧p≋q</a> <a id="95620" class="Symbol">(</a><a id="95621" href="ualib.html#19978" class="InductiveConstructor">refl</a> <a id="95626" class="Symbol">_)</a>  <a id="95630" class="Symbol">=</a> <a id="95632" href="ualib.html#95511" class="Function">A⊧p≈q</a>

    <a id="95643" href="ualib.html#95643" class="Function">𝒦A⊧p≋q</a> <a id="95650" class="Symbol">:</a> <a id="95652" class="Symbol">(</a><a id="95653" href="ualib.html#81118" class="Bound">𝒦</a> <a id="95655" href="ualib.html#27297" class="Function Operator">∪</a> <a id="95657" href="ualib.html#92531" class="Function Operator">｛</a> <a id="95659" href="ualib.html#95413" class="Bound">𝑨</a> <a id="95661" href="ualib.html#92531" class="Function Operator">｝</a><a id="95662" class="Symbol">)</a> <a id="95664" href="ualib.html#82258" class="Function Operator">⊧</a> <a id="95666" href="ualib.html#95392" class="Bound">p</a> <a id="95668" href="ualib.html#82258" class="Function Operator">≋</a> <a id="95670" href="ualib.html#95396" class="Bound">q</a>
    <a id="95676" href="ualib.html#95643" class="Function">𝒦A⊧p≋q</a> <a id="95683" class="Symbol">{</a><a id="95684" href="ualib.html#95684" class="Bound">𝑩</a><a id="95685" class="Symbol">}</a> <a id="95687" class="Symbol">(</a><a id="95688" href="ualib.html#27221" class="InductiveConstructor">inj₁</a> <a id="95693" href="ualib.html#95693" class="Bound">x</a><a id="95694" class="Symbol">)</a> <a id="95696" class="Symbol">=</a> <a id="95698" href="ualib.html#95399" class="Bound">α</a> <a id="95700" href="ualib.html#95693" class="Bound">x</a>
    <a id="95706" href="ualib.html#95643" class="Function">𝒦A⊧p≋q</a> <a id="95713" class="Symbol">{</a><a id="95714" href="ualib.html#95714" class="Bound">𝑩</a><a id="95715" class="Symbol">}</a> <a id="95717" class="Symbol">(</a><a id="95718" href="ualib.html#27247" class="InductiveConstructor">inj₂</a> <a id="95723" href="ualib.html#95723" class="Bound">y</a><a id="95724" class="Symbol">)</a> <a id="95726" class="Symbol">=</a> <a id="95728" href="ualib.html#95570" class="Function">Asingleton⊧p≋q</a> <a id="95743" href="ualib.html#95723" class="Bound">y</a>


 <a id="95748" href="ualib.html#95083" class="Function">vclo-id1</a> <a id="95757" class="Symbol">{</a><a id="95758" href="ualib.html#95758" class="Bound">p</a><a id="95759" class="Symbol">}{</a><a id="95761" href="ualib.html#95761" class="Bound">q</a><a id="95762" class="Symbol">}</a> <a id="95764" href="ualib.html#95764" class="Bound">α</a> <a id="95766" class="Symbol">(</a><a id="95767" href="ualib.html#84756" class="InductiveConstructor">vhom</a><a id="95771" class="Symbol">{</a><a id="95772" class="Argument">𝑨</a> <a id="95774" class="Symbol">=</a> <a id="95776" href="ualib.html#95776" class="Bound">𝑨</a><a id="95777" class="Symbol">}</a> <a id="95779" href="ualib.html#95779" class="Bound">A∈VClo</a> <a id="95786" class="Symbol">(</a><a id="95787" href="ualib.html#95787" class="Bound">𝑩</a> <a id="95789" href="ualib.html#20052" class="InductiveConstructor Operator">,</a> <a id="95791" href="ualib.html#95791" class="Bound">ϕ</a> <a id="95793" href="ualib.html#20052" class="InductiveConstructor Operator">,</a> <a id="95795" class="Symbol">(</a><a id="95796" href="ualib.html#95796" class="Bound">ϕh</a> <a id="95799" href="ualib.html#20052" class="InductiveConstructor Operator">,</a> <a id="95801" href="ualib.html#95801" class="Bound">ϕE</a><a id="95803" class="Symbol">)))</a> <a id="95807" class="Symbol">=</a> <a id="95809" href="ualib.html#96045" class="Function">γ</a>
  <a id="95813" class="Keyword">where</a>
   <a id="95822" href="ualib.html#95822" class="Function">β</a> <a id="95824" class="Symbol">:</a> <a id="95826" href="ualib.html#95776" class="Bound">𝑨</a> <a id="95828" href="ualib.html#82179" class="Function Operator">⊧</a> <a id="95830" href="ualib.html#95758" class="Bound">p</a> <a id="95832" href="ualib.html#82179" class="Function Operator">≈</a> <a id="95834" href="ualib.html#95761" class="Bound">q</a>
   <a id="95839" href="ualib.html#95822" class="Function">β</a> <a id="95841" class="Symbol">=</a> <a id="95843" href="ualib.html#95083" class="Function">vclo-id1</a><a id="95851" class="Symbol">{</a><a id="95852" href="ualib.html#95758" class="Bound">p</a><a id="95853" class="Symbol">}{</a><a id="95855" href="ualib.html#95761" class="Bound">q</a><a id="95856" class="Symbol">}</a> <a id="95858" href="ualib.html#95764" class="Bound">α</a> <a id="95860" href="ualib.html#95779" class="Bound">A∈VClo</a>

   <a id="95871" href="ualib.html#95871" class="Function">preim</a> <a id="95877" class="Symbol">:</a> <a id="95879" class="Symbol">(</a><a id="95880" href="ualib.html#95880" class="Bound">𝒃</a> <a id="95882" class="Symbol">:</a> <a id="95884" href="ualib.html#81107" class="Bound">X</a> <a id="95886" class="Symbol">→</a> <a id="95888" href="ualib.html#21378" class="Function Operator">∣</a> <a id="95890" href="ualib.html#95787" class="Bound">𝑩</a> <a id="95892" href="ualib.html#21378" class="Function Operator">∣</a><a id="95893" class="Symbol">)(</a><a id="95895" href="ualib.html#95895" class="Bound">x</a> <a id="95897" class="Symbol">:</a> <a id="95899" href="ualib.html#81107" class="Bound">X</a><a id="95900" class="Symbol">)</a> <a id="95902" class="Symbol">→</a> <a id="95904" href="ualib.html#21378" class="Function Operator">∣</a> <a id="95906" href="ualib.html#95776" class="Bound">𝑨</a> <a id="95908" href="ualib.html#21378" class="Function Operator">∣</a>
   <a id="95913" href="ualib.html#95871" class="Function">preim</a> <a id="95919" href="ualib.html#95919" class="Bound">𝒃</a> <a id="95921" href="ualib.html#95921" class="Bound">x</a> <a id="95923" class="Symbol">=</a> <a id="95925" class="Symbol">(</a><a id="95926" href="ualib.html#29556" class="Function">Inv</a> <a id="95930" href="ualib.html#95791" class="Bound">ϕ</a> <a id="95932" class="Symbol">(</a><a id="95933" href="ualib.html#95919" class="Bound">𝒃</a> <a id="95935" href="ualib.html#95921" class="Bound">x</a><a id="95936" class="Symbol">)</a> <a id="95938" class="Symbol">(</a><a id="95939" href="ualib.html#95801" class="Bound">ϕE</a> <a id="95942" class="Symbol">(</a><a id="95943" href="ualib.html#95919" class="Bound">𝒃</a> <a id="95945" href="ualib.html#95921" class="Bound">x</a><a id="95946" class="Symbol">)))</a>

   <a id="95954" href="ualib.html#95954" class="Function">ζ</a> <a id="95956" class="Symbol">:</a> <a id="95958" class="Symbol">(</a><a id="95959" href="ualib.html#95959" class="Bound">𝒃</a> <a id="95961" class="Symbol">:</a> <a id="95963" href="ualib.html#81107" class="Bound">X</a> <a id="95965" class="Symbol">→</a> <a id="95967" href="ualib.html#21378" class="Function Operator">∣</a> <a id="95969" href="ualib.html#95787" class="Bound">𝑩</a> <a id="95971" href="ualib.html#21378" class="Function Operator">∣</a><a id="95972" class="Symbol">)</a> <a id="95974" class="Symbol">→</a> <a id="95976" href="ualib.html#95791" class="Bound">ϕ</a> <a id="95978" href="MGS-MLTT.html#3813" class="Function Operator">∘</a> <a id="95980" class="Symbol">(</a><a id="95981" href="ualib.html#95871" class="Function">preim</a> <a id="95987" href="ualib.html#95959" class="Bound">𝒃</a><a id="95988" class="Symbol">)</a> <a id="95990" href="ualib.html#19941" class="Datatype Operator">≡</a> <a id="95992" href="ualib.html#95959" class="Bound">𝒃</a>
   <a id="95997" href="ualib.html#95954" class="Function">ζ</a> <a id="95999" href="ualib.html#95999" class="Bound">𝒃</a> <a id="96001" class="Symbol">=</a> <a id="96003" href="ualib.html#81216" class="Bound">gfe</a> <a id="96007" class="Symbol">λ</a> <a id="96009" href="ualib.html#96009" class="Bound">x</a> <a id="96011" class="Symbol">→</a> <a id="96013" href="ualib.html#29835" class="Function">InvIsInv</a> <a id="96022" href="ualib.html#95791" class="Bound">ϕ</a> <a id="96024" class="Symbol">(</a><a id="96025" href="ualib.html#95999" class="Bound">𝒃</a> <a id="96027" href="ualib.html#96009" class="Bound">x</a><a id="96028" class="Symbol">)</a> <a id="96030" class="Symbol">(</a><a id="96031" href="ualib.html#95801" class="Bound">ϕE</a> <a id="96034" class="Symbol">(</a><a id="96035" href="ualib.html#95999" class="Bound">𝒃</a> <a id="96037" href="ualib.html#96009" class="Bound">x</a><a id="96038" class="Symbol">))</a>

   <a id="96045" href="ualib.html#96045" class="Function">γ</a> <a id="96047" class="Symbol">:</a> <a id="96049" class="Symbol">(</a><a id="96050" href="ualib.html#95758" class="Bound">p</a> <a id="96052" href="ualib.html#62400" class="Function Operator">̇</a> <a id="96054" href="ualib.html#95787" class="Bound">𝑩</a><a id="96055" class="Symbol">)</a> <a id="96057" href="ualib.html#19941" class="Datatype Operator">≡</a> <a id="96059" class="Symbol">(</a><a id="96060" href="ualib.html#95761" class="Bound">q</a> <a id="96062" href="ualib.html#62400" class="Function Operator">̇</a> <a id="96064" href="ualib.html#95787" class="Bound">𝑩</a><a id="96065" class="Symbol">)</a>
   <a id="96070" href="ualib.html#96045" class="Function">γ</a> <a id="96072" class="Symbol">=</a> <a id="96074" href="ualib.html#81216" class="Bound">gfe</a> <a id="96078" class="Symbol">λ</a> <a id="96080" href="ualib.html#96080" class="Bound">𝒃</a> <a id="96082" class="Symbol">→</a>
    <a id="96088" class="Symbol">(</a><a id="96089" href="ualib.html#95758" class="Bound">p</a> <a id="96091" href="ualib.html#62400" class="Function Operator">̇</a> <a id="96093" href="ualib.html#95787" class="Bound">𝑩</a><a id="96094" class="Symbol">)</a> <a id="96096" href="ualib.html#96080" class="Bound">𝒃</a>               <a id="96112" href="MGS-MLTT.html#5997" class="Function Operator">≡⟨</a> <a id="96115" class="Symbol">(</a><a id="96116" href="MGS-MLTT.html#6613" class="Function">ap</a> <a id="96119" class="Symbol">(</a><a id="96120" href="ualib.html#95758" class="Bound">p</a> <a id="96122" href="ualib.html#62400" class="Function Operator">̇</a> <a id="96124" href="ualib.html#95787" class="Bound">𝑩</a><a id="96125" class="Symbol">)</a> <a id="96127" class="Symbol">(</a><a id="96128" href="ualib.html#95954" class="Function">ζ</a> <a id="96130" href="ualib.html#96080" class="Bound">𝒃</a><a id="96131" class="Symbol">))</a><a id="96133" href="MGS-MLTT.html#6125" class="Function Operator">⁻¹</a> <a id="96136" href="MGS-MLTT.html#5997" class="Function Operator">⟩</a>
    <a id="96142" class="Symbol">(</a><a id="96143" href="ualib.html#95758" class="Bound">p</a> <a id="96145" href="ualib.html#62400" class="Function Operator">̇</a> <a id="96147" href="ualib.html#95787" class="Bound">𝑩</a><a id="96148" class="Symbol">)</a> <a id="96150" class="Symbol">(</a><a id="96151" href="ualib.html#95791" class="Bound">ϕ</a> <a id="96153" href="MGS-MLTT.html#3813" class="Function Operator">∘</a> <a id="96155" class="Symbol">(</a><a id="96156" href="ualib.html#95871" class="Function">preim</a> <a id="96162" href="ualib.html#96080" class="Bound">𝒃</a><a id="96163" class="Symbol">))</a> <a id="96166" href="MGS-MLTT.html#5997" class="Function Operator">≡⟨</a> <a id="96169" class="Symbol">(</a><a id="96170" href="ualib.html#66177" class="Function">comm-hom-term</a> <a id="96184" href="ualib.html#81216" class="Bound">gfe</a> <a id="96188" href="ualib.html#95776" class="Bound">𝑨</a> <a id="96190" href="ualib.html#95787" class="Bound">𝑩</a> <a id="96192" class="Symbol">(</a><a id="96193" href="ualib.html#95791" class="Bound">ϕ</a> <a id="96195" href="ualib.html#20052" class="InductiveConstructor Operator">,</a> <a id="96197" href="ualib.html#95796" class="Bound">ϕh</a><a id="96199" class="Symbol">)</a> <a id="96201" href="ualib.html#95758" class="Bound">p</a> <a id="96203" class="Symbol">(</a><a id="96204" href="ualib.html#95871" class="Function">preim</a> <a id="96210" href="ualib.html#96080" class="Bound">𝒃</a><a id="96211" class="Symbol">))</a><a id="96213" href="MGS-MLTT.html#6125" class="Function Operator">⁻¹</a> <a id="96216" href="MGS-MLTT.html#5997" class="Function Operator">⟩</a>
    <a id="96222" href="ualib.html#95791" class="Bound">ϕ</a><a id="96223" class="Symbol">((</a><a id="96225" href="ualib.html#95758" class="Bound">p</a> <a id="96227" href="ualib.html#62400" class="Function Operator">̇</a> <a id="96229" href="ualib.html#95776" class="Bound">𝑨</a><a id="96230" class="Symbol">)(</a><a id="96232" href="ualib.html#95871" class="Function">preim</a> <a id="96238" href="ualib.html#96080" class="Bound">𝒃</a><a id="96239" class="Symbol">))</a>     <a id="96246" href="MGS-MLTT.html#5997" class="Function Operator">≡⟨</a> <a id="96249" href="MGS-MLTT.html#6613" class="Function">ap</a> <a id="96252" href="ualib.html#95791" class="Bound">ϕ</a> <a id="96254" class="Symbol">(</a><a id="96255" href="ualib.html#32191" class="Function">intensionality</a> <a id="96270" href="ualib.html#95822" class="Function">β</a> <a id="96272" class="Symbol">(</a><a id="96273" href="ualib.html#95871" class="Function">preim</a> <a id="96279" href="ualib.html#96080" class="Bound">𝒃</a><a id="96280" class="Symbol">))</a> <a id="96283" href="MGS-MLTT.html#5997" class="Function Operator">⟩</a>
    <a id="96289" href="ualib.html#95791" class="Bound">ϕ</a><a id="96290" class="Symbol">((</a><a id="96292" href="ualib.html#95761" class="Bound">q</a> <a id="96294" href="ualib.html#62400" class="Function Operator">̇</a> <a id="96296" href="ualib.html#95776" class="Bound">𝑨</a><a id="96297" class="Symbol">)(</a><a id="96299" href="ualib.html#95871" class="Function">preim</a> <a id="96305" href="ualib.html#96080" class="Bound">𝒃</a><a id="96306" class="Symbol">))</a>     <a id="96313" href="MGS-MLTT.html#5997" class="Function Operator">≡⟨</a> <a id="96316" href="ualib.html#66177" class="Function">comm-hom-term</a> <a id="96330" href="ualib.html#81216" class="Bound">gfe</a> <a id="96334" href="ualib.html#95776" class="Bound">𝑨</a> <a id="96336" href="ualib.html#95787" class="Bound">𝑩</a> <a id="96338" class="Symbol">(</a><a id="96339" href="ualib.html#95791" class="Bound">ϕ</a> <a id="96341" href="ualib.html#20052" class="InductiveConstructor Operator">,</a> <a id="96343" href="ualib.html#95796" class="Bound">ϕh</a><a id="96345" class="Symbol">)</a> <a id="96347" href="ualib.html#95761" class="Bound">q</a> <a id="96349" class="Symbol">(</a><a id="96350" href="ualib.html#95871" class="Function">preim</a> <a id="96356" href="ualib.html#96080" class="Bound">𝒃</a><a id="96357" class="Symbol">)</a> <a id="96359" href="MGS-MLTT.html#5997" class="Function Operator">⟩</a>
    <a id="96365" class="Symbol">(</a><a id="96366" href="ualib.html#95761" class="Bound">q</a> <a id="96368" href="ualib.html#62400" class="Function Operator">̇</a> <a id="96370" href="ualib.html#95787" class="Bound">𝑩</a><a id="96371" class="Symbol">)(</a><a id="96373" href="ualib.html#95791" class="Bound">ϕ</a> <a id="96375" href="MGS-MLTT.html#3813" class="Function Operator">∘</a> <a id="96377" class="Symbol">(</a><a id="96378" href="ualib.html#95871" class="Function">preim</a> <a id="96384" href="ualib.html#96080" class="Bound">𝒃</a><a id="96385" class="Symbol">))</a>   <a id="96390" href="MGS-MLTT.html#5997" class="Function Operator">≡⟨</a> <a id="96393" href="MGS-MLTT.html#6613" class="Function">ap</a> <a id="96396" class="Symbol">(</a><a id="96397" href="ualib.html#95761" class="Bound">q</a> <a id="96399" href="ualib.html#62400" class="Function Operator">̇</a> <a id="96401" href="ualib.html#95787" class="Bound">𝑩</a><a id="96402" class="Symbol">)</a> <a id="96404" class="Symbol">(</a><a id="96405" href="ualib.html#95954" class="Function">ζ</a> <a id="96407" href="ualib.html#96080" class="Bound">𝒃</a><a id="96408" class="Symbol">)</a> <a id="96410" href="MGS-MLTT.html#5997" class="Function Operator">⟩</a>
    <a id="96416" class="Symbol">(</a><a id="96417" href="ualib.html#95761" class="Bound">q</a> <a id="96419" href="ualib.html#62400" class="Function Operator">̇</a> <a id="96421" href="ualib.html#95787" class="Bound">𝑩</a><a id="96422" class="Symbol">)</a> <a id="96424" href="ualib.html#96080" class="Bound">𝒃</a>                <a id="96441" href="MGS-MLTT.html#6079" class="Function Operator">∎</a>

 <a id="closure.vclo-id2"></a><a id="96445" href="ualib.html#96445" class="Function">vclo-id2</a> <a id="96454" class="Symbol">:</a> <a id="96456" class="Symbol">∀</a> <a id="96458" class="Symbol">{</a><a id="96459" href="ualib.html#96459" class="Bound">p</a> <a id="96461" href="ualib.html#96461" class="Bound">q</a><a id="96462" class="Symbol">}</a> <a id="96464" class="Symbol">→</a> <a id="96466" class="Symbol">(</a><a id="96467" href="ualib.html#84506" class="Datatype">VClo</a> <a id="96472" href="ualib.html#82258" class="Function Operator">⊧</a> <a id="96474" href="ualib.html#96459" class="Bound">p</a> <a id="96476" href="ualib.html#82258" class="Function Operator">≋</a> <a id="96478" href="ualib.html#96461" class="Bound">q</a><a id="96479" class="Symbol">)</a> <a id="96481" class="Symbol">→</a> <a id="96483" class="Symbol">(</a><a id="96484" href="ualib.html#81118" class="Bound">𝒦</a> <a id="96486" href="ualib.html#82258" class="Function Operator">⊧</a> <a id="96488" href="ualib.html#96459" class="Bound">p</a> <a id="96490" href="ualib.html#82258" class="Function Operator">≋</a> <a id="96492" href="ualib.html#96461" class="Bound">q</a><a id="96493" class="Symbol">)</a>
 <a id="96496" href="ualib.html#96445" class="Function">vclo-id2</a> <a id="96505" href="ualib.html#96505" class="Bound">p</a> <a id="96507" href="ualib.html#96507" class="Bound">A∈𝒦</a> <a id="96511" class="Symbol">=</a> <a id="96513" href="ualib.html#96505" class="Bound">p</a> <a id="96515" class="Symbol">(</a><a id="96516" href="ualib.html#84554" class="InductiveConstructor">vbase</a> <a id="96522" href="ualib.html#96507" class="Bound">A∈𝒦</a><a id="96525" class="Symbol">)</a>
</pre>

<h3 id="axiomatization-of-a-class">Axiomatization of a class</h3>

<p>We now prove that a class 𝒦 of structures is axiomatized by Th(VClo(𝒦)), which is the set of equations satisfied by all members of the varietal closure of 𝒦.</p>

<pre class="Agda">
 <a id="96744" class="Comment">-- Th (VClo 𝒦) is precisely the set of identities modeled by 𝒦</a>
 <a id="closure.ThHSP-axiomatizes"></a><a id="96808" href="ualib.html#96808" class="Function">ThHSP-axiomatizes</a> <a id="96826" class="Symbol">:</a> <a id="96828" class="Symbol">(</a><a id="96829" href="ualib.html#96829" class="Bound">p</a> <a id="96831" href="ualib.html#96831" class="Bound">q</a> <a id="96833" class="Symbol">:</a> <a id="96835" href="ualib.html#21378" class="Function Operator">∣</a> <a id="96837" href="ualib.html#58724" class="Function">𝑻</a> <a id="96839" href="ualib.html#21378" class="Function Operator">∣</a><a id="96840" class="Symbol">)</a>
        <a id="96850" class="Comment">---------------------------------------</a>
  <a id="96892" class="Symbol">→</a>     <a id="96898" href="ualib.html#81118" class="Bound">𝒦</a> <a id="96900" href="ualib.html#82258" class="Function Operator">⊧</a> <a id="96902" href="ualib.html#96829" class="Bound">p</a> <a id="96904" href="ualib.html#82258" class="Function Operator">≋</a> <a id="96906" href="ualib.html#96831" class="Bound">q</a>  <a id="96909" href="MGS-MLTT.html#7080" class="Function Operator">⇔</a>  <a id="96912" class="Symbol">((</a><a id="96914" href="ualib.html#96829" class="Bound">p</a> <a id="96916" href="ualib.html#20052" class="InductiveConstructor Operator">,</a> <a id="96918" href="ualib.html#96831" class="Bound">q</a><a id="96919" class="Symbol">)</a> <a id="96921" href="ualib.html#26625" class="Function Operator">∈</a> <a id="96923" href="ualib.html#82618" class="Function">Th</a> <a id="96926" class="Symbol">(</a><a id="96927" href="ualib.html#84506" class="Datatype">VClo</a><a id="96931" class="Symbol">))</a>

 <a id="96936" href="ualib.html#96808" class="Function">ThHSP-axiomatizes</a> <a id="96954" href="ualib.html#96954" class="Bound">p</a> <a id="96956" href="ualib.html#96956" class="Bound">q</a> <a id="96958" class="Symbol">=</a>
  <a id="96962" class="Symbol">(λ</a> <a id="96965" href="ualib.html#96965" class="Bound">𝒦⊧p≋q</a> <a id="96971" href="ualib.html#96971" class="Bound">𝑨∈VClo𝒦</a> <a id="96979" class="Symbol">→</a> <a id="96981" href="ualib.html#95083" class="Function">vclo-id1</a><a id="96989" class="Symbol">{</a><a id="96990" class="Argument">p</a> <a id="96992" class="Symbol">=</a> <a id="96994" href="ualib.html#96954" class="Bound">p</a><a id="96995" class="Symbol">}{</a><a id="96997" class="Argument">q</a> <a id="96999" class="Symbol">=</a> <a id="97001" href="ualib.html#96956" class="Bound">q</a><a id="97002" class="Symbol">}</a> <a id="97004" href="ualib.html#96965" class="Bound">𝒦⊧p≋q</a> <a id="97010" href="ualib.html#96971" class="Bound">𝑨∈VClo𝒦</a><a id="97017" class="Symbol">)</a> <a id="97019" href="ualib.html#20052" class="InductiveConstructor Operator">,</a>
  <a id="97023" class="Symbol">λ</a> <a id="97025" href="ualib.html#97025" class="Bound">pq∈Th</a> <a id="97031" href="ualib.html#97031" class="Bound">𝑨∈𝒦</a> <a id="97035" class="Symbol">→</a> <a id="97037" href="ualib.html#97025" class="Bound">pq∈Th</a> <a id="97043" class="Symbol">(</a><a id="97044" href="ualib.html#84554" class="InductiveConstructor">vbase</a> <a id="97050" href="ualib.html#97031" class="Bound">𝑨∈𝒦</a><a id="97053" class="Symbol">)</a>
</pre>

<h3 id="the-free-algebra-in-agda">The free algebra in Agda</h3>

<p>Recall that term algebra 𝑻(𝑋) is the absolutely free algebra in the class 𝓚(𝑆) of all 𝑆-structures. In this section, we
formalize, for a given class 𝒦 of 𝑆-algebras, the (relatively) free algebra in SP(𝒦) over 𝑋. Recall, this was defined above in free algebras as follows:</p>

<p>𝔽(𝒦, 𝑋) := 𝑻(𝑋)/Ψ(𝒦, 𝑻(𝑋)).</p>

<p>Thus, we must first formalize the congruence ψ(𝒦, 𝑻(𝑋)) which is defined by</p>

<p>Ψ(𝒦, 𝑻(𝑋)) := ⋀ ψ(𝒦, 𝑻(𝑋)),</p>

<p>where ψ(𝒦, 𝑻(𝑋)) := {θ ∈ Con 𝑻(𝑋) : 𝑨/θ ∈ S(𝒦)}.</p>

<p>Strictly speaking, 𝑋 is not a subset of 𝔽(𝒦, 𝑋) so it doesn’t make sense to say that “𝑋 generates 𝔽(𝒦, 𝑋).” But as long as 𝒦 contains a nontrivial algebra, we will have Ψ(𝒦, 𝑻(𝑋)) ∩ 𝑋² ≠ ∅, and we can identify 𝑋 with 𝑋/Ψ(𝒦, 𝑻(𝑋)) in 𝔽(𝒦, 𝑋).</p>

<pre class="Agda">
 <a id="closure.𝑻HI"></a><a id="97818" href="ualib.html#97818" class="Function">𝑻HI</a> <a id="97822" class="Symbol">=</a> <a id="97824" href="ualib.html#55338" class="Function">HomImagesOf</a> <a id="97836" class="Symbol">(</a><a id="97837" href="ualib.html#58724" class="Function">𝑻</a><a id="97838" class="Symbol">{</a><a id="97839" href="ualib.html#81111" class="Bound">𝓤</a><a id="97840" class="Symbol">}{</a><a id="97842" href="ualib.html#81107" class="Bound">X</a><a id="97843" class="Symbol">})</a>

 <a id="closure.𝑻img"></a><a id="97848" href="ualib.html#97848" class="Function">𝑻img</a> <a id="97853" class="Symbol">:</a> <a id="97855" href="ualib.html#81100" class="Bound">𝓞</a> <a id="97857" href="Agda.Primitive.html#636" class="Primitive Operator">⊔</a> <a id="97859" href="ualib.html#81102" class="Bound">𝓥</a> <a id="97861" href="Agda.Primitive.html#636" class="Primitive Operator">⊔</a> <a id="97863" href="ualib.html#81111" class="Bound">𝓤</a> <a id="97865" href="Agda.Primitive.html#606" class="Primitive Operator">⁺</a> <a id="97867" href="Universes.html#403" class="Function Operator">̇</a>
 <a id="97870" href="ualib.html#97848" class="Function">𝑻img</a> <a id="97875" class="Symbol">=</a> <a id="97877" href="MGS-MLTT.html#3074" class="Function">Σ</a> <a id="97879" href="ualib.html#97879" class="Bound">𝑨</a> <a id="97881" href="MGS-MLTT.html#3074" class="Function">꞉</a> <a id="97883" class="Symbol">(</a><a id="97884" href="ualib.html#35648" class="Function">Algebra</a> <a id="97892" href="ualib.html#81111" class="Bound">𝓤</a> <a id="97894" href="ualib.html#81086" class="Bound">𝑆</a><a id="97895" class="Symbol">)</a> <a id="97897" href="MGS-MLTT.html#3074" class="Function">,</a>
         <a id="97908" href="MGS-MLTT.html#3074" class="Function">Σ</a> <a id="97910" href="ualib.html#97910" class="Bound">ϕ</a> <a id="97912" href="MGS-MLTT.html#3074" class="Function">꞉</a> <a id="97914" href="ualib.html#51876" class="Function">hom</a> <a id="97918" class="Symbol">(</a><a id="97919" href="ualib.html#58724" class="Function">𝑻</a><a id="97920" class="Symbol">{</a><a id="97921" href="ualib.html#81111" class="Bound">𝓤</a><a id="97922" class="Symbol">}{</a><a id="97924" href="ualib.html#81107" class="Bound">X</a><a id="97925" class="Symbol">})</a> <a id="97928" href="ualib.html#97879" class="Bound">𝑨</a> <a id="97930" href="MGS-MLTT.html#3074" class="Function">,</a> <a id="97932" class="Symbol">(</a><a id="97933" href="ualib.html#97879" class="Bound">𝑨</a> <a id="97935" href="ualib.html#26625" class="Function Operator">∈</a> <a id="97937" href="ualib.html#83838" class="Datatype">SClo</a><a id="97941" class="Symbol">)</a> <a id="97943" href="MGS-MLTT.html#3515" class="Function Operator">×</a> <a id="97945" href="ualib.html#30209" class="Function">Epic</a> <a id="97950" href="ualib.html#21378" class="Function Operator">∣</a> <a id="97952" href="ualib.html#97910" class="Bound">ϕ</a> <a id="97954" href="ualib.html#21378" class="Function Operator">∣</a>

 <a id="closure.𝑻𝑨"></a><a id="97958" href="ualib.html#97958" class="Function">𝑻𝑨</a> <a id="97961" class="Symbol">:</a> <a id="97963" class="Symbol">(</a><a id="97964" href="ualib.html#97964" class="Bound">ti</a> <a id="97967" class="Symbol">:</a> <a id="97969" href="ualib.html#97848" class="Function">𝑻img</a><a id="97973" class="Symbol">)</a> <a id="97975" class="Symbol">→</a> <a id="97977" href="ualib.html#35648" class="Function">Algebra</a> <a id="97985" href="ualib.html#81111" class="Bound">𝓤</a> <a id="97987" href="ualib.html#81086" class="Bound">𝑆</a>
 <a id="97990" href="ualib.html#97958" class="Function">𝑻𝑨</a> <a id="97993" href="ualib.html#97993" class="Bound">ti</a> <a id="97996" class="Symbol">=</a> <a id="97998" href="ualib.html#21378" class="Function Operator">∣</a> <a id="98000" href="ualib.html#97993" class="Bound">ti</a> <a id="98003" href="ualib.html#21378" class="Function Operator">∣</a>

 <a id="closure.𝑻𝑨∈SClo𝒦"></a><a id="98007" href="ualib.html#98007" class="Function">𝑻𝑨∈SClo𝒦</a> <a id="98016" class="Symbol">:</a> <a id="98018" class="Symbol">(</a><a id="98019" href="ualib.html#98019" class="Bound">ti</a> <a id="98022" class="Symbol">:</a> <a id="98024" href="ualib.html#97848" class="Function">𝑻img</a><a id="98028" class="Symbol">)</a> <a id="98030" class="Symbol">→</a> <a id="98032" class="Symbol">(</a><a id="98033" href="ualib.html#97958" class="Function">𝑻𝑨</a> <a id="98036" href="ualib.html#98019" class="Bound">ti</a><a id="98038" class="Symbol">)</a> <a id="98040" href="ualib.html#26625" class="Function Operator">∈</a> <a id="98042" href="ualib.html#83838" class="Datatype">SClo</a>
 <a id="98048" href="ualib.html#98007" class="Function">𝑻𝑨∈SClo𝒦</a> <a id="98057" href="ualib.html#98057" class="Bound">ti</a> <a id="98060" class="Symbol">=</a> <a id="98062" href="ualib.html#21378" class="Function Operator">∣</a> <a id="98064" href="MGS-MLTT.html#3001" class="Function">pr₂</a> <a id="98068" href="ualib.html#21456" class="Function Operator">∥</a> <a id="98070" href="ualib.html#98057" class="Bound">ti</a> <a id="98073" href="ualib.html#21456" class="Function Operator">∥</a> <a id="98075" href="ualib.html#21378" class="Function Operator">∣</a>

 <a id="closure.𝑻ϕ"></a><a id="98079" href="ualib.html#98079" class="Function">𝑻ϕ</a> <a id="98082" class="Symbol">:</a> <a id="98084" class="Symbol">(</a><a id="98085" href="ualib.html#98085" class="Bound">ti</a> <a id="98088" class="Symbol">:</a> <a id="98090" href="ualib.html#97848" class="Function">𝑻img</a><a id="98094" class="Symbol">)</a> <a id="98096" class="Symbol">→</a> <a id="98098" href="ualib.html#51876" class="Function">hom</a> <a id="98102" href="ualib.html#58724" class="Function">𝑻</a> <a id="98104" class="Symbol">(</a><a id="98105" href="ualib.html#97958" class="Function">𝑻𝑨</a> <a id="98108" href="ualib.html#98085" class="Bound">ti</a><a id="98110" class="Symbol">)</a>
 <a id="98113" href="ualib.html#98079" class="Function">𝑻ϕ</a> <a id="98116" href="ualib.html#98116" class="Bound">ti</a> <a id="98119" class="Symbol">=</a> <a id="98121" href="MGS-MLTT.html#2942" class="Function">pr₁</a> <a id="98125" href="ualib.html#21456" class="Function Operator">∥</a> <a id="98127" href="ualib.html#98116" class="Bound">ti</a> <a id="98130" href="ualib.html#21456" class="Function Operator">∥</a>

 <a id="closure.𝑻ϕE"></a><a id="98134" href="ualib.html#98134" class="Function">𝑻ϕE</a> <a id="98138" class="Symbol">:</a> <a id="98140" class="Symbol">(</a><a id="98141" href="ualib.html#98141" class="Bound">ti</a> <a id="98144" class="Symbol">:</a> <a id="98146" href="ualib.html#97848" class="Function">𝑻img</a><a id="98150" class="Symbol">)</a> <a id="98152" class="Symbol">→</a> <a id="98154" href="ualib.html#30209" class="Function">Epic</a> <a id="98159" href="ualib.html#21378" class="Function Operator">∣</a> <a id="98161" class="Symbol">(</a><a id="98162" href="ualib.html#98079" class="Function">𝑻ϕ</a> <a id="98165" href="ualib.html#98141" class="Bound">ti</a><a id="98167" class="Symbol">)</a> <a id="98169" href="ualib.html#21378" class="Function Operator">∣</a>
 <a id="98172" href="ualib.html#98134" class="Function">𝑻ϕE</a> <a id="98176" href="ualib.html#98176" class="Bound">ti</a> <a id="98179" class="Symbol">=</a> <a id="98181" href="ualib.html#21456" class="Function Operator">∥</a> <a id="98183" href="MGS-MLTT.html#3001" class="Function">pr₂</a> <a id="98187" href="ualib.html#21456" class="Function Operator">∥</a> <a id="98189" href="ualib.html#98176" class="Bound">ti</a> <a id="98192" href="ualib.html#21456" class="Function Operator">∥</a> <a id="98194" href="ualib.html#21456" class="Function Operator">∥</a>

 <a id="closure.𝑻KER"></a><a id="98198" href="ualib.html#98198" class="Function">𝑻KER</a> <a id="98203" class="Symbol">:</a> <a id="98205" href="ualib.html#81100" class="Bound">𝓞</a> <a id="98207" href="Agda.Primitive.html#636" class="Primitive Operator">⊔</a> <a id="98209" href="ualib.html#81102" class="Bound">𝓥</a> <a id="98211" href="Agda.Primitive.html#636" class="Primitive Operator">⊔</a> <a id="98213" href="ualib.html#81111" class="Bound">𝓤</a> <a id="98215" href="Agda.Primitive.html#606" class="Primitive Operator">⁺</a> <a id="98217" href="Universes.html#403" class="Function Operator">̇</a>
 <a id="98220" href="ualib.html#98198" class="Function">𝑻KER</a> <a id="98225" class="Symbol">=</a> <a id="98227" href="MGS-MLTT.html#3074" class="Function">Σ</a> <a id="98229" href="ualib.html#98229" class="Bound">(p</a> <a id="98232" href="ualib.html#98229" class="Bound">,</a> <a id="98234" href="ualib.html#98229" class="Bound">q)</a> <a id="98237" href="MGS-MLTT.html#3074" class="Function">꞉</a> <a id="98239" class="Symbol">(</a><a id="98240" href="ualib.html#21378" class="Function Operator">∣</a> <a id="98242" href="ualib.html#58724" class="Function">𝑻</a> <a id="98244" href="ualib.html#21378" class="Function Operator">∣</a> <a id="98246" href="MGS-MLTT.html#3515" class="Function Operator">×</a> <a id="98248" href="ualib.html#21378" class="Function Operator">∣</a> <a id="98250" href="ualib.html#58724" class="Function">𝑻</a> <a id="98252" href="ualib.html#21378" class="Function Operator">∣</a><a id="98253" class="Symbol">)</a> <a id="98255" href="MGS-MLTT.html#3074" class="Function">,</a>
    <a id="98261" class="Symbol">∀</a> <a id="98263" href="ualib.html#98263" class="Bound">ti</a> <a id="98266" class="Symbol">→</a> <a id="98268" class="Symbol">(</a><a id="98269" href="ualib.html#98230" class="Bound">p</a> <a id="98271" href="ualib.html#20052" class="InductiveConstructor Operator">,</a> <a id="98273" href="ualib.html#98234" class="Bound">q</a><a id="98274" class="Symbol">)</a> <a id="98276" href="ualib.html#26625" class="Function Operator">∈</a> <a id="98278" href="ualib.html#42685" class="Function">KER-pred</a><a id="98286" class="Symbol">{</a><a id="98287" class="Argument">B</a> <a id="98289" class="Symbol">=</a> <a id="98291" href="ualib.html#21378" class="Function Operator">∣</a> <a id="98293" class="Symbol">(</a><a id="98294" href="ualib.html#97958" class="Function">𝑻𝑨</a> <a id="98297" href="ualib.html#98263" class="Bound">ti</a><a id="98299" class="Symbol">)</a> <a id="98301" href="ualib.html#21378" class="Function Operator">∣</a><a id="98302" class="Symbol">}</a> <a id="98304" href="ualib.html#21378" class="Function Operator">∣</a> <a id="98306" href="ualib.html#98079" class="Function">𝑻ϕ</a> <a id="98309" href="ualib.html#98263" class="Bound">ti</a> <a id="98312" href="ualib.html#21378" class="Function Operator">∣</a>

 <a id="closure.Ψ"></a><a id="98316" href="ualib.html#98316" class="Function">Ψ</a> <a id="98318" class="Symbol">:</a> <a id="98320" href="ualib.html#25725" class="Function">Pred</a> <a id="98325" class="Symbol">(</a><a id="98326" href="ualib.html#21378" class="Function Operator">∣</a> <a id="98328" href="ualib.html#58724" class="Function">𝑻</a><a id="98329" class="Symbol">{</a><a id="98330" href="ualib.html#81111" class="Bound">𝓤</a><a id="98331" class="Symbol">}{</a><a id="98333" href="ualib.html#81107" class="Bound">X</a><a id="98334" class="Symbol">}</a> <a id="98336" href="ualib.html#21378" class="Function Operator">∣</a> <a id="98338" href="MGS-MLTT.html#3515" class="Function Operator">×</a> <a id="98340" href="ualib.html#21378" class="Function Operator">∣</a> <a id="98342" href="ualib.html#58724" class="Function">𝑻</a> <a id="98344" href="ualib.html#21378" class="Function Operator">∣</a><a id="98345" class="Symbol">)</a> <a id="98347" class="Symbol">(</a><a id="98348" href="ualib.html#81100" class="Bound">𝓞</a> <a id="98350" href="Agda.Primitive.html#636" class="Primitive Operator">⊔</a> <a id="98352" href="ualib.html#81102" class="Bound">𝓥</a> <a id="98354" href="Agda.Primitive.html#636" class="Primitive Operator">⊔</a> <a id="98356" href="ualib.html#81111" class="Bound">𝓤</a> <a id="98358" href="Agda.Primitive.html#606" class="Primitive Operator">⁺</a><a id="98359" class="Symbol">)</a>
 <a id="98362" href="ualib.html#98316" class="Function">Ψ</a> <a id="98364" class="Symbol">(</a><a id="98365" href="ualib.html#98365" class="Bound">p</a> <a id="98367" href="ualib.html#20052" class="InductiveConstructor Operator">,</a> <a id="98369" href="ualib.html#98369" class="Bound">q</a><a id="98370" class="Symbol">)</a> <a id="98372" class="Symbol">=</a>
  <a id="98376" class="Symbol">∀</a> <a id="98378" href="ualib.html#98378" class="Bound">ti</a> <a id="98381" class="Symbol">→</a> <a id="98383" href="ualib.html#21378" class="Function Operator">∣</a> <a id="98385" class="Symbol">(</a><a id="98386" href="ualib.html#98079" class="Function">𝑻ϕ</a> <a id="98389" href="ualib.html#98378" class="Bound">ti</a><a id="98391" class="Symbol">)</a> <a id="98393" href="ualib.html#21378" class="Function Operator">∣</a> <a id="98395" href="MGS-MLTT.html#3813" class="Function Operator">∘</a> <a id="98397" class="Symbol">(</a><a id="98398" href="ualib.html#98365" class="Bound">p</a> <a id="98400" href="ualib.html#62400" class="Function Operator">̇</a> <a id="98402" href="ualib.html#58724" class="Function">𝑻</a><a id="98403" class="Symbol">)</a> <a id="98405" href="ualib.html#19941" class="Datatype Operator">≡</a> <a id="98407" href="ualib.html#21378" class="Function Operator">∣</a> <a id="98409" class="Symbol">(</a><a id="98410" href="ualib.html#98079" class="Function">𝑻ϕ</a> <a id="98413" href="ualib.html#98378" class="Bound">ti</a><a id="98415" class="Symbol">)</a> <a id="98417" href="ualib.html#21378" class="Function Operator">∣</a> <a id="98419" href="MGS-MLTT.html#3813" class="Function Operator">∘</a> <a id="98421" class="Symbol">(</a><a id="98422" href="ualib.html#98369" class="Bound">q</a> <a id="98424" href="ualib.html#62400" class="Function Operator">̇</a> <a id="98426" href="ualib.html#58724" class="Function">𝑻</a><a id="98427" class="Symbol">)</a>

 <a id="closure.Ψ&#39;"></a><a id="98431" href="ualib.html#98431" class="Function">Ψ&#39;</a> <a id="98434" class="Symbol">:</a> <a id="98436" href="ualib.html#25725" class="Function">Pred</a> <a id="98441" class="Symbol">(</a><a id="98442" href="ualib.html#21378" class="Function Operator">∣</a> <a id="98444" href="ualib.html#58724" class="Function">𝑻</a> <a id="98446" href="ualib.html#21378" class="Function Operator">∣</a> <a id="98448" href="MGS-MLTT.html#3515" class="Function Operator">×</a> <a id="98450" href="ualib.html#21378" class="Function Operator">∣</a> <a id="98452" href="ualib.html#58724" class="Function">𝑻</a> <a id="98454" href="ualib.html#21378" class="Function Operator">∣</a><a id="98455" class="Symbol">)</a> <a id="98457" class="Symbol">(</a><a id="98458" href="ualib.html#81100" class="Bound">𝓞</a> <a id="98460" href="Agda.Primitive.html#636" class="Primitive Operator">⊔</a> <a id="98462" href="ualib.html#81102" class="Bound">𝓥</a> <a id="98464" href="Agda.Primitive.html#636" class="Primitive Operator">⊔</a> <a id="98466" href="ualib.html#81111" class="Bound">𝓤</a> <a id="98468" href="Agda.Primitive.html#606" class="Primitive Operator">⁺</a><a id="98469" class="Symbol">)</a>
 <a id="98472" href="ualib.html#98431" class="Function">Ψ&#39;</a> <a id="98475" class="Symbol">(</a><a id="98476" href="ualib.html#98476" class="Bound">p</a> <a id="98478" href="ualib.html#20052" class="InductiveConstructor Operator">,</a> <a id="98480" href="ualib.html#98480" class="Bound">q</a><a id="98481" class="Symbol">)</a> <a id="98483" class="Symbol">=</a> <a id="98485" class="Symbol">∀</a> <a id="98487" href="ualib.html#98487" class="Bound">ti</a> <a id="98490" class="Symbol">→</a> <a id="98492" href="ualib.html#21378" class="Function Operator">∣</a> <a id="98494" class="Symbol">(</a><a id="98495" href="ualib.html#98079" class="Function">𝑻ϕ</a> <a id="98498" href="ualib.html#98487" class="Bound">ti</a><a id="98500" class="Symbol">)</a> <a id="98502" href="ualib.html#21378" class="Function Operator">∣</a> <a id="98504" href="ualib.html#98476" class="Bound">p</a> <a id="98506" href="ualib.html#19941" class="Datatype Operator">≡</a> <a id="98508" href="ualib.html#21378" class="Function Operator">∣</a> <a id="98510" class="Symbol">(</a><a id="98511" href="ualib.html#98079" class="Function">𝑻ϕ</a> <a id="98514" href="ualib.html#98487" class="Bound">ti</a><a id="98516" class="Symbol">)</a> <a id="98518" href="ualib.html#21378" class="Function Operator">∣</a> <a id="98520" href="ualib.html#98480" class="Bound">q</a>
</pre>

<p>N.B. Ψ is the kernel of 𝑻 → 𝔽(𝒦, 𝑻).  Therefore, to prove 𝑨 is a homomorphic image of 𝔽(𝒦, 𝑻), it suffices to show that the kernel of the lift h : 𝑻 → 𝑨 contains Ψ.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    𝑻---- g ---&gt;&gt;𝔽  (ker g = Ψ)
     \         .
      \       .
       h     ∃ϕ     (want: Ψ ⊆ ker h)
        \   .
         \ .
          V
          𝑨
</code></pre></div></div>

<h3 id="more-tools-for-birkhoffs-theorem">More tools for Birkhoff’s theorem</h3>

<p>Here are some of the key facts and identities we need to complete the proof of Birkhoff’s HSP theorem.</p>

<pre class="Agda">
 <a id="closure.SClo𝒦→𝑻img"></a><a id="99020" href="ualib.html#99020" class="Function">SClo𝒦→𝑻img</a> <a id="99031" class="Symbol">:</a> <a id="99033" class="Symbol">(</a><a id="99034" href="ualib.html#99034" class="Bound">𝑪</a> <a id="99036" class="Symbol">:</a> <a id="99038" href="ualib.html#35648" class="Function">Algebra</a> <a id="99046" href="ualib.html#81111" class="Bound">𝓤</a> <a id="99048" href="ualib.html#81086" class="Bound">𝑆</a><a id="99049" class="Symbol">)</a> <a id="99051" class="Symbol">→</a> <a id="99053" href="ualib.html#99034" class="Bound">𝑪</a> <a id="99055" href="ualib.html#26625" class="Function Operator">∈</a> <a id="99057" href="ualib.html#83838" class="Datatype">SClo</a> <a id="99062" class="Symbol">→</a> <a id="99064" href="ualib.html#97848" class="Function">𝑻img</a>

 <a id="99071" href="ualib.html#99020" class="Function">SClo𝒦→𝑻img</a> <a id="99082" href="ualib.html#99082" class="Bound">𝑪</a> <a id="99084" href="ualib.html#99084" class="Bound">𝑪∈SClo𝒦</a> <a id="99092" class="Symbol">=</a> <a id="99094" href="ualib.html#99082" class="Bound">𝑪</a> <a id="99096" href="ualib.html#20052" class="InductiveConstructor Operator">,</a> <a id="99098" class="Symbol">(</a><a id="99099" href="ualib.html#21382" class="Function">fst</a> <a id="99103" class="Symbol">(</a><a id="99104" href="ualib.html#61618" class="Function">𝑻hom-gen</a> <a id="99113" href="ualib.html#99082" class="Bound">𝑪</a><a id="99114" class="Symbol">))</a> <a id="99117" href="ualib.html#20052" class="InductiveConstructor Operator">,</a> <a id="99119" class="Symbol">(</a><a id="99120" href="ualib.html#99084" class="Bound">𝑪∈SClo𝒦</a> <a id="99128" href="ualib.html#20052" class="InductiveConstructor Operator">,</a> <a id="99130" class="Symbol">(</a><a id="99131" href="ualib.html#21460" class="Function">snd</a> <a id="99135" class="Symbol">(</a><a id="99136" href="ualib.html#61618" class="Function">𝑻hom-gen</a> <a id="99145" href="ualib.html#99082" class="Bound">𝑪</a><a id="99146" class="Symbol">)))</a>

 <a id="closure.𝑻img→𝑻⊧"></a><a id="99152" href="ualib.html#99152" class="Function">𝑻img→𝑻⊧</a> <a id="99160" class="Symbol">:</a> <a id="99162" class="Symbol">∀</a> <a id="99164" href="ualib.html#99164" class="Bound">p</a> <a id="99166" href="ualib.html#99166" class="Bound">q</a> <a id="99168" class="Symbol">→</a> <a id="99170" class="Symbol">(</a><a id="99171" href="ualib.html#99164" class="Bound">p</a> <a id="99173" href="ualib.html#20052" class="InductiveConstructor Operator">,</a> <a id="99175" href="ualib.html#99166" class="Bound">q</a><a id="99176" class="Symbol">)</a> <a id="99178" href="ualib.html#26625" class="Function Operator">∈</a> <a id="99180" href="ualib.html#98431" class="Function">Ψ&#39;</a> <a id="99183" class="Symbol">→</a> <a id="99185" class="Symbol">(</a><a id="99186" href="ualib.html#99186" class="Bound">ti</a> <a id="99189" class="Symbol">:</a> <a id="99191" href="ualib.html#97848" class="Function">𝑻img</a><a id="99195" class="Symbol">)</a>
          <a id="99207" class="Comment">----------------------------------------------------</a>
  <a id="99262" class="Symbol">→</a>        <a id="99271" href="ualib.html#21378" class="Function Operator">∣</a> <a id="99273" class="Symbol">(</a><a id="99274" href="ualib.html#98079" class="Function">𝑻ϕ</a> <a id="99277" href="ualib.html#99186" class="Bound">ti</a><a id="99279" class="Symbol">)</a> <a id="99281" href="ualib.html#21378" class="Function Operator">∣</a> <a id="99283" class="Symbol">((</a><a id="99285" href="ualib.html#99164" class="Bound">p</a> <a id="99287" href="ualib.html#62400" class="Function Operator">̇</a> <a id="99289" href="ualib.html#58724" class="Function">𝑻</a><a id="99290" class="Symbol">)</a> <a id="99292" href="ualib.html#81384" class="InductiveConstructor">ℊ</a><a id="99293" class="Symbol">)</a> <a id="99295" href="ualib.html#19941" class="Datatype Operator">≡</a> <a id="99297" href="ualib.html#21378" class="Function Operator">∣</a> <a id="99299" class="Symbol">(</a><a id="99300" href="ualib.html#98079" class="Function">𝑻ϕ</a> <a id="99303" href="ualib.html#99186" class="Bound">ti</a><a id="99305" class="Symbol">)</a> <a id="99307" href="ualib.html#21378" class="Function Operator">∣</a> <a id="99309" class="Symbol">((</a><a id="99311" href="ualib.html#99166" class="Bound">q</a> <a id="99313" href="ualib.html#62400" class="Function Operator">̇</a> <a id="99315" href="ualib.html#58724" class="Function">𝑻</a><a id="99316" class="Symbol">)</a> <a id="99318" href="ualib.html#81384" class="InductiveConstructor">ℊ</a><a id="99319" class="Symbol">)</a>

 <a id="99323" href="ualib.html#99152" class="Function">𝑻img→𝑻⊧</a> <a id="99331" href="ualib.html#99331" class="Bound">p</a> <a id="99333" href="ualib.html#99333" class="Bound">q</a> <a id="99335" href="ualib.html#99335" class="Bound">pΨq</a> <a id="99339" href="ualib.html#99339" class="Bound">ti</a> <a id="99342" class="Symbol">=</a> <a id="99344" href="ualib.html#99716" class="Function">goal1</a>
  <a id="99352" class="Keyword">where</a>
   <a id="99361" href="ualib.html#99361" class="Function">𝑪</a> <a id="99363" class="Symbol">:</a> <a id="99365" href="ualib.html#35648" class="Function">Algebra</a> <a id="99373" href="ualib.html#81111" class="Bound">𝓤</a> <a id="99375" href="ualib.html#81086" class="Bound">𝑆</a>
   <a id="99380" href="ualib.html#99361" class="Function">𝑪</a> <a id="99382" class="Symbol">=</a> <a id="99384" href="ualib.html#21378" class="Function Operator">∣</a> <a id="99386" href="ualib.html#99339" class="Bound">ti</a> <a id="99389" href="ualib.html#21378" class="Function Operator">∣</a>

   <a id="99395" href="ualib.html#99395" class="Function">ϕ</a> <a id="99397" class="Symbol">:</a> <a id="99399" href="ualib.html#51876" class="Function">hom</a> <a id="99403" href="ualib.html#58724" class="Function">𝑻</a> <a id="99405" href="ualib.html#99361" class="Function">𝑪</a>
   <a id="99410" href="ualib.html#99395" class="Function">ϕ</a> <a id="99412" class="Symbol">=</a> <a id="99414" href="ualib.html#98079" class="Function">𝑻ϕ</a> <a id="99417" href="ualib.html#99339" class="Bound">ti</a>

   <a id="99424" href="ualib.html#99424" class="Function">pCq</a> <a id="99428" class="Symbol">:</a> <a id="99430" href="ualib.html#21378" class="Function Operator">∣</a> <a id="99432" href="ualib.html#99395" class="Function">ϕ</a> <a id="99434" href="ualib.html#21378" class="Function Operator">∣</a> <a id="99436" href="ualib.html#99331" class="Bound">p</a> <a id="99438" href="ualib.html#19941" class="Datatype Operator">≡</a> <a id="99440" href="ualib.html#21378" class="Function Operator">∣</a> <a id="99442" href="ualib.html#99395" class="Function">ϕ</a> <a id="99444" href="ualib.html#21378" class="Function Operator">∣</a> <a id="99446" href="ualib.html#99333" class="Bound">q</a>
   <a id="99451" href="ualib.html#99424" class="Function">pCq</a> <a id="99455" class="Symbol">=</a> <a id="99457" href="ualib.html#99335" class="Bound">pΨq</a> <a id="99461" href="ualib.html#99339" class="Bound">ti</a>

   <a id="99468" href="ualib.html#99468" class="Function">𝓅</a> <a id="99470" href="ualib.html#99470" class="Function">𝓆</a> <a id="99472" class="Symbol">:</a> <a id="99474" href="ualib.html#21378" class="Function Operator">∣</a> <a id="99476" href="ualib.html#58724" class="Function">𝑻</a> <a id="99478" href="ualib.html#21378" class="Function Operator">∣</a>  <a id="99481" class="Comment">-- Notation: 𝓅 = \Mcp</a>
   <a id="99506" href="ualib.html#99468" class="Function">𝓅</a> <a id="99508" class="Symbol">=</a> <a id="99510" href="ualib.html#21378" class="Function Operator">∣</a> <a id="99512" href="ualib.html#63817" class="Function">tg</a> <a id="99515" href="ualib.html#99331" class="Bound">p</a> <a id="99517" href="ualib.html#21378" class="Function Operator">∣</a>
   <a id="99522" href="ualib.html#99470" class="Function">𝓆</a> <a id="99524" class="Symbol">=</a> <a id="99526" href="ualib.html#21378" class="Function Operator">∣</a> <a id="99528" href="ualib.html#63817" class="Function">tg</a> <a id="99531" href="ualib.html#99333" class="Bound">q</a> <a id="99533" href="ualib.html#21378" class="Function Operator">∣</a>

   <a id="99539" href="ualib.html#99539" class="Function">p≡𝓅</a> <a id="99543" class="Symbol">:</a> <a id="99545" href="ualib.html#99331" class="Bound">p</a> <a id="99547" href="ualib.html#19941" class="Datatype Operator">≡</a> <a id="99549" class="Symbol">(</a><a id="99550" href="ualib.html#99468" class="Function">𝓅</a> <a id="99552" href="ualib.html#62400" class="Function Operator">̇</a> <a id="99554" href="ualib.html#58724" class="Function">𝑻</a><a id="99555" class="Symbol">)</a> <a id="99557" href="ualib.html#81384" class="InductiveConstructor">ℊ</a>
   <a id="99562" href="ualib.html#99539" class="Function">p≡𝓅</a> <a id="99566" class="Symbol">=</a> <a id="99568" href="ualib.html#21456" class="Function Operator">∥</a> <a id="99570" href="ualib.html#63817" class="Function">tg</a> <a id="99573" href="ualib.html#99331" class="Bound">p</a> <a id="99575" href="ualib.html#21456" class="Function Operator">∥</a>

   <a id="99581" href="ualib.html#99581" class="Function">q≡𝓆</a> <a id="99585" class="Symbol">:</a> <a id="99587" href="ualib.html#99333" class="Bound">q</a> <a id="99589" href="ualib.html#19941" class="Datatype Operator">≡</a> <a id="99591" class="Symbol">(</a><a id="99592" href="ualib.html#99470" class="Function">𝓆</a> <a id="99594" href="ualib.html#62400" class="Function Operator">̇</a> <a id="99596" href="ualib.html#58724" class="Function">𝑻</a><a id="99597" class="Symbol">)</a> <a id="99599" href="ualib.html#81384" class="InductiveConstructor">ℊ</a>
   <a id="99604" href="ualib.html#99581" class="Function">q≡𝓆</a> <a id="99608" class="Symbol">=</a> <a id="99610" href="ualib.html#21456" class="Function Operator">∥</a> <a id="99612" href="ualib.html#63817" class="Function">tg</a> <a id="99615" href="ualib.html#99333" class="Bound">q</a> <a id="99617" href="ualib.html#21456" class="Function Operator">∥</a>

   <a id="99623" href="ualib.html#99623" class="Function">ξ</a> <a id="99625" class="Symbol">:</a> <a id="99627" href="ualib.html#21378" class="Function Operator">∣</a> <a id="99629" href="ualib.html#99395" class="Function">ϕ</a> <a id="99631" href="ualib.html#21378" class="Function Operator">∣</a> <a id="99633" class="Symbol">((</a><a id="99635" href="ualib.html#99468" class="Function">𝓅</a> <a id="99637" href="ualib.html#62400" class="Function Operator">̇</a> <a id="99639" href="ualib.html#58724" class="Function">𝑻</a><a id="99640" class="Symbol">)</a> <a id="99642" href="ualib.html#81384" class="InductiveConstructor">ℊ</a><a id="99643" class="Symbol">)</a> <a id="99645" href="ualib.html#19941" class="Datatype Operator">≡</a> <a id="99647" href="ualib.html#21378" class="Function Operator">∣</a> <a id="99649" href="ualib.html#99395" class="Function">ϕ</a> <a id="99651" href="ualib.html#21378" class="Function Operator">∣</a> <a id="99653" class="Symbol">((</a><a id="99655" href="ualib.html#99470" class="Function">𝓆</a> <a id="99657" href="ualib.html#62400" class="Function Operator">̇</a> <a id="99659" href="ualib.html#58724" class="Function">𝑻</a><a id="99660" class="Symbol">)</a> <a id="99662" href="ualib.html#81384" class="InductiveConstructor">ℊ</a><a id="99663" class="Symbol">)</a>
   <a id="99668" href="ualib.html#99623" class="Function">ξ</a> <a id="99670" class="Symbol">=</a> <a id="99672" class="Symbol">(</a><a id="99673" href="MGS-MLTT.html#6613" class="Function">ap</a> <a id="99676" href="ualib.html#21378" class="Function Operator">∣</a> <a id="99678" href="ualib.html#99395" class="Function">ϕ</a> <a id="99680" href="ualib.html#21378" class="Function Operator">∣</a> <a id="99682" href="ualib.html#99539" class="Function">p≡𝓅</a><a id="99685" class="Symbol">)</a><a id="99686" href="MGS-MLTT.html#6125" class="Function Operator">⁻¹</a> <a id="99689" href="MGS-MLTT.html#5910" class="Function Operator">∙</a> <a id="99691" href="ualib.html#99424" class="Function">pCq</a> <a id="99695" href="MGS-MLTT.html#5910" class="Function Operator">∙</a> <a id="99697" class="Symbol">(</a><a id="99698" href="MGS-MLTT.html#6613" class="Function">ap</a> <a id="99701" href="ualib.html#21378" class="Function Operator">∣</a> <a id="99703" href="ualib.html#99395" class="Function">ϕ</a> <a id="99705" href="ualib.html#21378" class="Function Operator">∣</a> <a id="99707" href="ualib.html#99581" class="Function">q≡𝓆</a><a id="99710" class="Symbol">)</a>

   <a id="99716" href="ualib.html#99716" class="Function">goal1</a> <a id="99722" class="Symbol">:</a> <a id="99724" href="ualib.html#21378" class="Function Operator">∣</a> <a id="99726" href="ualib.html#99395" class="Function">ϕ</a> <a id="99728" href="ualib.html#21378" class="Function Operator">∣</a> <a id="99730" class="Symbol">((</a><a id="99732" href="ualib.html#99331" class="Bound">p</a> <a id="99734" href="ualib.html#62400" class="Function Operator">̇</a> <a id="99736" href="ualib.html#58724" class="Function">𝑻</a><a id="99737" class="Symbol">)</a> <a id="99739" href="ualib.html#81384" class="InductiveConstructor">ℊ</a><a id="99740" class="Symbol">)</a> <a id="99742" href="ualib.html#19941" class="Datatype Operator">≡</a> <a id="99744" href="ualib.html#21378" class="Function Operator">∣</a> <a id="99746" href="ualib.html#99395" class="Function">ϕ</a> <a id="99748" href="ualib.html#21378" class="Function Operator">∣</a> <a id="99750" class="Symbol">((</a><a id="99752" href="ualib.html#99333" class="Bound">q</a> <a id="99754" href="ualib.html#62400" class="Function Operator">̇</a> <a id="99756" href="ualib.html#58724" class="Function">𝑻</a><a id="99757" class="Symbol">)</a> <a id="99759" href="ualib.html#81384" class="InductiveConstructor">ℊ</a><a id="99760" class="Symbol">)</a>
   <a id="99765" href="ualib.html#99716" class="Function">goal1</a> <a id="99771" class="Symbol">=</a> <a id="99773" class="Symbol">(</a><a id="99774" href="MGS-MLTT.html#6613" class="Function">ap</a> <a id="99777" href="ualib.html#21378" class="Function Operator">∣</a> <a id="99779" href="ualib.html#99395" class="Function">ϕ</a> <a id="99781" href="ualib.html#21378" class="Function Operator">∣</a> <a id="99783" class="Symbol">(</a><a id="99784" href="ualib.html#63922" class="Function">term-gen-agreement</a> <a id="99803" href="ualib.html#99331" class="Bound">p</a><a id="99804" class="Symbol">))</a> <a id="99807" href="MGS-MLTT.html#5910" class="Function Operator">∙</a> <a id="99809" href="ualib.html#99623" class="Function">ξ</a> <a id="99811" href="MGS-MLTT.html#5910" class="Function Operator">∙</a> <a id="99813" class="Symbol">(</a><a id="99814" href="MGS-MLTT.html#6613" class="Function">ap</a> <a id="99817" href="ualib.html#21378" class="Function Operator">∣</a> <a id="99819" href="ualib.html#99395" class="Function">ϕ</a> <a id="99821" href="ualib.html#21378" class="Function Operator">∣</a> <a id="99823" class="Symbol">(</a><a id="99824" href="ualib.html#63922" class="Function">term-gen-agreement</a> <a id="99843" href="ualib.html#99333" class="Bound">q</a><a id="99844" class="Symbol">))</a><a id="99846" href="MGS-MLTT.html#6125" class="Function Operator">⁻¹</a>

 <a id="closure.Ψ⊆ThSClo𝒦"></a><a id="99851" href="ualib.html#99851" class="Function">Ψ⊆ThSClo𝒦</a> <a id="99861" class="Symbol">:</a> <a id="99863" href="ualib.html#98316" class="Function">Ψ</a> <a id="99865" href="ualib.html#26982" class="Function Operator">⊆</a> <a id="99867" class="Symbol">(</a><a id="99868" href="ualib.html#82618" class="Function">Th</a> <a id="99871" href="ualib.html#83838" class="Datatype">SClo</a><a id="99875" class="Symbol">)</a>
 <a id="99878" href="ualib.html#99851" class="Function">Ψ⊆ThSClo𝒦</a> <a id="99888" class="Symbol">{</a><a id="99889" href="ualib.html#99889" class="Bound">p</a> <a id="99891" href="ualib.html#20052" class="InductiveConstructor Operator">,</a> <a id="99893" href="ualib.html#99893" class="Bound">q</a><a id="99894" class="Symbol">}</a> <a id="99896" href="ualib.html#99896" class="Bound">pΨq</a> <a id="99900" class="Symbol">{</a><a id="99901" href="ualib.html#99901" class="Bound">𝑪</a><a id="99902" class="Symbol">}</a> <a id="99904" href="ualib.html#99904" class="Bound">𝑪∈SClo𝒦</a> <a id="99912" class="Symbol">=</a> <a id="99914" href="ualib.html#100354" class="Function">𝑪⊧p≈q</a>
  <a id="99922" class="Keyword">where</a>
   <a id="99931" href="ualib.html#99931" class="Function">ti</a> <a id="99934" class="Symbol">:</a> <a id="99936" href="ualib.html#97848" class="Function">𝑻img</a>
   <a id="99944" href="ualib.html#99931" class="Function">ti</a> <a id="99947" class="Symbol">=</a> <a id="99949" href="ualib.html#99020" class="Function">SClo𝒦→𝑻img</a> <a id="99960" href="ualib.html#99901" class="Bound">𝑪</a> <a id="99962" href="ualib.html#99904" class="Bound">𝑪∈SClo𝒦</a>

   <a id="99974" href="ualib.html#99974" class="Function">ϕ</a> <a id="99976" class="Symbol">:</a> <a id="99978" href="ualib.html#51876" class="Function">hom</a> <a id="99982" href="ualib.html#58724" class="Function">𝑻</a> <a id="99984" href="ualib.html#99901" class="Bound">𝑪</a>
   <a id="99989" href="ualib.html#99974" class="Function">ϕ</a> <a id="99991" class="Symbol">=</a> <a id="99993" href="ualib.html#98079" class="Function">𝑻ϕ</a> <a id="99996" href="ualib.html#99931" class="Function">ti</a>

   <a id="100003" href="ualib.html#100003" class="Function">ϕE</a> <a id="100006" class="Symbol">:</a> <a id="100008" href="ualib.html#30209" class="Function">Epic</a> <a id="100013" href="ualib.html#21378" class="Function Operator">∣</a> <a id="100015" href="ualib.html#99974" class="Function">ϕ</a> <a id="100017" href="ualib.html#21378" class="Function Operator">∣</a>
   <a id="100022" href="ualib.html#100003" class="Function">ϕE</a> <a id="100025" class="Symbol">=</a> <a id="100027" href="ualib.html#98134" class="Function">𝑻ϕE</a> <a id="100031" href="ualib.html#99931" class="Function">ti</a>

   <a id="100038" href="ualib.html#100038" class="Function">ϕsur</a> <a id="100043" class="Symbol">:</a> <a id="100045" class="Symbol">(</a><a id="100046" href="ualib.html#100046" class="Bound">𝒄</a> <a id="100048" class="Symbol">:</a> <a id="100050" href="ualib.html#81107" class="Bound">X</a> <a id="100052" class="Symbol">→</a> <a id="100054" href="ualib.html#21378" class="Function Operator">∣</a> <a id="100056" href="ualib.html#99901" class="Bound">𝑪</a> <a id="100058" href="ualib.html#21378" class="Function Operator">∣</a> <a id="100060" class="Symbol">)(</a><a id="100062" href="ualib.html#100062" class="Bound">x</a> <a id="100064" class="Symbol">:</a> <a id="100066" href="ualib.html#81107" class="Bound">X</a><a id="100067" class="Symbol">)</a> <a id="100069" class="Symbol">→</a> <a id="100071" href="ualib.html#28977" class="Datatype Operator">Image</a> <a id="100077" href="ualib.html#21378" class="Function Operator">∣</a> <a id="100079" href="ualib.html#99974" class="Function">ϕ</a> <a id="100081" href="ualib.html#21378" class="Function Operator">∣</a> <a id="100083" href="ualib.html#28977" class="Datatype Operator">∋</a> <a id="100085" class="Symbol">(</a><a id="100086" href="ualib.html#100046" class="Bound">𝒄</a> <a id="100088" href="ualib.html#100062" class="Bound">x</a><a id="100089" class="Symbol">)</a>
   <a id="100094" href="ualib.html#100038" class="Function">ϕsur</a> <a id="100099" href="ualib.html#100099" class="Bound">𝒄</a> <a id="100101" href="ualib.html#100101" class="Bound">x</a> <a id="100103" class="Symbol">=</a> <a id="100105" href="ualib.html#100003" class="Function">ϕE</a> <a id="100108" class="Symbol">(</a><a id="100109" href="ualib.html#100099" class="Bound">𝒄</a> <a id="100111" href="ualib.html#100101" class="Bound">x</a><a id="100112" class="Symbol">)</a>

   <a id="100118" href="ualib.html#100118" class="Function">pre</a> <a id="100122" class="Symbol">:</a> <a id="100124" class="Symbol">(</a><a id="100125" href="ualib.html#100125" class="Bound">𝒄</a> <a id="100127" class="Symbol">:</a> <a id="100129" href="ualib.html#81107" class="Bound">X</a> <a id="100131" class="Symbol">→</a> <a id="100133" href="ualib.html#21378" class="Function Operator">∣</a> <a id="100135" href="ualib.html#99901" class="Bound">𝑪</a> <a id="100137" href="ualib.html#21378" class="Function Operator">∣</a><a id="100138" class="Symbol">)(</a><a id="100140" href="ualib.html#100140" class="Bound">x</a> <a id="100142" class="Symbol">:</a> <a id="100144" href="ualib.html#81107" class="Bound">X</a><a id="100145" class="Symbol">)</a> <a id="100147" class="Symbol">→</a> <a id="100149" href="ualib.html#21378" class="Function Operator">∣</a> <a id="100151" href="ualib.html#58724" class="Function">𝑻</a> <a id="100153" href="ualib.html#21378" class="Function Operator">∣</a>
   <a id="100158" href="ualib.html#100118" class="Function">pre</a> <a id="100162" href="ualib.html#100162" class="Bound">𝒄</a> <a id="100164" href="ualib.html#100164" class="Bound">x</a> <a id="100166" class="Symbol">=</a> <a id="100168" class="Symbol">(</a><a id="100169" href="ualib.html#29556" class="Function">Inv</a> <a id="100173" href="ualib.html#21378" class="Function Operator">∣</a> <a id="100175" href="ualib.html#99974" class="Function">ϕ</a> <a id="100177" href="ualib.html#21378" class="Function Operator">∣</a> <a id="100179" class="Symbol">(</a><a id="100180" href="ualib.html#100162" class="Bound">𝒄</a> <a id="100182" href="ualib.html#100164" class="Bound">x</a><a id="100183" class="Symbol">)</a> <a id="100185" class="Symbol">(</a><a id="100186" href="ualib.html#100038" class="Function">ϕsur</a> <a id="100191" href="ualib.html#100162" class="Bound">𝒄</a> <a id="100193" href="ualib.html#100164" class="Bound">x</a><a id="100194" class="Symbol">))</a>

   <a id="100201" href="ualib.html#100201" class="Function">ζ</a> <a id="100203" class="Symbol">:</a> <a id="100205" class="Symbol">(</a><a id="100206" href="ualib.html#100206" class="Bound">𝒄</a> <a id="100208" class="Symbol">:</a> <a id="100210" href="ualib.html#81107" class="Bound">X</a> <a id="100212" class="Symbol">→</a> <a id="100214" href="ualib.html#21378" class="Function Operator">∣</a> <a id="100216" href="ualib.html#99901" class="Bound">𝑪</a> <a id="100218" href="ualib.html#21378" class="Function Operator">∣</a><a id="100219" class="Symbol">)</a> <a id="100221" class="Symbol">→</a> <a id="100223" href="ualib.html#21378" class="Function Operator">∣</a> <a id="100225" href="ualib.html#99974" class="Function">ϕ</a> <a id="100227" href="ualib.html#21378" class="Function Operator">∣</a> <a id="100229" href="MGS-MLTT.html#3813" class="Function Operator">∘</a> <a id="100231" class="Symbol">(</a><a id="100232" href="ualib.html#100118" class="Function">pre</a> <a id="100236" href="ualib.html#100206" class="Bound">𝒄</a><a id="100237" class="Symbol">)</a> <a id="100239" href="ualib.html#19941" class="Datatype Operator">≡</a> <a id="100241" href="ualib.html#100206" class="Bound">𝒄</a>
   <a id="100246" href="ualib.html#100201" class="Function">ζ</a> <a id="100248" href="ualib.html#100248" class="Bound">𝒄</a> <a id="100250" class="Symbol">=</a> <a id="100252" href="ualib.html#81216" class="Bound">gfe</a> <a id="100256" class="Symbol">λ</a> <a id="100258" href="ualib.html#100258" class="Bound">x</a> <a id="100260" class="Symbol">→</a> <a id="100262" href="ualib.html#29835" class="Function">InvIsInv</a> <a id="100271" href="ualib.html#21378" class="Function Operator">∣</a> <a id="100273" href="ualib.html#99974" class="Function">ϕ</a> <a id="100275" href="ualib.html#21378" class="Function Operator">∣</a> <a id="100277" class="Symbol">(</a><a id="100278" href="ualib.html#100248" class="Bound">𝒄</a> <a id="100280" href="ualib.html#100258" class="Bound">x</a><a id="100281" class="Symbol">)</a> <a id="100283" class="Symbol">(</a><a id="100284" href="ualib.html#100038" class="Function">ϕsur</a> <a id="100289" href="ualib.html#100248" class="Bound">𝒄</a> <a id="100291" href="ualib.html#100258" class="Bound">x</a><a id="100292" class="Symbol">)</a>

   <a id="100298" href="ualib.html#100298" class="Function">γ</a> <a id="100300" class="Symbol">:</a> <a id="100302" href="ualib.html#21378" class="Function Operator">∣</a> <a id="100304" href="ualib.html#99974" class="Function">ϕ</a> <a id="100306" href="ualib.html#21378" class="Function Operator">∣</a> <a id="100308" href="MGS-MLTT.html#3813" class="Function Operator">∘</a> <a id="100310" class="Symbol">(</a><a id="100311" href="ualib.html#99889" class="Bound">p</a> <a id="100313" href="ualib.html#62400" class="Function Operator">̇</a> <a id="100315" href="ualib.html#58724" class="Function">𝑻</a><a id="100316" class="Symbol">)</a> <a id="100318" href="ualib.html#19941" class="Datatype Operator">≡</a> <a id="100320" href="ualib.html#21378" class="Function Operator">∣</a> <a id="100322" href="ualib.html#99974" class="Function">ϕ</a> <a id="100324" href="ualib.html#21378" class="Function Operator">∣</a> <a id="100326" href="MGS-MLTT.html#3813" class="Function Operator">∘</a> <a id="100328" class="Symbol">(</a><a id="100329" href="ualib.html#99893" class="Bound">q</a> <a id="100331" href="ualib.html#62400" class="Function Operator">̇</a> <a id="100333" href="ualib.html#58724" class="Function">𝑻</a><a id="100334" class="Symbol">)</a>
   <a id="100339" href="ualib.html#100298" class="Function">γ</a> <a id="100341" class="Symbol">=</a> <a id="100343" href="ualib.html#99896" class="Bound">pΨq</a> <a id="100347" href="ualib.html#99931" class="Function">ti</a>

   <a id="100354" href="ualib.html#100354" class="Function">𝑪⊧p≈q</a> <a id="100360" class="Symbol">:</a> <a id="100362" class="Symbol">(</a><a id="100363" href="ualib.html#99889" class="Bound">p</a> <a id="100365" href="ualib.html#62400" class="Function Operator">̇</a> <a id="100367" href="ualib.html#99901" class="Bound">𝑪</a><a id="100368" class="Symbol">)</a> <a id="100370" href="ualib.html#19941" class="Datatype Operator">≡</a> <a id="100372" class="Symbol">(</a><a id="100373" href="ualib.html#99893" class="Bound">q</a> <a id="100375" href="ualib.html#62400" class="Function Operator">̇</a> <a id="100377" href="ualib.html#99901" class="Bound">𝑪</a><a id="100378" class="Symbol">)</a>

   <a id="100384" href="ualib.html#100354" class="Function">𝑪⊧p≈q</a> <a id="100390" class="Symbol">=</a> <a id="100392" href="ualib.html#81216" class="Bound">gfe</a> <a id="100396" class="Symbol">λ</a> <a id="100398" href="ualib.html#100398" class="Bound">𝒄</a> <a id="100400" class="Symbol">→</a>
    <a id="100406" class="Symbol">(</a><a id="100407" href="ualib.html#99889" class="Bound">p</a> <a id="100409" href="ualib.html#62400" class="Function Operator">̇</a> <a id="100411" href="ualib.html#99901" class="Bound">𝑪</a><a id="100412" class="Symbol">)</a> <a id="100414" href="ualib.html#100398" class="Bound">𝒄</a>                <a id="100431" href="MGS-MLTT.html#5997" class="Function Operator">≡⟨</a> <a id="100434" class="Symbol">(</a><a id="100435" href="MGS-MLTT.html#6613" class="Function">ap</a> <a id="100438" class="Symbol">(</a><a id="100439" href="ualib.html#99889" class="Bound">p</a> <a id="100441" href="ualib.html#62400" class="Function Operator">̇</a> <a id="100443" href="ualib.html#99901" class="Bound">𝑪</a><a id="100444" class="Symbol">)</a> <a id="100446" class="Symbol">(</a><a id="100447" href="ualib.html#100201" class="Function">ζ</a> <a id="100449" href="ualib.html#100398" class="Bound">𝒄</a><a id="100450" class="Symbol">))</a><a id="100452" href="MGS-MLTT.html#6125" class="Function Operator">⁻¹</a> <a id="100455" href="MGS-MLTT.html#5997" class="Function Operator">⟩</a>
    <a id="100461" class="Symbol">(</a><a id="100462" href="ualib.html#99889" class="Bound">p</a> <a id="100464" href="ualib.html#62400" class="Function Operator">̇</a> <a id="100466" href="ualib.html#99901" class="Bound">𝑪</a><a id="100467" class="Symbol">)(</a><a id="100469" href="ualib.html#21378" class="Function Operator">∣</a> <a id="100471" href="ualib.html#99974" class="Function">ϕ</a> <a id="100473" href="ualib.html#21378" class="Function Operator">∣</a> <a id="100475" href="MGS-MLTT.html#3813" class="Function Operator">∘</a> <a id="100477" class="Symbol">(</a><a id="100478" href="ualib.html#100118" class="Function">pre</a> <a id="100482" href="ualib.html#100398" class="Bound">𝒄</a><a id="100483" class="Symbol">))</a>   <a id="100488" href="MGS-MLTT.html#5997" class="Function Operator">≡⟨</a> <a id="100491" class="Symbol">(</a><a id="100492" href="ualib.html#66177" class="Function">comm-hom-term</a> <a id="100506" href="ualib.html#81216" class="Bound">gfe</a> <a id="100510" href="ualib.html#58724" class="Function">𝑻</a> <a id="100512" href="ualib.html#99901" class="Bound">𝑪</a> <a id="100514" href="ualib.html#99974" class="Function">ϕ</a> <a id="100516" href="ualib.html#99889" class="Bound">p</a> <a id="100518" class="Symbol">(</a><a id="100519" href="ualib.html#100118" class="Function">pre</a> <a id="100523" href="ualib.html#100398" class="Bound">𝒄</a><a id="100524" class="Symbol">))</a><a id="100526" href="MGS-MLTT.html#6125" class="Function Operator">⁻¹</a> <a id="100529" href="MGS-MLTT.html#5997" class="Function Operator">⟩</a>
    <a id="100535" href="ualib.html#21378" class="Function Operator">∣</a> <a id="100537" href="ualib.html#99974" class="Function">ϕ</a> <a id="100539" href="ualib.html#21378" class="Function Operator">∣</a> <a id="100541" class="Symbol">((</a><a id="100543" href="ualib.html#99889" class="Bound">p</a> <a id="100545" href="ualib.html#62400" class="Function Operator">̇</a> <a id="100547" href="ualib.html#58724" class="Function">𝑻</a><a id="100548" class="Symbol">)(</a><a id="100550" href="ualib.html#100118" class="Function">pre</a> <a id="100554" href="ualib.html#100398" class="Bound">𝒄</a><a id="100555" class="Symbol">))</a>     <a id="100562" href="MGS-MLTT.html#5997" class="Function Operator">≡⟨</a> <a id="100565" href="ualib.html#32191" class="Function">intensionality</a> <a id="100580" href="ualib.html#100298" class="Function">γ</a> <a id="100582" class="Symbol">(</a><a id="100583" href="ualib.html#100118" class="Function">pre</a> <a id="100587" href="ualib.html#100398" class="Bound">𝒄</a><a id="100588" class="Symbol">)</a> <a id="100590" href="MGS-MLTT.html#5997" class="Function Operator">⟩</a>
    <a id="100596" href="ualib.html#21378" class="Function Operator">∣</a> <a id="100598" href="ualib.html#99974" class="Function">ϕ</a> <a id="100600" href="ualib.html#21378" class="Function Operator">∣</a> <a id="100602" class="Symbol">((</a><a id="100604" href="ualib.html#99893" class="Bound">q</a> <a id="100606" href="ualib.html#62400" class="Function Operator">̇</a> <a id="100608" href="ualib.html#58724" class="Function">𝑻</a><a id="100609" class="Symbol">)(</a><a id="100611" href="ualib.html#100118" class="Function">pre</a> <a id="100615" href="ualib.html#100398" class="Bound">𝒄</a><a id="100616" class="Symbol">))</a>     <a id="100623" href="MGS-MLTT.html#5997" class="Function Operator">≡⟨</a> <a id="100626" href="ualib.html#66177" class="Function">comm-hom-term</a> <a id="100640" href="ualib.html#81216" class="Bound">gfe</a> <a id="100644" href="ualib.html#58724" class="Function">𝑻</a> <a id="100646" href="ualib.html#99901" class="Bound">𝑪</a> <a id="100648" href="ualib.html#99974" class="Function">ϕ</a> <a id="100650" href="ualib.html#99893" class="Bound">q</a> <a id="100652" class="Symbol">(</a><a id="100653" href="ualib.html#100118" class="Function">pre</a> <a id="100657" href="ualib.html#100398" class="Bound">𝒄</a><a id="100658" class="Symbol">)</a> <a id="100660" href="MGS-MLTT.html#5997" class="Function Operator">⟩</a>
    <a id="100666" class="Symbol">(</a><a id="100667" href="ualib.html#99893" class="Bound">q</a> <a id="100669" href="ualib.html#62400" class="Function Operator">̇</a> <a id="100671" href="ualib.html#99901" class="Bound">𝑪</a><a id="100672" class="Symbol">)(</a><a id="100674" href="ualib.html#21378" class="Function Operator">∣</a> <a id="100676" href="ualib.html#99974" class="Function">ϕ</a> <a id="100678" href="ualib.html#21378" class="Function Operator">∣</a> <a id="100680" href="MGS-MLTT.html#3813" class="Function Operator">∘</a> <a id="100682" class="Symbol">(</a><a id="100683" href="ualib.html#100118" class="Function">pre</a> <a id="100687" href="ualib.html#100398" class="Bound">𝒄</a><a id="100688" class="Symbol">))</a>   <a id="100693" href="MGS-MLTT.html#5997" class="Function Operator">≡⟨</a> <a id="100696" href="MGS-MLTT.html#6613" class="Function">ap</a> <a id="100699" class="Symbol">(</a><a id="100700" href="ualib.html#99893" class="Bound">q</a> <a id="100702" href="ualib.html#62400" class="Function Operator">̇</a> <a id="100704" href="ualib.html#99901" class="Bound">𝑪</a><a id="100705" class="Symbol">)</a> <a id="100707" class="Symbol">(</a><a id="100708" href="ualib.html#100201" class="Function">ζ</a> <a id="100710" href="ualib.html#100398" class="Bound">𝒄</a><a id="100711" class="Symbol">)</a> <a id="100713" href="MGS-MLTT.html#5997" class="Function Operator">⟩</a>
    <a id="100719" class="Symbol">(</a><a id="100720" href="ualib.html#99893" class="Bound">q</a> <a id="100722" href="ualib.html#62400" class="Function Operator">̇</a> <a id="100724" href="ualib.html#99901" class="Bound">𝑪</a><a id="100725" class="Symbol">)</a> <a id="100727" href="ualib.html#100398" class="Bound">𝒄</a>                <a id="100744" href="MGS-MLTT.html#6079" class="Function Operator">∎</a>

 <a id="closure.Ψ⊆Th𝒦"></a><a id="100748" href="ualib.html#100748" class="Function">Ψ⊆Th𝒦</a> <a id="100754" class="Symbol">:</a> <a id="100756" class="Symbol">∀</a> <a id="100758" href="ualib.html#100758" class="Bound">p</a> <a id="100760" href="ualib.html#100760" class="Bound">q</a> <a id="100762" class="Symbol">→</a> <a id="100764" class="Symbol">(</a><a id="100765" href="ualib.html#100758" class="Bound">p</a> <a id="100767" href="ualib.html#20052" class="InductiveConstructor Operator">,</a> <a id="100769" href="ualib.html#100760" class="Bound">q</a><a id="100770" class="Symbol">)</a> <a id="100772" href="ualib.html#26625" class="Function Operator">∈</a> <a id="100774" href="ualib.html#98316" class="Function">Ψ</a> <a id="100776" class="Symbol">→</a> <a id="100778" href="ualib.html#81118" class="Bound">𝒦</a> <a id="100780" href="ualib.html#82258" class="Function Operator">⊧</a> <a id="100782" href="ualib.html#100758" class="Bound">p</a> <a id="100784" href="ualib.html#82258" class="Function Operator">≋</a> <a id="100786" href="ualib.html#100760" class="Bound">q</a>
 <a id="100789" href="ualib.html#100748" class="Function">Ψ⊆Th𝒦</a> <a id="100795" href="ualib.html#100795" class="Bound">p</a> <a id="100797" href="ualib.html#100797" class="Bound">q</a> <a id="100799" href="ualib.html#100799" class="Bound">pΨq</a> <a id="100803" class="Symbol">{</a><a id="100804" href="ualib.html#100804" class="Bound">𝑨</a><a id="100805" class="Symbol">}</a> <a id="100807" href="ualib.html#100807" class="Bound">KA</a> <a id="100810" class="Symbol">=</a> <a id="100812" href="ualib.html#99851" class="Function">Ψ⊆ThSClo𝒦</a><a id="100821" class="Symbol">{</a><a id="100822" href="ualib.html#100795" class="Bound">p</a> <a id="100824" href="ualib.html#20052" class="InductiveConstructor Operator">,</a> <a id="100826" href="ualib.html#100797" class="Bound">q</a><a id="100827" class="Symbol">}</a> <a id="100829" href="ualib.html#100799" class="Bound">pΨq</a> <a id="100833" class="Symbol">(</a><a id="100834" href="ualib.html#83887" class="InductiveConstructor">sbase</a> <a id="100840" href="ualib.html#100807" class="Bound">KA</a><a id="100842" class="Symbol">)</a>
</pre>

<hr />

<h3 id="unicode-hints-5">Unicode Hints 5</h3>

<p>Table of some special characters used in the <a href="https://gitlab.com/ualib/ualib.gitlab.io/-/blob/master/congruences.lagda.rst">closure module</a>.</p>

<table>
  <thead>
    <tr>
      <th>To get</th>
      <th>Type</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>𝒂, 𝒃</td>
      <td><code class="language-plaintext highlighter-rouge">\MIa</code>, <code class="language-plaintext highlighter-rouge">\MIb</code></td>
    </tr>
    <tr>
      <td>𝑓 ̂ 𝑨</td>
      <td><code class="language-plaintext highlighter-rouge">\Mif \^ \MIA</code></td>
    </tr>
    <tr>
      <td>≅</td>
      <td><code class="language-plaintext highlighter-rouge">≅</code> or <code class="language-plaintext highlighter-rouge">\cong</code></td>
    </tr>
    <tr>
      <td>∘</td>
      <td><code class="language-plaintext highlighter-rouge">\comp</code> or <code class="language-plaintext highlighter-rouge">\circ</code></td>
    </tr>
    <tr>
      <td>𝒾𝒹</td>
      <td><code class="language-plaintext highlighter-rouge">\Mci\Mcd</code></td>
    </tr>
    <tr>
      <td>ℒ𝒦</td>
      <td><code class="language-plaintext highlighter-rouge">\McL\McK</code></td>
    </tr>
    <tr>
      <td>ϕ</td>
      <td><code class="language-plaintext highlighter-rouge">\phi</code></td>
    </tr>
  </tbody>
</table>

<p><strong>Emacs commands providing information about special characters/input methods</strong>:</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">M-x describe-char</code> (or <code class="language-plaintext highlighter-rouge">M-m h d c</code>) with the cursor on the character of interest</li>
  <li><code class="language-plaintext highlighter-rouge">M-x describe-input-method</code> (or <code class="language-plaintext highlighter-rouge">C-h I</code>)</li>
</ul>

<hr />

<p><a href="ualib.html#contents"><sub>Table of contents ⇑</sub></a></p>
<h2 id="hsp-theorem-in-agda">HSP Theorem in Agda</h2>

<p>Here we give a formal proof in Agda of Birkhoff’s theorem, which says that a variety is an equational class. In other words, if a class 𝒦 of algebras is closed under the operators 𝑯, 𝑺, 𝑷, then 𝒦 is an equational class (i.e., 𝒦 is the class of all algebras that model a particular set of identities).</p>

<p>In addition to the usual importing of dependencies, We start the <a href="https://gitlab.com/ualib/ualib.gitlab.io/-/blob/master/birkhoff.lagda.rst">birkhoff module</a> with a fixed signature and a type <code class="language-plaintext highlighter-rouge">X</code>. As in the <code class="language-plaintext highlighter-rouge">terms</code> module, <code class="language-plaintext highlighter-rouge">X</code> represents an arbitrary (infinite) collection of “variables” (which will serve as the generators of the term algebra 𝑻(X)).</p>

<pre class="Agda">
<a id="102598" class="Keyword">open</a> <a id="102603" href="ualib.html#33986" class="Module">basic</a>
<a id="102609" class="Keyword">open</a> <a id="102614" href="ualib.html#41753" class="Module">congruences</a>
<a id="102626" class="Keyword">open</a> <a id="102631" href="ualib.html#15713" class="Module">prelude</a> <a id="102639" class="Keyword">using</a> <a id="102645" class="Symbol">(</a><a id="102646" href="MGS-Subsingleton-Theorems.html#3468" class="Function">global-dfunext</a><a id="102660" class="Symbol">;</a> <a id="102662" href="MGS-FunExt-from-Univalence.html#2039" class="Function">dfunext</a><a id="102669" class="Symbol">;</a> <a id="102671" href="MGS-FunExt-from-Univalence.html#393" class="Function">funext</a><a id="102677" class="Symbol">;</a> <a id="102679" href="ualib.html#25725" class="Function">Pred</a><a id="102683" class="Symbol">)</a>

<a id="102686" class="Keyword">module</a> <a id="birkhoff"></a><a id="102693" href="ualib.html#102693" class="Module">birkhoff</a>
 <a id="102703" class="Symbol">{</a><a id="102704" href="ualib.html#102704" class="Bound">𝑆</a> <a id="102706" class="Symbol">:</a> <a id="102708" href="ualib.html#34935" class="Function">Signature</a> <a id="102718" href="ualib.html#17590" class="Generalizable">𝓞</a> <a id="102720" href="Universes.html#262" class="Generalizable">𝓥</a><a id="102721" class="Symbol">}</a>
 <a id="102724" class="Symbol">{</a><a id="102725" href="ualib.html#102725" class="Bound">X</a> <a id="102727" class="Symbol">:</a> <a id="102729" href="Universes.html#260" class="Generalizable">𝓤</a> <a id="102731" href="Universes.html#403" class="Function Operator">̇</a><a id="102732" class="Symbol">}</a>
 <a id="102735" class="Symbol">{</a><a id="102736" href="ualib.html#102736" class="Bound">𝒦</a> <a id="102738" class="Symbol">:</a> <a id="102740" href="ualib.html#25725" class="Function">Pred</a> <a id="102745" class="Symbol">(</a><a id="102746" href="ualib.html#35648" class="Function">Algebra</a> <a id="102754" href="Universes.html#260" class="Generalizable">𝓤</a> <a id="102756" href="ualib.html#102704" class="Bound">𝑆</a><a id="102757" class="Symbol">)(</a><a id="102759" href="ualib.html#17590" class="Generalizable">𝓞</a> <a id="102761" href="Agda.Primitive.html#636" class="Primitive Operator">⊔</a> <a id="102763" href="Universes.html#262" class="Generalizable">𝓥</a> <a id="102765" href="Agda.Primitive.html#636" class="Primitive Operator">⊔</a> <a id="102767" href="Universes.html#260" class="Generalizable">𝓤</a> <a id="102769" href="Agda.Primitive.html#606" class="Primitive Operator">⁺</a><a id="102770" class="Symbol">)}</a>
 <a id="102774" class="Symbol">{</a><a id="102775" href="ualib.html#102775" class="Bound">𝕏</a> <a id="102777" class="Symbol">:</a> <a id="102779" class="Symbol">{</a><a id="102780" href="ualib.html#102780" class="Bound">𝓤</a> <a id="102782" href="ualib.html#102782" class="Bound">𝓧</a> <a id="102784" class="Symbol">:</a> <a id="102786" href="Agda.Primitive.html#423" class="Postulate">Universe</a><a id="102794" class="Symbol">}{</a><a id="102796" href="ualib.html#102796" class="Bound">X</a> <a id="102798" class="Symbol">:</a> <a id="102800" href="ualib.html#102782" class="Bound">𝓧</a> <a id="102802" href="Universes.html#403" class="Function Operator">̇</a> <a id="102804" class="Symbol">}(</a><a id="102806" href="ualib.html#102806" class="Bound">𝑨</a> <a id="102808" class="Symbol">:</a> <a id="102810" href="ualib.html#35648" class="Function">Algebra</a> <a id="102818" href="ualib.html#102780" class="Bound">𝓤</a> <a id="102820" href="ualib.html#102704" class="Bound">𝑆</a><a id="102821" class="Symbol">)</a> <a id="102823" class="Symbol">→</a> <a id="102825" href="ualib.html#102796" class="Bound">X</a> <a id="102827" href="ualib.html#39443" class="Function Operator">↠</a> <a id="102829" href="ualib.html#102806" class="Bound">𝑨</a><a id="102830" class="Symbol">}</a>
 <a id="102833" class="Symbol">{</a><a id="102834" href="ualib.html#102834" class="Bound">gfe</a> <a id="102838" class="Symbol">:</a> <a id="102840" href="MGS-Subsingleton-Theorems.html#3468" class="Function">global-dfunext</a><a id="102854" class="Symbol">}</a>
 <a id="102857" class="Symbol">{</a><a id="102858" href="ualib.html#102858" class="Bound">dfe</a> <a id="102862" class="Symbol">:</a> <a id="102864" href="MGS-FunExt-from-Univalence.html#2039" class="Function">dfunext</a> <a id="102872" href="Universes.html#260" class="Generalizable">𝓤</a> <a id="102874" href="Universes.html#260" class="Generalizable">𝓤</a><a id="102875" class="Symbol">}</a>
 <a id="102878" class="Symbol">{</a><a id="102879" href="ualib.html#102879" class="Bound">fevu</a> <a id="102884" class="Symbol">:</a> <a id="102886" href="MGS-FunExt-from-Univalence.html#2039" class="Function">dfunext</a> <a id="102894" href="Universes.html#262" class="Generalizable">𝓥</a> <a id="102896" href="Universes.html#260" class="Generalizable">𝓤</a><a id="102897" class="Symbol">}</a> <a id="102899" class="Keyword">where</a>

 <a id="102907" class="Keyword">open</a> <a id="102912" href="ualib.html#81076" class="Module">closure</a> <a id="102920" class="Symbol">{</a><a id="102921" class="Argument">𝑆</a> <a id="102923" class="Symbol">=</a> <a id="102925" href="ualib.html#102704" class="Bound">𝑆</a><a id="102926" class="Symbol">}{</a><a id="102928" class="Argument">X</a> <a id="102930" class="Symbol">=</a> <a id="102932" href="ualib.html#102725" class="Bound">X</a><a id="102933" class="Symbol">}{</a><a id="102935" class="Argument">𝒦</a> <a id="102937" class="Symbol">=</a> <a id="102939" href="ualib.html#102736" class="Bound">𝒦</a><a id="102940" class="Symbol">}{</a><a id="102942" class="Argument">𝕏</a> <a id="102944" class="Symbol">=</a> <a id="102946" href="ualib.html#102775" class="Bound">𝕏</a><a id="102947" class="Symbol">}{</a><a id="102949" class="Argument">gfe</a> <a id="102953" class="Symbol">=</a> <a id="102955" href="ualib.html#102834" class="Bound">gfe</a><a id="102958" class="Symbol">}{</a><a id="102960" class="Argument">dfe</a> <a id="102964" class="Symbol">=</a> <a id="102966" href="ualib.html#102858" class="Bound">dfe</a><a id="102969" class="Symbol">}{</a><a id="102971" class="Argument">fevu</a> <a id="102976" class="Symbol">=</a> <a id="102978" href="ualib.html#102879" class="Bound">fevu</a><a id="102982" class="Symbol">}</a>
</pre>

<h3 id="equalizers-in-agda">Equalizers in Agda</h3>

<p>The equalizer of two functions (resp., homomorphisms) <code class="language-plaintext highlighter-rouge">g h : A → B</code> is the subset of <code class="language-plaintext highlighter-rouge">A</code> on which the values of the functions <code class="language-plaintext highlighter-rouge">g</code> and <code class="language-plaintext highlighter-rouge">h</code> agree. We formalize this notion in Agda as follows.</p>

<pre class="Agda">
 <a id="103225" class="Comment">--Equalizers of functions</a>
 <a id="birkhoff.𝑬"></a><a id="103252" href="ualib.html#103252" class="Function">𝑬</a> <a id="103254" class="Symbol">:</a>  <a id="103257" class="Symbol">{</a><a id="103258" href="ualib.html#103258" class="Bound">A</a> <a id="103260" class="Symbol">:</a> <a id="103262" href="ualib.html#102729" class="Bound">𝓤</a> <a id="103264" href="Universes.html#403" class="Function Operator">̇</a> <a id="103266" class="Symbol">}</a>  <a id="103269" class="Symbol">{</a><a id="103270" href="ualib.html#103270" class="Bound">B</a> <a id="103272" class="Symbol">:</a> <a id="103274" href="Universes.html#264" class="Generalizable">𝓦</a> <a id="103276" href="Universes.html#403" class="Function Operator">̇</a> <a id="103278" class="Symbol">}</a> <a id="103280" class="Symbol">→</a>  <a id="103283" class="Symbol">(</a><a id="103284" href="ualib.html#103284" class="Bound">g</a> <a id="103286" href="ualib.html#103286" class="Bound">h</a> <a id="103288" class="Symbol">:</a> <a id="103290" href="ualib.html#103258" class="Bound">A</a> <a id="103292" class="Symbol">→</a> <a id="103294" href="ualib.html#103270" class="Bound">B</a><a id="103295" class="Symbol">)</a> <a id="103297" class="Symbol">→</a> <a id="103299" href="ualib.html#25725" class="Function">Pred</a> <a id="103304" href="ualib.html#103258" class="Bound">A</a> <a id="103306" href="Universes.html#264" class="Generalizable">𝓦</a>
 <a id="103309" href="ualib.html#103252" class="Function">𝑬</a> <a id="103311" href="ualib.html#103311" class="Bound">g</a> <a id="103313" href="ualib.html#103313" class="Bound">h</a> <a id="103315" href="ualib.html#103315" class="Bound">x</a> <a id="103317" class="Symbol">=</a> <a id="103319" href="ualib.html#103311" class="Bound">g</a> <a id="103321" href="ualib.html#103315" class="Bound">x</a> <a id="103323" href="ualib.html#19941" class="Datatype Operator">≡</a> <a id="103325" href="ualib.html#103313" class="Bound">h</a> <a id="103327" href="ualib.html#103315" class="Bound">x</a>

 <a id="103331" class="Comment">--Equalizers of homomorphisms</a>
 <a id="birkhoff.𝑬𝑯"></a><a id="103362" href="ualib.html#103362" class="Function">𝑬𝑯</a> <a id="103365" class="Symbol">:</a> <a id="103367" class="Symbol">{</a><a id="103368" href="ualib.html#103368" class="Bound">𝑨</a> <a id="103370" href="ualib.html#103370" class="Bound">𝑩</a> <a id="103372" class="Symbol">:</a> <a id="103374" href="ualib.html#35648" class="Function">Algebra</a> <a id="103382" href="ualib.html#102729" class="Bound">𝓤</a> <a id="103384" href="ualib.html#102704" class="Bound">𝑆</a><a id="103385" class="Symbol">}</a> <a id="103387" class="Symbol">(</a><a id="103388" href="ualib.html#103388" class="Bound">g</a> <a id="103390" href="ualib.html#103390" class="Bound">h</a> <a id="103392" class="Symbol">:</a> <a id="103394" href="ualib.html#51876" class="Function">hom</a> <a id="103398" href="ualib.html#103368" class="Bound">𝑨</a> <a id="103400" href="ualib.html#103370" class="Bound">𝑩</a><a id="103401" class="Symbol">)</a> <a id="103403" class="Symbol">→</a> <a id="103405" href="ualib.html#25725" class="Function">Pred</a> <a id="103410" href="ualib.html#21378" class="Function Operator">∣</a> <a id="103412" href="ualib.html#103368" class="Bound">𝑨</a> <a id="103414" href="ualib.html#21378" class="Function Operator">∣</a> <a id="103416" href="ualib.html#102729" class="Bound">𝓤</a>
 <a id="103419" href="ualib.html#103362" class="Function">𝑬𝑯</a> <a id="103422" href="ualib.html#103422" class="Bound">g</a> <a id="103424" href="ualib.html#103424" class="Bound">h</a> <a id="103426" href="ualib.html#103426" class="Bound">x</a> <a id="103428" class="Symbol">=</a> <a id="103430" href="ualib.html#21378" class="Function Operator">∣</a> <a id="103432" href="ualib.html#103422" class="Bound">g</a> <a id="103434" href="ualib.html#21378" class="Function Operator">∣</a> <a id="103436" href="ualib.html#103426" class="Bound">x</a> <a id="103438" href="ualib.html#19941" class="Datatype Operator">≡</a> <a id="103440" href="ualib.html#21378" class="Function Operator">∣</a> <a id="103442" href="ualib.html#103424" class="Bound">h</a> <a id="103444" href="ualib.html#21378" class="Function Operator">∣</a> <a id="103446" href="ualib.html#103426" class="Bound">x</a>
</pre>

<p>It turns out that the equalizer of two homomorphisms is closed under the operations of <code class="language-plaintext highlighter-rouge">A</code> and is therefore a subalgebra of the common domain, as we now prove.</p>

<pre class="Agda">
 <a id="birkhoff.𝑬𝑯-is-closed"></a><a id="103635" href="ualib.html#103635" class="Function">𝑬𝑯-is-closed</a> <a id="103648" class="Symbol">:</a> <a id="103650" href="MGS-FunExt-from-Univalence.html#393" class="Function">funext</a> <a id="103657" href="ualib.html#102720" class="Bound">𝓥</a> <a id="103659" href="ualib.html#102729" class="Bound">𝓤</a>
  <a id="103663" class="Symbol">→</a>     <a id="103669" class="Symbol">{</a><a id="103670" href="ualib.html#103670" class="Bound">𝑓</a> <a id="103672" class="Symbol">:</a> <a id="103674" href="ualib.html#21378" class="Function Operator">∣</a> <a id="103676" href="ualib.html#102704" class="Bound">𝑆</a> <a id="103678" href="ualib.html#21378" class="Function Operator">∣</a> <a id="103680" class="Symbol">}</a> <a id="103682" class="Symbol">{</a><a id="103683" href="ualib.html#103683" class="Bound">𝑨</a> <a id="103685" href="ualib.html#103685" class="Bound">𝑩</a> <a id="103687" class="Symbol">:</a> <a id="103689" href="ualib.html#35648" class="Function">Algebra</a> <a id="103697" href="ualib.html#102729" class="Bound">𝓤</a> <a id="103699" href="ualib.html#102704" class="Bound">𝑆</a><a id="103700" class="Symbol">}</a>
        <a id="103710" class="Symbol">(</a><a id="103711" href="ualib.html#103711" class="Bound">g</a> <a id="103713" href="ualib.html#103713" class="Bound">h</a> <a id="103715" class="Symbol">:</a> <a id="103717" href="ualib.html#51876" class="Function">hom</a> <a id="103721" href="ualib.html#103683" class="Bound">𝑨</a> <a id="103723" href="ualib.html#103685" class="Bound">𝑩</a><a id="103724" class="Symbol">)</a>  <a id="103727" class="Symbol">(</a><a id="103728" href="ualib.html#103728" class="Bound">𝒂</a> <a id="103730" class="Symbol">:</a> <a id="103732" class="Symbol">(</a><a id="103733" href="ualib.html#21456" class="Function Operator">∥</a> <a id="103735" href="ualib.html#102704" class="Bound">𝑆</a> <a id="103737" href="ualib.html#21456" class="Function Operator">∥</a> <a id="103739" href="ualib.html#103670" class="Bound">𝑓</a><a id="103740" class="Symbol">)</a> <a id="103742" class="Symbol">→</a> <a id="103744" href="ualib.html#21378" class="Function Operator">∣</a> <a id="103746" href="ualib.html#103683" class="Bound">𝑨</a> <a id="103748" href="ualib.html#21378" class="Function Operator">∣</a><a id="103749" class="Symbol">)</a>
  <a id="103753" class="Symbol">→</a>     <a id="103759" class="Symbol">((</a><a id="103761" href="ualib.html#103761" class="Bound">x</a> <a id="103763" class="Symbol">:</a> <a id="103765" href="ualib.html#21456" class="Function Operator">∥</a> <a id="103767" href="ualib.html#102704" class="Bound">𝑆</a> <a id="103769" href="ualib.html#21456" class="Function Operator">∥</a> <a id="103771" href="ualib.html#103670" class="Bound">𝑓</a><a id="103772" class="Symbol">)</a> <a id="103774" class="Symbol">→</a> <a id="103776" class="Symbol">(</a><a id="103777" href="ualib.html#103728" class="Bound">𝒂</a> <a id="103779" href="ualib.html#103761" class="Bound">x</a><a id="103780" class="Symbol">)</a> <a id="103782" href="ualib.html#26625" class="Function Operator">∈</a> <a id="103784" class="Symbol">(</a><a id="103785" href="ualib.html#103362" class="Function">𝑬𝑯</a> <a id="103788" class="Symbol">{</a><a id="103789" class="Argument">𝑨</a> <a id="103791" class="Symbol">=</a> <a id="103793" href="ualib.html#103683" class="Bound">𝑨</a><a id="103794" class="Symbol">}{</a><a id="103796" class="Argument">𝑩</a> <a id="103798" class="Symbol">=</a> <a id="103800" href="ualib.html#103685" class="Bound">𝑩</a><a id="103801" class="Symbol">}</a> <a id="103803" href="ualib.html#103711" class="Bound">g</a> <a id="103805" href="ualib.html#103713" class="Bound">h</a><a id="103806" class="Symbol">))</a>
        <a id="103817" class="Comment">--------------------------------------------------</a>
  <a id="103870" class="Symbol">→</a>      <a id="103877" href="ualib.html#21378" class="Function Operator">∣</a> <a id="103879" href="ualib.html#103711" class="Bound">g</a> <a id="103881" href="ualib.html#21378" class="Function Operator">∣</a> <a id="103883" class="Symbol">((</a><a id="103885" href="ualib.html#103670" class="Bound">𝑓</a> <a id="103887" href="ualib.html#38193" class="Function Operator">̂</a> <a id="103889" href="ualib.html#103683" class="Bound">𝑨</a><a id="103890" class="Symbol">)</a> <a id="103892" href="ualib.html#103728" class="Bound">𝒂</a><a id="103893" class="Symbol">)</a> <a id="103895" href="ualib.html#19941" class="Datatype Operator">≡</a> <a id="103897" href="ualib.html#21378" class="Function Operator">∣</a> <a id="103899" href="ualib.html#103713" class="Bound">h</a> <a id="103901" href="ualib.html#21378" class="Function Operator">∣</a> <a id="103903" class="Symbol">((</a><a id="103905" href="ualib.html#103670" class="Bound">𝑓</a> <a id="103907" href="ualib.html#38193" class="Function Operator">̂</a> <a id="103909" href="ualib.html#103683" class="Bound">𝑨</a><a id="103910" class="Symbol">)</a> <a id="103912" href="ualib.html#103728" class="Bound">𝒂</a><a id="103913" class="Symbol">)</a>

 <a id="103917" href="ualib.html#103635" class="Function">𝑬𝑯-is-closed</a> <a id="103930" href="ualib.html#103930" class="Bound">fe</a> <a id="103933" class="Symbol">{</a><a id="103934" href="ualib.html#103934" class="Bound">𝑓</a><a id="103935" class="Symbol">}{</a><a id="103937" href="ualib.html#103937" class="Bound">𝑨</a><a id="103938" class="Symbol">}{</a><a id="103940" href="ualib.html#103940" class="Bound">𝑩</a><a id="103941" class="Symbol">}</a> <a id="103943" href="ualib.html#103943" class="Bound">g</a> <a id="103945" href="ualib.html#103945" class="Bound">h</a> <a id="103947" href="ualib.html#103947" class="Bound">𝒂</a> <a id="103949" href="ualib.html#103949" class="Bound">p</a> <a id="103951" class="Symbol">=</a>
  <a id="103955" class="Symbol">(</a><a id="103956" href="ualib.html#21378" class="Function Operator">∣</a> <a id="103958" href="ualib.html#103943" class="Bound">g</a> <a id="103960" href="ualib.html#21378" class="Function Operator">∣</a> <a id="103962" class="Symbol">((</a><a id="103964" href="ualib.html#103934" class="Bound">𝑓</a> <a id="103966" href="ualib.html#38193" class="Function Operator">̂</a> <a id="103968" href="ualib.html#103937" class="Bound">𝑨</a><a id="103969" class="Symbol">)</a> <a id="103971" href="ualib.html#103947" class="Bound">𝒂</a><a id="103972" class="Symbol">))</a>    <a id="103978" href="MGS-MLTT.html#5997" class="Function Operator">≡⟨</a> <a id="103981" href="ualib.html#21456" class="Function Operator">∥</a> <a id="103983" href="ualib.html#103943" class="Bound">g</a> <a id="103985" href="ualib.html#21456" class="Function Operator">∥</a> <a id="103987" href="ualib.html#103934" class="Bound">𝑓</a> <a id="103989" href="ualib.html#103947" class="Bound">𝒂</a> <a id="103991" href="MGS-MLTT.html#5997" class="Function Operator">⟩</a>
  <a id="103995" class="Symbol">(</a><a id="103996" href="ualib.html#103934" class="Bound">𝑓</a> <a id="103998" href="ualib.html#38193" class="Function Operator">̂</a> <a id="104000" href="ualib.html#103940" class="Bound">𝑩</a><a id="104001" class="Symbol">)(</a><a id="104003" href="ualib.html#21378" class="Function Operator">∣</a> <a id="104005" href="ualib.html#103943" class="Bound">g</a> <a id="104007" href="ualib.html#21378" class="Function Operator">∣</a> <a id="104009" href="MGS-MLTT.html#3813" class="Function Operator">∘</a> <a id="104011" href="ualib.html#103947" class="Bound">𝒂</a><a id="104012" class="Symbol">)</a>     <a id="104018" href="MGS-MLTT.html#5997" class="Function Operator">≡⟨</a> <a id="104021" href="MGS-MLTT.html#6613" class="Function">ap</a> <a id="104024" class="Symbol">(_</a> <a id="104027" href="ualib.html#38193" class="Function Operator">̂</a> <a id="104029" href="ualib.html#103940" class="Bound">𝑩</a><a id="104030" class="Symbol">)(</a><a id="104032" href="ualib.html#103930" class="Bound">fe</a> <a id="104035" href="ualib.html#103949" class="Bound">p</a><a id="104036" class="Symbol">)</a> <a id="104038" href="MGS-MLTT.html#5997" class="Function Operator">⟩</a>
  <a id="104042" class="Symbol">(</a><a id="104043" href="ualib.html#103934" class="Bound">𝑓</a> <a id="104045" href="ualib.html#38193" class="Function Operator">̂</a> <a id="104047" href="ualib.html#103940" class="Bound">𝑩</a><a id="104048" class="Symbol">)(</a><a id="104050" href="ualib.html#21378" class="Function Operator">∣</a> <a id="104052" href="ualib.html#103945" class="Bound">h</a> <a id="104054" href="ualib.html#21378" class="Function Operator">∣</a> <a id="104056" href="MGS-MLTT.html#3813" class="Function Operator">∘</a> <a id="104058" href="ualib.html#103947" class="Bound">𝒂</a><a id="104059" class="Symbol">)</a>     <a id="104065" href="MGS-MLTT.html#5997" class="Function Operator">≡⟨</a> <a id="104068" class="Symbol">(</a><a id="104069" href="ualib.html#21456" class="Function Operator">∥</a> <a id="104071" href="ualib.html#103945" class="Bound">h</a> <a id="104073" href="ualib.html#21456" class="Function Operator">∥</a> <a id="104075" href="ualib.html#103934" class="Bound">𝑓</a> <a id="104077" href="ualib.html#103947" class="Bound">𝒂</a><a id="104078" class="Symbol">)</a><a id="104079" href="MGS-MLTT.html#6125" class="Function Operator">⁻¹</a> <a id="104082" href="MGS-MLTT.html#5997" class="Function Operator">⟩</a>
  <a id="104086" href="ualib.html#21378" class="Function Operator">∣</a> <a id="104088" href="ualib.html#103945" class="Bound">h</a> <a id="104090" href="ualib.html#21378" class="Function Operator">∣</a> <a id="104092" class="Symbol">((</a><a id="104094" href="ualib.html#103934" class="Bound">𝑓</a> <a id="104096" href="ualib.html#38193" class="Function Operator">̂</a> <a id="104098" href="ualib.html#103937" class="Bound">𝑨</a><a id="104099" class="Symbol">)</a> <a id="104101" href="ualib.html#103947" class="Bound">𝒂</a><a id="104102" class="Symbol">)</a>      <a id="104109" href="MGS-MLTT.html#6079" class="Function Operator">∎</a>
</pre>
<p>Thus, <code class="language-plaintext highlighter-rouge">𝑬𝑯</code> is a subuniverse of <code class="language-plaintext highlighter-rouge">A</code>.</p>
<pre class="Agda">
 <a id="birkhoff.𝑬𝑯-is-subuniverse"></a><a id="104172" href="ualib.html#104172" class="Function">𝑬𝑯-is-subuniverse</a> <a id="104190" class="Symbol">:</a> <a id="104192" href="MGS-FunExt-from-Univalence.html#393" class="Function">funext</a> <a id="104199" href="ualib.html#102720" class="Bound">𝓥</a> <a id="104201" href="ualib.html#102729" class="Bound">𝓤</a> <a id="104203" class="Symbol">→</a> <a id="104205" class="Symbol">{</a><a id="104206" href="ualib.html#104206" class="Bound">𝑨</a> <a id="104208" href="ualib.html#104208" class="Bound">𝑩</a> <a id="104210" class="Symbol">:</a> <a id="104212" href="ualib.html#35648" class="Function">Algebra</a> <a id="104220" href="ualib.html#102729" class="Bound">𝓤</a> <a id="104222" href="ualib.html#102704" class="Bound">𝑆</a><a id="104223" class="Symbol">}(</a><a id="104225" href="ualib.html#104225" class="Bound">g</a> <a id="104227" href="ualib.html#104227" class="Bound">h</a> <a id="104229" class="Symbol">:</a> <a id="104231" href="ualib.html#51876" class="Function">hom</a> <a id="104235" href="ualib.html#104206" class="Bound">𝑨</a> <a id="104237" href="ualib.html#104208" class="Bound">𝑩</a><a id="104238" class="Symbol">)</a> <a id="104240" class="Symbol">→</a> <a id="104242" href="ualib.html#69851" class="Record">Subuniverse</a> <a id="104254" class="Symbol">{</a><a id="104255" class="Argument">𝑨</a> <a id="104257" class="Symbol">=</a> <a id="104259" href="ualib.html#104206" class="Bound">𝑨</a><a id="104260" class="Symbol">}</a>

 <a id="104264" href="ualib.html#104172" class="Function">𝑬𝑯-is-subuniverse</a> <a id="104282" href="ualib.html#104282" class="Bound">fe</a> <a id="104285" class="Symbol">{</a><a id="104286" href="ualib.html#104286" class="Bound">𝑨</a><a id="104287" class="Symbol">}</a> <a id="104289" class="Symbol">{</a><a id="104290" href="ualib.html#104290" class="Bound">𝑩</a><a id="104291" class="Symbol">}</a> <a id="104293" href="ualib.html#104293" class="Bound">g</a> <a id="104295" href="ualib.html#104295" class="Bound">h</a> <a id="104297" class="Symbol">=</a> <a id="104299" href="ualib.html#69917" class="InductiveConstructor">mksub</a> <a id="104305" class="Symbol">(</a><a id="104306" href="ualib.html#103362" class="Function">𝑬𝑯</a> <a id="104309" class="Symbol">{</a><a id="104310" href="ualib.html#104286" class="Bound">𝑨</a><a id="104311" class="Symbol">}{</a><a id="104313" href="ualib.html#104290" class="Bound">𝑩</a><a id="104314" class="Symbol">}</a> <a id="104316" href="ualib.html#104293" class="Bound">g</a> <a id="104318" href="ualib.html#104295" class="Bound">h</a><a id="104319" class="Symbol">)</a> <a id="104321" class="Symbol">λ</a> <a id="104323" href="ualib.html#104323" class="Bound">𝑓</a> <a id="104325" href="ualib.html#104325" class="Bound">𝒂</a> <a id="104327" href="ualib.html#104327" class="Bound">x</a> <a id="104329" class="Symbol">→</a> <a id="104331" href="ualib.html#103635" class="Function">𝑬𝑯-is-closed</a> <a id="104344" href="ualib.html#104282" class="Bound">fe</a> <a id="104347" class="Symbol">{</a><a id="104348" href="ualib.html#104323" class="Bound">𝑓</a><a id="104349" class="Symbol">}{</a><a id="104351" href="ualib.html#104286" class="Bound">𝑨</a><a id="104352" class="Symbol">}{</a><a id="104354" href="ualib.html#104290" class="Bound">𝑩</a><a id="104355" class="Symbol">}</a> <a id="104357" href="ualib.html#104293" class="Bound">g</a> <a id="104359" href="ualib.html#104295" class="Bound">h</a> <a id="104361" href="ualib.html#104325" class="Bound">𝒂</a> <a id="104363" href="ualib.html#104327" class="Bound">x</a>
</pre>

<h3 id="homomorphism-determination">Homomorphism determination</h3>

<p>The <a href="https://gitlab.com/ualib/ualib.gitlab.io/-/blob/master/homomorphisms.lagda.rst">homomorphisms module</a> formalizes the notion of homomorphism and proves some basic facts about them. Here we show that homomorphisms are determined by their values on a generating set. This is proved here, and not in the <a href="https://gitlab.com/ualib/ualib.gitlab.io/-/blob/master/homomorphisms.lagda.rst">homomorphisms module</a> because we need <code class="language-plaintext highlighter-rouge">Sg</code> from the <code class="language-plaintext highlighter-rouge">subuniverses</code> module.</p>

<pre class="Agda">
 <a id="birkhoff.HomUnique"></a><a id="104886" href="ualib.html#104886" class="Function">HomUnique</a> <a id="104896" class="Symbol">:</a> <a id="104898" href="MGS-FunExt-from-Univalence.html#393" class="Function">funext</a> <a id="104905" href="ualib.html#102720" class="Bound">𝓥</a> <a id="104907" href="ualib.html#102729" class="Bound">𝓤</a> <a id="104909" class="Symbol">→</a> <a id="104911" class="Symbol">{</a><a id="104912" href="ualib.html#104912" class="Bound">𝑨</a> <a id="104914" href="ualib.html#104914" class="Bound">𝑩</a> <a id="104916" class="Symbol">:</a> <a id="104918" href="ualib.html#35648" class="Function">Algebra</a> <a id="104926" href="ualib.html#102729" class="Bound">𝓤</a> <a id="104928" href="ualib.html#102704" class="Bound">𝑆</a><a id="104929" class="Symbol">}</a>
             <a id="104944" class="Symbol">(</a><a id="104945" href="ualib.html#104945" class="Bound">X</a> <a id="104947" class="Symbol">:</a> <a id="104949" href="ualib.html#25725" class="Function">Pred</a> <a id="104954" href="ualib.html#21378" class="Function Operator">∣</a> <a id="104956" href="ualib.html#104912" class="Bound">𝑨</a> <a id="104958" href="ualib.html#21378" class="Function Operator">∣</a> <a id="104960" href="ualib.html#102729" class="Bound">𝓤</a><a id="104961" class="Symbol">)</a>  <a id="104964" class="Symbol">(</a><a id="104965" href="ualib.html#104965" class="Bound">g</a> <a id="104967" href="ualib.html#104967" class="Bound">h</a> <a id="104969" class="Symbol">:</a> <a id="104971" href="ualib.html#51876" class="Function">hom</a> <a id="104975" href="ualib.html#104912" class="Bound">𝑨</a> <a id="104977" href="ualib.html#104914" class="Bound">𝑩</a><a id="104978" class="Symbol">)</a>
  <a id="104982" class="Symbol">→</a>          <a id="104993" class="Symbol">(∀</a> <a id="104996" class="Symbol">(</a><a id="104997" href="ualib.html#104997" class="Bound">x</a> <a id="104999" class="Symbol">:</a> <a id="105001" href="ualib.html#21378" class="Function Operator">∣</a> <a id="105003" href="ualib.html#104912" class="Bound">𝑨</a> <a id="105005" href="ualib.html#21378" class="Function Operator">∣</a><a id="105006" class="Symbol">)</a>  <a id="105009" class="Symbol">→</a>  <a id="105012" href="ualib.html#104997" class="Bound">x</a> <a id="105014" href="ualib.html#26625" class="Function Operator">∈</a> <a id="105016" href="ualib.html#104945" class="Bound">X</a>  <a id="105019" class="Symbol">→</a>  <a id="105022" href="ualib.html#21378" class="Function Operator">∣</a> <a id="105024" href="ualib.html#104965" class="Bound">g</a> <a id="105026" href="ualib.html#21378" class="Function Operator">∣</a> <a id="105028" href="ualib.html#104997" class="Bound">x</a> <a id="105030" href="ualib.html#19941" class="Datatype Operator">≡</a> <a id="105032" href="ualib.html#21378" class="Function Operator">∣</a> <a id="105034" href="ualib.html#104967" class="Bound">h</a> <a id="105036" href="ualib.html#21378" class="Function Operator">∣</a> <a id="105038" href="ualib.html#104997" class="Bound">x</a><a id="105039" class="Symbol">)</a>
             <a id="105054" class="Comment">---------------------------------------------</a>
  <a id="105102" class="Symbol">→</a>          <a id="105113" class="Symbol">(∀</a> <a id="105116" class="Symbol">(</a><a id="105117" href="ualib.html#105117" class="Bound">a</a> <a id="105119" class="Symbol">:</a> <a id="105121" href="ualib.html#21378" class="Function Operator">∣</a> <a id="105123" href="ualib.html#104912" class="Bound">𝑨</a> <a id="105125" href="ualib.html#21378" class="Function Operator">∣</a><a id="105126" class="Symbol">)</a> <a id="105128" class="Symbol">→</a> <a id="105130" href="ualib.html#105117" class="Bound">a</a> <a id="105132" href="ualib.html#26625" class="Function Operator">∈</a> <a id="105134" href="ualib.html#69997" class="Datatype">Sg</a> <a id="105137" href="ualib.html#104912" class="Bound">𝑨</a> <a id="105139" href="ualib.html#104945" class="Bound">X</a> <a id="105141" class="Symbol">→</a> <a id="105143" href="ualib.html#21378" class="Function Operator">∣</a> <a id="105145" href="ualib.html#104965" class="Bound">g</a> <a id="105147" href="ualib.html#21378" class="Function Operator">∣</a> <a id="105149" href="ualib.html#105117" class="Bound">a</a> <a id="105151" href="ualib.html#19941" class="Datatype Operator">≡</a> <a id="105153" href="ualib.html#21378" class="Function Operator">∣</a> <a id="105155" href="ualib.html#104967" class="Bound">h</a> <a id="105157" href="ualib.html#21378" class="Function Operator">∣</a> <a id="105159" href="ualib.html#105117" class="Bound">a</a><a id="105160" class="Symbol">)</a>

 <a id="105164" href="ualib.html#104886" class="Function">HomUnique</a> <a id="105174" class="Symbol">_</a> <a id="105176" class="Symbol">_</a> <a id="105178" class="Symbol">_</a> <a id="105180" class="Symbol">_</a> <a id="105182" href="ualib.html#105182" class="Bound">gx≡hx</a> <a id="105188" href="ualib.html#105188" class="Bound">a</a> <a id="105190" class="Symbol">(</a><a id="105191" href="ualib.html#70074" class="InductiveConstructor">var</a> <a id="105195" href="ualib.html#105195" class="Bound">x</a><a id="105196" class="Symbol">)</a> <a id="105198" class="Symbol">=</a> <a id="105200" class="Symbol">(</a><a id="105201" href="ualib.html#105182" class="Bound">gx≡hx</a><a id="105206" class="Symbol">)</a> <a id="105208" href="ualib.html#105188" class="Bound">a</a> <a id="105210" href="ualib.html#105195" class="Bound">x</a>

 <a id="105214" href="ualib.html#104886" class="Function">HomUnique</a> <a id="105224" href="ualib.html#105224" class="Bound">fe</a> <a id="105227" class="Symbol">{</a><a id="105228" href="ualib.html#105228" class="Bound">𝑨</a><a id="105229" class="Symbol">}{</a><a id="105231" href="ualib.html#105231" class="Bound">𝑩</a><a id="105232" class="Symbol">}</a> <a id="105234" href="ualib.html#105234" class="Bound">X</a> <a id="105236" href="ualib.html#105236" class="Bound">g</a> <a id="105238" href="ualib.html#105238" class="Bound">h</a> <a id="105240" href="ualib.html#105240" class="Bound">gx≡hx</a> <a id="105246" href="ualib.html#105246" class="Bound">a</a> <a id="105248" class="Symbol">(</a><a id="105249" href="ualib.html#70109" class="InductiveConstructor">app</a> <a id="105253" href="ualib.html#105253" class="Bound">𝑓</a> <a id="105255" class="Symbol">{</a><a id="105256" href="ualib.html#105256" class="Bound">𝒂</a><a id="105257" class="Symbol">}</a> <a id="105259" href="ualib.html#105259" class="Bound">im𝒂⊆SgX</a><a id="105266" class="Symbol">)</a> <a id="105268" class="Symbol">=</a>
   <a id="105273" href="ualib.html#21378" class="Function Operator">∣</a> <a id="105275" href="ualib.html#105236" class="Bound">g</a> <a id="105277" href="ualib.html#21378" class="Function Operator">∣</a> <a id="105279" class="Symbol">((</a><a id="105281" href="ualib.html#105253" class="Bound">𝑓</a> <a id="105283" href="ualib.html#38193" class="Function Operator">̂</a> <a id="105285" href="ualib.html#105228" class="Bound">𝑨</a><a id="105286" class="Symbol">)</a> <a id="105288" href="ualib.html#105256" class="Bound">𝒂</a><a id="105289" class="Symbol">)</a>     <a id="105295" href="MGS-MLTT.html#5997" class="Function Operator">≡⟨</a> <a id="105298" href="ualib.html#21456" class="Function Operator">∥</a> <a id="105300" href="ualib.html#105236" class="Bound">g</a> <a id="105302" href="ualib.html#21456" class="Function Operator">∥</a> <a id="105304" href="ualib.html#105253" class="Bound">𝑓</a> <a id="105306" href="ualib.html#105256" class="Bound">𝒂</a> <a id="105308" href="MGS-MLTT.html#5997" class="Function Operator">⟩</a>
   <a id="105313" class="Symbol">(</a><a id="105314" href="ualib.html#105253" class="Bound">𝑓</a> <a id="105316" href="ualib.html#38193" class="Function Operator">̂</a> <a id="105318" href="ualib.html#105231" class="Bound">𝑩</a><a id="105319" class="Symbol">)(</a><a id="105321" href="ualib.html#21378" class="Function Operator">∣</a> <a id="105323" href="ualib.html#105236" class="Bound">g</a> <a id="105325" href="ualib.html#21378" class="Function Operator">∣</a> <a id="105327" href="MGS-MLTT.html#3813" class="Function Operator">∘</a> <a id="105329" href="ualib.html#105256" class="Bound">𝒂</a> <a id="105331" class="Symbol">)</a>   <a id="105335" href="MGS-MLTT.html#5997" class="Function Operator">≡⟨</a> <a id="105338" href="MGS-MLTT.html#6613" class="Function">ap</a> <a id="105341" class="Symbol">(</a><a id="105342" href="ualib.html#105253" class="Bound">𝑓</a> <a id="105344" href="ualib.html#38193" class="Function Operator">̂</a> <a id="105346" href="ualib.html#105231" class="Bound">𝑩</a><a id="105347" class="Symbol">)(</a><a id="105349" href="ualib.html#105224" class="Bound">fe</a> <a id="105352" href="ualib.html#105461" class="Function">induction-hypothesis</a><a id="105372" class="Symbol">)</a> <a id="105374" href="MGS-MLTT.html#5997" class="Function Operator">⟩</a>
   <a id="105379" class="Symbol">(</a><a id="105380" href="ualib.html#105253" class="Bound">𝑓</a> <a id="105382" href="ualib.html#38193" class="Function Operator">̂</a> <a id="105384" href="ualib.html#105231" class="Bound">𝑩</a><a id="105385" class="Symbol">)(</a><a id="105387" href="ualib.html#21378" class="Function Operator">∣</a> <a id="105389" href="ualib.html#105238" class="Bound">h</a> <a id="105391" href="ualib.html#21378" class="Function Operator">∣</a> <a id="105393" href="MGS-MLTT.html#3813" class="Function Operator">∘</a> <a id="105395" href="ualib.html#105256" class="Bound">𝒂</a><a id="105396" class="Symbol">)</a>    <a id="105401" href="MGS-MLTT.html#5997" class="Function Operator">≡⟨</a> <a id="105404" class="Symbol">(</a> <a id="105406" href="ualib.html#21456" class="Function Operator">∥</a> <a id="105408" href="ualib.html#105238" class="Bound">h</a> <a id="105410" href="ualib.html#21456" class="Function Operator">∥</a> <a id="105412" href="ualib.html#105253" class="Bound">𝑓</a> <a id="105414" href="ualib.html#105256" class="Bound">𝒂</a> <a id="105416" class="Symbol">)</a><a id="105417" href="MGS-MLTT.html#6125" class="Function Operator">⁻¹</a> <a id="105420" href="MGS-MLTT.html#5997" class="Function Operator">⟩</a>
   <a id="105425" href="ualib.html#21378" class="Function Operator">∣</a> <a id="105427" href="ualib.html#105238" class="Bound">h</a> <a id="105429" href="ualib.html#21378" class="Function Operator">∣</a> <a id="105431" class="Symbol">((</a><a id="105433" href="ualib.html#105253" class="Bound">𝑓</a> <a id="105435" href="ualib.html#38193" class="Function Operator">̂</a> <a id="105437" href="ualib.html#105228" class="Bound">𝑨</a><a id="105438" class="Symbol">)</a> <a id="105440" href="ualib.html#105256" class="Bound">𝒂</a> <a id="105442" class="Symbol">)</a>    <a id="105447" href="MGS-MLTT.html#6079" class="Function Operator">∎</a>
  <a id="105451" class="Keyword">where</a> 
   <a id="105461" href="ualib.html#105461" class="Function">induction-hypothesis</a> <a id="105482" class="Symbol">=</a> <a id="105484" class="Symbol">λ</a> <a id="105486" href="ualib.html#105486" class="Bound">x</a> <a id="105488" class="Symbol">→</a> <a id="105490" href="ualib.html#104886" class="Function">HomUnique</a> <a id="105500" href="ualib.html#105224" class="Bound">fe</a> <a id="105503" class="Symbol">{</a><a id="105504" href="ualib.html#105228" class="Bound">𝑨</a><a id="105505" class="Symbol">}{</a><a id="105507" href="ualib.html#105231" class="Bound">𝑩</a><a id="105508" class="Symbol">}</a> <a id="105510" href="ualib.html#105234" class="Bound">X</a> <a id="105512" href="ualib.html#105236" class="Bound">g</a> <a id="105514" href="ualib.html#105238" class="Bound">h</a> <a id="105516" href="ualib.html#105240" class="Bound">gx≡hx</a> <a id="105522" class="Symbol">(</a><a id="105523" href="ualib.html#105256" class="Bound">𝒂</a> <a id="105525" href="ualib.html#105486" class="Bound">x</a><a id="105526" class="Symbol">)</a> <a id="105528" class="Symbol">(</a> <a id="105530" href="ualib.html#105259" class="Bound">im𝒂⊆SgX</a> <a id="105538" href="ualib.html#105486" class="Bound">x</a> <a id="105540" class="Symbol">)</a>
</pre>

<h3 id="a-formal-proof-of-birkhoffs-theorem">A formal proof of Birkhoff’s theorem</h3>

<p>Here’s the statement we wish to prove:</p>

<pre><code class="language-agda"> birkhoff : (𝑨 : Algebra 𝓤 𝑆) → 𝑨 ∈ Mod (Th VClo)
           ---------------------------------------
  →                      𝑨 ∈ VClo
</code></pre>

<p>Here’s the partial proof:</p>

<pre><code class="language-agda"> birkhoff 𝑨 A∈ModThV = 𝑨∈VClo
  where
   ℋ : X ↠ 𝑨
   ℋ = 𝕏 𝑨

   h₀ : X → ∣ 𝑨 ∣
   h₀ = fst ℋ

   h : hom 𝑻 𝑨
   h = lift-hom{𝑨 = 𝑨} h₀

   Ψ⊆ThVClo : Ψ ⊆ Th VClo
   Ψ⊆ThVClo {p , q} pΨq =
    (lr-implication (ThHSP-axiomatizes p q)) (Ψ⊆Th𝒦 p q pΨq)

   Ψ⊆A⊧ : ∀{p}{q} → (p , q) ∈ Ψ → 𝑨 ⊧ p ≈ q
   Ψ⊆A⊧ {p} {q} pΨq = A∈ModThV p q (Ψ⊆ThVClo {p , q} pΨq)

   Ψ⊆Kerh : Ψ ⊆ KER-pred{B = ∣ 𝑨 ∣} ∣ h ∣
   Ψ⊆Kerh {p , q} pΨq = hp≡hq
    where
     hp≡hq : ∣ h ∣ p ≡ ∣ h ∣ q
     hp≡hq = hom-id-compatibility p q 𝑨 h (Ψ⊆A⊧{p}{q} pΨq)

   --We need to find 𝑪 : Algebra 𝒰 𝑆 such that 𝑪 ∈ VClo and ∃ ϕ : hom 𝑪 𝑨 with ϕE : Epic ∣ ϕ ∣.
   --Then we can prove 𝑨 ∈ VClo 𝒦 by vhom 𝑪∈VClo (𝑨 , ∣ ϕ ∣ , (∥ ϕ ∥ , ϕE))
   -- since vhom : {𝑨 : Algebra 𝓤 𝑆} → 𝑨 ∈ VClo 𝒦 → ((𝑩 , _ , _) : HomImagesOf 𝑨) → 𝑩 ∈ VClo 𝒦
   𝑪 : Algebra 𝓤 𝑆
   𝑪 = {!!}

   ϕ : Σ h ꞉ (hom 𝑪 𝑨) , Epic ∣ h ∣
   ϕ = {!!}

   hic : HomImagesOf 𝑪
   hic = (𝑨 , ∣ fst ϕ ∣ , (∥ fst ϕ ∥ , snd ϕ) )

   𝑨∈VClo : 𝑨 ∈ VClo
   𝑨∈VClo = vhom{𝑪} {!!} hic
</code></pre>

<hr />


    </div><!-- /.container -->
  </body>
</html>
