---
layout: default
title : Algebras.Algebras module (Agda Universal Algebra Library)
date : 2021-01-12
author: William DeMeo
---

### <a id="algebras">Algebras</a>

This section presents the [Algebras.Algebras][] module of the [Agda Universal Algebra Library][].

<pre class="Agda">

<a id="280" class="Symbol">{-#</a> <a id="284" class="Keyword">OPTIONS</a> <a id="292" class="Pragma">--without-K</a> <a id="304" class="Pragma">--exact-split</a> <a id="318" class="Pragma">--safe</a> <a id="325" class="Symbol">#-}</a>

<a id="330" class="Keyword">module</a> <a id="337" href="Algebras.Algebras.html" class="Module">Algebras.Algebras</a> <a id="355" class="Keyword">where</a>

<a id="362" class="Keyword">open</a> <a id="367" class="Keyword">import</a> <a id="374" href="Algebras.Signatures.html" class="Module">Algebras.Signatures</a> <a id="394" class="Keyword">public</a>

</pre>


#### <a id="algebra-types">Algebra types</a>

Recall, the type `Signature 𝓞 𝓥` was defined in the [Algebras.Signatures][] module as the dependent pair type `Σ F ꞉ 𝓞 ̇ , (F → 𝓥 ̇)`. For a fixed signature `𝑆 : Signature 𝓞 𝓥` and universe `𝓤`, we define the type of *algebras in the signature* 𝑆 (or 𝑆-*algebras*) and with *domain* (or *carrier*) `𝐴 : 𝓤 ̇` &nbsp as follows.<sup>[1](Algebras.Algebras.html#fn1)</sup>

<pre class="Agda">

<a id="Algebra"></a><a id="844" href="Algebras.Algebras.html#844" class="Function">Algebra</a> <a id="852" class="Symbol">:</a> <a id="854" class="Symbol">(</a><a id="855" href="Algebras.Algebras.html#855" class="Bound">𝓤</a> <a id="857" class="Symbol">:</a> <a id="859" href="Universes.html#205" class="Postulate">Universe</a><a id="867" class="Symbol">)(</a><a id="869" href="Algebras.Algebras.html#869" class="Bound">𝑆</a> <a id="871" class="Symbol">:</a> <a id="873" href="Algebras.Signatures.html#1238" class="Function">Signature</a> <a id="883" href="Overture.Preliminaries.html#8157" class="Generalizable">𝓞</a> <a id="885" href="Universes.html#262" class="Generalizable">𝓥</a><a id="886" class="Symbol">)</a> <a id="888" class="Symbol">→</a> <a id="890" href="Overture.Preliminaries.html#8157" class="Generalizable">𝓞</a> <a id="892" href="Agda.Primitive.html#636" class="Primitive Operator">⊔</a> <a id="894" href="Universes.html#262" class="Generalizable">𝓥</a> <a id="896" href="Agda.Primitive.html#636" class="Primitive Operator">⊔</a> <a id="898" href="Algebras.Algebras.html#855" class="Bound">𝓤</a> <a id="900" href="Universes.html#181" class="Primitive Operator">⁺</a> <a id="902" href="Universes.html#403" class="Function Operator">̇</a>

<a id="905" href="Algebras.Algebras.html#844" class="Function">Algebra</a> <a id="913" href="Algebras.Algebras.html#913" class="Bound">𝓤</a> <a id="915" href="Algebras.Algebras.html#915" class="Bound">𝑆</a> <a id="917" class="Symbol">=</a> <a id="919" href="MGS-MLTT.html#3074" class="Function">Σ</a> <a id="921" href="Algebras.Algebras.html#921" class="Bound">A</a> <a id="923" href="MGS-MLTT.html#3074" class="Function">꞉</a> <a id="925" href="Algebras.Algebras.html#913" class="Bound">𝓤</a> <a id="927" href="Universes.html#403" class="Function Operator">̇</a> <a id="929" href="MGS-MLTT.html#3074" class="Function">,</a>                     <a id="951" class="Comment">-- the domain</a>
              <a id="979" href="MGS-MLTT.html#3635" class="Function">Π</a> <a id="981" href="Algebras.Algebras.html#981" class="Bound">f</a> <a id="983" href="MGS-MLTT.html#3635" class="Function">꞉</a> <a id="985" href="Overture.Preliminaries.html#13832" class="Function Operator">∣</a> <a id="987" href="Algebras.Algebras.html#915" class="Bound">𝑆</a> <a id="989" href="Overture.Preliminaries.html#13832" class="Function Operator">∣</a> <a id="991" href="MGS-MLTT.html#3635" class="Function">,</a> <a id="993" href="Algebras.Signatures.html#626" class="Function">Op</a> <a id="996" class="Symbol">(</a><a id="997" href="Overture.Preliminaries.html#13884" class="Function Operator">∥</a> <a id="999" href="Algebras.Algebras.html#915" class="Bound">𝑆</a> <a id="1001" href="Overture.Preliminaries.html#13884" class="Function Operator">∥</a> <a id="1003" href="Algebras.Algebras.html#981" class="Bound">f</a><a id="1004" class="Symbol">)</a> <a id="1006" href="Algebras.Algebras.html#921" class="Bound">A</a>    <a id="1011" class="Comment">-- the basic operations</a>

</pre>

We might refer to inhabitants of this type as ∞-*algebras* because their domains can be of arbitrary type and need not be truncated at some level and, in particular, need to be a set. (See the [Relations.Truncation][] module.)

We might take this opportunity to define the type of 0-*algebras*, that is, algebras whose domains are sets, which is probably closer to what most of us think of when doing informal universal algebra.  However, below we will only need to know that the domains of certain algebras are sets in a few places in the [UALib][], so it seems preferable to work with general (∞-)algebras throughout and then explicitly postulate [uniquness of identity proofs](Relations.Truncation.html#uniqueness-of-identity-proofs) when and only when necessary.



#### <a id="algebras-as-record-types">Algebras as record types</a>

Some people prefer to represent algebraic structures in type theory using records, and for those folks we offer the following (equivalent) definition.

<pre class="Agda">

<a id="2052" class="Keyword">record</a> <a id="algebra"></a><a id="2059" href="Algebras.Algebras.html#2059" class="Record">algebra</a> <a id="2067" class="Symbol">(</a><a id="2068" href="Algebras.Algebras.html#2068" class="Bound">𝓤</a> <a id="2070" class="Symbol">:</a> <a id="2072" href="Universes.html#205" class="Postulate">Universe</a><a id="2080" class="Symbol">)</a> <a id="2082" class="Symbol">(</a><a id="2083" href="Algebras.Algebras.html#2083" class="Bound">𝑆</a> <a id="2085" class="Symbol">:</a> <a id="2087" href="Algebras.Signatures.html#1238" class="Function">Signature</a> <a id="2097" href="Overture.Preliminaries.html#8157" class="Generalizable">𝓞</a> <a id="2099" href="Universes.html#262" class="Generalizable">𝓥</a><a id="2100" class="Symbol">)</a> <a id="2102" class="Symbol">:</a> <a id="2104" class="Symbol">(</a><a id="2105" href="Algebras.Algebras.html#2097" class="Bound">𝓞</a> <a id="2107" href="Agda.Primitive.html#636" class="Primitive Operator">⊔</a> <a id="2109" href="Algebras.Algebras.html#2099" class="Bound">𝓥</a> <a id="2111" href="Agda.Primitive.html#636" class="Primitive Operator">⊔</a> <a id="2113" href="Algebras.Algebras.html#2068" class="Bound">𝓤</a><a id="2114" class="Symbol">)</a> <a id="2116" href="Universes.html#181" class="Primitive Operator">⁺</a> <a id="2118" href="Universes.html#403" class="Function Operator">̇</a> <a id="2120" class="Keyword">where</a>
 <a id="2127" class="Keyword">constructor</a> <a id="mkalg"></a><a id="2139" href="Algebras.Algebras.html#2139" class="InductiveConstructor">mkalg</a>
 <a id="2146" class="Keyword">field</a>
  <a id="algebra.univ"></a><a id="2154" href="Algebras.Algebras.html#2154" class="Field">univ</a> <a id="2159" class="Symbol">:</a> <a id="2161" href="Algebras.Algebras.html#2068" class="Bound">𝓤</a> <a id="2163" href="Universes.html#403" class="Function Operator">̇</a>
  <a id="algebra.op"></a><a id="2167" href="Algebras.Algebras.html#2167" class="Field">op</a> <a id="2170" class="Symbol">:</a> <a id="2172" class="Symbol">(</a><a id="2173" href="Algebras.Algebras.html#2173" class="Bound">f</a> <a id="2175" class="Symbol">:</a> <a id="2177" href="Overture.Preliminaries.html#13832" class="Function Operator">∣</a> <a id="2179" href="Algebras.Algebras.html#2083" class="Bound">𝑆</a> <a id="2181" href="Overture.Preliminaries.html#13832" class="Function Operator">∣</a><a id="2182" class="Symbol">)</a> <a id="2184" class="Symbol">→</a> <a id="2186" class="Symbol">((</a><a id="2188" href="Overture.Preliminaries.html#13884" class="Function Operator">∥</a> <a id="2190" href="Algebras.Algebras.html#2083" class="Bound">𝑆</a> <a id="2192" href="Overture.Preliminaries.html#13884" class="Function Operator">∥</a> <a id="2194" href="Algebras.Algebras.html#2173" class="Bound">f</a><a id="2195" class="Symbol">)</a> <a id="2197" class="Symbol">→</a> <a id="2199" href="Algebras.Algebras.html#2154" class="Field">univ</a><a id="2203" class="Symbol">)</a> <a id="2205" class="Symbol">→</a> <a id="2207" href="Algebras.Algebras.html#2154" class="Field">univ</a>


</pre>

This representation of algebras as inhabitants of a record type is equivalent to the representation using Sigma types in the sense that a bi-implication between the two representations is obvious.

<pre class="Agda">

<a id="2438" class="Keyword">module</a> <a id="2445" href="Algebras.Algebras.html#2445" class="Module">_</a> <a id="2447" class="Symbol">{</a><a id="2448" href="Algebras.Algebras.html#2448" class="Bound">𝑆</a> <a id="2450" class="Symbol">:</a> <a id="2452" href="Algebras.Signatures.html#1238" class="Function">Signature</a> <a id="2462" href="Overture.Preliminaries.html#8157" class="Generalizable">𝓞</a> <a id="2464" href="Universes.html#262" class="Generalizable">𝓥</a><a id="2465" class="Symbol">}</a> <a id="2467" class="Keyword">where</a>

 <a id="2475" class="Keyword">open</a> <a id="2480" href="Algebras.Algebras.html#2059" class="Module">algebra</a>

 <a id="2490" href="Algebras.Algebras.html#2490" class="Function">algebra→Algebra</a> <a id="2506" class="Symbol">:</a> <a id="2508" href="Algebras.Algebras.html#2059" class="Record">algebra</a> <a id="2516" href="Universes.html#260" class="Generalizable">𝓤</a> <a id="2518" href="Algebras.Algebras.html#2448" class="Bound">𝑆</a> <a id="2520" class="Symbol">→</a> <a id="2522" href="Algebras.Algebras.html#844" class="Function">Algebra</a> <a id="2530" href="Universes.html#260" class="Generalizable">𝓤</a> <a id="2532" href="Algebras.Algebras.html#2448" class="Bound">𝑆</a>
 <a id="2535" href="Algebras.Algebras.html#2490" class="Function">algebra→Algebra</a> <a id="2551" href="Algebras.Algebras.html#2551" class="Bound">𝑨</a> <a id="2553" class="Symbol">=</a> <a id="2555" class="Symbol">(</a><a id="2556" href="Algebras.Algebras.html#2154" class="Field">univ</a> <a id="2561" href="Algebras.Algebras.html#2551" class="Bound">𝑨</a> <a id="2563" href="Overture.Preliminaries.html#13136" class="InductiveConstructor Operator">,</a> <a id="2565" href="Algebras.Algebras.html#2167" class="Field">op</a> <a id="2568" href="Algebras.Algebras.html#2551" class="Bound">𝑨</a><a id="2569" class="Symbol">)</a>

 <a id="2573" href="Algebras.Algebras.html#2573" class="Function">Algebra→algebra</a> <a id="2589" class="Symbol">:</a> <a id="2591" href="Algebras.Algebras.html#844" class="Function">Algebra</a> <a id="2599" href="Universes.html#260" class="Generalizable">𝓤</a> <a id="2601" href="Algebras.Algebras.html#2448" class="Bound">𝑆</a> <a id="2603" class="Symbol">→</a> <a id="2605" href="Algebras.Algebras.html#2059" class="Record">algebra</a> <a id="2613" href="Universes.html#260" class="Generalizable">𝓤</a> <a id="2615" href="Algebras.Algebras.html#2448" class="Bound">𝑆</a>
 <a id="2618" href="Algebras.Algebras.html#2573" class="Function">Algebra→algebra</a> <a id="2634" href="Algebras.Algebras.html#2634" class="Bound">𝑨</a> <a id="2636" class="Symbol">=</a> <a id="2638" href="Algebras.Algebras.html#2139" class="InductiveConstructor">mkalg</a> <a id="2644" href="Overture.Preliminaries.html#13832" class="Function Operator">∣</a> <a id="2646" href="Algebras.Algebras.html#2634" class="Bound">𝑨</a> <a id="2648" href="Overture.Preliminaries.html#13832" class="Function Operator">∣</a> <a id="2650" href="Overture.Preliminaries.html#13884" class="Function Operator">∥</a> <a id="2652" href="Algebras.Algebras.html#2634" class="Bound">𝑨</a> <a id="2654" href="Overture.Preliminaries.html#13884" class="Function Operator">∥</a>

</pre>


#### <a id="operation-interpretation-syntax">Operation interpretation syntax</a>

We now define a convenient shorthand for the interpretation of an operation symbol. This looks more similar to the standard notation one finds in the literature as compared to the double bar notation we started with, so we will use this new notation almost exclusively in the remaining modules of the [UALib][].

<pre class="Agda">

 <a id="3080" href="Algebras.Algebras.html#3080" class="Function Operator">_̂_</a> <a id="3084" class="Symbol">:</a> <a id="3086" class="Symbol">(</a><a id="3087" href="Algebras.Algebras.html#3087" class="Bound">𝑓</a> <a id="3089" class="Symbol">:</a> <a id="3091" href="Overture.Preliminaries.html#13832" class="Function Operator">∣</a> <a id="3093" href="Algebras.Algebras.html#2448" class="Bound">𝑆</a> <a id="3095" href="Overture.Preliminaries.html#13832" class="Function Operator">∣</a><a id="3096" class="Symbol">)(</a><a id="3098" href="Algebras.Algebras.html#3098" class="Bound">𝑨</a> <a id="3100" class="Symbol">:</a> <a id="3102" href="Algebras.Algebras.html#844" class="Function">Algebra</a> <a id="3110" href="Universes.html#260" class="Generalizable">𝓤</a> <a id="3112" href="Algebras.Algebras.html#2448" class="Bound">𝑆</a><a id="3113" class="Symbol">)</a> <a id="3115" class="Symbol">→</a> <a id="3117" class="Symbol">(</a><a id="3118" href="Overture.Preliminaries.html#13884" class="Function Operator">∥</a> <a id="3120" href="Algebras.Algebras.html#2448" class="Bound">𝑆</a> <a id="3122" href="Overture.Preliminaries.html#13884" class="Function Operator">∥</a> <a id="3124" href="Algebras.Algebras.html#3087" class="Bound">𝑓</a>  <a id="3127" class="Symbol">→</a>  <a id="3130" href="Overture.Preliminaries.html#13832" class="Function Operator">∣</a> <a id="3132" href="Algebras.Algebras.html#3098" class="Bound">𝑨</a> <a id="3134" href="Overture.Preliminaries.html#13832" class="Function Operator">∣</a><a id="3135" class="Symbol">)</a> <a id="3137" class="Symbol">→</a> <a id="3139" href="Overture.Preliminaries.html#13832" class="Function Operator">∣</a> <a id="3141" href="Algebras.Algebras.html#3098" class="Bound">𝑨</a> <a id="3143" href="Overture.Preliminaries.html#13832" class="Function Operator">∣</a>

 <a id="3147" href="Algebras.Algebras.html#3147" class="Bound">𝑓</a> <a id="3149" href="Algebras.Algebras.html#3080" class="Function Operator">̂</a> <a id="3151" href="Algebras.Algebras.html#3151" class="Bound">𝑨</a> <a id="3153" class="Symbol">=</a> <a id="3155" class="Symbol">λ</a> <a id="3157" href="Algebras.Algebras.html#3157" class="Bound">𝑎</a> <a id="3159" class="Symbol">→</a> <a id="3161" class="Symbol">(</a><a id="3162" href="Overture.Preliminaries.html#13884" class="Function Operator">∥</a> <a id="3164" href="Algebras.Algebras.html#3151" class="Bound">𝑨</a> <a id="3166" href="Overture.Preliminaries.html#13884" class="Function Operator">∥</a> <a id="3168" href="Algebras.Algebras.html#3147" class="Bound">𝑓</a><a id="3169" class="Symbol">)</a> <a id="3171" href="Algebras.Algebras.html#3157" class="Bound">𝑎</a>

</pre>

So, if `𝑓 : ∣ 𝑆 ∣` is an operation symbol in the signature `𝑆`, and if `𝑎 : ∥ 𝑆 ∥ 𝑓 → ∣ 𝑨 ∣` is a tuple of the appropriate arity, then `(𝑓 ̂ 𝑨) 𝑎` denotes the operation `𝑓` interpreted in `𝑨` and evaluated at `𝑎`.




#### <a id="lifts-of-algebras">Level lifting algebra types</a>

Recall, in the [section on level lifting and lowering](Overture.Lifts.html#level-lifting-and-lowering), we described the difficulties one may encounter when working with a noncumulative universe hierarchy. We made a promise to provide some domain-specific level lifting and level lowering methods. Here we fulfill this promise by supplying a couple of bespoke tools designed specifically for our operation and algebra types.

<pre class="Agda">


<a id="3909" class="Keyword">module</a> <a id="3916" href="Algebras.Algebras.html#3916" class="Module">_</a> <a id="3918" class="Symbol">{</a><a id="3919" href="Algebras.Algebras.html#3919" class="Bound">𝓘</a> <a id="3921" class="Symbol">:</a> <a id="3923" href="Universes.html#205" class="Postulate">Universe</a><a id="3931" class="Symbol">}</a> <a id="3933" class="Symbol">{</a><a id="3934" href="Algebras.Algebras.html#3934" class="Bound">I</a> <a id="3936" class="Symbol">:</a> <a id="3938" href="Algebras.Algebras.html#3919" class="Bound">𝓘</a> <a id="3940" href="Universes.html#403" class="Function Operator">̇</a><a id="3941" class="Symbol">}{</a><a id="3943" href="Algebras.Algebras.html#3943" class="Bound">A</a> <a id="3945" class="Symbol">:</a> <a id="3947" href="Universes.html#260" class="Generalizable">𝓤</a> <a id="3949" href="Universes.html#403" class="Function Operator">̇</a><a id="3950" class="Symbol">}</a> <a id="3952" class="Keyword">where</a>

 <a id="3960" class="Keyword">open</a> <a id="3965" href="Overture.Lifts.html#2467" class="Module">Lift</a>

 <a id="3972" href="Algebras.Algebras.html#3972" class="Function">Lift-op</a> <a id="3980" class="Symbol">:</a> <a id="3982" class="Symbol">((</a><a id="3984" href="Algebras.Algebras.html#3934" class="Bound">I</a> <a id="3986" class="Symbol">→</a> <a id="3988" href="Algebras.Algebras.html#3943" class="Bound">A</a><a id="3989" class="Symbol">)</a> <a id="3991" class="Symbol">→</a> <a id="3993" href="Algebras.Algebras.html#3943" class="Bound">A</a><a id="3994" class="Symbol">)</a> <a id="3996" class="Symbol">→</a> <a id="3998" class="Symbol">(</a><a id="3999" href="Algebras.Algebras.html#3999" class="Bound">𝓦</a> <a id="4001" class="Symbol">:</a> <a id="4003" href="Universes.html#205" class="Postulate">Universe</a><a id="4011" class="Symbol">)</a> <a id="4013" class="Symbol">→</a> <a id="4015" class="Symbol">((</a><a id="4017" href="Algebras.Algebras.html#3934" class="Bound">I</a> <a id="4019" class="Symbol">→</a> <a id="4021" href="Overture.Lifts.html#2467" class="Record">Lift</a><a id="4025" class="Symbol">{</a><a id="4026" href="Algebras.Algebras.html#3999" class="Bound">𝓦</a><a id="4027" class="Symbol">}</a> <a id="4029" href="Algebras.Algebras.html#3943" class="Bound">A</a><a id="4030" class="Symbol">)</a> <a id="4032" class="Symbol">→</a> <a id="4034" href="Overture.Lifts.html#2467" class="Record">Lift</a> <a id="4039" class="Symbol">{</a><a id="4040" href="Algebras.Algebras.html#3999" class="Bound">𝓦</a><a id="4041" class="Symbol">}</a> <a id="4043" href="Algebras.Algebras.html#3943" class="Bound">A</a><a id="4044" class="Symbol">)</a>
 <a id="4047" href="Algebras.Algebras.html#3972" class="Function">Lift-op</a> <a id="4055" href="Algebras.Algebras.html#4055" class="Bound">f</a> <a id="4057" href="Algebras.Algebras.html#4057" class="Bound">𝓦</a> <a id="4059" class="Symbol">=</a> <a id="4061" class="Symbol">λ</a> <a id="4063" href="Algebras.Algebras.html#4063" class="Bound">x</a> <a id="4065" class="Symbol">→</a> <a id="4067" href="Overture.Lifts.html#2529" class="InductiveConstructor">lift</a> <a id="4072" class="Symbol">(</a><a id="4073" href="Algebras.Algebras.html#4055" class="Bound">f</a> <a id="4075" class="Symbol">(λ</a> <a id="4078" href="Algebras.Algebras.html#4078" class="Bound">i</a> <a id="4080" class="Symbol">→</a> <a id="4082" href="Overture.Lifts.html#2541" class="Field">lower</a> <a id="4088" class="Symbol">(</a><a id="4089" href="Algebras.Algebras.html#4063" class="Bound">x</a> <a id="4091" href="Algebras.Algebras.html#4078" class="Bound">i</a><a id="4092" class="Symbol">)))</a>

<a id="4097" class="Keyword">module</a> <a id="4104" href="Algebras.Algebras.html#4104" class="Module">_</a> <a id="4106" class="Symbol">{</a><a id="4107" href="Algebras.Algebras.html#4107" class="Bound">𝑆</a> <a id="4109" class="Symbol">:</a> <a id="4111" href="Algebras.Signatures.html#1238" class="Function">Signature</a> <a id="4121" href="Overture.Preliminaries.html#8157" class="Generalizable">𝓞</a> <a id="4123" href="Universes.html#262" class="Generalizable">𝓥</a><a id="4124" class="Symbol">}</a>  <a id="4127" class="Keyword">where</a>

 <a id="4135" href="Algebras.Algebras.html#4135" class="Function">Lift-alg</a> <a id="4144" class="Symbol">:</a> <a id="4146" href="Algebras.Algebras.html#844" class="Function">Algebra</a> <a id="4154" href="Universes.html#260" class="Generalizable">𝓤</a> <a id="4156" href="Algebras.Algebras.html#4107" class="Bound">𝑆</a> <a id="4158" class="Symbol">→</a> <a id="4160" class="Symbol">(</a><a id="4161" href="Algebras.Algebras.html#4161" class="Bound">𝓦</a> <a id="4163" class="Symbol">:</a> <a id="4165" href="Universes.html#205" class="Postulate">Universe</a><a id="4173" class="Symbol">)</a> <a id="4175" class="Symbol">→</a> <a id="4177" href="Algebras.Algebras.html#844" class="Function">Algebra</a> <a id="4185" class="Symbol">(</a><a id="4186" href="Universes.html#260" class="Generalizable">𝓤</a> <a id="4188" href="Agda.Primitive.html#636" class="Primitive Operator">⊔</a> <a id="4190" href="Algebras.Algebras.html#4161" class="Bound">𝓦</a><a id="4191" class="Symbol">)</a> <a id="4193" href="Algebras.Algebras.html#4107" class="Bound">𝑆</a>
 <a id="4196" href="Algebras.Algebras.html#4135" class="Function">Lift-alg</a> <a id="4205" href="Algebras.Algebras.html#4205" class="Bound">𝑨</a> <a id="4207" href="Algebras.Algebras.html#4207" class="Bound">𝓦</a> <a id="4209" class="Symbol">=</a> <a id="4211" href="Overture.Lifts.html#2467" class="Record">Lift</a> <a id="4216" href="Overture.Preliminaries.html#13832" class="Function Operator">∣</a> <a id="4218" href="Algebras.Algebras.html#4205" class="Bound">𝑨</a> <a id="4220" href="Overture.Preliminaries.html#13832" class="Function Operator">∣</a> <a id="4222" href="Overture.Preliminaries.html#13136" class="InductiveConstructor Operator">,</a> <a id="4224" class="Symbol">(λ</a> <a id="4227" class="Symbol">(</a><a id="4228" href="Algebras.Algebras.html#4228" class="Bound">𝑓</a> <a id="4230" class="Symbol">:</a> <a id="4232" href="Overture.Preliminaries.html#13832" class="Function Operator">∣</a> <a id="4234" href="Algebras.Algebras.html#4107" class="Bound">𝑆</a> <a id="4236" href="Overture.Preliminaries.html#13832" class="Function Operator">∣</a><a id="4237" class="Symbol">)</a> <a id="4239" class="Symbol">→</a> <a id="4241" href="Algebras.Algebras.html#3972" class="Function">Lift-op</a> <a id="4249" class="Symbol">(</a><a id="4250" href="Algebras.Algebras.html#4228" class="Bound">𝑓</a> <a id="4252" href="Algebras.Algebras.html#3080" class="Function Operator">̂</a> <a id="4254" href="Algebras.Algebras.html#4205" class="Bound">𝑨</a><a id="4255" class="Symbol">)</a> <a id="4257" href="Algebras.Algebras.html#4207" class="Bound">𝓦</a><a id="4258" class="Symbol">)</a>

 <a id="4262" class="Keyword">open</a> <a id="4267" href="Algebras.Algebras.html#2059" class="Module">algebra</a>

 <a id="4277" href="Algebras.Algebras.html#4277" class="Function">Lift-alg-record-type</a> <a id="4298" class="Symbol">:</a> <a id="4300" href="Algebras.Algebras.html#2059" class="Record">algebra</a> <a id="4308" href="Universes.html#260" class="Generalizable">𝓤</a> <a id="4310" href="Algebras.Algebras.html#4107" class="Bound">𝑆</a> <a id="4312" class="Symbol">→</a> <a id="4314" class="Symbol">(</a><a id="4315" href="Algebras.Algebras.html#4315" class="Bound">𝓦</a> <a id="4317" class="Symbol">:</a> <a id="4319" href="Universes.html#205" class="Postulate">Universe</a><a id="4327" class="Symbol">)</a> <a id="4329" class="Symbol">→</a> <a id="4331" href="Algebras.Algebras.html#2059" class="Record">algebra</a> <a id="4339" class="Symbol">(</a><a id="4340" href="Universes.html#260" class="Generalizable">𝓤</a> <a id="4342" href="Agda.Primitive.html#636" class="Primitive Operator">⊔</a> <a id="4344" href="Algebras.Algebras.html#4315" class="Bound">𝓦</a><a id="4345" class="Symbol">)</a> <a id="4347" href="Algebras.Algebras.html#4107" class="Bound">𝑆</a>
 <a id="4350" href="Algebras.Algebras.html#4277" class="Function">Lift-alg-record-type</a> <a id="4371" href="Algebras.Algebras.html#4371" class="Bound">𝑨</a> <a id="4373" href="Algebras.Algebras.html#4373" class="Bound">𝓦</a> <a id="4375" class="Symbol">=</a> <a id="4377" href="Algebras.Algebras.html#2139" class="InductiveConstructor">mkalg</a> <a id="4383" class="Symbol">(</a><a id="4384" href="Overture.Lifts.html#2467" class="Record">Lift</a> <a id="4389" class="Symbol">(</a><a id="4390" href="Algebras.Algebras.html#2154" class="Field">univ</a> <a id="4395" href="Algebras.Algebras.html#4371" class="Bound">𝑨</a><a id="4396" class="Symbol">))</a> <a id="4399" class="Symbol">(λ</a> <a id="4402" class="Symbol">(</a><a id="4403" href="Algebras.Algebras.html#4403" class="Bound">f</a> <a id="4405" class="Symbol">:</a> <a id="4407" href="Overture.Preliminaries.html#13832" class="Function Operator">∣</a> <a id="4409" href="Algebras.Algebras.html#4107" class="Bound">𝑆</a> <a id="4411" href="Overture.Preliminaries.html#13832" class="Function Operator">∣</a><a id="4412" class="Symbol">)</a> <a id="4414" class="Symbol">→</a> <a id="4416" href="Algebras.Algebras.html#3972" class="Function">Lift-op</a> <a id="4424" class="Symbol">((</a><a id="4426" href="Algebras.Algebras.html#2167" class="Field">op</a> <a id="4429" href="Algebras.Algebras.html#4371" class="Bound">𝑨</a><a id="4430" class="Symbol">)</a> <a id="4432" href="Algebras.Algebras.html#4403" class="Bound">f</a><a id="4433" class="Symbol">)</a> <a id="4435" href="Algebras.Algebras.html#4373" class="Bound">𝓦</a><a id="4436" class="Symbol">)</a>

</pre>

What makes the types just defined useful for resolving type level errors is the nice properties they possess.  Indeed, the [UALib][] contains formal proofs of the following facts.

+ [`Lift` is a homomorphism](Homomorphisms.Basic.html#exmples-of-homomorphisms) (see [Homomorphisms.Basic][])
+ [`Lift` is an algebraic invariant](Homomorphisms.Isomorphisms.html#lift-is-an-algebraic-invariant") (see [Homomorphisms.Isomorphisms][])
+ [`Lift` of a subalgebra is a subalgebra](Subalgebras.Subalgebras.html#lifts-of-subalgebras) (see [Subalgebras.Subalgebras][])
+ [`Lift` preserves identities](Varieties.EquationalLogic.html#lift-invariance)) (see [Varieties.EquationalLogic][])


#### <a id="compatibility-of-binary-relations">Compatibility of binary relations</a>

If `𝑨` is an algebra and `R` a binary relation, then `compatible 𝑨 R` will represents the assertion that `R` is *compatible* with all basic operations of `𝑨`. Recall (from [Relations.Discrete][]) that informally this means for every operation symbol `𝑓 : ∣ 𝑆 ∣` and all pairs `u v : ∥ 𝑆 ∥ 𝑓 → ∣ 𝑨 ∣` of tuples from the domain of 𝑨, the following implication holds:

&nbsp;&nbsp; `(Π i ꞉ I , R (u i) (u i))` &nbsp;&nbsp;  `→`  &nbsp;&nbsp; `R ((𝑓 ̂ 𝑨) u) ((𝑓 ̂ 𝑨) v)`.

In other terms, `∀ 𝑓 → (𝑓 ̂ 𝑨) |: R`. The formal definition of this notion of compatibility is immediate since all the work is done by the relation `|:` (which we already defined in [Relations.Discrete][]).

<pre class="Agda">

 <a id="5906" href="Algebras.Algebras.html#5906" class="Function">compatible</a> <a id="5917" class="Symbol">:</a> <a id="5919" class="Symbol">(</a><a id="5920" href="Algebras.Algebras.html#5920" class="Bound">𝑨</a> <a id="5922" class="Symbol">:</a> <a id="5924" href="Algebras.Algebras.html#844" class="Function">Algebra</a> <a id="5932" href="Universes.html#260" class="Generalizable">𝓤</a> <a id="5934" href="Algebras.Algebras.html#4107" class="Bound">𝑆</a><a id="5935" class="Symbol">)</a> <a id="5937" class="Symbol">→</a> <a id="5939" href="Relations.Discrete.html#6780" class="Function">Rel</a> <a id="5943" href="Overture.Preliminaries.html#13832" class="Function Operator">∣</a> <a id="5945" href="Algebras.Algebras.html#5920" class="Bound">𝑨</a> <a id="5947" href="Overture.Preliminaries.html#13832" class="Function Operator">∣</a> <a id="5949" href="Universes.html#264" class="Generalizable">𝓦</a> <a id="5951" class="Symbol">→</a> <a id="5953" href="Algebras.Algebras.html#4121" class="Bound">𝓞</a> <a id="5955" href="Agda.Primitive.html#636" class="Primitive Operator">⊔</a> <a id="5957" href="Universes.html#260" class="Generalizable">𝓤</a> <a id="5959" href="Agda.Primitive.html#636" class="Primitive Operator">⊔</a> <a id="5961" href="Algebras.Algebras.html#4123" class="Bound">𝓥</a> <a id="5963" href="Agda.Primitive.html#636" class="Primitive Operator">⊔</a> <a id="5965" href="Universes.html#264" class="Generalizable">𝓦</a> <a id="5967" href="Universes.html#403" class="Function Operator">̇</a>
 <a id="5970" href="Algebras.Algebras.html#5906" class="Function">compatible</a>  <a id="5982" href="Algebras.Algebras.html#5982" class="Bound">𝑨</a> <a id="5984" href="Algebras.Algebras.html#5984" class="Bound">R</a> <a id="5986" class="Symbol">=</a> <a id="5988" class="Symbol">∀</a> <a id="5990" href="Algebras.Algebras.html#5990" class="Bound">𝑓</a> <a id="5992" class="Symbol">→</a> <a id="5994" class="Symbol">(</a><a id="5995" href="Algebras.Algebras.html#5990" class="Bound">𝑓</a> <a id="5997" href="Algebras.Algebras.html#3080" class="Function Operator">̂</a> <a id="5999" href="Algebras.Algebras.html#5982" class="Bound">𝑨</a><a id="6000" class="Symbol">)</a> <a id="6002" href="Relations.Discrete.html#9896" class="Function Operator">|:</a> <a id="6005" href="Algebras.Algebras.html#5984" class="Bound">R</a>

</pre>

Recall, the `compatible-fun` type was defined in [Relations.Discrete][] module.



---------------------------------------



#### <a id="compatibility-of-continuous-relations">Compatibility of continuous relations*</a>

This section presents the `continuous-compatibility` submodule of the [Algebras.Algebras][] module.<sup>[*](Algebras.Algebras.html#fn0)</sup>


Next we define a type that represents *compatibility of a continuous relation* with all operations of an algebra. We start by defining compatibility of a continuous relations with a single operation.

<pre class="Agda">

<a id="6600" class="Keyword">module</a> <a id="continuous-compatibility"></a><a id="6607" href="Algebras.Algebras.html#6607" class="Module">continuous-compatibility</a> <a id="6632" class="Symbol">{</a><a id="6633" href="Algebras.Algebras.html#6633" class="Bound">𝑆</a> <a id="6635" class="Symbol">:</a> <a id="6637" href="Algebras.Signatures.html#1238" class="Function">Signature</a> <a id="6647" href="Overture.Preliminaries.html#8157" class="Generalizable">𝓞</a> <a id="6649" href="Universes.html#262" class="Generalizable">𝓥</a><a id="6650" class="Symbol">}</a> <a id="6652" class="Symbol">{</a><a id="6653" href="Algebras.Algebras.html#6653" class="Bound">𝑨</a> <a id="6655" class="Symbol">:</a> <a id="6657" href="Algebras.Algebras.html#844" class="Function">Algebra</a> <a id="6665" href="Universes.html#260" class="Generalizable">𝓤</a> <a id="6667" href="Algebras.Algebras.html#6633" class="Bound">𝑆</a><a id="6668" class="Symbol">}</a> <a id="6670" class="Symbol">{</a><a id="6671" href="Algebras.Algebras.html#6671" class="Bound">I</a> <a id="6673" class="Symbol">:</a> <a id="6675" href="Universes.html#262" class="Generalizable">𝓥</a> <a id="6677" href="Universes.html#403" class="Function Operator">̇</a><a id="6678" class="Symbol">}</a> <a id="6680" class="Keyword">where</a>

 <a id="6688" class="Keyword">open</a> <a id="6693" class="Keyword">import</a> <a id="6700" href="Relations.Continuous.html" class="Module">Relations.Continuous</a> <a id="6721" class="Keyword">using</a> <a id="6727" class="Symbol">(</a><a id="6728" href="Relations.Continuous.html#3237" class="Function">ContRel</a><a id="6735" class="Symbol">;</a> <a id="6737" href="Relations.Continuous.html#3874" class="Function">eval-cont-rel</a><a id="6750" class="Symbol">;</a> <a id="6752" href="Relations.Continuous.html#3975" class="Function">cont-compatible-fun</a><a id="6771" class="Symbol">)</a>


 <a id="continuous-compatibility.cont-compatible-op"></a><a id="6776" href="Algebras.Algebras.html#6776" class="Function">cont-compatible-op</a> <a id="6795" class="Symbol">:</a> <a id="6797" href="Overture.Preliminaries.html#13832" class="Function Operator">∣</a> <a id="6799" href="Algebras.Algebras.html#6633" class="Bound">𝑆</a> <a id="6801" href="Overture.Preliminaries.html#13832" class="Function Operator">∣</a> <a id="6803" class="Symbol">→</a> <a id="6805" href="Relations.Continuous.html#3237" class="Function">ContRel</a> <a id="6813" href="Algebras.Algebras.html#6671" class="Bound">I</a> <a id="6815" href="Overture.Preliminaries.html#13832" class="Function Operator">∣</a> <a id="6817" href="Algebras.Algebras.html#6653" class="Bound">𝑨</a> <a id="6819" href="Overture.Preliminaries.html#13832" class="Function Operator">∣</a> <a id="6821" href="Universes.html#264" class="Generalizable">𝓦</a> <a id="6823" class="Symbol">→</a> <a id="6825" href="Algebras.Algebras.html#6665" class="Bound">𝓤</a> <a id="6827" href="Agda.Primitive.html#636" class="Primitive Operator">⊔</a> <a id="6829" href="Algebras.Algebras.html#6649" class="Bound">𝓥</a> <a id="6831" href="Agda.Primitive.html#636" class="Primitive Operator">⊔</a> <a id="6833" href="Universes.html#264" class="Generalizable">𝓦</a> <a id="6835" href="Universes.html#403" class="Function Operator">̇</a>
 <a id="6838" href="Algebras.Algebras.html#6776" class="Function">cont-compatible-op</a> <a id="6857" href="Algebras.Algebras.html#6857" class="Bound">𝑓</a> <a id="6859" href="Algebras.Algebras.html#6859" class="Bound">R</a> <a id="6861" class="Symbol">=</a> <a id="6863" href="Relations.Continuous.html#3975" class="Function">cont-compatible-fun</a> <a id="6883" class="Symbol">(</a><a id="6884" href="Algebras.Algebras.html#6857" class="Bound">𝑓</a> <a id="6886" href="Algebras.Algebras.html#3080" class="Function Operator">̂</a> <a id="6888" href="Algebras.Algebras.html#6653" class="Bound">𝑨</a><a id="6889" class="Symbol">)</a> <a id="6891" href="Algebras.Algebras.html#6859" class="Bound">R</a>

</pre>

In case it helps the reader understand `con-compatible-op`, we redefine it explicitly without the help of `con-compatible-fun`.

<pre class="Agda">

 <a id="continuous-compatibility.cont-compatible-op&#39;"></a><a id="7050" href="Algebras.Algebras.html#7050" class="Function">cont-compatible-op&#39;</a> <a id="7070" class="Symbol">:</a> <a id="7072" href="Overture.Preliminaries.html#13832" class="Function Operator">∣</a> <a id="7074" href="Algebras.Algebras.html#6633" class="Bound">𝑆</a> <a id="7076" href="Overture.Preliminaries.html#13832" class="Function Operator">∣</a> <a id="7078" class="Symbol">→</a> <a id="7080" href="Relations.Continuous.html#3237" class="Function">ContRel</a> <a id="7088" href="Algebras.Algebras.html#6671" class="Bound">I</a> <a id="7090" href="Overture.Preliminaries.html#13832" class="Function Operator">∣</a> <a id="7092" href="Algebras.Algebras.html#6653" class="Bound">𝑨</a> <a id="7094" href="Overture.Preliminaries.html#13832" class="Function Operator">∣</a> <a id="7096" href="Universes.html#264" class="Generalizable">𝓦</a> <a id="7098" class="Symbol">→</a> <a id="7100" href="Algebras.Algebras.html#6665" class="Bound">𝓤</a> <a id="7102" href="Agda.Primitive.html#636" class="Primitive Operator">⊔</a> <a id="7104" href="Algebras.Algebras.html#6649" class="Bound">𝓥</a> <a id="7106" href="Agda.Primitive.html#636" class="Primitive Operator">⊔</a> <a id="7108" href="Universes.html#264" class="Generalizable">𝓦</a> <a id="7110" href="Universes.html#403" class="Function Operator">̇</a>
 <a id="7113" href="Algebras.Algebras.html#7050" class="Function">cont-compatible-op&#39;</a> <a id="7133" href="Algebras.Algebras.html#7133" class="Bound">𝑓</a> <a id="7135" href="Algebras.Algebras.html#7135" class="Bound">R</a> <a id="7137" class="Symbol">=</a> <a id="7139" href="MGS-MLTT.html#3635" class="Function">Π</a> <a id="7141" href="Algebras.Algebras.html#7141" class="Bound">𝒂</a> <a id="7143" href="MGS-MLTT.html#3635" class="Function">꞉</a> <a id="7145" class="Symbol">(</a><a id="7146" href="Algebras.Algebras.html#6671" class="Bound">I</a> <a id="7148" class="Symbol">→</a> <a id="7150" href="Overture.Preliminaries.html#13884" class="Function Operator">∥</a> <a id="7152" href="Algebras.Algebras.html#6633" class="Bound">𝑆</a> <a id="7154" href="Overture.Preliminaries.html#13884" class="Function Operator">∥</a> <a id="7156" href="Algebras.Algebras.html#7133" class="Bound">𝑓</a> <a id="7158" class="Symbol">→</a> <a id="7160" href="Overture.Preliminaries.html#13832" class="Function Operator">∣</a> <a id="7162" href="Algebras.Algebras.html#6653" class="Bound">𝑨</a> <a id="7164" href="Overture.Preliminaries.html#13832" class="Function Operator">∣</a><a id="7165" class="Symbol">)</a> <a id="7167" href="MGS-MLTT.html#3635" class="Function">,</a> <a id="7169" class="Symbol">(</a><a id="7170" href="Relations.Continuous.html#3874" class="Function">eval-cont-rel</a> <a id="7184" href="Algebras.Algebras.html#7135" class="Bound">R</a> <a id="7186" href="Algebras.Algebras.html#7141" class="Bound">𝒂</a> <a id="7188" class="Symbol">→</a> <a id="7190" href="Algebras.Algebras.html#7135" class="Bound">R</a> <a id="7192" class="Symbol">λ</a> <a id="7194" href="Algebras.Algebras.html#7194" class="Bound">i</a> <a id="7196" class="Symbol">→</a> <a id="7198" class="Symbol">(</a><a id="7199" href="Algebras.Algebras.html#7133" class="Bound">𝑓</a> <a id="7201" href="Algebras.Algebras.html#3080" class="Function Operator">̂</a> <a id="7203" href="Algebras.Algebras.html#6653" class="Bound">𝑨</a><a id="7204" class="Symbol">)(</a><a id="7206" href="Algebras.Algebras.html#7141" class="Bound">𝒂</a> <a id="7208" href="Algebras.Algebras.html#7194" class="Bound">i</a><a id="7209" class="Symbol">))</a>

</pre>

With `cont-compatible-op` in hand, it is a trivial matter to define a type that represents *compatibility of a continuous relation with an algebra*.

<pre class="Agda">

 <a id="continuous-compatibility.cont-compatible"></a><a id="7390" href="Algebras.Algebras.html#7390" class="Function">cont-compatible</a> <a id="7406" class="Symbol">:</a> <a id="7408" href="Relations.Continuous.html#3237" class="Function">ContRel</a> <a id="7416" href="Algebras.Algebras.html#6671" class="Bound">I</a> <a id="7418" href="Overture.Preliminaries.html#13832" class="Function Operator">∣</a> <a id="7420" href="Algebras.Algebras.html#6653" class="Bound">𝑨</a> <a id="7422" href="Overture.Preliminaries.html#13832" class="Function Operator">∣</a> <a id="7424" href="Universes.html#264" class="Generalizable">𝓦</a> <a id="7426" class="Symbol">→</a> <a id="7428" href="Algebras.Algebras.html#6647" class="Bound">𝓞</a> <a id="7430" href="Agda.Primitive.html#636" class="Primitive Operator">⊔</a> <a id="7432" href="Algebras.Algebras.html#6665" class="Bound">𝓤</a> <a id="7434" href="Agda.Primitive.html#636" class="Primitive Operator">⊔</a> <a id="7436" href="Algebras.Algebras.html#6649" class="Bound">𝓥</a> <a id="7438" href="Agda.Primitive.html#636" class="Primitive Operator">⊔</a> <a id="7440" href="Universes.html#264" class="Generalizable">𝓦</a> <a id="7442" href="Universes.html#403" class="Function Operator">̇</a>
 <a id="7445" href="Algebras.Algebras.html#7390" class="Function">cont-compatible</a> <a id="7461" href="Algebras.Algebras.html#7461" class="Bound">R</a> <a id="7463" class="Symbol">=</a> <a id="7465" href="MGS-MLTT.html#3635" class="Function">Π</a> <a id="7467" href="Algebras.Algebras.html#7467" class="Bound">𝑓</a> <a id="7469" href="MGS-MLTT.html#3635" class="Function">꞉</a> <a id="7471" href="Overture.Preliminaries.html#13832" class="Function Operator">∣</a> <a id="7473" href="Algebras.Algebras.html#6633" class="Bound">𝑆</a> <a id="7475" href="Overture.Preliminaries.html#13832" class="Function Operator">∣</a> <a id="7477" href="MGS-MLTT.html#3635" class="Function">,</a> <a id="7479" href="Algebras.Algebras.html#6776" class="Function">cont-compatible-op</a> <a id="7498" href="Algebras.Algebras.html#7467" class="Bound">𝑓</a> <a id="7500" href="Algebras.Algebras.html#7461" class="Bound">R</a>

</pre>



--------------------------------------

<sup>[*]</sup><span class="footnote" id="fn0"> Sections marked with an asterisk include new types that are more abstract and general (and frankly more interesting) than the ones presented in other sections.  Consequently, such sections expect a higher degree of sophistication and/or effort from the reader/user. Moreover, the types defined in starred sections are used in only a few other places in the [Agda UALib][], so they may be safely skimmed over or skipped.</span>

<sup>[1]</sup><span class="footnote" id="fn1"> In classical universal algebra, the domain of an algebra `𝑨` is usualled called the "universe" of `𝑨`.  We avoid this terminology and reserve universe for use in defining the type hierarchy. (See the [Agda Universes](Overture.Preliminaries.html#agda-universes)</a> section of the [Overture.Preliminaries][] module.</span>

<br>
<br>

[← Algebras.Signatures](Algebras.Signatures.html)
<span style="float:right;">[Algebras.Products →](Algebras.Products.html)</span>


{% include UALib.Links.md %}
