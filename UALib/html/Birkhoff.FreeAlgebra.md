---
layout: default
title : Birkhoff.FreeAlgebra (The Agda Universal Algebra Library)
date : 2021-01-14
author: William DeMeo
---

### <a id="the-free-algebra">The Free Algebra</a>

This section presents the [Birkhoff.FreeAlgebra][] module of the [Agda Universal Algebra Library][].

<pre class="Agda">

<a id="299" class="Symbol">{-#</a> <a id="303" class="Keyword">OPTIONS</a> <a id="311" class="Pragma">--without-K</a> <a id="323" class="Pragma">--exact-split</a> <a id="337" class="Pragma">--safe</a> <a id="344" class="Symbol">#-}</a>

<a id="349" class="Keyword">open</a> <a id="354" class="Keyword">import</a> <a id="361" href="Algebras.Signatures.html" class="Module">Algebras.Signatures</a> <a id="381" class="Keyword">using</a> <a id="387" class="Symbol">(</a><a id="388" href="Algebras.Signatures.html#1299" class="Function">Signature</a><a id="397" class="Symbol">;</a> <a id="399" href="Prelude.Preliminaries.html#5600" class="Generalizable">𝓞</a><a id="400" class="Symbol">;</a> <a id="402" href="Universes.html#262" class="Generalizable">𝓥</a><a id="403" class="Symbol">)</a>
<a id="405" class="Keyword">open</a> <a id="410" class="Keyword">import</a> <a id="417" href="MGS-Subsingleton-Theorems.html" class="Module">MGS-Subsingleton-Theorems</a> <a id="443" class="Keyword">using</a> <a id="449" class="Symbol">(</a><a id="450" href="MGS-Subsingleton-Theorems.html#3468" class="Function">global-dfunext</a><a id="464" class="Symbol">)</a>

<a id="467" class="Keyword">module</a> <a id="474" href="Birkhoff.FreeAlgebra.html" class="Module">Birkhoff.FreeAlgebra</a> <a id="495" class="Symbol">{</a><a id="496" href="Birkhoff.FreeAlgebra.html#496" class="Bound">𝑆</a> <a id="498" class="Symbol">:</a> <a id="500" href="Algebras.Signatures.html#1299" class="Function">Signature</a> <a id="510" href="Prelude.Preliminaries.html#5600" class="Generalizable">𝓞</a> <a id="512" href="Universes.html#262" class="Generalizable">𝓥</a><a id="513" class="Symbol">}{</a><a id="515" href="Birkhoff.FreeAlgebra.html#515" class="Bound">gfe</a> <a id="519" class="Symbol">:</a> <a id="521" href="MGS-Subsingleton-Theorems.html#3468" class="Function">global-dfunext</a><a id="535" class="Symbol">}</a> <a id="537" class="Keyword">where</a>

<a id="544" class="Keyword">open</a> <a id="549" class="Keyword">import</a> <a id="556" href="Varieties.Preservation.html" class="Module">Varieties.Preservation</a> <a id="579" class="Symbol">{</a><a id="580" class="Argument">𝑆</a> <a id="582" class="Symbol">=</a> <a id="584" href="Birkhoff.FreeAlgebra.html#496" class="Bound">𝑆</a><a id="585" class="Symbol">}{</a><a id="587" href="Birkhoff.FreeAlgebra.html#515" class="Bound">gfe</a><a id="590" class="Symbol">}</a> <a id="592" class="Keyword">public</a>

</pre>


#### <a id="the-free-algebra-in-theory">The free algebra in theory</a>

Recall, we proved in [the universal property](Terms.Basic.html#the-universal-property) section of the [Terms.Basic][] module that the term algebra `𝑻 X` is the absolutely free algebra in the class of all `𝑆`-structures. In this section, we formalize, for a given class `𝒦` of `𝑆`-algebras, the (relatively) free algebra in `S(P 𝒦)` over `X`.

We use the next definition to take a free algebra *for* a class `𝒦` and produce the free algebra *in* `𝒦`.

`Θ(𝒦, 𝑨) := {θ ∈ Con 𝑨 : 𝑨 / θ ∈ (S 𝒦)}` &nbsp; &nbsp; and &nbsp; &nbsp; `ψ(𝒦, 𝑨) := ⋂ Θ(𝒦, 𝑨)`.

Notice that `Θ(𝒦, 𝑨)` may be empty, in which case `ψ(𝒦, 𝑨) = 1` and then `𝑨 / ψ(𝒦, 𝑨)` is trivial.

The free algebra is constructed by applying the above definitions to the special case in which `𝑨` is the term algebra `𝑻 X` of `𝑆`-terms over `X`.

Since `𝑻 X` is free for (and in) the class of all `𝑆`-algebras, it follows that `𝑻 X` is free for every class `𝒦` of `𝑆`-algebras. Of course, `𝑻 X` is not necessarily a member of `𝒦`, but if we form the quotient of `𝑻 X` modulo the congruence `ψ(𝒦, 𝑻 X)`, which we denote by `𝔉 := (𝑻 X) / ψ(𝒦, 𝑻 X)`, then it's not hard to see that `𝔉` is a subdirect product of the algebras in `{(𝑻 𝑋) / θ}`, where `θ` ranges over `Θ(𝒦, 𝑻 X)`, so `𝔉` belongs to `S(P 𝒦)`, and it follows that `𝔉` satisfies all the identities satisfied by all members of `𝒦`.  Indeed, for each pair `p q : 𝑻 X`, if `𝒦 ⊧ p ≈ q`, then `p` and `q` must belong to the same `ψ(𝒦, 𝑻 X)`-class, so `p` and `q` are identified in the quotient `𝔉`.

The `𝔉` that we have just defined is called the **free algebra over** `𝒦` **generated by** `X` and (because of what we just observed) we may say that `𝔉` is free *in* `S(P 𝒦)`.<sup>[1](Birkhoff.FreeAlgebra.html#fn1)</sup>

#### <a id="the-free-algebra-in-agda">The free algebra in Agda</a>

Here we represent `𝔉` as a type in Agda by first constructing the congruence `ψ(𝒦, 𝑻 𝑋)` described above.

We assume two ambient universes `𝓤` and `𝓧`, as well as a type `X : 𝓧 ̇`. As usual, this is accomplished with the `module` directive.

<pre class="Agda">

<a id="2736" class="Keyword">module</a> <a id="the-free-algebra"></a><a id="2743" href="Birkhoff.FreeAlgebra.html#2743" class="Module">the-free-algebra</a> <a id="2760" class="Symbol">{</a><a id="2761" href="Birkhoff.FreeAlgebra.html#2761" class="Bound">𝓤</a> <a id="2763" href="Birkhoff.FreeAlgebra.html#2763" class="Bound">𝓧</a> <a id="2765" class="Symbol">:</a> <a id="2767" href="Universes.html#205" class="Function">Universe</a><a id="2775" class="Symbol">}{</a><a id="2777" href="Birkhoff.FreeAlgebra.html#2777" class="Bound">X</a> <a id="2779" class="Symbol">:</a> <a id="2781" href="Birkhoff.FreeAlgebra.html#2763" class="Bound">𝓧</a> <a id="2783" href="Universes.html#403" class="Function Operator">̇</a><a id="2784" class="Symbol">}</a> <a id="2786" class="Keyword">where</a>

 <a id="2794" class="Comment">-- NOTATION (universe aliases for convenience and readability).</a>
 <a id="the-free-algebra.𝓸𝓿𝓾"></a><a id="2859" href="Birkhoff.FreeAlgebra.html#2859" class="Function">𝓸𝓿𝓾</a> <a id="the-free-algebra.𝓸𝓿𝓾+"></a><a id="2863" href="Birkhoff.FreeAlgebra.html#2863" class="Function">𝓸𝓿𝓾+</a> <a id="the-free-algebra.𝓸𝓿𝓾++"></a><a id="2868" href="Birkhoff.FreeAlgebra.html#2868" class="Function">𝓸𝓿𝓾++</a> <a id="2874" class="Symbol">:</a> <a id="2876" href="Universes.html#205" class="Function">Universe</a>
 <a id="2886" href="Birkhoff.FreeAlgebra.html#2859" class="Function">𝓸𝓿𝓾</a> <a id="2890" class="Symbol">=</a> <a id="2892" href="Algebras.Products.html#1918" class="Function">ov</a> <a id="2895" href="Birkhoff.FreeAlgebra.html#2761" class="Bound">𝓤</a>
 <a id="2898" href="Birkhoff.FreeAlgebra.html#2863" class="Function">𝓸𝓿𝓾+</a> <a id="2903" class="Symbol">=</a> <a id="2905" href="Birkhoff.FreeAlgebra.html#2859" class="Function">𝓸𝓿𝓾</a> <a id="2909" href="Universes.html#181" class="Function Operator">⁺</a>
 <a id="2912" href="Birkhoff.FreeAlgebra.html#2868" class="Function">𝓸𝓿𝓾++</a> <a id="2918" class="Symbol">=</a> <a id="2920" href="Birkhoff.FreeAlgebra.html#2859" class="Function">𝓸𝓿𝓾</a> <a id="2924" href="Universes.html#181" class="Function Operator">⁺</a> <a id="2926" href="Universes.html#181" class="Function Operator">⁺</a>

</pre>

We first construct the congruence relation `ψCon`, modulo which `𝑻 X` yields the relatively free algebra, `𝔉 𝒦 X := 𝑻 X ╱ ψCon`. We start by letting `ψ` be the collection of identities `(p, q)` satisfied by all subalgebras of algebras in `𝒦`.

<pre class="Agda">

 <a id="the-free-algebra.ψ"></a><a id="3200" href="Birkhoff.FreeAlgebra.html#3200" class="Function">ψ</a> <a id="3202" class="Symbol">:</a> <a id="3204" class="Symbol">(</a><a id="3205" href="Birkhoff.FreeAlgebra.html#3205" class="Bound">𝒦</a> <a id="3207" class="Symbol">:</a> <a id="3209" href="Relations.Discrete.html#1408" class="Function">Pred</a> <a id="3214" class="Symbol">(</a><a id="3215" href="Algebras.Algebras.html#694" class="Function">Algebra</a> <a id="3223" href="Birkhoff.FreeAlgebra.html#2761" class="Bound">𝓤</a> <a id="3225" href="Birkhoff.FreeAlgebra.html#496" class="Bound">𝑆</a><a id="3226" class="Symbol">)</a> <a id="3228" href="Birkhoff.FreeAlgebra.html#2859" class="Function">𝓸𝓿𝓾</a><a id="3231" class="Symbol">)</a> <a id="3233" class="Symbol">→</a> <a id="3235" href="Relations.Discrete.html#1408" class="Function">Pred</a> <a id="3240" class="Symbol">(</a><a id="3241" href="Prelude.Preliminaries.html#13569" class="Function Operator">∣</a> <a id="3243" href="Terms.Basic.html#3664" class="Function">𝑻</a> <a id="3245" href="Birkhoff.FreeAlgebra.html#2777" class="Bound">X</a> <a id="3247" href="Prelude.Preliminaries.html#13569" class="Function Operator">∣</a> <a id="3249" href="MGS-MLTT.html#3515" class="Function Operator">×</a> <a id="3251" href="Prelude.Preliminaries.html#13569" class="Function Operator">∣</a> <a id="3253" href="Terms.Basic.html#3664" class="Function">𝑻</a> <a id="3255" href="Birkhoff.FreeAlgebra.html#2777" class="Bound">X</a> <a id="3257" href="Prelude.Preliminaries.html#13569" class="Function Operator">∣</a><a id="3258" class="Symbol">)</a> <a id="3260" class="Symbol">(</a><a id="3261" href="Birkhoff.FreeAlgebra.html#2763" class="Bound">𝓧</a> <a id="3263" href="Agda.Primitive.html#636" class="Function Operator">⊔</a> <a id="3265" href="Birkhoff.FreeAlgebra.html#2859" class="Function">𝓸𝓿𝓾</a><a id="3268" class="Symbol">)</a>
 <a id="3271" href="Birkhoff.FreeAlgebra.html#3200" class="Function">ψ</a> <a id="3273" href="Birkhoff.FreeAlgebra.html#3273" class="Bound">𝒦</a> <a id="3275" class="Symbol">(</a><a id="3276" href="Birkhoff.FreeAlgebra.html#3276" class="Bound">p</a> <a id="3278" href="MGS-MLTT.html#2929" class="InductiveConstructor Operator">,</a> <a id="3280" href="Birkhoff.FreeAlgebra.html#3280" class="Bound">q</a><a id="3281" class="Symbol">)</a> <a id="3283" class="Symbol">=</a> <a id="3285" class="Symbol">∀(</a><a id="3287" href="Birkhoff.FreeAlgebra.html#3287" class="Bound">𝑨</a> <a id="3289" class="Symbol">:</a> <a id="3291" href="Algebras.Algebras.html#694" class="Function">Algebra</a> <a id="3299" href="Birkhoff.FreeAlgebra.html#2761" class="Bound">𝓤</a> <a id="3301" href="Birkhoff.FreeAlgebra.html#496" class="Bound">𝑆</a><a id="3302" class="Symbol">)(</a><a id="3304" href="Birkhoff.FreeAlgebra.html#3304" class="Bound">sA</a> <a id="3307" class="Symbol">:</a> <a id="3309" href="Birkhoff.FreeAlgebra.html#3287" class="Bound">𝑨</a> <a id="3311" href="Relations.Discrete.html#2407" class="Function Operator">∈</a> <a id="3313" href="Varieties.Varieties.html#2939" class="Datatype">S</a><a id="3314" class="Symbol">{</a><a id="3315" href="Birkhoff.FreeAlgebra.html#2761" class="Bound">𝓤</a><a id="3316" class="Symbol">}{</a><a id="3318" href="Birkhoff.FreeAlgebra.html#2761" class="Bound">𝓤</a><a id="3319" class="Symbol">}</a> <a id="3321" href="Birkhoff.FreeAlgebra.html#3273" class="Bound">𝒦</a><a id="3322" class="Symbol">)(</a><a id="3324" href="Birkhoff.FreeAlgebra.html#3324" class="Bound">h</a> <a id="3326" class="Symbol">:</a> <a id="3328" href="Birkhoff.FreeAlgebra.html#2777" class="Bound">X</a> <a id="3330" class="Symbol">→</a> <a id="3332" href="Prelude.Preliminaries.html#13569" class="Function Operator">∣</a> <a id="3334" href="Birkhoff.FreeAlgebra.html#3287" class="Bound">𝑨</a> <a id="3336" href="Prelude.Preliminaries.html#13569" class="Function Operator">∣</a> <a id="3338" class="Symbol">)</a>
                <a id="3356" class="Symbol">→</a>  <a id="3359" class="Symbol">(</a><a id="3360" href="Terms.Basic.html#4326" class="Function">free-lift</a> <a id="3370" href="Birkhoff.FreeAlgebra.html#3287" class="Bound">𝑨</a> <a id="3372" href="Birkhoff.FreeAlgebra.html#3324" class="Bound">h</a><a id="3373" class="Symbol">)</a> <a id="3375" href="Birkhoff.FreeAlgebra.html#3276" class="Bound">p</a> <a id="3377" href="MGS-MLTT.html#4207" class="Datatype Operator">≡</a> <a id="3379" class="Symbol">(</a><a id="3380" href="Terms.Basic.html#4326" class="Function">free-lift</a> <a id="3390" href="Birkhoff.FreeAlgebra.html#3287" class="Bound">𝑨</a> <a id="3392" href="Birkhoff.FreeAlgebra.html#3324" class="Bound">h</a><a id="3393" class="Symbol">)</a> <a id="3395" href="Birkhoff.FreeAlgebra.html#3280" class="Bound">q</a>

</pre>

We convert the predicate ψ into a relation by [currying](https://en.wikipedia.org/wiki/Currying).

<pre class="Agda">

 <a id="the-free-algebra.ψRel"></a><a id="3524" href="Birkhoff.FreeAlgebra.html#3524" class="Function">ψRel</a> <a id="3529" class="Symbol">:</a> <a id="3531" class="Symbol">(</a><a id="3532" href="Birkhoff.FreeAlgebra.html#3532" class="Bound">𝒦</a> <a id="3534" class="Symbol">:</a> <a id="3536" href="Relations.Discrete.html#1408" class="Function">Pred</a> <a id="3541" class="Symbol">(</a><a id="3542" href="Algebras.Algebras.html#694" class="Function">Algebra</a> <a id="3550" href="Birkhoff.FreeAlgebra.html#2761" class="Bound">𝓤</a> <a id="3552" href="Birkhoff.FreeAlgebra.html#496" class="Bound">𝑆</a><a id="3553" class="Symbol">)</a> <a id="3555" href="Birkhoff.FreeAlgebra.html#2859" class="Function">𝓸𝓿𝓾</a><a id="3558" class="Symbol">)</a> <a id="3560" class="Symbol">→</a> <a id="3562" href="Relations.Discrete.html#7033" class="Function">Rel</a> <a id="3566" href="Prelude.Preliminaries.html#13569" class="Function Operator">∣</a> <a id="3568" href="Terms.Basic.html#3664" class="Function">𝑻</a> <a id="3570" href="Birkhoff.FreeAlgebra.html#2777" class="Bound">X</a> <a id="3572" href="Prelude.Preliminaries.html#13569" class="Function Operator">∣</a> <a id="3574" class="Symbol">(</a><a id="3575" href="Birkhoff.FreeAlgebra.html#2763" class="Bound">𝓧</a> <a id="3577" href="Agda.Primitive.html#636" class="Function Operator">⊔</a> <a id="3579" href="Birkhoff.FreeAlgebra.html#2859" class="Function">𝓸𝓿𝓾</a><a id="3582" class="Symbol">)</a>
 <a id="3585" href="Birkhoff.FreeAlgebra.html#3524" class="Function">ψRel</a> <a id="3590" href="Birkhoff.FreeAlgebra.html#3590" class="Bound">𝒦</a> <a id="3592" href="Birkhoff.FreeAlgebra.html#3592" class="Bound">p</a> <a id="3594" href="Birkhoff.FreeAlgebra.html#3594" class="Bound">q</a> <a id="3596" class="Symbol">=</a> <a id="3598" href="Birkhoff.FreeAlgebra.html#3200" class="Function">ψ</a> <a id="3600" href="Birkhoff.FreeAlgebra.html#3590" class="Bound">𝒦</a> <a id="3602" class="Symbol">(</a><a id="3603" href="Birkhoff.FreeAlgebra.html#3592" class="Bound">p</a> <a id="3605" href="MGS-MLTT.html#2929" class="InductiveConstructor Operator">,</a> <a id="3607" href="Birkhoff.FreeAlgebra.html#3594" class="Bound">q</a><a id="3608" class="Symbol">)</a>

</pre>

To express `ψRel` as a congruence of the term algebra `𝑻 X`, we must prove that

1. `ψRel` is compatible with the operations of `𝑻 X` (which are jsut the terms themselves) and
2. `ψRel` it is an equivalence relation.

<pre class="Agda">

 <a id="the-free-algebra.ψcompatible"></a><a id="3856" href="Birkhoff.FreeAlgebra.html#3856" class="Function">ψcompatible</a> <a id="3868" class="Symbol">:</a> <a id="3870" class="Symbol">(</a><a id="3871" href="Birkhoff.FreeAlgebra.html#3871" class="Bound">𝒦</a> <a id="3873" class="Symbol">:</a> <a id="3875" href="Relations.Discrete.html#1408" class="Function">Pred</a> <a id="3880" class="Symbol">(</a><a id="3881" href="Algebras.Algebras.html#694" class="Function">Algebra</a> <a id="3889" href="Birkhoff.FreeAlgebra.html#2761" class="Bound">𝓤</a> <a id="3891" href="Birkhoff.FreeAlgebra.html#496" class="Bound">𝑆</a><a id="3892" class="Symbol">)</a> <a id="3894" href="Birkhoff.FreeAlgebra.html#2859" class="Function">𝓸𝓿𝓾</a><a id="3897" class="Symbol">)</a> <a id="3899" class="Symbol">→</a> <a id="3901" href="Algebras.Algebras.html#5907" class="Function">compatible</a> <a id="3912" class="Symbol">(</a><a id="3913" href="Terms.Basic.html#3664" class="Function">𝑻</a> <a id="3915" href="Birkhoff.FreeAlgebra.html#2777" class="Bound">X</a><a id="3916" class="Symbol">)(</a><a id="3918" href="Birkhoff.FreeAlgebra.html#3524" class="Function">ψRel</a> <a id="3923" href="Birkhoff.FreeAlgebra.html#3871" class="Bound">𝒦</a><a id="3924" class="Symbol">)</a>
 <a id="3927" href="Birkhoff.FreeAlgebra.html#3856" class="Function">ψcompatible</a> <a id="3939" href="Birkhoff.FreeAlgebra.html#3939" class="Bound">𝒦</a> <a id="3941" href="Birkhoff.FreeAlgebra.html#3941" class="Bound">f</a> <a id="3943" class="Symbol">{</a><a id="3944" href="Birkhoff.FreeAlgebra.html#3944" class="Bound">i</a><a id="3945" class="Symbol">}</a> <a id="3947" class="Symbol">{</a><a id="3948" href="Birkhoff.FreeAlgebra.html#3948" class="Bound">j</a><a id="3949" class="Symbol">}</a> <a id="3951" href="Birkhoff.FreeAlgebra.html#3951" class="Bound">iψj</a> <a id="3955" href="Birkhoff.FreeAlgebra.html#3955" class="Bound">𝑨</a> <a id="3957" href="Birkhoff.FreeAlgebra.html#3957" class="Bound">sA</a> <a id="3960" href="Birkhoff.FreeAlgebra.html#3960" class="Bound">h</a> <a id="3962" class="Symbol">=</a> <a id="3964" href="Birkhoff.FreeAlgebra.html#4017" class="Function">γ</a>
  <a id="3968" class="Keyword">where</a>
   <a id="3977" href="Birkhoff.FreeAlgebra.html#3977" class="Function">ϕ</a> <a id="3979" class="Symbol">:</a> <a id="3981" href="Homomorphisms.Basic.html#2343" class="Function">hom</a> <a id="3985" class="Symbol">(</a><a id="3986" href="Terms.Basic.html#3664" class="Function">𝑻</a> <a id="3988" href="Birkhoff.FreeAlgebra.html#2777" class="Bound">X</a><a id="3989" class="Symbol">)</a> <a id="3991" href="Birkhoff.FreeAlgebra.html#3955" class="Bound">𝑨</a>
   <a id="3996" href="Birkhoff.FreeAlgebra.html#3977" class="Function">ϕ</a> <a id="3998" class="Symbol">=</a> <a id="4000" href="Terms.Basic.html#4577" class="Function">lift-hom</a> <a id="4009" href="Birkhoff.FreeAlgebra.html#3955" class="Bound">𝑨</a> <a id="4011" href="Birkhoff.FreeAlgebra.html#3960" class="Bound">h</a>

   <a id="4017" href="Birkhoff.FreeAlgebra.html#4017" class="Function">γ</a> <a id="4019" class="Symbol">:</a> <a id="4021" href="Prelude.Preliminaries.html#13569" class="Function Operator">∣</a> <a id="4023" href="Birkhoff.FreeAlgebra.html#3977" class="Function">ϕ</a> <a id="4025" href="Prelude.Preliminaries.html#13569" class="Function Operator">∣</a> <a id="4027" class="Symbol">((</a><a id="4029" href="Birkhoff.FreeAlgebra.html#3941" class="Bound">f</a> <a id="4031" href="Algebras.Algebras.html#2997" class="Function Operator">̂</a> <a id="4033" href="Terms.Basic.html#3664" class="Function">𝑻</a> <a id="4035" href="Birkhoff.FreeAlgebra.html#2777" class="Bound">X</a><a id="4036" class="Symbol">)</a> <a id="4038" href="Birkhoff.FreeAlgebra.html#3944" class="Bound">i</a><a id="4039" class="Symbol">)</a> <a id="4041" href="MGS-MLTT.html#4207" class="Datatype Operator">≡</a> <a id="4043" href="Prelude.Preliminaries.html#13569" class="Function Operator">∣</a> <a id="4045" href="Birkhoff.FreeAlgebra.html#3977" class="Function">ϕ</a> <a id="4047" href="Prelude.Preliminaries.html#13569" class="Function Operator">∣</a> <a id="4049" class="Symbol">((</a><a id="4051" href="Birkhoff.FreeAlgebra.html#3941" class="Bound">f</a> <a id="4053" href="Algebras.Algebras.html#2997" class="Function Operator">̂</a> <a id="4055" href="Terms.Basic.html#3664" class="Function">𝑻</a> <a id="4057" href="Birkhoff.FreeAlgebra.html#2777" class="Bound">X</a><a id="4058" class="Symbol">)</a> <a id="4060" href="Birkhoff.FreeAlgebra.html#3948" class="Bound">j</a><a id="4061" class="Symbol">)</a>
   <a id="4066" href="Birkhoff.FreeAlgebra.html#4017" class="Function">γ</a> <a id="4068" class="Symbol">=</a> <a id="4070" href="Prelude.Preliminaries.html#13569" class="Function Operator">∣</a> <a id="4072" href="Birkhoff.FreeAlgebra.html#3977" class="Function">ϕ</a> <a id="4074" href="Prelude.Preliminaries.html#13569" class="Function Operator">∣</a> <a id="4076" class="Symbol">((</a><a id="4078" href="Birkhoff.FreeAlgebra.html#3941" class="Bound">f</a> <a id="4080" href="Algebras.Algebras.html#2997" class="Function Operator">̂</a> <a id="4082" href="Terms.Basic.html#3664" class="Function">𝑻</a> <a id="4084" href="Birkhoff.FreeAlgebra.html#2777" class="Bound">X</a><a id="4085" class="Symbol">)</a> <a id="4087" href="Birkhoff.FreeAlgebra.html#3944" class="Bound">i</a><a id="4088" class="Symbol">)</a> <a id="4090" href="MGS-MLTT.html#5997" class="Function Operator">≡⟨</a> <a id="4093" href="Prelude.Preliminaries.html#13647" class="Function Operator">∥</a> <a id="4095" href="Birkhoff.FreeAlgebra.html#3977" class="Function">ϕ</a> <a id="4097" href="Prelude.Preliminaries.html#13647" class="Function Operator">∥</a> <a id="4099" href="Birkhoff.FreeAlgebra.html#3941" class="Bound">f</a> <a id="4101" href="Birkhoff.FreeAlgebra.html#3944" class="Bound">i</a> <a id="4103" href="MGS-MLTT.html#5997" class="Function Operator">⟩</a>
       <a id="4112" class="Symbol">(</a><a id="4113" href="Birkhoff.FreeAlgebra.html#3941" class="Bound">f</a> <a id="4115" href="Algebras.Algebras.html#2997" class="Function Operator">̂</a> <a id="4117" href="Birkhoff.FreeAlgebra.html#3955" class="Bound">𝑨</a><a id="4118" class="Symbol">)</a> <a id="4120" class="Symbol">(</a><a id="4121" href="Prelude.Preliminaries.html#13569" class="Function Operator">∣</a> <a id="4123" href="Birkhoff.FreeAlgebra.html#3977" class="Function">ϕ</a> <a id="4125" href="Prelude.Preliminaries.html#13569" class="Function Operator">∣</a> <a id="4127" href="MGS-MLTT.html#3813" class="Function Operator">∘</a> <a id="4129" href="Birkhoff.FreeAlgebra.html#3944" class="Bound">i</a><a id="4130" class="Symbol">)</a> <a id="4132" href="MGS-MLTT.html#5997" class="Function Operator">≡⟨</a> <a id="4135" href="MGS-MLTT.html#6613" class="Function">ap</a> <a id="4138" class="Symbol">(</a><a id="4139" href="Birkhoff.FreeAlgebra.html#3941" class="Bound">f</a> <a id="4141" href="Algebras.Algebras.html#2997" class="Function Operator">̂</a> <a id="4143" href="Birkhoff.FreeAlgebra.html#3955" class="Bound">𝑨</a><a id="4144" class="Symbol">)</a> <a id="4146" class="Symbol">(</a><a id="4147" href="Birkhoff.FreeAlgebra.html#515" class="Bound">gfe</a> <a id="4151" class="Symbol">λ</a> <a id="4153" href="Birkhoff.FreeAlgebra.html#4153" class="Bound">x</a> <a id="4155" class="Symbol">→</a> <a id="4157" class="Symbol">((</a><a id="4159" href="Birkhoff.FreeAlgebra.html#3951" class="Bound">iψj</a> <a id="4163" href="Birkhoff.FreeAlgebra.html#4153" class="Bound">x</a><a id="4164" class="Symbol">)</a> <a id="4166" href="Birkhoff.FreeAlgebra.html#3955" class="Bound">𝑨</a> <a id="4168" href="Birkhoff.FreeAlgebra.html#3957" class="Bound">sA</a> <a id="4171" href="Birkhoff.FreeAlgebra.html#3960" class="Bound">h</a><a id="4172" class="Symbol">))</a> <a id="4175" href="MGS-MLTT.html#5997" class="Function Operator">⟩</a>
       <a id="4184" class="Symbol">(</a><a id="4185" href="Birkhoff.FreeAlgebra.html#3941" class="Bound">f</a> <a id="4187" href="Algebras.Algebras.html#2997" class="Function Operator">̂</a> <a id="4189" href="Birkhoff.FreeAlgebra.html#3955" class="Bound">𝑨</a><a id="4190" class="Symbol">)</a> <a id="4192" class="Symbol">(</a><a id="4193" href="Prelude.Preliminaries.html#13569" class="Function Operator">∣</a> <a id="4195" href="Birkhoff.FreeAlgebra.html#3977" class="Function">ϕ</a> <a id="4197" href="Prelude.Preliminaries.html#13569" class="Function Operator">∣</a> <a id="4199" href="MGS-MLTT.html#3813" class="Function Operator">∘</a> <a id="4201" href="Birkhoff.FreeAlgebra.html#3948" class="Bound">j</a><a id="4202" class="Symbol">)</a> <a id="4204" href="MGS-MLTT.html#5997" class="Function Operator">≡⟨</a> <a id="4207" class="Symbol">(</a><a id="4208" href="Prelude.Preliminaries.html#13647" class="Function Operator">∥</a> <a id="4210" href="Birkhoff.FreeAlgebra.html#3977" class="Function">ϕ</a> <a id="4212" href="Prelude.Preliminaries.html#13647" class="Function Operator">∥</a> <a id="4214" href="Birkhoff.FreeAlgebra.html#3941" class="Bound">f</a> <a id="4216" href="Birkhoff.FreeAlgebra.html#3948" class="Bound">j</a><a id="4217" class="Symbol">)</a><a id="4218" href="MGS-MLTT.html#6125" class="Function Operator">⁻¹</a> <a id="4221" href="MGS-MLTT.html#5997" class="Function Operator">⟩</a>
       <a id="4230" href="Prelude.Preliminaries.html#13569" class="Function Operator">∣</a> <a id="4232" href="Birkhoff.FreeAlgebra.html#3977" class="Function">ϕ</a> <a id="4234" href="Prelude.Preliminaries.html#13569" class="Function Operator">∣</a> <a id="4236" class="Symbol">((</a><a id="4238" href="Birkhoff.FreeAlgebra.html#3941" class="Bound">f</a> <a id="4240" href="Algebras.Algebras.html#2997" class="Function Operator">̂</a> <a id="4242" href="Terms.Basic.html#3664" class="Function">𝑻</a> <a id="4244" href="Birkhoff.FreeAlgebra.html#2777" class="Bound">X</a><a id="4245" class="Symbol">)</a> <a id="4247" href="Birkhoff.FreeAlgebra.html#3948" class="Bound">j</a><a id="4248" class="Symbol">)</a> <a id="4250" href="MGS-MLTT.html#6079" class="Function Operator">∎</a>

 <a id="the-free-algebra.ψRefl"></a><a id="4254" href="Birkhoff.FreeAlgebra.html#4254" class="Function">ψRefl</a> <a id="4260" class="Symbol">:</a> <a id="4262" class="Symbol">{</a><a id="4263" href="Birkhoff.FreeAlgebra.html#4263" class="Bound">𝒦</a> <a id="4265" class="Symbol">:</a> <a id="4267" href="Relations.Discrete.html#1408" class="Function">Pred</a> <a id="4272" class="Symbol">(</a><a id="4273" href="Algebras.Algebras.html#694" class="Function">Algebra</a> <a id="4281" href="Birkhoff.FreeAlgebra.html#2761" class="Bound">𝓤</a> <a id="4283" href="Birkhoff.FreeAlgebra.html#496" class="Bound">𝑆</a><a id="4284" class="Symbol">)</a> <a id="4286" href="Birkhoff.FreeAlgebra.html#2859" class="Function">𝓸𝓿𝓾</a><a id="4289" class="Symbol">}</a> <a id="4291" class="Symbol">→</a> <a id="4293" href="Relations.Quotients.html#923" class="Function">reflexive</a> <a id="4303" class="Symbol">(</a><a id="4304" href="Birkhoff.FreeAlgebra.html#3524" class="Function">ψRel</a> <a id="4309" href="Birkhoff.FreeAlgebra.html#4263" class="Bound">𝒦</a><a id="4310" class="Symbol">)</a>
 <a id="4313" href="Birkhoff.FreeAlgebra.html#4254" class="Function">ψRefl</a> <a id="4319" class="Symbol">=</a> <a id="4321" class="Symbol">λ</a> <a id="4323" href="Birkhoff.FreeAlgebra.html#4323" class="Symbol">_</a> <a id="4325" href="Birkhoff.FreeAlgebra.html#4325" class="Symbol">_</a> <a id="4327" href="Birkhoff.FreeAlgebra.html#4327" class="Symbol">_</a> <a id="4329" href="Birkhoff.FreeAlgebra.html#4329" class="Symbol">_</a> <a id="4331" class="Symbol">→</a> <a id="4333" href="MGS-MLTT.html#4221" class="InductiveConstructor">𝓇ℯ𝒻𝓁</a>

 <a id="the-free-algebra.ψSymm"></a><a id="4340" href="Birkhoff.FreeAlgebra.html#4340" class="Function">ψSymm</a> <a id="4346" class="Symbol">:</a> <a id="4348" class="Symbol">{</a><a id="4349" href="Birkhoff.FreeAlgebra.html#4349" class="Bound">𝒦</a> <a id="4351" class="Symbol">:</a> <a id="4353" href="Relations.Discrete.html#1408" class="Function">Pred</a> <a id="4358" class="Symbol">(</a><a id="4359" href="Algebras.Algebras.html#694" class="Function">Algebra</a> <a id="4367" href="Birkhoff.FreeAlgebra.html#2761" class="Bound">𝓤</a> <a id="4369" href="Birkhoff.FreeAlgebra.html#496" class="Bound">𝑆</a><a id="4370" class="Symbol">)</a> <a id="4372" href="Birkhoff.FreeAlgebra.html#2859" class="Function">𝓸𝓿𝓾</a><a id="4375" class="Symbol">}</a> <a id="4377" class="Symbol">→</a> <a id="4379" href="Relations.Quotients.html#1011" class="Function">symmetric</a> <a id="4389" class="Symbol">(</a><a id="4390" href="Birkhoff.FreeAlgebra.html#3524" class="Function">ψRel</a> <a id="4395" href="Birkhoff.FreeAlgebra.html#4349" class="Bound">𝒦</a><a id="4396" class="Symbol">)</a>
 <a id="4399" href="Birkhoff.FreeAlgebra.html#4340" class="Function">ψSymm</a> <a id="4405" class="Symbol">_</a> <a id="4407" class="Symbol">_</a> <a id="4409" href="Birkhoff.FreeAlgebra.html#4409" class="Bound">pψRelq</a> <a id="4416" href="Birkhoff.FreeAlgebra.html#4416" class="Bound">𝑪</a> <a id="4418" href="Birkhoff.FreeAlgebra.html#4418" class="Bound">ϕ</a> <a id="4420" href="Birkhoff.FreeAlgebra.html#4420" class="Bound">h</a> <a id="4422" class="Symbol">=</a> <a id="4424" class="Symbol">(</a><a id="4425" href="Birkhoff.FreeAlgebra.html#4409" class="Bound">pψRelq</a> <a id="4432" href="Birkhoff.FreeAlgebra.html#4416" class="Bound">𝑪</a> <a id="4434" href="Birkhoff.FreeAlgebra.html#4418" class="Bound">ϕ</a> <a id="4436" href="Birkhoff.FreeAlgebra.html#4420" class="Bound">h</a><a id="4437" class="Symbol">)</a><a id="4438" href="MGS-MLTT.html#6125" class="Function Operator">⁻¹</a>

 <a id="the-free-algebra.ψTrans"></a><a id="4443" href="Birkhoff.FreeAlgebra.html#4443" class="Function">ψTrans</a> <a id="4450" class="Symbol">:</a> <a id="4452" class="Symbol">{</a><a id="4453" href="Birkhoff.FreeAlgebra.html#4453" class="Bound">𝒦</a> <a id="4455" class="Symbol">:</a> <a id="4457" href="Relations.Discrete.html#1408" class="Function">Pred</a> <a id="4462" class="Symbol">(</a><a id="4463" href="Algebras.Algebras.html#694" class="Function">Algebra</a> <a id="4471" href="Birkhoff.FreeAlgebra.html#2761" class="Bound">𝓤</a> <a id="4473" href="Birkhoff.FreeAlgebra.html#496" class="Bound">𝑆</a><a id="4474" class="Symbol">)</a> <a id="4476" href="Birkhoff.FreeAlgebra.html#2859" class="Function">𝓸𝓿𝓾</a><a id="4479" class="Symbol">}</a> <a id="4481" class="Symbol">→</a> <a id="4483" href="Relations.Quotients.html#1223" class="Function">transitive</a> <a id="4494" class="Symbol">(</a><a id="4495" href="Birkhoff.FreeAlgebra.html#3524" class="Function">ψRel</a> <a id="4500" href="Birkhoff.FreeAlgebra.html#4453" class="Bound">𝒦</a><a id="4501" class="Symbol">)</a>
 <a id="4504" href="Birkhoff.FreeAlgebra.html#4443" class="Function">ψTrans</a> <a id="4511" class="Symbol">_</a> <a id="4513" class="Symbol">_</a> <a id="4515" class="Symbol">_</a> <a id="4517" href="Birkhoff.FreeAlgebra.html#4517" class="Bound">pψq</a> <a id="4521" href="Birkhoff.FreeAlgebra.html#4521" class="Bound">qψr</a> <a id="4525" href="Birkhoff.FreeAlgebra.html#4525" class="Bound">𝑪</a> <a id="4527" href="Birkhoff.FreeAlgebra.html#4527" class="Bound">ϕ</a> <a id="4529" href="Birkhoff.FreeAlgebra.html#4529" class="Bound">h</a> <a id="4531" class="Symbol">=</a> <a id="4533" class="Symbol">(</a><a id="4534" href="Birkhoff.FreeAlgebra.html#4517" class="Bound">pψq</a> <a id="4538" href="Birkhoff.FreeAlgebra.html#4525" class="Bound">𝑪</a> <a id="4540" href="Birkhoff.FreeAlgebra.html#4527" class="Bound">ϕ</a> <a id="4542" href="Birkhoff.FreeAlgebra.html#4529" class="Bound">h</a><a id="4543" class="Symbol">)</a> <a id="4545" href="MGS-MLTT.html#5910" class="Function Operator">∙</a> <a id="4547" class="Symbol">(</a><a id="4548" href="Birkhoff.FreeAlgebra.html#4521" class="Bound">qψr</a> <a id="4552" href="Birkhoff.FreeAlgebra.html#4525" class="Bound">𝑪</a> <a id="4554" href="Birkhoff.FreeAlgebra.html#4527" class="Bound">ϕ</a> <a id="4556" href="Birkhoff.FreeAlgebra.html#4529" class="Bound">h</a><a id="4557" class="Symbol">)</a>

 <a id="the-free-algebra.ψIsEquivalence"></a><a id="4561" href="Birkhoff.FreeAlgebra.html#4561" class="Function">ψIsEquivalence</a> <a id="4576" class="Symbol">:</a> <a id="4578" class="Symbol">{</a><a id="4579" href="Birkhoff.FreeAlgebra.html#4579" class="Bound">𝒦</a> <a id="4581" class="Symbol">:</a> <a id="4583" href="Relations.Discrete.html#1408" class="Function">Pred</a> <a id="4588" class="Symbol">(</a><a id="4589" href="Algebras.Algebras.html#694" class="Function">Algebra</a> <a id="4597" href="Birkhoff.FreeAlgebra.html#2761" class="Bound">𝓤</a> <a id="4599" href="Birkhoff.FreeAlgebra.html#496" class="Bound">𝑆</a><a id="4600" class="Symbol">)</a> <a id="4602" href="Birkhoff.FreeAlgebra.html#2859" class="Function">𝓸𝓿𝓾</a><a id="4605" class="Symbol">}</a> <a id="4607" class="Symbol">→</a> <a id="4609" href="Relations.Quotients.html#1918" class="Record">IsEquivalence</a> <a id="4623" class="Symbol">(</a><a id="4624" href="Birkhoff.FreeAlgebra.html#3524" class="Function">ψRel</a> <a id="4629" href="Birkhoff.FreeAlgebra.html#4579" class="Bound">𝒦</a><a id="4630" class="Symbol">)</a>
 <a id="4633" href="Birkhoff.FreeAlgebra.html#4561" class="Function">ψIsEquivalence</a> <a id="4648" class="Symbol">=</a> <a id="4650" class="Keyword">record</a> <a id="4657" class="Symbol">{</a> <a id="4659" href="Relations.Quotients.html#1986" class="Field">rfl</a> <a id="4663" class="Symbol">=</a> <a id="4665" href="Birkhoff.FreeAlgebra.html#4254" class="Function">ψRefl</a> <a id="4671" class="Symbol">;</a> <a id="4673" href="Relations.Quotients.html#2011" class="Field">sym</a> <a id="4677" class="Symbol">=</a> <a id="4679" href="Birkhoff.FreeAlgebra.html#4340" class="Function">ψSymm</a> <a id="4685" class="Symbol">;</a> <a id="4687" href="Relations.Quotients.html#2036" class="Field">trans</a> <a id="4693" class="Symbol">=</a> <a id="4695" href="Birkhoff.FreeAlgebra.html#4443" class="Function">ψTrans</a> <a id="4702" class="Symbol">}</a>

</pre>

We have collected all the pieces necessary to express the collection of identities satisfied by all subalgebras of algebras in the class as a congruence relation of the term algebra. We call this congruence `ψCon` and define it using the Congruence constructor `mkcon`.

<pre class="Agda">

 <a id="the-free-algebra.ψCon"></a><a id="5003" href="Birkhoff.FreeAlgebra.html#5003" class="Function">ψCon</a> <a id="5008" class="Symbol">:</a> <a id="5010" class="Symbol">(</a><a id="5011" href="Birkhoff.FreeAlgebra.html#5011" class="Bound">𝒦</a> <a id="5013" class="Symbol">:</a> <a id="5015" href="Relations.Discrete.html#1408" class="Function">Pred</a> <a id="5020" class="Symbol">(</a><a id="5021" href="Algebras.Algebras.html#694" class="Function">Algebra</a> <a id="5029" href="Birkhoff.FreeAlgebra.html#2761" class="Bound">𝓤</a> <a id="5031" href="Birkhoff.FreeAlgebra.html#496" class="Bound">𝑆</a><a id="5032" class="Symbol">)</a> <a id="5034" href="Birkhoff.FreeAlgebra.html#2859" class="Function">𝓸𝓿𝓾</a><a id="5037" class="Symbol">)</a> <a id="5039" class="Symbol">→</a> <a id="5041" href="Algebras.Congruences.html#1106" class="Record">Congruence</a> <a id="5052" class="Symbol">(</a><a id="5053" href="Terms.Basic.html#3664" class="Function">𝑻</a> <a id="5055" href="Birkhoff.FreeAlgebra.html#2777" class="Bound">X</a><a id="5056" class="Symbol">)</a>
 <a id="5059" href="Birkhoff.FreeAlgebra.html#5003" class="Function">ψCon</a> <a id="5064" href="Birkhoff.FreeAlgebra.html#5064" class="Bound">𝒦</a> <a id="5066" class="Symbol">=</a> <a id="5068" href="Algebras.Congruences.html#1185" class="InductiveConstructor">mkcon</a> <a id="5074" class="Symbol">(</a><a id="5075" href="Birkhoff.FreeAlgebra.html#3524" class="Function">ψRel</a> <a id="5080" href="Birkhoff.FreeAlgebra.html#5064" class="Bound">𝒦</a><a id="5081" class="Symbol">)</a> <a id="5083" class="Symbol">(</a><a id="5084" href="Birkhoff.FreeAlgebra.html#3856" class="Function">ψcompatible</a> <a id="5096" href="Birkhoff.FreeAlgebra.html#5064" class="Bound">𝒦</a><a id="5097" class="Symbol">)</a> <a id="5099" href="Birkhoff.FreeAlgebra.html#4561" class="Function">ψIsEquivalence</a>

</pre>


Finally, we are ready to define the type representing the relatively free algebra in Agda.  We denote this type by 𝔉 and define it as the quotient `𝑻 X ╱ (ψCon 𝒦)`.

<pre class="Agda">

<a id="5308" class="Keyword">module</a> <a id="the-relatively-free-algebra"></a><a id="5315" href="Birkhoff.FreeAlgebra.html#5315" class="Module">the-relatively-free-algebra</a>
 <a id="5344" class="Symbol">{</a><a id="5345" href="Birkhoff.FreeAlgebra.html#5345" class="Bound">𝓤</a> <a id="5347" href="Birkhoff.FreeAlgebra.html#5347" class="Bound">𝓧</a> <a id="5349" class="Symbol">:</a> <a id="5351" href="Universes.html#205" class="Function">Universe</a><a id="5359" class="Symbol">}{</a><a id="5361" href="Birkhoff.FreeAlgebra.html#5361" class="Bound">X</a> <a id="5363" class="Symbol">:</a> <a id="5365" href="Birkhoff.FreeAlgebra.html#5347" class="Bound">𝓧</a> <a id="5367" href="Universes.html#403" class="Function Operator">̇</a><a id="5368" class="Symbol">}</a> <a id="5370" class="Symbol">{</a><a id="5371" href="Birkhoff.FreeAlgebra.html#5371" class="Bound">𝒦</a> <a id="5373" class="Symbol">:</a> <a id="5375" href="Relations.Discrete.html#1408" class="Function">Pred</a> <a id="5380" class="Symbol">(</a><a id="5381" href="Algebras.Algebras.html#694" class="Function">Algebra</a> <a id="5389" href="Birkhoff.FreeAlgebra.html#5345" class="Bound">𝓤</a> <a id="5391" href="Birkhoff.FreeAlgebra.html#496" class="Bound">𝑆</a><a id="5392" class="Symbol">)</a> <a id="5394" class="Symbol">(</a><a id="5395" href="Algebras.Products.html#1918" class="Function">ov</a> <a id="5398" href="Birkhoff.FreeAlgebra.html#5345" class="Bound">𝓤</a><a id="5399" class="Symbol">)}</a> <a id="5402" class="Keyword">where</a>

 <a id="5410" class="Keyword">open</a> <a id="5415" href="Birkhoff.FreeAlgebra.html#2743" class="Module">the-free-algebra</a><a id="5431" class="Symbol">{</a><a id="5432" class="Argument">𝓤</a> <a id="5434" class="Symbol">=</a> <a id="5436" href="Birkhoff.FreeAlgebra.html#5345" class="Bound">𝓤</a><a id="5437" class="Symbol">}{</a><a id="5439" class="Argument">𝓧</a> <a id="5441" class="Symbol">=</a> <a id="5443" href="Birkhoff.FreeAlgebra.html#5347" class="Bound">𝓧</a><a id="5444" class="Symbol">}{</a><a id="5446" class="Argument">X</a> <a id="5448" class="Symbol">=</a> <a id="5450" href="Birkhoff.FreeAlgebra.html#5361" class="Bound">X</a><a id="5451" class="Symbol">}</a>

 <a id="the-relatively-free-algebra.𝓕"></a><a id="5455" href="Birkhoff.FreeAlgebra.html#5455" class="Function">𝓕</a> <a id="5457" class="Symbol">:</a> <a id="5459" href="Universes.html#205" class="Function">Universe</a> <a id="5468" class="Comment">-- (universe level of the relatively free algebra)</a>
 <a id="5520" href="Birkhoff.FreeAlgebra.html#5455" class="Function">𝓕</a> <a id="5522" class="Symbol">=</a> <a id="5524" class="Symbol">(</a><a id="5525" href="Birkhoff.FreeAlgebra.html#5347" class="Bound">𝓧</a> <a id="5527" href="Agda.Primitive.html#636" class="Function Operator">⊔</a> <a id="5529" href="Algebras.Products.html#1918" class="Function">ov</a> <a id="5532" href="Birkhoff.FreeAlgebra.html#5345" class="Bound">𝓤</a><a id="5533" class="Symbol">)</a> <a id="5535" href="Universes.html#181" class="Function Operator">⁺</a>

 <a id="the-relatively-free-algebra.𝔉"></a><a id="5539" href="Birkhoff.FreeAlgebra.html#5539" class="Function">𝔉</a> <a id="5541" class="Symbol">:</a> <a id="5543" href="Algebras.Algebras.html#694" class="Function">Algebra</a> <a id="5551" href="Birkhoff.FreeAlgebra.html#5455" class="Function">𝓕</a> <a id="5553" href="Birkhoff.FreeAlgebra.html#496" class="Bound">𝑆</a>
 <a id="5556" href="Birkhoff.FreeAlgebra.html#5539" class="Function">𝔉</a> <a id="5558" class="Symbol">=</a>  <a id="5561" href="Terms.Basic.html#3664" class="Function">𝑻</a> <a id="5563" href="Birkhoff.FreeAlgebra.html#5361" class="Bound">X</a> <a id="5565" href="Algebras.Congruences.html#3128" class="Function Operator">╱</a> <a id="5567" class="Symbol">(</a><a id="5568" href="Birkhoff.FreeAlgebra.html#5003" class="Function">ψCon</a> <a id="5573" href="Birkhoff.FreeAlgebra.html#5371" class="Bound">𝒦</a><a id="5574" class="Symbol">)</a>

</pre>

The domain ∣ 𝔉 ∣ is

`∣ 𝑻 X ∣ / ⟨ ψCon 𝒦 ⟩ = Σ C ꞉ _ ,  Σ p ꞉ ∣ 𝑻 X ∣ ,  C ≡ ( [ p ] ⟨ ψCon 𝒦 ⟩ )`,

which is the collection `{ C : ∃ p ∈ ∣ 𝑻 X ∣, C ≡ [ p ]⟨ ψCon 𝒦 ⟩ }` of `⟨ ψCon 𝒦 ⟩`-classses of `𝑻 X`, as desired.

<!--

---------------------------

#### Old unused stuff


One could define the collection `𝑻img` of all homomorphic images of the term algebra that belong to a given class 𝒦 as follows.

 -- H (𝑻 X)  (hom images of 𝑻 X)
 𝑻img : Pred (Algebra 𝓤 𝑆) 𝓸𝓿𝓾 → 𝓸𝓿𝓾 ⊔ 𝓧 ⁺ ̇
 𝑻img 𝒦 = Σ 𝑨 ꞉ (Algebra 𝓤 𝑆) , Σ ϕ ꞉ hom (𝑻 X) 𝑨 , (𝑨 ∈ 𝒦) × Epic ∣ ϕ ∣

The inhabitants of this Sigma type represent algebras 𝑨 ∈ 𝒦 such that there exists a surjective homomorphism ϕ : hom (𝑻 X) 𝑨. Thus, 𝑻img represents the collection of all homomorphic images of 𝑻 X that belong to 𝒦.  Of course, this is the entire class 𝒦, since the term algebra is absolutely free. Nonetheless, this representation of 𝒦 is useful since it endows each element with extra information.  Indeed, each inhabitant of 𝑻img 𝒦 is a quadruple, (𝑨 , ϕ , ka, p), where 𝑨 is an 𝑆-algebra, ϕ is a homomorphism from 𝑻 X to 𝑨, ka is a proof that 𝑨 belongs to 𝒦, and p is a proof that the underlying map ∣ ϕ ∣ is epic.

The next function, `mkti`, that takes an arbitrary algebra 𝑨 in 𝒦 and a mapping X → ∣ 𝑨 ∣ and returns the corresponding quadruple in `𝑻img 𝒦`.

 mkti : {𝒦 : Pred (Algebra 𝓤 𝑆)𝓸𝓿𝓾}(𝑨 : Algebra 𝓤 𝑆)(h : X → ∣ 𝑨 ∣) → Epic h → 𝑨 ∈ 𝒦 → 𝑻img 𝒦
 mkti 𝑨 h hE ka = (𝑨 , lift-hom 𝑨 h , ka , lift-of-epi-is-epi hE)

-->
----------------------------





<span class="footnote" id="fn1"><sup>1</sup>Since `X` is not a subset of `𝔉`, technically it doesn't make sense to say "`X` generates `𝔉`." But as long as 𝒦 contains a nontrivial algebra, we will have `ψ(𝒦, 𝑻 𝑋) ∩ X² ≠ ∅`, and we can identify `X` with `X / ψ(𝒦, 𝑻 X)` which does belong to 𝔉.</span>

[↑ Birkhoff](Birkhoff.html)
<span style="float:right;">[Birkhoff.HSPTheorem →](Birkhoff.HSPTheorem.html)</span>

{% include UALib.Links.md %}

<!--

Lemma 4.27. (Bergman) Let 𝒦 be a class of algebras, and ψCon defined as above.
                     Then 𝔽 := 𝑻 / ψCon is isomorphic to an algebra in SP(𝒦).

Proof. 𝔽 ↪ ⨅ 𝒜, where 𝒜 = {𝑨 / θ : 𝑨 / θ ∈ S 𝒦}.
       Therefore, 𝔽 ≅ 𝑩, where 𝑩 is a subalgebra of ⨅ 𝒜 ∈ PS(𝒦).
       Thus 𝔽 is isomorphic to an algebra in SPS(𝒦).
       By SPS⊆SP, 𝔽 is isomorphic to an algebra in SP(𝒦).

-->



