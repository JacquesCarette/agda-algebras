---
layout: default
title : Birkhoff.FreeAlgebra (The Agda Universal Algebra Library)
date : 2021-01-14
author: William DeMeo
---

### <a id="the-free-algebra">The Free Algebra</a>

This section presents the [Birkhoff.FreeAlgebra][] module of the [Agda Universal Algebra Library][].

<pre class="Agda">

<a id="299" class="Symbol">{-#</a> <a id="303" class="Keyword">OPTIONS</a> <a id="311" class="Pragma">--without-K</a> <a id="323" class="Pragma">--exact-split</a> <a id="337" class="Pragma">--safe</a> <a id="344" class="Symbol">#-}</a>

<a id="349" class="Keyword">open</a> <a id="354" class="Keyword">import</a> <a id="361" href="Algebras.Signatures.html" class="Module">Algebras.Signatures</a> <a id="381" class="Keyword">using</a> <a id="387" class="Symbol">(</a><a id="388" href="Algebras.Signatures.html#1299" class="Function">Signature</a><a id="397" class="Symbol">;</a> <a id="399" href="Prelude.Preliminaries.html#5600" class="Generalizable">𝓞</a><a id="400" class="Symbol">;</a> <a id="402" href="Universes.html#262" class="Generalizable">𝓥</a><a id="403" class="Symbol">)</a>
<a id="405" class="Keyword">open</a> <a id="410" class="Keyword">import</a> <a id="417" href="MGS-Subsingleton-Theorems.html" class="Module">MGS-Subsingleton-Theorems</a> <a id="443" class="Keyword">using</a> <a id="449" class="Symbol">(</a><a id="450" href="MGS-Subsingleton-Theorems.html#3468" class="Function">global-dfunext</a><a id="464" class="Symbol">)</a>

<a id="467" class="Keyword">module</a> <a id="474" href="Birkhoff.FreeAlgebra.html" class="Module">Birkhoff.FreeAlgebra</a> <a id="495" class="Symbol">{</a><a id="496" href="Birkhoff.FreeAlgebra.html#496" class="Bound">𝑆</a> <a id="498" class="Symbol">:</a> <a id="500" href="Algebras.Signatures.html#1299" class="Function">Signature</a> <a id="510" href="Prelude.Preliminaries.html#5600" class="Generalizable">𝓞</a> <a id="512" href="Universes.html#262" class="Generalizable">𝓥</a><a id="513" class="Symbol">}{</a><a id="515" href="Birkhoff.FreeAlgebra.html#515" class="Bound">gfe</a> <a id="519" class="Symbol">:</a> <a id="521" href="MGS-Subsingleton-Theorems.html#3468" class="Function">global-dfunext</a><a id="535" class="Symbol">}</a> <a id="537" class="Keyword">where</a>

<a id="544" class="Keyword">open</a> <a id="549" class="Keyword">import</a> <a id="556" href="Varieties.Preservation.html" class="Module">Varieties.Preservation</a> <a id="579" class="Symbol">{</a><a id="580" class="Argument">𝑆</a> <a id="582" class="Symbol">=</a> <a id="584" href="Birkhoff.FreeAlgebra.html#496" class="Bound">𝑆</a><a id="585" class="Symbol">}{</a><a id="587" href="Birkhoff.FreeAlgebra.html#515" class="Bound">gfe</a><a id="590" class="Symbol">}</a> <a id="592" class="Keyword">public</a>

</pre>


#### <a id="the-free-algebra-in-theory">The free algebra in theory</a>

Recall, we proved in [the universal property](Terms.Basic.html#the-universal-property) section of the [Terms.Basic][] module that the term algebra `𝑻 X` is the absolutely free algebra in the class of all `𝑆`-structures. In this section, we formalize, for a given class `𝒦` of `𝑆`-algebras, the (relatively) free algebra in `S(P 𝒦)` over `X`.

We use the next definition to take a free algebra *for* a class `𝒦` and produce the free algebra *in* `𝒦`.

`Θ(𝒦, 𝑨) := {θ ∈ Con 𝑨 : 𝑨 / θ ∈ (S 𝒦)}` &nbsp; &nbsp; and &nbsp; &nbsp; `ψ(𝒦, 𝑨) := ⋂ Θ(𝒦, 𝑨)`.

Notice that `Θ(𝒦, 𝑨)` may be empty, in which case `ψ(𝒦, 𝑨) = 1` and then `𝑨 / ψ(𝒦, 𝑨)` is trivial.

The free algebra is constructed by applying the above definitions to the special case in which `𝑨` is the term algebra `𝑻 X` of `𝑆`-terms over `X`.

Since `𝑻 X` is free for (and in) the class of all `𝑆`-algebras, it follows that `𝑻 X` is free for every class `𝒦` of `𝑆`-algebras. Of course, `𝑻 X` is not necessarily a member of `𝒦`, but if we form the quotient of `𝑻 X` modulo the congruence `ψ(𝒦, 𝑻 X)`, which we denote by `𝔉 := (𝑻 X) / ψ(𝒦, 𝑻 X)`, then it's not hard to see that `𝔉` is a subdirect product of the algebras in `{(𝑻 𝑋) / θ}`, where `θ` ranges over `Θ(𝒦, 𝑻 X)`, so `𝔉` belongs to `S(P 𝒦)`, and it follows that `𝔉` satisfies all the identities satisfied by all members of `𝒦`.  Indeed, for each pair `p q : 𝑻 X`, if `𝒦 ⊧ p ≈ q`, then `p` and `q` must belong to the same `ψ(𝒦, 𝑻 X)`-class, so `p` and `q` are identified in the quotient `𝔉`.

The `𝔉` that we have just defined is called the **free algebra over** `𝒦` **generated by** `X` and (because of what we just observed) we may say that `𝔉` is free *in* `S(P 𝒦)`.<sup>[1](Birkhoff.FreeAlgebra.html#fn1)</sup>

#### <a id="the-free-algebra-in-agda">The free algebra in Agda</a>

Here we represent `𝔉` as a type in Agda by first constructing the congruence `ψ(𝒦, 𝑻 𝑋)` described above.

We assume two ambient universes `𝓤` and `𝓧`, as well as a type `X : 𝓧 ̇`. As usual, this is accomplished with the `module` directive.

<pre class="Agda">

<a id="2736" class="Keyword">module</a> <a id="the-free-algebra"></a><a id="2743" href="Birkhoff.FreeAlgebra.html#2743" class="Module">the-free-algebra</a> <a id="2760" class="Symbol">{</a><a id="2761" href="Birkhoff.FreeAlgebra.html#2761" class="Bound">𝓤</a> <a id="2763" href="Birkhoff.FreeAlgebra.html#2763" class="Bound">𝓧</a> <a id="2765" class="Symbol">:</a> <a id="2767" href="Universes.html#205" class="Function">Universe</a><a id="2775" class="Symbol">}{</a><a id="2777" href="Birkhoff.FreeAlgebra.html#2777" class="Bound">X</a> <a id="2779" class="Symbol">:</a> <a id="2781" href="Birkhoff.FreeAlgebra.html#2763" class="Bound">𝓧</a> <a id="2783" href="Universes.html#403" class="Function Operator">̇</a><a id="2784" class="Symbol">}</a> <a id="2786" class="Keyword">where</a>

 <a id="2794" class="Comment">-- NOTATION (universe aliases for convenience and readability).</a>
 <a id="the-free-algebra.𝓸𝓿𝓾"></a><a id="2859" href="Birkhoff.FreeAlgebra.html#2859" class="Function">𝓸𝓿𝓾</a> <a id="the-free-algebra.𝓸𝓿𝓾+"></a><a id="2863" href="Birkhoff.FreeAlgebra.html#2863" class="Function">𝓸𝓿𝓾+</a> <a id="the-free-algebra.𝓸𝓿𝓾++"></a><a id="2868" href="Birkhoff.FreeAlgebra.html#2868" class="Function">𝓸𝓿𝓾++</a> <a id="2874" class="Symbol">:</a> <a id="2876" href="Universes.html#205" class="Function">Universe</a>
 <a id="2886" href="Birkhoff.FreeAlgebra.html#2859" class="Function">𝓸𝓿𝓾</a> <a id="2890" class="Symbol">=</a> <a id="2892" href="Algebras.Products.html#1918" class="Function">ov</a> <a id="2895" href="Birkhoff.FreeAlgebra.html#2761" class="Bound">𝓤</a>
 <a id="2898" href="Birkhoff.FreeAlgebra.html#2863" class="Function">𝓸𝓿𝓾+</a> <a id="2903" class="Symbol">=</a> <a id="2905" href="Birkhoff.FreeAlgebra.html#2859" class="Function">𝓸𝓿𝓾</a> <a id="2909" href="Universes.html#181" class="Function Operator">⁺</a>
 <a id="2912" href="Birkhoff.FreeAlgebra.html#2868" class="Function">𝓸𝓿𝓾++</a> <a id="2918" class="Symbol">=</a> <a id="2920" href="Birkhoff.FreeAlgebra.html#2859" class="Function">𝓸𝓿𝓾</a> <a id="2924" href="Universes.html#181" class="Function Operator">⁺</a> <a id="2926" href="Universes.html#181" class="Function Operator">⁺</a>

</pre>

We first construct the congruence relation `ψCon`, modulo which `𝑻 X` yields the relatively free algebra, `𝔉 𝒦 X := 𝑻 X ╱ ψCon`. We start by letting `ψ` be the collection of identities `(p, q)` satisfied by all subalgebras of algebras in `𝒦`.

<pre class="Agda">

 <a id="the-free-algebra.ψ"></a><a id="3200" href="Birkhoff.FreeAlgebra.html#3200" class="Function">ψ</a> <a id="3202" class="Symbol">:</a> <a id="3204" class="Symbol">(</a><a id="3205" href="Birkhoff.FreeAlgebra.html#3205" class="Bound">𝒦</a> <a id="3207" class="Symbol">:</a> <a id="3209" href="Relations.Discrete.html#1408" class="Function">Pred</a> <a id="3214" class="Symbol">(</a><a id="3215" href="Algebras.Algebras.html#694" class="Function">Algebra</a> <a id="3223" href="Birkhoff.FreeAlgebra.html#2761" class="Bound">𝓤</a> <a id="3225" href="Birkhoff.FreeAlgebra.html#496" class="Bound">𝑆</a><a id="3226" class="Symbol">)</a> <a id="3228" href="Birkhoff.FreeAlgebra.html#2859" class="Function">𝓸𝓿𝓾</a><a id="3231" class="Symbol">)</a> <a id="3233" class="Symbol">→</a> <a id="3235" href="Relations.Discrete.html#1408" class="Function">Pred</a> <a id="3240" class="Symbol">(</a><a id="3241" href="Prelude.Preliminaries.html#13569" class="Function Operator">∣</a> <a id="3243" href="Terms.Basic.html#3664" class="Function">𝑻</a> <a id="3245" href="Birkhoff.FreeAlgebra.html#2777" class="Bound">X</a> <a id="3247" href="Prelude.Preliminaries.html#13569" class="Function Operator">∣</a> <a id="3249" href="MGS-MLTT.html#3515" class="Function Operator">×</a> <a id="3251" href="Prelude.Preliminaries.html#13569" class="Function Operator">∣</a> <a id="3253" href="Terms.Basic.html#3664" class="Function">𝑻</a> <a id="3255" href="Birkhoff.FreeAlgebra.html#2777" class="Bound">X</a> <a id="3257" href="Prelude.Preliminaries.html#13569" class="Function Operator">∣</a><a id="3258" class="Symbol">)</a> <a id="3260" class="Symbol">(</a><a id="3261" href="Birkhoff.FreeAlgebra.html#2763" class="Bound">𝓧</a> <a id="3263" href="Agda.Primitive.html#636" class="Function Operator">⊔</a> <a id="3265" href="Birkhoff.FreeAlgebra.html#2859" class="Function">𝓸𝓿𝓾</a><a id="3268" class="Symbol">)</a>
 <a id="3271" href="Birkhoff.FreeAlgebra.html#3200" class="Function">ψ</a> <a id="3273" href="Birkhoff.FreeAlgebra.html#3273" class="Bound">𝒦</a> <a id="3275" class="Symbol">(</a><a id="3276" href="Birkhoff.FreeAlgebra.html#3276" class="Bound">p</a> <a id="3278" href="MGS-MLTT.html#2929" class="InductiveConstructor Operator">,</a> <a id="3280" href="Birkhoff.FreeAlgebra.html#3280" class="Bound">q</a><a id="3281" class="Symbol">)</a> <a id="3283" class="Symbol">=</a> <a id="3285" class="Symbol">∀(</a><a id="3287" href="Birkhoff.FreeAlgebra.html#3287" class="Bound">𝑨</a> <a id="3289" class="Symbol">:</a> <a id="3291" href="Algebras.Algebras.html#694" class="Function">Algebra</a> <a id="3299" href="Birkhoff.FreeAlgebra.html#2761" class="Bound">𝓤</a> <a id="3301" href="Birkhoff.FreeAlgebra.html#496" class="Bound">𝑆</a><a id="3302" class="Symbol">)(</a><a id="3304" href="Birkhoff.FreeAlgebra.html#3304" class="Bound">sA</a> <a id="3307" class="Symbol">:</a> <a id="3309" href="Birkhoff.FreeAlgebra.html#3287" class="Bound">𝑨</a> <a id="3311" href="Relations.Discrete.html#2407" class="Function Operator">∈</a> <a id="3313" href="Varieties.Varieties.html#2939" class="Datatype">S</a><a id="3314" class="Symbol">{</a><a id="3315" href="Birkhoff.FreeAlgebra.html#2761" class="Bound">𝓤</a><a id="3316" class="Symbol">}{</a><a id="3318" href="Birkhoff.FreeAlgebra.html#2761" class="Bound">𝓤</a><a id="3319" class="Symbol">}</a> <a id="3321" href="Birkhoff.FreeAlgebra.html#3273" class="Bound">𝒦</a><a id="3322" class="Symbol">)(</a><a id="3324" href="Birkhoff.FreeAlgebra.html#3324" class="Bound">h</a> <a id="3326" class="Symbol">:</a> <a id="3328" href="Birkhoff.FreeAlgebra.html#2777" class="Bound">X</a> <a id="3330" class="Symbol">→</a> <a id="3332" href="Prelude.Preliminaries.html#13569" class="Function Operator">∣</a> <a id="3334" href="Birkhoff.FreeAlgebra.html#3287" class="Bound">𝑨</a> <a id="3336" href="Prelude.Preliminaries.html#13569" class="Function Operator">∣</a> <a id="3338" class="Symbol">)</a>
                <a id="3356" class="Symbol">→</a>  <a id="3359" class="Symbol">(</a><a id="3360" href="Terms.Basic.html#4326" class="Function">free-lift</a> <a id="3370" href="Birkhoff.FreeAlgebra.html#3287" class="Bound">𝑨</a> <a id="3372" href="Birkhoff.FreeAlgebra.html#3324" class="Bound">h</a><a id="3373" class="Symbol">)</a> <a id="3375" href="Birkhoff.FreeAlgebra.html#3276" class="Bound">p</a> <a id="3377" href="MGS-MLTT.html#4207" class="Datatype Operator">≡</a> <a id="3379" class="Symbol">(</a><a id="3380" href="Terms.Basic.html#4326" class="Function">free-lift</a> <a id="3390" href="Birkhoff.FreeAlgebra.html#3287" class="Bound">𝑨</a> <a id="3392" href="Birkhoff.FreeAlgebra.html#3324" class="Bound">h</a><a id="3393" class="Symbol">)</a> <a id="3395" href="Birkhoff.FreeAlgebra.html#3280" class="Bound">q</a>

</pre>

We convert the predicate ψ into a relation by [currying](https://en.wikipedia.org/wiki/Currying).

<pre class="Agda">

 <a id="the-free-algebra.ψRel"></a><a id="3524" href="Birkhoff.FreeAlgebra.html#3524" class="Function">ψRel</a> <a id="3529" class="Symbol">:</a> <a id="3531" class="Symbol">(</a><a id="3532" href="Birkhoff.FreeAlgebra.html#3532" class="Bound">𝒦</a> <a id="3534" class="Symbol">:</a> <a id="3536" href="Relations.Discrete.html#1408" class="Function">Pred</a> <a id="3541" class="Symbol">(</a><a id="3542" href="Algebras.Algebras.html#694" class="Function">Algebra</a> <a id="3550" href="Birkhoff.FreeAlgebra.html#2761" class="Bound">𝓤</a> <a id="3552" href="Birkhoff.FreeAlgebra.html#496" class="Bound">𝑆</a><a id="3553" class="Symbol">)</a> <a id="3555" href="Birkhoff.FreeAlgebra.html#2859" class="Function">𝓸𝓿𝓾</a><a id="3558" class="Symbol">)</a> <a id="3560" class="Symbol">→</a> <a id="3562" href="Relations.Discrete.html#7033" class="Function">Rel</a> <a id="3566" href="Prelude.Preliminaries.html#13569" class="Function Operator">∣</a> <a id="3568" href="Terms.Basic.html#3664" class="Function">𝑻</a> <a id="3570" href="Birkhoff.FreeAlgebra.html#2777" class="Bound">X</a> <a id="3572" href="Prelude.Preliminaries.html#13569" class="Function Operator">∣</a> <a id="3574" class="Symbol">(</a><a id="3575" href="Birkhoff.FreeAlgebra.html#2763" class="Bound">𝓧</a> <a id="3577" href="Agda.Primitive.html#636" class="Function Operator">⊔</a> <a id="3579" href="Birkhoff.FreeAlgebra.html#2859" class="Function">𝓸𝓿𝓾</a><a id="3582" class="Symbol">)</a>
 <a id="3585" href="Birkhoff.FreeAlgebra.html#3524" class="Function">ψRel</a> <a id="3590" href="Birkhoff.FreeAlgebra.html#3590" class="Bound">𝒦</a> <a id="3592" href="Birkhoff.FreeAlgebra.html#3592" class="Bound">p</a> <a id="3594" href="Birkhoff.FreeAlgebra.html#3594" class="Bound">q</a> <a id="3596" class="Symbol">=</a> <a id="3598" href="Birkhoff.FreeAlgebra.html#3200" class="Function">ψ</a> <a id="3600" href="Birkhoff.FreeAlgebra.html#3590" class="Bound">𝒦</a> <a id="3602" class="Symbol">(</a><a id="3603" href="Birkhoff.FreeAlgebra.html#3592" class="Bound">p</a> <a id="3605" href="MGS-MLTT.html#2929" class="InductiveConstructor Operator">,</a> <a id="3607" href="Birkhoff.FreeAlgebra.html#3594" class="Bound">q</a><a id="3608" class="Symbol">)</a>

</pre>

To express `ψRel` as a congruence of the term algebra `𝑻 X`, we must prove that

1. `ψRel` is compatible with the operations of `𝑻 X` (which are jsut the terms themselves) and
2. `ψRel` it is an equivalence relation.

<pre class="Agda">

 <a id="the-free-algebra.ψcompatible"></a><a id="3856" href="Birkhoff.FreeAlgebra.html#3856" class="Function">ψcompatible</a> <a id="3868" class="Symbol">:</a> <a id="3870" class="Symbol">(</a><a id="3871" href="Birkhoff.FreeAlgebra.html#3871" class="Bound">𝒦</a> <a id="3873" class="Symbol">:</a> <a id="3875" href="Relations.Discrete.html#1408" class="Function">Pred</a> <a id="3880" class="Symbol">(</a><a id="3881" href="Algebras.Algebras.html#694" class="Function">Algebra</a> <a id="3889" href="Birkhoff.FreeAlgebra.html#2761" class="Bound">𝓤</a> <a id="3891" href="Birkhoff.FreeAlgebra.html#496" class="Bound">𝑆</a><a id="3892" class="Symbol">)</a> <a id="3894" href="Birkhoff.FreeAlgebra.html#2859" class="Function">𝓸𝓿𝓾</a><a id="3897" class="Symbol">)</a> <a id="3899" class="Symbol">→</a> <a id="3901" href="Algebras.Algebras.html#5907" class="Function">compatible</a> <a id="3912" class="Symbol">(</a><a id="3913" href="Terms.Basic.html#3664" class="Function">𝑻</a> <a id="3915" href="Birkhoff.FreeAlgebra.html#2777" class="Bound">X</a><a id="3916" class="Symbol">)(</a><a id="3918" href="Birkhoff.FreeAlgebra.html#3524" class="Function">ψRel</a> <a id="3923" href="Birkhoff.FreeAlgebra.html#3871" class="Bound">𝒦</a><a id="3924" class="Symbol">)</a>
 <a id="3927" href="Birkhoff.FreeAlgebra.html#3856" class="Function">ψcompatible</a> <a id="3939" href="Birkhoff.FreeAlgebra.html#3939" class="Bound">𝒦</a> <a id="3941" href="Birkhoff.FreeAlgebra.html#3941" class="Bound">𝑓</a> <a id="3943" class="Symbol">{</a><a id="3944" href="Birkhoff.FreeAlgebra.html#3944" class="Bound">p</a><a id="3945" class="Symbol">}</a> <a id="3947" class="Symbol">{</a><a id="3948" href="Birkhoff.FreeAlgebra.html#3948" class="Bound">q</a><a id="3949" class="Symbol">}</a> <a id="3951" href="Birkhoff.FreeAlgebra.html#3951" class="Bound">ψpq</a> <a id="3955" href="Birkhoff.FreeAlgebra.html#3955" class="Bound">𝑨</a> <a id="3957" href="Birkhoff.FreeAlgebra.html#3957" class="Bound">sA</a> <a id="3960" href="Birkhoff.FreeAlgebra.html#3960" class="Bound">h</a> <a id="3962" class="Symbol">=</a> <a id="3964" href="Birkhoff.FreeAlgebra.html#4017" class="Function">γ</a>
  <a id="3968" class="Keyword">where</a>
   <a id="3977" href="Birkhoff.FreeAlgebra.html#3977" class="Function">ϕ</a> <a id="3979" class="Symbol">:</a> <a id="3981" href="Homomorphisms.Basic.html#2343" class="Function">hom</a> <a id="3985" class="Symbol">(</a><a id="3986" href="Terms.Basic.html#3664" class="Function">𝑻</a> <a id="3988" href="Birkhoff.FreeAlgebra.html#2777" class="Bound">X</a><a id="3989" class="Symbol">)</a> <a id="3991" href="Birkhoff.FreeAlgebra.html#3955" class="Bound">𝑨</a>
   <a id="3996" href="Birkhoff.FreeAlgebra.html#3977" class="Function">ϕ</a> <a id="3998" class="Symbol">=</a> <a id="4000" href="Terms.Basic.html#4577" class="Function">lift-hom</a> <a id="4009" href="Birkhoff.FreeAlgebra.html#3955" class="Bound">𝑨</a> <a id="4011" href="Birkhoff.FreeAlgebra.html#3960" class="Bound">h</a>

   <a id="4017" href="Birkhoff.FreeAlgebra.html#4017" class="Function">γ</a> <a id="4019" class="Symbol">:</a> <a id="4021" href="Prelude.Preliminaries.html#13569" class="Function Operator">∣</a> <a id="4023" href="Birkhoff.FreeAlgebra.html#3977" class="Function">ϕ</a> <a id="4025" href="Prelude.Preliminaries.html#13569" class="Function Operator">∣</a> <a id="4027" class="Symbol">((</a><a id="4029" href="Birkhoff.FreeAlgebra.html#3941" class="Bound">𝑓</a> <a id="4031" href="Algebras.Algebras.html#2997" class="Function Operator">̂</a> <a id="4033" href="Terms.Basic.html#3664" class="Function">𝑻</a> <a id="4035" href="Birkhoff.FreeAlgebra.html#2777" class="Bound">X</a><a id="4036" class="Symbol">)</a> <a id="4038" href="Birkhoff.FreeAlgebra.html#3944" class="Bound">p</a><a id="4039" class="Symbol">)</a> <a id="4041" href="MGS-MLTT.html#4207" class="Datatype Operator">≡</a> <a id="4043" href="Prelude.Preliminaries.html#13569" class="Function Operator">∣</a> <a id="4045" href="Birkhoff.FreeAlgebra.html#3977" class="Function">ϕ</a> <a id="4047" href="Prelude.Preliminaries.html#13569" class="Function Operator">∣</a> <a id="4049" class="Symbol">((</a><a id="4051" href="Birkhoff.FreeAlgebra.html#3941" class="Bound">𝑓</a> <a id="4053" href="Algebras.Algebras.html#2997" class="Function Operator">̂</a> <a id="4055" href="Terms.Basic.html#3664" class="Function">𝑻</a> <a id="4057" href="Birkhoff.FreeAlgebra.html#2777" class="Bound">X</a><a id="4058" class="Symbol">)</a> <a id="4060" href="Birkhoff.FreeAlgebra.html#3948" class="Bound">q</a><a id="4061" class="Symbol">)</a>

   <a id="4067" href="Birkhoff.FreeAlgebra.html#4017" class="Function">γ</a> <a id="4069" class="Symbol">=</a> <a id="4071" href="Prelude.Preliminaries.html#13569" class="Function Operator">∣</a> <a id="4073" href="Birkhoff.FreeAlgebra.html#3977" class="Function">ϕ</a> <a id="4075" href="Prelude.Preliminaries.html#13569" class="Function Operator">∣</a> <a id="4077" class="Symbol">((</a><a id="4079" href="Birkhoff.FreeAlgebra.html#3941" class="Bound">𝑓</a> <a id="4081" href="Algebras.Algebras.html#2997" class="Function Operator">̂</a> <a id="4083" href="Terms.Basic.html#3664" class="Function">𝑻</a> <a id="4085" href="Birkhoff.FreeAlgebra.html#2777" class="Bound">X</a><a id="4086" class="Symbol">)</a> <a id="4088" href="Birkhoff.FreeAlgebra.html#3944" class="Bound">p</a><a id="4089" class="Symbol">)</a> <a id="4091" href="MGS-MLTT.html#5997" class="Function Operator">≡⟨</a> <a id="4094" href="Prelude.Preliminaries.html#13647" class="Function Operator">∥</a> <a id="4096" href="Birkhoff.FreeAlgebra.html#3977" class="Function">ϕ</a> <a id="4098" href="Prelude.Preliminaries.html#13647" class="Function Operator">∥</a> <a id="4100" href="Birkhoff.FreeAlgebra.html#3941" class="Bound">𝑓</a> <a id="4102" href="Birkhoff.FreeAlgebra.html#3944" class="Bound">p</a> <a id="4104" href="MGS-MLTT.html#5997" class="Function Operator">⟩</a>
       <a id="4113" class="Symbol">(</a><a id="4114" href="Birkhoff.FreeAlgebra.html#3941" class="Bound">𝑓</a> <a id="4116" href="Algebras.Algebras.html#2997" class="Function Operator">̂</a> <a id="4118" href="Birkhoff.FreeAlgebra.html#3955" class="Bound">𝑨</a><a id="4119" class="Symbol">)</a> <a id="4121" class="Symbol">(</a><a id="4122" href="Prelude.Preliminaries.html#13569" class="Function Operator">∣</a> <a id="4124" href="Birkhoff.FreeAlgebra.html#3977" class="Function">ϕ</a> <a id="4126" href="Prelude.Preliminaries.html#13569" class="Function Operator">∣</a> <a id="4128" href="MGS-MLTT.html#3813" class="Function Operator">∘</a> <a id="4130" href="Birkhoff.FreeAlgebra.html#3944" class="Bound">p</a><a id="4131" class="Symbol">)</a> <a id="4133" href="MGS-MLTT.html#5997" class="Function Operator">≡⟨</a> <a id="4136" href="MGS-MLTT.html#6613" class="Function">ap</a><a id="4138" class="Symbol">(</a><a id="4139" href="Birkhoff.FreeAlgebra.html#3941" class="Bound">𝑓</a> <a id="4141" href="Algebras.Algebras.html#2997" class="Function Operator">̂</a> <a id="4143" href="Birkhoff.FreeAlgebra.html#3955" class="Bound">𝑨</a><a id="4144" class="Symbol">)(</a><a id="4146" href="Birkhoff.FreeAlgebra.html#515" class="Bound">gfe</a> <a id="4150" class="Symbol">λ</a> <a id="4152" href="Birkhoff.FreeAlgebra.html#4152" class="Bound">x</a> <a id="4154" class="Symbol">→</a> <a id="4156" class="Symbol">(</a><a id="4157" href="Birkhoff.FreeAlgebra.html#3951" class="Bound">ψpq</a> <a id="4161" href="Birkhoff.FreeAlgebra.html#4152" class="Bound">x</a><a id="4162" class="Symbol">)</a> <a id="4164" href="Birkhoff.FreeAlgebra.html#3955" class="Bound">𝑨</a> <a id="4166" href="Birkhoff.FreeAlgebra.html#3957" class="Bound">sA</a> <a id="4169" href="Birkhoff.FreeAlgebra.html#3960" class="Bound">h</a><a id="4170" class="Symbol">)</a> <a id="4172" href="MGS-MLTT.html#5997" class="Function Operator">⟩</a>
       <a id="4181" class="Symbol">(</a><a id="4182" href="Birkhoff.FreeAlgebra.html#3941" class="Bound">𝑓</a> <a id="4184" href="Algebras.Algebras.html#2997" class="Function Operator">̂</a> <a id="4186" href="Birkhoff.FreeAlgebra.html#3955" class="Bound">𝑨</a><a id="4187" class="Symbol">)</a> <a id="4189" class="Symbol">(</a><a id="4190" href="Prelude.Preliminaries.html#13569" class="Function Operator">∣</a> <a id="4192" href="Birkhoff.FreeAlgebra.html#3977" class="Function">ϕ</a> <a id="4194" href="Prelude.Preliminaries.html#13569" class="Function Operator">∣</a> <a id="4196" href="MGS-MLTT.html#3813" class="Function Operator">∘</a> <a id="4198" href="Birkhoff.FreeAlgebra.html#3948" class="Bound">q</a><a id="4199" class="Symbol">)</a> <a id="4201" href="MGS-MLTT.html#5997" class="Function Operator">≡⟨</a> <a id="4204" class="Symbol">(</a><a id="4205" href="Prelude.Preliminaries.html#13647" class="Function Operator">∥</a> <a id="4207" href="Birkhoff.FreeAlgebra.html#3977" class="Function">ϕ</a> <a id="4209" href="Prelude.Preliminaries.html#13647" class="Function Operator">∥</a> <a id="4211" href="Birkhoff.FreeAlgebra.html#3941" class="Bound">𝑓</a> <a id="4213" href="Birkhoff.FreeAlgebra.html#3948" class="Bound">q</a><a id="4214" class="Symbol">)</a><a id="4215" href="MGS-MLTT.html#6125" class="Function Operator">⁻¹</a> <a id="4218" href="MGS-MLTT.html#5997" class="Function Operator">⟩</a>
       <a id="4227" href="Prelude.Preliminaries.html#13569" class="Function Operator">∣</a> <a id="4229" href="Birkhoff.FreeAlgebra.html#3977" class="Function">ϕ</a> <a id="4231" href="Prelude.Preliminaries.html#13569" class="Function Operator">∣</a> <a id="4233" class="Symbol">((</a><a id="4235" href="Birkhoff.FreeAlgebra.html#3941" class="Bound">𝑓</a> <a id="4237" href="Algebras.Algebras.html#2997" class="Function Operator">̂</a> <a id="4239" href="Terms.Basic.html#3664" class="Function">𝑻</a> <a id="4241" href="Birkhoff.FreeAlgebra.html#2777" class="Bound">X</a><a id="4242" class="Symbol">)</a> <a id="4244" href="Birkhoff.FreeAlgebra.html#3948" class="Bound">q</a><a id="4245" class="Symbol">)</a> <a id="4247" href="MGS-MLTT.html#6079" class="Function Operator">∎</a>

 <a id="the-free-algebra.ψRefl"></a><a id="4251" href="Birkhoff.FreeAlgebra.html#4251" class="Function">ψRefl</a> <a id="4257" class="Symbol">:</a> <a id="4259" class="Symbol">{</a><a id="4260" href="Birkhoff.FreeAlgebra.html#4260" class="Bound">𝒦</a> <a id="4262" class="Symbol">:</a> <a id="4264" href="Relations.Discrete.html#1408" class="Function">Pred</a> <a id="4269" class="Symbol">(</a><a id="4270" href="Algebras.Algebras.html#694" class="Function">Algebra</a> <a id="4278" href="Birkhoff.FreeAlgebra.html#2761" class="Bound">𝓤</a> <a id="4280" href="Birkhoff.FreeAlgebra.html#496" class="Bound">𝑆</a><a id="4281" class="Symbol">)</a> <a id="4283" href="Birkhoff.FreeAlgebra.html#2859" class="Function">𝓸𝓿𝓾</a><a id="4286" class="Symbol">}</a> <a id="4288" class="Symbol">→</a> <a id="4290" href="Relations.Quotients.html#923" class="Function">reflexive</a> <a id="4300" class="Symbol">(</a><a id="4301" href="Birkhoff.FreeAlgebra.html#3524" class="Function">ψRel</a> <a id="4306" href="Birkhoff.FreeAlgebra.html#4260" class="Bound">𝒦</a><a id="4307" class="Symbol">)</a>
 <a id="4310" href="Birkhoff.FreeAlgebra.html#4251" class="Function">ψRefl</a> <a id="4316" class="Symbol">=</a> <a id="4318" class="Symbol">λ</a> <a id="4320" href="Birkhoff.FreeAlgebra.html#4320" class="Bound">_</a> <a id="4322" href="Birkhoff.FreeAlgebra.html#4322" class="Bound">_</a> <a id="4324" href="Birkhoff.FreeAlgebra.html#4324" class="Bound">_</a> <a id="4326" href="Birkhoff.FreeAlgebra.html#4326" class="Bound">_</a> <a id="4328" class="Symbol">→</a> <a id="4330" href="MGS-MLTT.html#4221" class="InductiveConstructor">𝓇ℯ𝒻𝓁</a>

 <a id="the-free-algebra.ψSymm"></a><a id="4337" href="Birkhoff.FreeAlgebra.html#4337" class="Function">ψSymm</a> <a id="4343" class="Symbol">:</a> <a id="4345" class="Symbol">{</a><a id="4346" href="Birkhoff.FreeAlgebra.html#4346" class="Bound">𝒦</a> <a id="4348" class="Symbol">:</a> <a id="4350" href="Relations.Discrete.html#1408" class="Function">Pred</a> <a id="4355" class="Symbol">(</a><a id="4356" href="Algebras.Algebras.html#694" class="Function">Algebra</a> <a id="4364" href="Birkhoff.FreeAlgebra.html#2761" class="Bound">𝓤</a> <a id="4366" href="Birkhoff.FreeAlgebra.html#496" class="Bound">𝑆</a><a id="4367" class="Symbol">)</a> <a id="4369" href="Birkhoff.FreeAlgebra.html#2859" class="Function">𝓸𝓿𝓾</a><a id="4372" class="Symbol">}</a> <a id="4374" class="Symbol">→</a> <a id="4376" href="Relations.Quotients.html#1011" class="Function">symmetric</a> <a id="4386" class="Symbol">(</a><a id="4387" href="Birkhoff.FreeAlgebra.html#3524" class="Function">ψRel</a> <a id="4392" href="Birkhoff.FreeAlgebra.html#4346" class="Bound">𝒦</a><a id="4393" class="Symbol">)</a>
 <a id="4396" href="Birkhoff.FreeAlgebra.html#4337" class="Function">ψSymm</a> <a id="4402" class="Symbol">_</a> <a id="4404" class="Symbol">_</a> <a id="4406" href="Birkhoff.FreeAlgebra.html#4406" class="Bound">pψRelq</a> <a id="4413" href="Birkhoff.FreeAlgebra.html#4413" class="Bound">𝑪</a> <a id="4415" href="Birkhoff.FreeAlgebra.html#4415" class="Bound">ϕ</a> <a id="4417" href="Birkhoff.FreeAlgebra.html#4417" class="Bound">h</a> <a id="4419" class="Symbol">=</a> <a id="4421" class="Symbol">(</a><a id="4422" href="Birkhoff.FreeAlgebra.html#4406" class="Bound">pψRelq</a> <a id="4429" href="Birkhoff.FreeAlgebra.html#4413" class="Bound">𝑪</a> <a id="4431" href="Birkhoff.FreeAlgebra.html#4415" class="Bound">ϕ</a> <a id="4433" href="Birkhoff.FreeAlgebra.html#4417" class="Bound">h</a><a id="4434" class="Symbol">)</a><a id="4435" href="MGS-MLTT.html#6125" class="Function Operator">⁻¹</a>

 <a id="the-free-algebra.ψTrans"></a><a id="4440" href="Birkhoff.FreeAlgebra.html#4440" class="Function">ψTrans</a> <a id="4447" class="Symbol">:</a> <a id="4449" class="Symbol">{</a><a id="4450" href="Birkhoff.FreeAlgebra.html#4450" class="Bound">𝒦</a> <a id="4452" class="Symbol">:</a> <a id="4454" href="Relations.Discrete.html#1408" class="Function">Pred</a> <a id="4459" class="Symbol">(</a><a id="4460" href="Algebras.Algebras.html#694" class="Function">Algebra</a> <a id="4468" href="Birkhoff.FreeAlgebra.html#2761" class="Bound">𝓤</a> <a id="4470" href="Birkhoff.FreeAlgebra.html#496" class="Bound">𝑆</a><a id="4471" class="Symbol">)</a> <a id="4473" href="Birkhoff.FreeAlgebra.html#2859" class="Function">𝓸𝓿𝓾</a><a id="4476" class="Symbol">}</a> <a id="4478" class="Symbol">→</a> <a id="4480" href="Relations.Quotients.html#1223" class="Function">transitive</a> <a id="4491" class="Symbol">(</a><a id="4492" href="Birkhoff.FreeAlgebra.html#3524" class="Function">ψRel</a> <a id="4497" href="Birkhoff.FreeAlgebra.html#4450" class="Bound">𝒦</a><a id="4498" class="Symbol">)</a>
 <a id="4501" href="Birkhoff.FreeAlgebra.html#4440" class="Function">ψTrans</a> <a id="4508" class="Symbol">_</a> <a id="4510" class="Symbol">_</a> <a id="4512" class="Symbol">_</a> <a id="4514" href="Birkhoff.FreeAlgebra.html#4514" class="Bound">pψq</a> <a id="4518" href="Birkhoff.FreeAlgebra.html#4518" class="Bound">qψr</a> <a id="4522" href="Birkhoff.FreeAlgebra.html#4522" class="Bound">𝑪</a> <a id="4524" href="Birkhoff.FreeAlgebra.html#4524" class="Bound">ϕ</a> <a id="4526" href="Birkhoff.FreeAlgebra.html#4526" class="Bound">h</a> <a id="4528" class="Symbol">=</a> <a id="4530" class="Symbol">(</a><a id="4531" href="Birkhoff.FreeAlgebra.html#4514" class="Bound">pψq</a> <a id="4535" href="Birkhoff.FreeAlgebra.html#4522" class="Bound">𝑪</a> <a id="4537" href="Birkhoff.FreeAlgebra.html#4524" class="Bound">ϕ</a> <a id="4539" href="Birkhoff.FreeAlgebra.html#4526" class="Bound">h</a><a id="4540" class="Symbol">)</a> <a id="4542" href="MGS-MLTT.html#5910" class="Function Operator">∙</a> <a id="4544" class="Symbol">(</a><a id="4545" href="Birkhoff.FreeAlgebra.html#4518" class="Bound">qψr</a> <a id="4549" href="Birkhoff.FreeAlgebra.html#4522" class="Bound">𝑪</a> <a id="4551" href="Birkhoff.FreeAlgebra.html#4524" class="Bound">ϕ</a> <a id="4553" href="Birkhoff.FreeAlgebra.html#4526" class="Bound">h</a><a id="4554" class="Symbol">)</a>

 <a id="the-free-algebra.ψIsEquivalence"></a><a id="4558" href="Birkhoff.FreeAlgebra.html#4558" class="Function">ψIsEquivalence</a> <a id="4573" class="Symbol">:</a> <a id="4575" class="Symbol">{</a><a id="4576" href="Birkhoff.FreeAlgebra.html#4576" class="Bound">𝒦</a> <a id="4578" class="Symbol">:</a> <a id="4580" href="Relations.Discrete.html#1408" class="Function">Pred</a> <a id="4585" class="Symbol">(</a><a id="4586" href="Algebras.Algebras.html#694" class="Function">Algebra</a> <a id="4594" href="Birkhoff.FreeAlgebra.html#2761" class="Bound">𝓤</a> <a id="4596" href="Birkhoff.FreeAlgebra.html#496" class="Bound">𝑆</a><a id="4597" class="Symbol">)</a> <a id="4599" href="Birkhoff.FreeAlgebra.html#2859" class="Function">𝓸𝓿𝓾</a><a id="4602" class="Symbol">}</a> <a id="4604" class="Symbol">→</a> <a id="4606" href="Relations.Quotients.html#1918" class="Record">IsEquivalence</a> <a id="4620" class="Symbol">(</a><a id="4621" href="Birkhoff.FreeAlgebra.html#3524" class="Function">ψRel</a> <a id="4626" href="Birkhoff.FreeAlgebra.html#4576" class="Bound">𝒦</a><a id="4627" class="Symbol">)</a>
 <a id="4630" href="Birkhoff.FreeAlgebra.html#4558" class="Function">ψIsEquivalence</a> <a id="4645" class="Symbol">=</a> <a id="4647" class="Keyword">record</a> <a id="4654" class="Symbol">{</a> <a id="4656" href="Relations.Quotients.html#1986" class="Field">rfl</a> <a id="4660" class="Symbol">=</a> <a id="4662" href="Birkhoff.FreeAlgebra.html#4251" class="Function">ψRefl</a> <a id="4668" class="Symbol">;</a> <a id="4670" href="Relations.Quotients.html#2011" class="Field">sym</a> <a id="4674" class="Symbol">=</a> <a id="4676" href="Birkhoff.FreeAlgebra.html#4337" class="Function">ψSymm</a> <a id="4682" class="Symbol">;</a> <a id="4684" href="Relations.Quotients.html#2036" class="Field">trans</a> <a id="4690" class="Symbol">=</a> <a id="4692" href="Birkhoff.FreeAlgebra.html#4440" class="Function">ψTrans</a> <a id="4699" class="Symbol">}</a>

</pre>

We have collected all the pieces necessary to express the collection of identities satisfied by all subalgebras of algebras in the class as a congruence relation of the term algebra. We call this congruence `ψCon` and define it using the Congruence constructor `mkcon`.

<pre class="Agda">

 <a id="the-free-algebra.ψCon"></a><a id="5000" href="Birkhoff.FreeAlgebra.html#5000" class="Function">ψCon</a> <a id="5005" class="Symbol">:</a> <a id="5007" class="Symbol">(</a><a id="5008" href="Birkhoff.FreeAlgebra.html#5008" class="Bound">𝒦</a> <a id="5010" class="Symbol">:</a> <a id="5012" href="Relations.Discrete.html#1408" class="Function">Pred</a> <a id="5017" class="Symbol">(</a><a id="5018" href="Algebras.Algebras.html#694" class="Function">Algebra</a> <a id="5026" href="Birkhoff.FreeAlgebra.html#2761" class="Bound">𝓤</a> <a id="5028" href="Birkhoff.FreeAlgebra.html#496" class="Bound">𝑆</a><a id="5029" class="Symbol">)</a> <a id="5031" href="Birkhoff.FreeAlgebra.html#2859" class="Function">𝓸𝓿𝓾</a><a id="5034" class="Symbol">)</a> <a id="5036" class="Symbol">→</a> <a id="5038" href="Algebras.Congruences.html#1106" class="Record">Congruence</a> <a id="5049" class="Symbol">(</a><a id="5050" href="Terms.Basic.html#3664" class="Function">𝑻</a> <a id="5052" href="Birkhoff.FreeAlgebra.html#2777" class="Bound">X</a><a id="5053" class="Symbol">)</a>
 <a id="5056" href="Birkhoff.FreeAlgebra.html#5000" class="Function">ψCon</a> <a id="5061" href="Birkhoff.FreeAlgebra.html#5061" class="Bound">𝒦</a> <a id="5063" class="Symbol">=</a> <a id="5065" href="Algebras.Congruences.html#1185" class="InductiveConstructor">mkcon</a> <a id="5071" class="Symbol">(</a><a id="5072" href="Birkhoff.FreeAlgebra.html#3524" class="Function">ψRel</a> <a id="5077" href="Birkhoff.FreeAlgebra.html#5061" class="Bound">𝒦</a><a id="5078" class="Symbol">)</a> <a id="5080" class="Symbol">(</a><a id="5081" href="Birkhoff.FreeAlgebra.html#3856" class="Function">ψcompatible</a> <a id="5093" href="Birkhoff.FreeAlgebra.html#5061" class="Bound">𝒦</a><a id="5094" class="Symbol">)</a> <a id="5096" href="Birkhoff.FreeAlgebra.html#4558" class="Function">ψIsEquivalence</a>

</pre>


Finally, we are ready to define the type representing the relatively free algebra in Agda.  We denote this type by 𝔉 and define it as the quotient `𝑻 X ╱ (ψCon 𝒦)`.

<pre class="Agda">

<a id="5305" class="Keyword">module</a> <a id="the-relatively-free-algebra"></a><a id="5312" href="Birkhoff.FreeAlgebra.html#5312" class="Module">the-relatively-free-algebra</a>
 <a id="5341" class="Symbol">{</a><a id="5342" href="Birkhoff.FreeAlgebra.html#5342" class="Bound">𝓤</a> <a id="5344" href="Birkhoff.FreeAlgebra.html#5344" class="Bound">𝓧</a> <a id="5346" class="Symbol">:</a> <a id="5348" href="Universes.html#205" class="Function">Universe</a><a id="5356" class="Symbol">}{</a><a id="5358" href="Birkhoff.FreeAlgebra.html#5358" class="Bound">X</a> <a id="5360" class="Symbol">:</a> <a id="5362" href="Birkhoff.FreeAlgebra.html#5344" class="Bound">𝓧</a> <a id="5364" href="Universes.html#403" class="Function Operator">̇</a><a id="5365" class="Symbol">}</a> <a id="5367" class="Symbol">{</a><a id="5368" href="Birkhoff.FreeAlgebra.html#5368" class="Bound">𝒦</a> <a id="5370" class="Symbol">:</a> <a id="5372" href="Relations.Discrete.html#1408" class="Function">Pred</a> <a id="5377" class="Symbol">(</a><a id="5378" href="Algebras.Algebras.html#694" class="Function">Algebra</a> <a id="5386" href="Birkhoff.FreeAlgebra.html#5342" class="Bound">𝓤</a> <a id="5388" href="Birkhoff.FreeAlgebra.html#496" class="Bound">𝑆</a><a id="5389" class="Symbol">)</a> <a id="5391" class="Symbol">(</a><a id="5392" href="Algebras.Products.html#1918" class="Function">ov</a> <a id="5395" href="Birkhoff.FreeAlgebra.html#5342" class="Bound">𝓤</a><a id="5396" class="Symbol">)}</a> <a id="5399" class="Keyword">where</a>

 <a id="5407" class="Keyword">open</a> <a id="5412" href="Birkhoff.FreeAlgebra.html#2743" class="Module">the-free-algebra</a><a id="5428" class="Symbol">{</a><a id="5429" class="Argument">𝓤</a> <a id="5431" class="Symbol">=</a> <a id="5433" href="Birkhoff.FreeAlgebra.html#5342" class="Bound">𝓤</a><a id="5434" class="Symbol">}{</a><a id="5436" class="Argument">𝓧</a> <a id="5438" class="Symbol">=</a> <a id="5440" href="Birkhoff.FreeAlgebra.html#5344" class="Bound">𝓧</a><a id="5441" class="Symbol">}{</a><a id="5443" class="Argument">X</a> <a id="5445" class="Symbol">=</a> <a id="5447" href="Birkhoff.FreeAlgebra.html#5358" class="Bound">X</a><a id="5448" class="Symbol">}</a>

 <a id="the-relatively-free-algebra.𝓕"></a><a id="5452" href="Birkhoff.FreeAlgebra.html#5452" class="Function">𝓕</a> <a id="5454" class="Symbol">:</a> <a id="5456" href="Universes.html#205" class="Function">Universe</a> <a id="5465" class="Comment">-- (universe level of the relatively free algebra)</a>
 <a id="5517" href="Birkhoff.FreeAlgebra.html#5452" class="Function">𝓕</a> <a id="5519" class="Symbol">=</a> <a id="5521" class="Symbol">(</a><a id="5522" href="Birkhoff.FreeAlgebra.html#5344" class="Bound">𝓧</a> <a id="5524" href="Agda.Primitive.html#636" class="Function Operator">⊔</a> <a id="5526" href="Algebras.Products.html#1918" class="Function">ov</a> <a id="5529" href="Birkhoff.FreeAlgebra.html#5342" class="Bound">𝓤</a><a id="5530" class="Symbol">)</a> <a id="5532" href="Universes.html#181" class="Function Operator">⁺</a>

 <a id="the-relatively-free-algebra.𝔉"></a><a id="5536" href="Birkhoff.FreeAlgebra.html#5536" class="Function">𝔉</a> <a id="5538" class="Symbol">:</a> <a id="5540" href="Algebras.Algebras.html#694" class="Function">Algebra</a> <a id="5548" href="Birkhoff.FreeAlgebra.html#5452" class="Function">𝓕</a> <a id="5550" href="Birkhoff.FreeAlgebra.html#496" class="Bound">𝑆</a>
 <a id="5553" href="Birkhoff.FreeAlgebra.html#5536" class="Function">𝔉</a> <a id="5555" class="Symbol">=</a>  <a id="5558" href="Terms.Basic.html#3664" class="Function">𝑻</a> <a id="5560" href="Birkhoff.FreeAlgebra.html#5358" class="Bound">X</a> <a id="5562" href="Algebras.Congruences.html#3128" class="Function Operator">╱</a> <a id="5564" class="Symbol">(</a><a id="5565" href="Birkhoff.FreeAlgebra.html#5000" class="Function">ψCon</a> <a id="5570" href="Birkhoff.FreeAlgebra.html#5368" class="Bound">𝒦</a><a id="5571" class="Symbol">)</a>

</pre>

The domain of `𝔉` is `∣ 𝔉 ∣ = ∣ 𝑻 X ∣ / ⟨ ψCon 𝒦 ⟩`, which is equal to

`Σ C ꞉ _ ,  Σ p ꞉ ∣ 𝑻 X ∣ ,  C ≡ ( [ p ] ⟨ ψCon 𝒦 ⟩ )`.

This Sigma type denotes the set `{ C : ∃ p ∈ ∣ 𝑻 X ∣ , C ≡ [ p ] ⟨ ψCon 𝒦 ⟩ }` of `⟨ ψCon 𝒦 ⟩`-classses of terms, as desired.

We left the type of `C` implicit (using the underscore symbol) for readability.  Since `C` denotes a particular class of the congruence relation `ψCon 𝒦` of `𝑻 X`, and since congruence classes are subsets of the domain of the underlying algebra, the type of `C` is a predicate on the type of terms; specifically, `C : Pred ∣ 𝑻 X ∣ (𝓧 ⊔ 𝓸𝓿𝓾)`.


----------------------------





<span class="footnote" id="fn1"><sup>1</sup>Since `X` is not a subset of `𝔉`, technically it doesn't make sense to say "`X` generates `𝔉`." But as long as 𝒦 contains a nontrivial algebra, we will have `ψ(𝒦, 𝑻 𝑋) ∩ X² ≠ ∅`, and we can identify `X` with `X / ψ(𝒦, 𝑻 X)` which does belong to 𝔉.</span>

[↑ Birkhoff](Birkhoff.html)
<span style="float:right;">[Birkhoff.HSPTheorem →](Birkhoff.HSPTheorem.html)</span>

{% include UALib.Links.md %}





<!--

---------------------------

#### Old unused stuff


One could define the collection `𝑻img` of all homomorphic images of the term algebra that belong to a given class 𝒦 as follows.

 -- H (𝑻 X)  (hom images of 𝑻 X)
 𝑻img : Pred (Algebra 𝓤 𝑆) 𝓸𝓿𝓾 → 𝓸𝓿𝓾 ⊔ 𝓧 ⁺ ̇
 𝑻img 𝒦 = Σ 𝑨 ꞉ (Algebra 𝓤 𝑆) , Σ ϕ ꞉ hom (𝑻 X) 𝑨 , (𝑨 ∈ 𝒦) × Epic ∣ ϕ ∣

The inhabitants of this Sigma type represent algebras 𝑨 ∈ 𝒦 such that there exists a surjective homomorphism ϕ : hom (𝑻 X) 𝑨. Thus, 𝑻img represents the collection of all homomorphic images of 𝑻 X that belong to 𝒦.  Of course, this is the entire class 𝒦, since the term algebra is absolutely free. Nonetheless, this representation of 𝒦 is useful since it endows each element with extra information.  Indeed, each inhabitant of 𝑻img 𝒦 is a quadruple, (𝑨 , ϕ , ka, p), where 𝑨 is an 𝑆-algebra, ϕ is a homomorphism from 𝑻 X to 𝑨, ka is a proof that 𝑨 belongs to 𝒦, and p is a proof that the underlying map ∣ ϕ ∣ is epic.

The next function, `mkti`, that takes an arbitrary algebra 𝑨 in 𝒦 and a mapping X → ∣ 𝑨 ∣ and returns the corresponding quadruple in `𝑻img 𝒦`.

 mkti : {𝒦 : Pred (Algebra 𝓤 𝑆)𝓸𝓿𝓾}(𝑨 : Algebra 𝓤 𝑆)(h : X → ∣ 𝑨 ∣) → Epic h → 𝑨 ∈ 𝒦 → 𝑻img 𝒦
 mkti 𝑨 h hE ka = (𝑨 , lift-hom 𝑨 h , ka , lift-of-epi-is-epi hE)

-->















<!--

Lemma 4.27. (Bergman) Let 𝒦 be a class of algebras, and ψCon defined as above.
                     Then 𝔽 := 𝑻 / ψCon is isomorphic to an algebra in SP(𝒦).

Proof. 𝔽 ↪ ⨅ 𝒜, where 𝒜 = {𝑨 / θ : 𝑨 / θ ∈ S 𝒦}.
       Therefore, 𝔽 ≅ 𝑩, where 𝑩 is a subalgebra of ⨅ 𝒜 ∈ PS(𝒦).
       Thus 𝔽 is isomorphic to an algebra in SPS(𝒦).
       By SPS⊆SP, 𝔽 is isomorphic to an algebra in SP(𝒦).

-->



