---
layout: default
title : UALib.Prelude.Inverses module (Agda Universal Algebra Library)
date : 2021-01-12
author: William DeMeo
---

### <a id="inverses">Inverses</a>

This section presents the [UALib.Prelude.Inverses][] module of the [Agda Universal Algebra Library][].

<pre class="Agda">

<a id="290" class="Symbol">{-#</a> <a id="294" class="Keyword">OPTIONS</a> <a id="302" class="Pragma">--without-K</a> <a id="314" class="Pragma">--exact-split</a> <a id="328" class="Pragma">--safe</a> <a id="335" class="Symbol">#-}</a>

<a id="340" class="Keyword">module</a> <a id="347" href="Prelude.Inverses.html" class="Module">Prelude.Inverses</a> <a id="364" class="Keyword">where</a>

<a id="371" class="Keyword">open</a> <a id="376" class="Keyword">import</a> <a id="383" href="Prelude.Extensionality.html" class="Module">Prelude.Extensionality</a> <a id="406" class="Keyword">public</a>

<a id="414" class="Keyword">open</a> <a id="419" class="Keyword">import</a> <a id="426" href="MGS-Embeddings.html" class="Module">MGS-Embeddings</a>
 <a id="442" class="Keyword">using</a> <a id="448" class="Symbol">(</a><a id="449" href="MGS-Embeddings.html#1410" class="Function">equivs-are-embeddings</a><a id="470" class="Symbol">;</a> <a id="472" href="MGS-Equivalences.html#370" class="Function">invertible</a><a id="482" class="Symbol">;</a> <a id="484" href="MGS-Equivalences.html#2127" class="Function">invertibles-are-equivs</a><a id="506" class="Symbol">)</a> <a id="508" class="Keyword">public</a>

</pre>

We begin by defining an inductive type that represents the semantic concept of **inverse image** of a function.

<pre class="Agda">

<a id="655" class="Keyword">module</a> <a id="662" href="Prelude.Inverses.html#662" class="Module">_</a> <a id="664" class="Symbol">{</a><a id="665" href="Prelude.Inverses.html#665" class="Bound">𝓤</a> <a id="667" href="Prelude.Inverses.html#667" class="Bound">𝓦</a> <a id="669" class="Symbol">:</a> <a id="671" href="Agda.Primitive.html#423" class="Postulate">Universe</a><a id="679" class="Symbol">}</a> <a id="681" class="Keyword">where</a>

 <a id="689" class="Keyword">data</a> <a id="694" href="Prelude.Inverses.html#694" class="Datatype Operator">Image_∋_</a> <a id="703" class="Symbol">{</a><a id="704" href="Prelude.Inverses.html#704" class="Bound">A</a> <a id="706" class="Symbol">:</a> <a id="708" href="Prelude.Inverses.html#665" class="Bound">𝓤</a> <a id="710" href="Universes.html#403" class="Function Operator">̇</a> <a id="712" class="Symbol">}{</a><a id="714" href="Prelude.Inverses.html#714" class="Bound">B</a> <a id="716" class="Symbol">:</a> <a id="718" href="Prelude.Inverses.html#667" class="Bound">𝓦</a> <a id="720" href="Universes.html#403" class="Function Operator">̇</a> <a id="722" class="Symbol">}(</a><a id="724" href="Prelude.Inverses.html#724" class="Bound">f</a> <a id="726" class="Symbol">:</a> <a id="728" href="Prelude.Inverses.html#704" class="Bound">A</a> <a id="730" class="Symbol">→</a> <a id="732" href="Prelude.Inverses.html#714" class="Bound">B</a><a id="733" class="Symbol">)</a> <a id="735" class="Symbol">:</a> <a id="737" href="Prelude.Inverses.html#714" class="Bound">B</a> <a id="739" class="Symbol">→</a> <a id="741" href="Prelude.Inverses.html#665" class="Bound">𝓤</a> <a id="743" href="Agda.Primitive.html#636" class="Primitive Operator">⊔</a> <a id="745" href="Prelude.Inverses.html#667" class="Bound">𝓦</a> <a id="747" href="Universes.html#403" class="Function Operator">̇</a>
  <a id="751" class="Keyword">where</a>
  <a id="759" href="Prelude.Inverses.html#759" class="InductiveConstructor">im</a> <a id="762" class="Symbol">:</a> <a id="764" class="Symbol">(</a><a id="765" href="Prelude.Inverses.html#765" class="Bound">x</a> <a id="767" class="Symbol">:</a> <a id="769" href="Prelude.Inverses.html#704" class="Bound">A</a><a id="770" class="Symbol">)</a> <a id="772" class="Symbol">→</a> <a id="774" href="Prelude.Inverses.html#694" class="Datatype Operator">Image</a> <a id="780" href="Prelude.Inverses.html#724" class="Bound">f</a> <a id="782" href="Prelude.Inverses.html#694" class="Datatype Operator">∋</a> <a id="784" href="Prelude.Inverses.html#724" class="Bound">f</a> <a id="786" href="Prelude.Inverses.html#765" class="Bound">x</a>
  <a id="790" href="Prelude.Inverses.html#790" class="InductiveConstructor">eq</a> <a id="793" class="Symbol">:</a> <a id="795" class="Symbol">(</a><a id="796" href="Prelude.Inverses.html#796" class="Bound">b</a> <a id="798" class="Symbol">:</a> <a id="800" href="Prelude.Inverses.html#714" class="Bound">B</a><a id="801" class="Symbol">)</a> <a id="803" class="Symbol">→</a> <a id="805" class="Symbol">(</a><a id="806" href="Prelude.Inverses.html#806" class="Bound">a</a> <a id="808" class="Symbol">:</a> <a id="810" href="Prelude.Inverses.html#704" class="Bound">A</a><a id="811" class="Symbol">)</a> <a id="813" class="Symbol">→</a> <a id="815" href="Prelude.Inverses.html#796" class="Bound">b</a> <a id="817" href="Prelude.Equality.html#1231" class="Datatype Operator">≡</a> <a id="819" href="Prelude.Inverses.html#724" class="Bound">f</a> <a id="821" href="Prelude.Inverses.html#806" class="Bound">a</a> <a id="823" class="Symbol">→</a> <a id="825" href="Prelude.Inverses.html#694" class="Datatype Operator">Image</a> <a id="831" href="Prelude.Inverses.html#724" class="Bound">f</a> <a id="833" href="Prelude.Inverses.html#694" class="Datatype Operator">∋</a> <a id="835" href="Prelude.Inverses.html#796" class="Bound">b</a>


 <a id="840" href="Prelude.Inverses.html#840" class="Function">ImageIsImage</a> <a id="853" class="Symbol">:</a> <a id="855" class="Symbol">{</a><a id="856" href="Prelude.Inverses.html#856" class="Bound">A</a> <a id="858" class="Symbol">:</a> <a id="860" href="Prelude.Inverses.html#665" class="Bound">𝓤</a> <a id="862" href="Universes.html#403" class="Function Operator">̇</a><a id="863" class="Symbol">}{</a><a id="865" href="Prelude.Inverses.html#865" class="Bound">B</a> <a id="867" class="Symbol">:</a> <a id="869" href="Prelude.Inverses.html#667" class="Bound">𝓦</a> <a id="871" href="Universes.html#403" class="Function Operator">̇</a><a id="872" class="Symbol">}(</a><a id="874" href="Prelude.Inverses.html#874" class="Bound">f</a> <a id="876" class="Symbol">:</a> <a id="878" href="Prelude.Inverses.html#856" class="Bound">A</a> <a id="880" class="Symbol">→</a> <a id="882" href="Prelude.Inverses.html#865" class="Bound">B</a><a id="883" class="Symbol">)(</a><a id="885" href="Prelude.Inverses.html#885" class="Bound">b</a> <a id="887" class="Symbol">:</a> <a id="889" href="Prelude.Inverses.html#865" class="Bound">B</a><a id="890" class="Symbol">)(</a><a id="892" href="Prelude.Inverses.html#892" class="Bound">a</a> <a id="894" class="Symbol">:</a> <a id="896" href="Prelude.Inverses.html#856" class="Bound">A</a><a id="897" class="Symbol">)</a>
                <a id="915" class="Comment">---------------------------------------------</a>
  <a id="963" class="Symbol">→</a>             <a id="977" href="Prelude.Inverses.html#885" class="Bound">b</a> <a id="979" href="Prelude.Equality.html#1231" class="Datatype Operator">≡</a> <a id="981" href="Prelude.Inverses.html#874" class="Bound">f</a> <a id="983" href="Prelude.Inverses.html#892" class="Bound">a</a> <a id="985" class="Symbol">→</a> <a id="987" href="Prelude.Inverses.html#694" class="Datatype Operator">Image</a> <a id="993" href="Prelude.Inverses.html#874" class="Bound">f</a> <a id="995" href="Prelude.Inverses.html#694" class="Datatype Operator">∋</a> <a id="997" href="Prelude.Inverses.html#885" class="Bound">b</a>

 <a id="1001" href="Prelude.Inverses.html#840" class="Function">ImageIsImage</a> <a id="1014" href="Prelude.Inverses.html#1014" class="Bound">f</a> <a id="1016" href="Prelude.Inverses.html#1016" class="Bound">b</a> <a id="1018" href="Prelude.Inverses.html#1018" class="Bound">a</a> <a id="1020" href="Prelude.Inverses.html#1020" class="Bound">b≡fa</a> <a id="1025" class="Symbol">=</a> <a id="1027" href="Prelude.Inverses.html#790" class="InductiveConstructor">eq</a> <a id="1030" href="Prelude.Inverses.html#1016" class="Bound">b</a> <a id="1032" href="Prelude.Inverses.html#1018" class="Bound">a</a> <a id="1034" href="Prelude.Inverses.html#1020" class="Bound">b≡fa</a>

</pre>

The following restatement of the last lemma simply rearranges the arguments in case that makes it clearer.

<pre class="Agda">

 <a id="1175" href="Prelude.Inverses.html#1175" class="Function">ImageIsImage&#39;</a> <a id="1189" class="Symbol">:</a> <a id="1191" class="Symbol">{</a><a id="1192" href="Prelude.Inverses.html#1192" class="Bound">A</a> <a id="1194" class="Symbol">:</a> <a id="1196" href="Prelude.Inverses.html#665" class="Bound">𝓤</a> <a id="1198" href="Universes.html#403" class="Function Operator">̇</a><a id="1199" class="Symbol">}{</a><a id="1201" href="Prelude.Inverses.html#1201" class="Bound">B</a> <a id="1203" class="Symbol">:</a> <a id="1205" href="Prelude.Inverses.html#667" class="Bound">𝓦</a> <a id="1207" href="Universes.html#403" class="Function Operator">̇</a><a id="1208" class="Symbol">}(</a><a id="1210" href="Prelude.Inverses.html#1210" class="Bound">f</a> <a id="1212" class="Symbol">:</a> <a id="1214" href="Prelude.Inverses.html#1192" class="Bound">A</a> <a id="1216" class="Symbol">→</a> <a id="1218" href="Prelude.Inverses.html#1201" class="Bound">B</a><a id="1219" class="Symbol">)(</a><a id="1221" href="Prelude.Inverses.html#1221" class="Bound">a</a> <a id="1223" class="Symbol">:</a> <a id="1225" href="Prelude.Inverses.html#1192" class="Bound">A</a><a id="1226" class="Symbol">)(</a><a id="1228" href="Prelude.Inverses.html#1228" class="Bound">b</a> <a id="1230" class="Symbol">:</a> <a id="1232" href="Prelude.Inverses.html#1201" class="Bound">B</a><a id="1233" class="Symbol">)</a>
                  <a id="1253" class="Comment">---------------------------------------------</a>
  <a id="1301" class="Symbol">→</a>               <a id="1317" href="Prelude.Inverses.html#1210" class="Bound">f</a> <a id="1319" href="Prelude.Inverses.html#1221" class="Bound">a</a> <a id="1321" href="Prelude.Equality.html#1231" class="Datatype Operator">≡</a> <a id="1323" href="Prelude.Inverses.html#1228" class="Bound">b</a>  <a id="1326" class="Symbol">→</a>  <a id="1329" href="Prelude.Inverses.html#694" class="Datatype Operator">Image</a> <a id="1335" href="Prelude.Inverses.html#1210" class="Bound">f</a> <a id="1337" href="Prelude.Inverses.html#694" class="Datatype Operator">∋</a> <a id="1339" href="Prelude.Inverses.html#1228" class="Bound">b</a>

 <a id="1343" href="Prelude.Inverses.html#1175" class="Function">ImageIsImage&#39;</a> <a id="1357" href="Prelude.Inverses.html#1357" class="Bound">f</a> <a id="1359" href="Prelude.Inverses.html#1359" class="Bound">a</a> <a id="1361" href="Prelude.Inverses.html#1361" class="Bound">b</a> <a id="1363" href="Prelude.Inverses.html#1363" class="Bound">fab</a> <a id="1367" class="Symbol">=</a> <a id="1369" href="Prelude.Inverses.html#790" class="InductiveConstructor">eq</a> <a id="1372" href="Prelude.Inverses.html#1361" class="Bound">b</a> <a id="1374" href="Prelude.Inverses.html#1359" class="Bound">a</a> <a id="1376" class="Symbol">(</a><a id="1377" href="Prelude.Inverses.html#1363" class="Bound">fab</a> <a id="1381" href="MGS-MLTT.html#6125" class="Function Operator">⁻¹</a><a id="1383" class="Symbol">)</a>

</pre>

Note that an inhabitant of `Image f ∋ b` is a dependent pair `(a , p)`, where `a : A` and `p : b ≡ f a` is a proof that `f` maps `a` to `b`.  Since the proof that `b` belongs to the image of `f` is always accompanied by a "witness" `a : A`, we can actually *compute* a (pseudo)inverse of `f`. For convenience, we define this inverse function, which we call `Inv`, and which takes an arbitrary `b : B` and a witness-proof pair, `(a , p) : Image f ∋ b`, and returns `a`.

<pre class="Agda">

 <a id="1883" href="Prelude.Inverses.html#1883" class="Function">Inv</a> <a id="1887" class="Symbol">:</a> <a id="1889" class="Symbol">{</a><a id="1890" href="Prelude.Inverses.html#1890" class="Bound">A</a> <a id="1892" class="Symbol">:</a> <a id="1894" href="Prelude.Inverses.html#665" class="Bound">𝓤</a> <a id="1896" href="Universes.html#403" class="Function Operator">̇</a> <a id="1898" class="Symbol">}{</a><a id="1900" href="Prelude.Inverses.html#1900" class="Bound">B</a> <a id="1902" class="Symbol">:</a> <a id="1904" href="Prelude.Inverses.html#667" class="Bound">𝓦</a> <a id="1906" href="Universes.html#403" class="Function Operator">̇</a> <a id="1908" class="Symbol">}(</a><a id="1910" href="Prelude.Inverses.html#1910" class="Bound">f</a> <a id="1912" class="Symbol">:</a> <a id="1914" href="Prelude.Inverses.html#1890" class="Bound">A</a> <a id="1916" class="Symbol">→</a> <a id="1918" href="Prelude.Inverses.html#1900" class="Bound">B</a><a id="1919" class="Symbol">){</a><a id="1921" href="Prelude.Inverses.html#1921" class="Bound">b</a> <a id="1923" class="Symbol">:</a> <a id="1925" href="Prelude.Inverses.html#1900" class="Bound">B</a><a id="1926" class="Symbol">}</a> <a id="1928" class="Symbol">→</a> <a id="1930" href="Prelude.Inverses.html#694" class="Datatype Operator">Image</a> <a id="1936" href="Prelude.Inverses.html#1910" class="Bound">f</a> <a id="1938" href="Prelude.Inverses.html#694" class="Datatype Operator">∋</a> <a id="1940" href="Prelude.Inverses.html#1921" class="Bound">b</a>  <a id="1943" class="Symbol">→</a>  <a id="1946" href="Prelude.Inverses.html#1890" class="Bound">A</a>
 <a id="1949" href="Prelude.Inverses.html#1883" class="Function">Inv</a> <a id="1953" href="Prelude.Inverses.html#1953" class="Bound">f</a> <a id="1955" class="Symbol">{</a><a id="1956" class="DottedPattern Symbol">.(</a><a id="1958" href="Prelude.Inverses.html#1953" class="DottedPattern Bound">f</a> <a id="1960" href="Prelude.Inverses.html#1968" class="DottedPattern Bound">a</a><a id="1961" class="DottedPattern Symbol">)</a><a id="1962" class="Symbol">}</a> <a id="1964" class="Symbol">(</a><a id="1965" href="Prelude.Inverses.html#759" class="InductiveConstructor">im</a> <a id="1968" href="Prelude.Inverses.html#1968" class="Bound">a</a><a id="1969" class="Symbol">)</a> <a id="1971" class="Symbol">=</a> <a id="1973" href="Prelude.Inverses.html#1968" class="Bound">a</a>
 <a id="1976" href="Prelude.Inverses.html#1883" class="Function">Inv</a> <a id="1980" href="Prelude.Inverses.html#1980" class="Bound">f</a> <a id="1982" class="Symbol">(</a><a id="1983" href="Prelude.Inverses.html#790" class="InductiveConstructor">eq</a> <a id="1986" class="Symbol">_</a> <a id="1988" href="Prelude.Inverses.html#1988" class="Bound">a</a> <a id="1990" class="Symbol">_)</a> <a id="1993" class="Symbol">=</a> <a id="1995" href="Prelude.Inverses.html#1988" class="Bound">a</a>

</pre>

We can prove that `Inv f` is the right-inverse of `f`, as follows.

<pre class="Agda">

 <a id="2093" href="Prelude.Inverses.html#2093" class="Function">InvIsInv</a> <a id="2102" class="Symbol">:</a> <a id="2104" class="Symbol">{</a><a id="2105" href="Prelude.Inverses.html#2105" class="Bound">A</a> <a id="2107" class="Symbol">:</a> <a id="2109" href="Prelude.Inverses.html#665" class="Bound">𝓤</a> <a id="2111" href="Universes.html#403" class="Function Operator">̇</a><a id="2112" class="Symbol">}{</a><a id="2114" href="Prelude.Inverses.html#2114" class="Bound">B</a> <a id="2116" class="Symbol">:</a> <a id="2118" href="Prelude.Inverses.html#667" class="Bound">𝓦</a> <a id="2120" href="Universes.html#403" class="Function Operator">̇</a><a id="2121" class="Symbol">}(</a><a id="2123" href="Prelude.Inverses.html#2123" class="Bound">f</a> <a id="2125" class="Symbol">:</a> <a id="2127" href="Prelude.Inverses.html#2105" class="Bound">A</a> <a id="2129" class="Symbol">→</a> <a id="2131" href="Prelude.Inverses.html#2114" class="Bound">B</a><a id="2132" class="Symbol">){</a><a id="2134" href="Prelude.Inverses.html#2134" class="Bound">b</a> <a id="2136" class="Symbol">:</a> <a id="2138" href="Prelude.Inverses.html#2114" class="Bound">B</a><a id="2139" class="Symbol">}(</a><a id="2141" href="Prelude.Inverses.html#2141" class="Bound">b∈Imgf</a> <a id="2148" class="Symbol">:</a> <a id="2150" href="Prelude.Inverses.html#694" class="Datatype Operator">Image</a> <a id="2156" href="Prelude.Inverses.html#2123" class="Bound">f</a> <a id="2158" href="Prelude.Inverses.html#694" class="Datatype Operator">∋</a> <a id="2160" href="Prelude.Inverses.html#2134" class="Bound">b</a><a id="2161" class="Symbol">)</a> <a id="2163" class="Symbol">→</a> <a id="2165" href="Prelude.Inverses.html#2123" class="Bound">f</a><a id="2166" class="Symbol">(</a><a id="2167" href="Prelude.Inverses.html#1883" class="Function">Inv</a> <a id="2171" href="Prelude.Inverses.html#2123" class="Bound">f</a> <a id="2173" href="Prelude.Inverses.html#2141" class="Bound">b∈Imgf</a><a id="2179" class="Symbol">)</a> <a id="2181" href="Prelude.Equality.html#1231" class="Datatype Operator">≡</a> <a id="2183" href="Prelude.Inverses.html#2134" class="Bound">b</a>

 <a id="2187" href="Prelude.Inverses.html#2093" class="Function">InvIsInv</a> <a id="2196" href="Prelude.Inverses.html#2196" class="Bound">f</a> <a id="2198" class="Symbol">{</a><a id="2199" class="DottedPattern Symbol">.(</a><a id="2201" href="Prelude.Inverses.html#2196" class="DottedPattern Bound">f</a> <a id="2203" href="Prelude.Inverses.html#2211" class="DottedPattern Bound">a</a><a id="2204" class="DottedPattern Symbol">)</a><a id="2205" class="Symbol">}</a> <a id="2207" class="Symbol">(</a><a id="2208" href="Prelude.Inverses.html#759" class="InductiveConstructor">im</a> <a id="2211" href="Prelude.Inverses.html#2211" class="Bound">a</a><a id="2212" class="Symbol">)</a> <a id="2214" class="Symbol">=</a> <a id="2216" href="Prelude.Equality.html#1413" class="InductiveConstructor">refl</a> <a id="2221" class="Symbol">_</a>

 <a id="2225" href="Prelude.Inverses.html#2093" class="Function">InvIsInv</a> <a id="2234" href="Prelude.Inverses.html#2234" class="Bound">f</a> <a id="2236" class="Symbol">(</a><a id="2237" href="Prelude.Inverses.html#790" class="InductiveConstructor">eq</a> <a id="2240" class="Symbol">_</a> <a id="2242" class="Symbol">_</a> <a id="2244" href="Prelude.Inverses.html#2244" class="Bound">p</a><a id="2245" class="Symbol">)</a> <a id="2247" class="Symbol">=</a> <a id="2249" href="Prelude.Inverses.html#2244" class="Bound">p</a> <a id="2251" href="MGS-MLTT.html#6125" class="Function Operator">⁻¹</a>

</pre>





#### <a id="surjective-functions">Surjective functions</a>

An epic (or surjective) function from type `A : 𝓤 ̇` to type `B : 𝓦 ̇` is as an inhabitant of the `Epic` type, which we define as follows.

<pre class="Agda">

 <a id="2486" href="Prelude.Inverses.html#2486" class="Function">Epic</a> <a id="2491" class="Symbol">:</a> <a id="2493" class="Symbol">{</a><a id="2494" href="Prelude.Inverses.html#2494" class="Bound">A</a> <a id="2496" class="Symbol">:</a> <a id="2498" href="Prelude.Inverses.html#665" class="Bound">𝓤</a> <a id="2500" href="Universes.html#403" class="Function Operator">̇</a> <a id="2502" class="Symbol">}</a> <a id="2504" class="Symbol">{</a><a id="2505" href="Prelude.Inverses.html#2505" class="Bound">B</a> <a id="2507" class="Symbol">:</a> <a id="2509" href="Prelude.Inverses.html#667" class="Bound">𝓦</a> <a id="2511" href="Universes.html#403" class="Function Operator">̇</a> <a id="2513" class="Symbol">}</a> <a id="2515" class="Symbol">(</a><a id="2516" href="Prelude.Inverses.html#2516" class="Bound">g</a> <a id="2518" class="Symbol">:</a> <a id="2520" href="Prelude.Inverses.html#2494" class="Bound">A</a> <a id="2522" class="Symbol">→</a> <a id="2524" href="Prelude.Inverses.html#2505" class="Bound">B</a><a id="2525" class="Symbol">)</a> <a id="2527" class="Symbol">→</a>  <a id="2530" href="Prelude.Inverses.html#665" class="Bound">𝓤</a> <a id="2532" href="Agda.Primitive.html#636" class="Primitive Operator">⊔</a> <a id="2534" href="Prelude.Inverses.html#667" class="Bound">𝓦</a> <a id="2536" href="Universes.html#403" class="Function Operator">̇</a>
 <a id="2539" href="Prelude.Inverses.html#2486" class="Function">Epic</a> <a id="2544" href="Prelude.Inverses.html#2544" class="Bound">g</a> <a id="2546" class="Symbol">=</a> <a id="2548" class="Symbol">∀</a> <a id="2550" href="Prelude.Inverses.html#2550" class="Bound">y</a> <a id="2552" class="Symbol">→</a> <a id="2554" href="Prelude.Inverses.html#694" class="Datatype Operator">Image</a> <a id="2560" href="Prelude.Inverses.html#2544" class="Bound">g</a> <a id="2562" href="Prelude.Inverses.html#694" class="Datatype Operator">∋</a> <a id="2564" href="Prelude.Inverses.html#2550" class="Bound">y</a>

</pre>

We obtain the right-inverse (or pseudoinverse) of an epic function `f` by applying the function `EpicInv` (which we now define) to the function `f` along with a proof, `fE : Epic f`, that `f` is surjective.

<pre class="Agda">

 <a id="2802" href="Prelude.Inverses.html#2802" class="Function">EpicInv</a> <a id="2810" class="Symbol">:</a> <a id="2812" class="Symbol">{</a><a id="2813" href="Prelude.Inverses.html#2813" class="Bound">A</a> <a id="2815" class="Symbol">:</a> <a id="2817" href="Prelude.Inverses.html#665" class="Bound">𝓤</a> <a id="2819" href="Universes.html#403" class="Function Operator">̇</a> <a id="2821" class="Symbol">}</a> <a id="2823" class="Symbol">{</a><a id="2824" href="Prelude.Inverses.html#2824" class="Bound">B</a> <a id="2826" class="Symbol">:</a> <a id="2828" href="Prelude.Inverses.html#667" class="Bound">𝓦</a> <a id="2830" href="Universes.html#403" class="Function Operator">̇</a> <a id="2832" class="Symbol">}</a>
           <a id="2845" class="Symbol">(</a><a id="2846" href="Prelude.Inverses.html#2846" class="Bound">f</a> <a id="2848" class="Symbol">:</a> <a id="2850" href="Prelude.Inverses.html#2813" class="Bound">A</a> <a id="2852" class="Symbol">→</a> <a id="2854" href="Prelude.Inverses.html#2824" class="Bound">B</a><a id="2855" class="Symbol">)</a> <a id="2857" class="Symbol">→</a> <a id="2859" href="Prelude.Inverses.html#2486" class="Function">Epic</a> <a id="2864" href="Prelude.Inverses.html#2846" class="Bound">f</a>
           <a id="2877" class="Comment">--------------------</a>
  <a id="2900" class="Symbol">→</a>        <a id="2909" href="Prelude.Inverses.html#2824" class="Bound">B</a> <a id="2911" class="Symbol">→</a> <a id="2913" href="Prelude.Inverses.html#2813" class="Bound">A</a>

 <a id="2917" href="Prelude.Inverses.html#2802" class="Function">EpicInv</a> <a id="2925" href="Prelude.Inverses.html#2925" class="Bound">f</a> <a id="2927" href="Prelude.Inverses.html#2927" class="Bound">fE</a> <a id="2930" href="Prelude.Inverses.html#2930" class="Bound">b</a> <a id="2932" class="Symbol">=</a> <a id="2934" href="Prelude.Inverses.html#1883" class="Function">Inv</a> <a id="2938" href="Prelude.Inverses.html#2925" class="Bound">f</a> <a id="2940" class="Symbol">(</a><a id="2941" href="Prelude.Inverses.html#2927" class="Bound">fE</a> <a id="2944" href="Prelude.Inverses.html#2930" class="Bound">b</a><a id="2945" class="Symbol">)</a>

</pre>

The function defined by `EpicInv f fE` is indeed the right-inverse of `f`. To state this, we'll use the function composition operation, `∘`, which is already defined in the [Type Topology][] library as follows.

<pre class="Agda">

<a id="3186" class="Keyword">module</a> <a id="hide-∘"></a><a id="3193" href="Prelude.Inverses.html#3193" class="Module">hide-∘</a> <a id="3200" class="Symbol">{</a><a id="3201" href="Prelude.Inverses.html#3201" class="Bound">𝓤</a> <a id="3203" href="Prelude.Inverses.html#3203" class="Bound">𝓦</a> <a id="3205" class="Symbol">:</a> <a id="3207" href="Agda.Primitive.html#423" class="Postulate">Universe</a><a id="3215" class="Symbol">}</a> <a id="3217" class="Keyword">where</a>

 <a id="hide-∘._∘_"></a><a id="3225" href="Prelude.Inverses.html#3225" class="Function Operator">_∘_</a> <a id="3229" class="Symbol">:</a> <a id="3231" class="Symbol">{</a><a id="3232" href="Prelude.Inverses.html#3232" class="Bound">X</a> <a id="3234" class="Symbol">:</a> <a id="3236" href="Prelude.Inverses.html#3201" class="Bound">𝓤</a> <a id="3238" href="Universes.html#403" class="Function Operator">̇</a> <a id="3240" class="Symbol">}</a> <a id="3242" class="Symbol">{</a><a id="3243" href="Prelude.Inverses.html#3243" class="Bound">Y</a> <a id="3245" class="Symbol">:</a> <a id="3247" href="Prelude.Inverses.html#3203" class="Bound">𝓦</a> <a id="3249" href="Universes.html#403" class="Function Operator">̇</a><a id="3250" class="Symbol">}{</a><a id="3252" href="Prelude.Inverses.html#3252" class="Bound">Z</a> <a id="3254" class="Symbol">:</a> <a id="3256" href="Prelude.Inverses.html#3243" class="Bound">Y</a> <a id="3258" class="Symbol">→</a> <a id="3260" href="Prelude.Inverses.html#3203" class="Bound">𝓦</a> <a id="3262" href="Universes.html#403" class="Function Operator">̇</a> <a id="3264" class="Symbol">}</a>
  <a id="3268" class="Symbol">→</a>    <a id="3273" href="MGS-MLTT.html#3562" class="Function">Π</a> <a id="3275" href="Prelude.Inverses.html#3252" class="Bound">Z</a> <a id="3277" class="Symbol">→</a> <a id="3279" class="Symbol">(</a><a id="3280" href="Prelude.Inverses.html#3280" class="Bound">f</a> <a id="3282" class="Symbol">:</a> <a id="3284" href="Prelude.Inverses.html#3232" class="Bound">X</a> <a id="3286" class="Symbol">→</a> <a id="3288" href="Prelude.Inverses.html#3243" class="Bound">Y</a><a id="3289" class="Symbol">)</a> <a id="3291" class="Symbol">→</a> <a id="3293" class="Symbol">(</a><a id="3294" href="Prelude.Inverses.html#3294" class="Bound">x</a> <a id="3296" class="Symbol">:</a> <a id="3298" href="Prelude.Inverses.html#3232" class="Bound">X</a><a id="3299" class="Symbol">)</a> <a id="3301" class="Symbol">→</a> <a id="3303" href="Prelude.Inverses.html#3252" class="Bound">Z</a> <a id="3305" class="Symbol">(</a><a id="3306" href="Prelude.Inverses.html#3280" class="Bound">f</a> <a id="3308" href="Prelude.Inverses.html#3294" class="Bound">x</a><a id="3309" class="Symbol">)</a>

 <a id="3313" href="Prelude.Inverses.html#3313" class="Bound">g</a> <a id="3315" href="Prelude.Inverses.html#3225" class="Function Operator">∘</a> <a id="3317" href="Prelude.Inverses.html#3317" class="Bound">f</a> <a id="3319" class="Symbol">=</a> <a id="3321" class="Symbol">λ</a> <a id="3323" href="Prelude.Inverses.html#3323" class="Bound">x</a> <a id="3325" class="Symbol">→</a> <a id="3327" href="Prelude.Inverses.html#3313" class="Bound">g</a> <a id="3329" class="Symbol">(</a><a id="3330" href="Prelude.Inverses.html#3317" class="Bound">f</a> <a id="3332" href="Prelude.Inverses.html#3323" class="Bound">x</a><a id="3333" class="Symbol">)</a>

<a id="3336" class="Keyword">open</a> <a id="3341" class="Keyword">import</a> <a id="3348" href="MGS-MLTT.html" class="Module">MGS-MLTT</a> <a id="3357" class="Keyword">using</a> <a id="3363" class="Symbol">(</a><a id="3364" href="MGS-MLTT.html#3813" class="Function Operator">_∘_</a><a id="3367" class="Symbol">)</a> <a id="3369" class="Keyword">public</a>


<a id="3378" class="Keyword">module</a> <a id="3385" href="Prelude.Inverses.html#3385" class="Module">_</a> <a id="3387" class="Symbol">{</a><a id="3388" href="Prelude.Inverses.html#3388" class="Bound">𝓤</a> <a id="3390" href="Prelude.Inverses.html#3390" class="Bound">𝓦</a> <a id="3392" class="Symbol">:</a> <a id="3394" href="Agda.Primitive.html#423" class="Postulate">Universe</a><a id="3402" class="Symbol">}</a> <a id="3404" class="Keyword">where</a>

 <a id="3412" href="Prelude.Inverses.html#3412" class="Function">EpicInvIsRightInv</a> <a id="3430" class="Symbol">:</a> <a id="3432" href="MGS-FunExt-from-Univalence.html#393" class="Function">funext</a> <a id="3439" href="Prelude.Inverses.html#3390" class="Bound">𝓦</a> <a id="3441" href="Prelude.Inverses.html#3390" class="Bound">𝓦</a> <a id="3443" class="Symbol">→</a> <a id="3445" class="Symbol">{</a><a id="3446" href="Prelude.Inverses.html#3446" class="Bound">A</a> <a id="3448" class="Symbol">:</a> <a id="3450" href="Prelude.Inverses.html#3388" class="Bound">𝓤</a> <a id="3452" href="Universes.html#403" class="Function Operator">̇</a> <a id="3454" class="Symbol">}</a> <a id="3456" class="Symbol">{</a><a id="3457" href="Prelude.Inverses.html#3457" class="Bound">B</a> <a id="3459" class="Symbol">:</a> <a id="3461" href="Prelude.Inverses.html#3390" class="Bound">𝓦</a> <a id="3463" href="Universes.html#403" class="Function Operator">̇</a> <a id="3465" class="Symbol">}</a>
                     <a id="3488" class="Symbol">(</a><a id="3489" href="Prelude.Inverses.html#3489" class="Bound">f</a> <a id="3491" class="Symbol">:</a> <a id="3493" href="Prelude.Inverses.html#3446" class="Bound">A</a> <a id="3495" class="Symbol">→</a> <a id="3497" href="Prelude.Inverses.html#3457" class="Bound">B</a><a id="3498" class="Symbol">)</a>  <a id="3501" class="Symbol">(</a><a id="3502" href="Prelude.Inverses.html#3502" class="Bound">fE</a> <a id="3505" class="Symbol">:</a> <a id="3507" href="Prelude.Inverses.html#2486" class="Function">Epic</a> <a id="3512" href="Prelude.Inverses.html#3489" class="Bound">f</a><a id="3513" class="Symbol">)</a>
                     <a id="3536" class="Comment">--------------------------</a>
  <a id="3565" class="Symbol">→</a>                  <a id="3584" href="Prelude.Inverses.html#3489" class="Bound">f</a> <a id="3586" href="MGS-MLTT.html#3813" class="Function Operator">∘</a> <a id="3588" class="Symbol">(</a><a id="3589" href="Prelude.Inverses.html#2802" class="Function">EpicInv</a> <a id="3597" href="Prelude.Inverses.html#3489" class="Bound">f</a> <a id="3599" href="Prelude.Inverses.html#3502" class="Bound">fE</a><a id="3601" class="Symbol">)</a> <a id="3603" href="Prelude.Equality.html#1231" class="Datatype Operator">≡</a> <a id="3605" href="MGS-MLTT.html#3778" class="Function">𝑖𝑑</a> <a id="3608" href="Prelude.Inverses.html#3457" class="Bound">B</a>

 <a id="3612" href="Prelude.Inverses.html#3412" class="Function">EpicInvIsRightInv</a> <a id="3630" href="Prelude.Inverses.html#3630" class="Bound">fe</a> <a id="3633" href="Prelude.Inverses.html#3633" class="Bound">f</a> <a id="3635" href="Prelude.Inverses.html#3635" class="Bound">fE</a> <a id="3638" class="Symbol">=</a> <a id="3640" href="Prelude.Inverses.html#3630" class="Bound">fe</a> <a id="3643" class="Symbol">(λ</a> <a id="3646" href="Prelude.Inverses.html#3646" class="Bound">x</a> <a id="3648" class="Symbol">→</a> <a id="3650" href="Prelude.Inverses.html#2093" class="Function">InvIsInv</a> <a id="3659" href="Prelude.Inverses.html#3633" class="Bound">f</a> <a id="3661" class="Symbol">(</a><a id="3662" href="Prelude.Inverses.html#3635" class="Bound">fE</a> <a id="3665" href="Prelude.Inverses.html#3646" class="Bound">x</a><a id="3666" class="Symbol">))</a>

</pre>





#### <a id="injective-functions">Injective functions</a>

We say that a function `g : A → B` is **monic** (or **injective** or **one-to-one**) if it doesn't map distinct elements to a common point. This property is formalized quite naturally using the `Monic` type, which we now define.

<pre class="Agda">

 <a id="3989" href="Prelude.Inverses.html#3989" class="Function">Monic</a> <a id="3995" class="Symbol">:</a> <a id="3997" class="Symbol">{</a><a id="3998" href="Prelude.Inverses.html#3998" class="Bound">A</a> <a id="4000" class="Symbol">:</a> <a id="4002" href="Prelude.Inverses.html#3388" class="Bound">𝓤</a> <a id="4004" href="Universes.html#403" class="Function Operator">̇</a> <a id="4006" class="Symbol">}</a> <a id="4008" class="Symbol">{</a><a id="4009" href="Prelude.Inverses.html#4009" class="Bound">B</a> <a id="4011" class="Symbol">:</a> <a id="4013" href="Prelude.Inverses.html#3390" class="Bound">𝓦</a> <a id="4015" href="Universes.html#403" class="Function Operator">̇</a> <a id="4017" class="Symbol">}(</a><a id="4019" href="Prelude.Inverses.html#4019" class="Bound">g</a> <a id="4021" class="Symbol">:</a> <a id="4023" href="Prelude.Inverses.html#3998" class="Bound">A</a> <a id="4025" class="Symbol">→</a> <a id="4027" href="Prelude.Inverses.html#4009" class="Bound">B</a><a id="4028" class="Symbol">)</a> <a id="4030" class="Symbol">→</a> <a id="4032" href="Prelude.Inverses.html#3388" class="Bound">𝓤</a> <a id="4034" href="Agda.Primitive.html#636" class="Primitive Operator">⊔</a> <a id="4036" href="Prelude.Inverses.html#3390" class="Bound">𝓦</a> <a id="4038" href="Universes.html#403" class="Function Operator">̇</a>
 <a id="4041" href="Prelude.Inverses.html#3989" class="Function">Monic</a> <a id="4047" href="Prelude.Inverses.html#4047" class="Bound">g</a> <a id="4049" class="Symbol">=</a> <a id="4051" class="Symbol">∀</a> <a id="4053" href="Prelude.Inverses.html#4053" class="Bound">a₁</a> <a id="4056" href="Prelude.Inverses.html#4056" class="Bound">a₂</a> <a id="4059" class="Symbol">→</a> <a id="4061" href="Prelude.Inverses.html#4047" class="Bound">g</a> <a id="4063" href="Prelude.Inverses.html#4053" class="Bound">a₁</a> <a id="4066" href="Prelude.Equality.html#1231" class="Datatype Operator">≡</a> <a id="4068" href="Prelude.Inverses.html#4047" class="Bound">g</a> <a id="4070" href="Prelude.Inverses.html#4056" class="Bound">a₂</a> <a id="4073" class="Symbol">→</a> <a id="4075" href="Prelude.Inverses.html#4053" class="Bound">a₁</a> <a id="4078" href="Prelude.Equality.html#1231" class="Datatype Operator">≡</a> <a id="4080" href="Prelude.Inverses.html#4056" class="Bound">a₂</a>

</pre>

Again, we obtain a pseudoinverse. Here it is obtained by applying the function `MonicInv` to `g` and a proof that `g` is monic.

<pre class="Agda">

 <a id="4240" class="Comment">--The (pseudo-)inverse of a monic function</a>
 <a id="4284" href="Prelude.Inverses.html#4284" class="Function">MonicInv</a> <a id="4293" class="Symbol">:</a> <a id="4295" class="Symbol">{</a><a id="4296" href="Prelude.Inverses.html#4296" class="Bound">A</a> <a id="4298" class="Symbol">:</a> <a id="4300" href="Prelude.Inverses.html#3388" class="Bound">𝓤</a> <a id="4302" href="Universes.html#403" class="Function Operator">̇</a> <a id="4304" class="Symbol">}{</a><a id="4306" href="Prelude.Inverses.html#4306" class="Bound">B</a> <a id="4308" class="Symbol">:</a> <a id="4310" href="Prelude.Inverses.html#3390" class="Bound">𝓦</a> <a id="4312" href="Universes.html#403" class="Function Operator">̇</a> <a id="4314" class="Symbol">}(</a><a id="4316" href="Prelude.Inverses.html#4316" class="Bound">f</a> <a id="4318" class="Symbol">:</a> <a id="4320" href="Prelude.Inverses.html#4296" class="Bound">A</a> <a id="4322" class="Symbol">→</a> <a id="4324" href="Prelude.Inverses.html#4306" class="Bound">B</a><a id="4325" class="Symbol">)</a> <a id="4327" class="Symbol">→</a> <a id="4329" href="Prelude.Inverses.html#3989" class="Function">Monic</a> <a id="4335" href="Prelude.Inverses.html#4316" class="Bound">f</a>
  <a id="4339" class="Symbol">→</a>         <a id="4349" class="Symbol">(</a><a id="4350" href="Prelude.Inverses.html#4350" class="Bound">b</a> <a id="4352" class="Symbol">:</a> <a id="4354" href="Prelude.Inverses.html#4306" class="Bound">B</a><a id="4355" class="Symbol">)</a> <a id="4357" class="Symbol">→</a> <a id="4359" href="Prelude.Inverses.html#694" class="Datatype Operator">Image</a> <a id="4365" href="Prelude.Inverses.html#4316" class="Bound">f</a> <a id="4367" href="Prelude.Inverses.html#694" class="Datatype Operator">∋</a> <a id="4369" href="Prelude.Inverses.html#4350" class="Bound">b</a> <a id="4371" class="Symbol">→</a> <a id="4373" href="Prelude.Inverses.html#4296" class="Bound">A</a>

 <a id="4377" href="Prelude.Inverses.html#4284" class="Function">MonicInv</a> <a id="4386" href="Prelude.Inverses.html#4386" class="Bound">f</a> <a id="4388" class="Symbol">_</a> <a id="4390" class="Symbol">=</a> <a id="4392" class="Symbol">λ</a> <a id="4394" href="Prelude.Inverses.html#4394" class="Bound">b</a> <a id="4396" href="Prelude.Inverses.html#4396" class="Bound">Imf∋b</a> <a id="4402" class="Symbol">→</a> <a id="4404" href="Prelude.Inverses.html#1883" class="Function">Inv</a> <a id="4408" href="Prelude.Inverses.html#4386" class="Bound">f</a> <a id="4410" href="Prelude.Inverses.html#4396" class="Bound">Imf∋b</a>

</pre>

The function defined by `MonicInv f fM` is the left-inverse of `f`.

<pre class="Agda">

 <a id="4513" class="Comment">--The (psudo-)inverse of a monic is the left inverse.</a>
 <a id="4568" href="Prelude.Inverses.html#4568" class="Function">MonicInvIsLeftInv</a> <a id="4586" class="Symbol">:</a> <a id="4588" class="Symbol">{</a><a id="4589" href="Prelude.Inverses.html#4589" class="Bound">A</a> <a id="4591" class="Symbol">:</a> <a id="4593" href="Prelude.Inverses.html#3388" class="Bound">𝓤</a> <a id="4595" href="Universes.html#403" class="Function Operator">̇</a> <a id="4597" class="Symbol">}{</a><a id="4599" href="Prelude.Inverses.html#4599" class="Bound">B</a> <a id="4601" class="Symbol">:</a> <a id="4603" href="Prelude.Inverses.html#3390" class="Bound">𝓦</a> <a id="4605" href="Universes.html#403" class="Function Operator">̇</a> <a id="4607" class="Symbol">}(</a><a id="4609" href="Prelude.Inverses.html#4609" class="Bound">f</a> <a id="4611" class="Symbol">:</a> <a id="4613" href="Prelude.Inverses.html#4589" class="Bound">A</a> <a id="4615" class="Symbol">→</a> <a id="4617" href="Prelude.Inverses.html#4599" class="Bound">B</a><a id="4618" class="Symbol">)(</a><a id="4620" href="Prelude.Inverses.html#4620" class="Bound">fmonic</a> <a id="4627" class="Symbol">:</a> <a id="4629" href="Prelude.Inverses.html#3989" class="Function">Monic</a> <a id="4635" href="Prelude.Inverses.html#4609" class="Bound">f</a><a id="4636" class="Symbol">)(</a><a id="4638" href="Prelude.Inverses.html#4638" class="Bound">x</a> <a id="4640" class="Symbol">:</a> <a id="4642" href="Prelude.Inverses.html#4589" class="Bound">A</a><a id="4643" class="Symbol">)</a>
   <a id="4648" class="Symbol">→</a>                 <a id="4666" class="Symbol">(</a><a id="4667" href="Prelude.Inverses.html#4284" class="Function">MonicInv</a> <a id="4676" href="Prelude.Inverses.html#4609" class="Bound">f</a> <a id="4678" href="Prelude.Inverses.html#4620" class="Bound">fmonic</a><a id="4684" class="Symbol">)(</a><a id="4686" href="Prelude.Inverses.html#4609" class="Bound">f</a> <a id="4688" href="Prelude.Inverses.html#4638" class="Bound">x</a><a id="4689" class="Symbol">)(</a><a id="4691" href="Prelude.Inverses.html#759" class="InductiveConstructor">im</a> <a id="4694" href="Prelude.Inverses.html#4638" class="Bound">x</a><a id="4695" class="Symbol">)</a> <a id="4697" href="Prelude.Equality.html#1231" class="Datatype Operator">≡</a> <a id="4699" href="Prelude.Inverses.html#4638" class="Bound">x</a>

 <a id="4703" href="Prelude.Inverses.html#4568" class="Function">MonicInvIsLeftInv</a> <a id="4721" href="Prelude.Inverses.html#4721" class="Bound">f</a> <a id="4723" href="Prelude.Inverses.html#4723" class="Bound">fmonic</a> <a id="4730" href="Prelude.Inverses.html#4730" class="Bound">x</a> <a id="4732" class="Symbol">=</a> <a id="4734" href="Prelude.Equality.html#1413" class="InductiveConstructor">refl</a> <a id="4739" class="Symbol">_</a>

</pre>



#### <a id="composition-laws">Composition laws</a>

<pre class="Agda">

<a id="4822" class="Keyword">module</a> <a id="4829" href="Prelude.Inverses.html#4829" class="Module">_</a> <a id="4831" class="Symbol">{</a><a id="4832" href="Prelude.Inverses.html#4832" class="Bound">𝓧</a> <a id="4834" href="Prelude.Inverses.html#4834" class="Bound">𝓨</a> <a id="4836" href="Prelude.Inverses.html#4836" class="Bound">𝓩</a> <a id="4838" class="Symbol">:</a> <a id="4840" href="Agda.Primitive.html#423" class="Postulate">Universe</a><a id="4848" class="Symbol">}</a> <a id="4850" class="Keyword">where</a>

 <a id="4858" href="Prelude.Inverses.html#4858" class="Function">epic-factor</a> <a id="4870" class="Symbol">:</a> <a id="4872" href="MGS-FunExt-from-Univalence.html#393" class="Function">funext</a> <a id="4879" href="Prelude.Inverses.html#4834" class="Bound">𝓨</a> <a id="4881" href="Prelude.Inverses.html#4834" class="Bound">𝓨</a> <a id="4883" class="Symbol">→</a> <a id="4885" class="Symbol">{</a><a id="4886" href="Prelude.Inverses.html#4886" class="Bound">A</a> <a id="4888" class="Symbol">:</a> <a id="4890" href="Prelude.Inverses.html#4832" class="Bound">𝓧</a> <a id="4892" href="Universes.html#403" class="Function Operator">̇</a><a id="4893" class="Symbol">}{</a><a id="4895" href="Prelude.Inverses.html#4895" class="Bound">B</a> <a id="4897" class="Symbol">:</a> <a id="4899" href="Prelude.Inverses.html#4834" class="Bound">𝓨</a> <a id="4901" href="Universes.html#403" class="Function Operator">̇</a><a id="4902" class="Symbol">}{</a><a id="4904" href="Prelude.Inverses.html#4904" class="Bound">C</a> <a id="4906" class="Symbol">:</a> <a id="4908" href="Prelude.Inverses.html#4836" class="Bound">𝓩</a> <a id="4910" href="Universes.html#403" class="Function Operator">̇</a><a id="4911" class="Symbol">}</a>
               <a id="4928" class="Symbol">(</a><a id="4929" href="Prelude.Inverses.html#4929" class="Bound">β</a> <a id="4931" class="Symbol">:</a> <a id="4933" href="Prelude.Inverses.html#4886" class="Bound">A</a> <a id="4935" class="Symbol">→</a> <a id="4937" href="Prelude.Inverses.html#4895" class="Bound">B</a><a id="4938" class="Symbol">)(</a><a id="4940" href="Prelude.Inverses.html#4940" class="Bound">ξ</a> <a id="4942" class="Symbol">:</a> <a id="4944" href="Prelude.Inverses.html#4886" class="Bound">A</a> <a id="4946" class="Symbol">→</a> <a id="4948" href="Prelude.Inverses.html#4904" class="Bound">C</a><a id="4949" class="Symbol">)(</a><a id="4951" href="Prelude.Inverses.html#4951" class="Bound">ϕ</a> <a id="4953" class="Symbol">:</a> <a id="4955" href="Prelude.Inverses.html#4904" class="Bound">C</a> <a id="4957" class="Symbol">→</a> <a id="4959" href="Prelude.Inverses.html#4895" class="Bound">B</a><a id="4960" class="Symbol">)</a>
  <a id="4964" class="Symbol">→</a>            <a id="4977" href="Prelude.Inverses.html#4929" class="Bound">β</a> <a id="4979" href="Prelude.Equality.html#1231" class="Datatype Operator">≡</a> <a id="4981" href="Prelude.Inverses.html#4951" class="Bound">ϕ</a> <a id="4983" href="MGS-MLTT.html#3813" class="Function Operator">∘</a> <a id="4985" href="Prelude.Inverses.html#4940" class="Bound">ξ</a> <a id="4987" class="Symbol">→</a>  <a id="4990" href="Prelude.Inverses.html#2486" class="Function">Epic</a> <a id="4995" href="Prelude.Inverses.html#4929" class="Bound">β</a> <a id="4997" class="Symbol">→</a> <a id="4999" href="Prelude.Inverses.html#2486" class="Function">Epic</a> <a id="5004" href="Prelude.Inverses.html#4951" class="Bound">ϕ</a>

 <a id="5008" href="Prelude.Inverses.html#4858" class="Function">epic-factor</a> <a id="5020" href="Prelude.Inverses.html#5020" class="Bound">fe</a> <a id="5023" class="Symbol">{</a><a id="5024" href="Prelude.Inverses.html#5024" class="Bound">A</a><a id="5025" class="Symbol">}{</a><a id="5027" href="Prelude.Inverses.html#5027" class="Bound">B</a><a id="5028" class="Symbol">}{</a><a id="5030" href="Prelude.Inverses.html#5030" class="Bound">C</a><a id="5031" class="Symbol">}</a> <a id="5033" href="Prelude.Inverses.html#5033" class="Bound">β</a> <a id="5035" href="Prelude.Inverses.html#5035" class="Bound">ξ</a> <a id="5037" href="Prelude.Inverses.html#5037" class="Bound">ϕ</a> <a id="5039" href="Prelude.Inverses.html#5039" class="Bound">compId</a> <a id="5046" href="Prelude.Inverses.html#5046" class="Bound">βe</a> <a id="5049" href="Prelude.Inverses.html#5049" class="Bound">y</a> <a id="5051" class="Symbol">=</a> <a id="5053" href="Prelude.Inverses.html#5253" class="Function">γ</a>
  <a id="5057" class="Keyword">where</a>
   <a id="5066" href="Prelude.Inverses.html#5066" class="Function">βinv</a> <a id="5071" class="Symbol">:</a> <a id="5073" href="Prelude.Inverses.html#5027" class="Bound">B</a> <a id="5075" class="Symbol">→</a> <a id="5077" href="Prelude.Inverses.html#5024" class="Bound">A</a>
   <a id="5082" href="Prelude.Inverses.html#5066" class="Function">βinv</a> <a id="5087" class="Symbol">=</a> <a id="5089" href="Prelude.Inverses.html#2802" class="Function">EpicInv</a> <a id="5097" href="Prelude.Inverses.html#5033" class="Bound">β</a> <a id="5099" href="Prelude.Inverses.html#5046" class="Bound">βe</a>

   <a id="5106" href="Prelude.Inverses.html#5106" class="Function">ζ</a> <a id="5108" class="Symbol">:</a> <a id="5110" href="Prelude.Inverses.html#5033" class="Bound">β</a> <a id="5112" class="Symbol">(</a><a id="5113" href="Prelude.Inverses.html#5066" class="Function">βinv</a> <a id="5118" href="Prelude.Inverses.html#5049" class="Bound">y</a><a id="5119" class="Symbol">)</a> <a id="5121" href="Prelude.Equality.html#1231" class="Datatype Operator">≡</a> <a id="5123" href="Prelude.Inverses.html#5049" class="Bound">y</a>
   <a id="5128" href="Prelude.Inverses.html#5106" class="Function">ζ</a> <a id="5130" class="Symbol">=</a> <a id="5132" href="MGS-MLTT.html#6613" class="Function">ap</a> <a id="5135" class="Symbol">(λ</a> <a id="5138" href="Prelude.Inverses.html#5138" class="Bound">-</a> <a id="5140" class="Symbol">→</a> <a id="5142" href="Prelude.Inverses.html#5138" class="Bound">-</a> <a id="5144" href="Prelude.Inverses.html#5049" class="Bound">y</a><a id="5145" class="Symbol">)</a> <a id="5147" class="Symbol">(</a><a id="5148" href="Prelude.Inverses.html#3412" class="Function">EpicInvIsRightInv</a> <a id="5166" href="Prelude.Inverses.html#5020" class="Bound">fe</a> <a id="5169" href="Prelude.Inverses.html#5033" class="Bound">β</a> <a id="5171" href="Prelude.Inverses.html#5046" class="Bound">βe</a><a id="5173" class="Symbol">)</a>
   <a id="5178" href="Prelude.Inverses.html#5178" class="Function">η</a> <a id="5180" class="Symbol">:</a> <a id="5182" class="Symbol">(</a><a id="5183" href="Prelude.Inverses.html#5037" class="Bound">ϕ</a> <a id="5185" href="MGS-MLTT.html#3813" class="Function Operator">∘</a> <a id="5187" href="Prelude.Inverses.html#5035" class="Bound">ξ</a><a id="5188" class="Symbol">)</a> <a id="5190" class="Symbol">(</a><a id="5191" href="Prelude.Inverses.html#5066" class="Function">βinv</a> <a id="5196" href="Prelude.Inverses.html#5049" class="Bound">y</a><a id="5197" class="Symbol">)</a> <a id="5199" href="Prelude.Equality.html#1231" class="Datatype Operator">≡</a> <a id="5201" href="Prelude.Inverses.html#5049" class="Bound">y</a>
   <a id="5206" href="Prelude.Inverses.html#5178" class="Function">η</a> <a id="5208" class="Symbol">=</a> <a id="5210" class="Symbol">(</a><a id="5211" href="MGS-MLTT.html#6613" class="Function">ap</a> <a id="5214" class="Symbol">(λ</a> <a id="5217" href="Prelude.Inverses.html#5217" class="Bound">-</a> <a id="5219" class="Symbol">→</a> <a id="5221" href="Prelude.Inverses.html#5217" class="Bound">-</a> <a id="5223" class="Symbol">(</a><a id="5224" href="Prelude.Inverses.html#5066" class="Function">βinv</a> <a id="5229" href="Prelude.Inverses.html#5049" class="Bound">y</a><a id="5230" class="Symbol">))</a> <a id="5233" class="Symbol">(</a><a id="5234" href="Prelude.Inverses.html#5039" class="Bound">compId</a> <a id="5241" href="MGS-MLTT.html#6125" class="Function Operator">⁻¹</a><a id="5243" class="Symbol">))</a> <a id="5246" href="MGS-MLTT.html#5910" class="Function Operator">∙</a> <a id="5248" href="Prelude.Inverses.html#5106" class="Function">ζ</a>
   <a id="5253" href="Prelude.Inverses.html#5253" class="Function">γ</a> <a id="5255" class="Symbol">:</a> <a id="5257" href="Prelude.Inverses.html#694" class="Datatype Operator">Image</a> <a id="5263" href="Prelude.Inverses.html#5037" class="Bound">ϕ</a> <a id="5265" href="Prelude.Inverses.html#694" class="Datatype Operator">∋</a> <a id="5267" href="Prelude.Inverses.html#5049" class="Bound">y</a>
   <a id="5272" href="Prelude.Inverses.html#5253" class="Function">γ</a> <a id="5274" class="Symbol">=</a> <a id="5276" href="Prelude.Inverses.html#790" class="InductiveConstructor">eq</a> <a id="5279" href="Prelude.Inverses.html#5049" class="Bound">y</a> <a id="5281" class="Symbol">(</a><a id="5282" href="Prelude.Inverses.html#5035" class="Bound">ξ</a> <a id="5284" class="Symbol">(</a><a id="5285" href="Prelude.Inverses.html#5066" class="Function">βinv</a> <a id="5290" href="Prelude.Inverses.html#5049" class="Bound">y</a><a id="5291" class="Symbol">))</a> <a id="5294" class="Symbol">(</a><a id="5295" href="Prelude.Inverses.html#5178" class="Function">η</a> <a id="5297" href="MGS-MLTT.html#6125" class="Function Operator">⁻¹</a><a id="5299" class="Symbol">)</a>

</pre>





#### <a id="embeddings">Embeddings</a>

This is the first point at which [truncation](UALib.Preface.html#truncation) comes into play.  An [embedding](https://www.cs.bham.ac.uk/~mhe/HoTT-UF-in-Agda-Lecture-Notes/HoTT-UF-Agda.html#embeddings) is defined in the [Type Topology][] library, using the `is-subsingleton` type [described earlier](Prelude.Extensionality.html#alternative-extensionality-type), as follows.


Finally, the type `is-embedding f` will denotes the assertion that `f` is a function all of whose fibers are subsingletons.

<pre class="Agda">
<a id="5871" class="Keyword">module</a> <a id="hide-is-embedding"></a><a id="5878" href="Prelude.Inverses.html#5878" class="Module">hide-is-embedding</a> <a id="5896" class="Symbol">{</a><a id="5897" href="Prelude.Inverses.html#5897" class="Bound">𝓤</a> <a id="5899" href="Prelude.Inverses.html#5899" class="Bound">𝓦</a> <a id="5901" class="Symbol">:</a> <a id="5903" href="Agda.Primitive.html#423" class="Postulate">Universe</a><a id="5911" class="Symbol">}</a> <a id="5913" class="Keyword">where</a>

 <a id="hide-is-embedding.is-embedding"></a><a id="5921" href="Prelude.Inverses.html#5921" class="Function">is-embedding</a> <a id="5934" class="Symbol">:</a> <a id="5936" class="Symbol">{</a><a id="5937" href="Prelude.Inverses.html#5937" class="Bound">X</a> <a id="5939" class="Symbol">:</a> <a id="5941" href="Prelude.Inverses.html#5897" class="Bound">𝓤</a> <a id="5943" href="Universes.html#403" class="Function Operator">̇</a> <a id="5945" class="Symbol">}</a> <a id="5947" class="Symbol">{</a><a id="5948" href="Prelude.Inverses.html#5948" class="Bound">Y</a> <a id="5950" class="Symbol">:</a> <a id="5952" href="Prelude.Inverses.html#5899" class="Bound">𝓦</a> <a id="5954" href="Universes.html#403" class="Function Operator">̇</a> <a id="5956" class="Symbol">}</a> <a id="5958" class="Symbol">→</a> <a id="5960" class="Symbol">(</a><a id="5961" href="Prelude.Inverses.html#5937" class="Bound">X</a> <a id="5963" class="Symbol">→</a> <a id="5965" href="Prelude.Inverses.html#5948" class="Bound">Y</a><a id="5966" class="Symbol">)</a> <a id="5968" class="Symbol">→</a> <a id="5970" href="Prelude.Inverses.html#5897" class="Bound">𝓤</a> <a id="5972" href="Agda.Primitive.html#636" class="Primitive Operator">⊔</a> <a id="5974" href="Prelude.Inverses.html#5899" class="Bound">𝓦</a> <a id="5976" href="Universes.html#403" class="Function Operator">̇</a>
 <a id="5979" href="Prelude.Inverses.html#5921" class="Function">is-embedding</a> <a id="5992" href="Prelude.Inverses.html#5992" class="Bound">f</a> <a id="5994" class="Symbol">=</a> <a id="5996" class="Symbol">∀</a> <a id="5998" href="Prelude.Inverses.html#5998" class="Bound">y</a> <a id="6000" class="Symbol">→</a> <a id="6002" href="MGS-Basic-UF.html#743" class="Function">is-subsingleton</a> <a id="6018" class="Symbol">(</a><a id="6019" href="MGS-Equivalences.html#501" class="Function">fiber</a> <a id="6025" href="Prelude.Inverses.html#5992" class="Bound">f</a> <a id="6027" href="Prelude.Inverses.html#5998" class="Bound">y</a><a id="6028" class="Symbol">)</a>

<a id="6031" class="Keyword">open</a> <a id="6036" class="Keyword">import</a> <a id="6043" href="MGS-Embeddings.html" class="Module">MGS-Embeddings</a> <a id="6058" class="Keyword">using</a> <a id="6064" class="Symbol">(</a><a id="6065" href="MGS-Embeddings.html#384" class="Function">is-embedding</a><a id="6077" class="Symbol">)</a> <a id="6079" class="Keyword">public</a>

</pre>

This is a natural way to represent what we usually mean in mathematics by embedding.  Observe that an embedding does not simply correspond to an injective map.  However, if we assume that the codomain `B` has unique identity proofs (i.e., is a set), then we can prove that a monic function into `B` is an embedding. We will do so in the [Relations.Truncation][] module when we take up the topic of sets in some detail.

Of course, invertible maps are embeddings.

<pre class="Agda">

<a id="invertibles-are-embeddings"></a><a id="6577" href="Prelude.Inverses.html#6577" class="Function">invertibles-are-embeddings</a> <a id="6604" class="Symbol">:</a> <a id="6606" class="Symbol">{</a><a id="6607" href="Prelude.Inverses.html#6607" class="Bound">𝓧</a> <a id="6609" href="Prelude.Inverses.html#6609" class="Bound">𝓨</a> <a id="6611" class="Symbol">:</a> <a id="6613" href="Agda.Primitive.html#423" class="Postulate">Universe</a><a id="6621" class="Symbol">}</a>
                             <a id="6652" class="Symbol">{</a><a id="6653" href="Prelude.Inverses.html#6653" class="Bound">X</a> <a id="6655" class="Symbol">:</a> <a id="6657" href="Prelude.Inverses.html#6607" class="Bound">𝓧</a> <a id="6659" href="Universes.html#403" class="Function Operator">̇</a><a id="6660" class="Symbol">}</a> <a id="6662" class="Symbol">{</a><a id="6663" href="Prelude.Inverses.html#6663" class="Bound">Y</a> <a id="6665" class="Symbol">:</a> <a id="6667" href="Prelude.Inverses.html#6609" class="Bound">𝓨</a> <a id="6669" href="Universes.html#403" class="Function Operator">̇</a><a id="6670" class="Symbol">}</a> <a id="6672" class="Symbol">(</a><a id="6673" href="Prelude.Inverses.html#6673" class="Bound">f</a> <a id="6675" class="Symbol">:</a> <a id="6677" href="Prelude.Inverses.html#6653" class="Bound">X</a> <a id="6679" class="Symbol">→</a> <a id="6681" href="Prelude.Inverses.html#6663" class="Bound">Y</a><a id="6682" class="Symbol">)</a>
 <a id="6685" class="Symbol">→</a>                           <a id="6713" href="MGS-Equivalences.html#370" class="Function">invertible</a> <a id="6724" href="Prelude.Inverses.html#6673" class="Bound">f</a> <a id="6726" class="Symbol">→</a> <a id="6728" href="MGS-Embeddings.html#384" class="Function">is-embedding</a> <a id="6741" href="Prelude.Inverses.html#6673" class="Bound">f</a>

<a id="6744" href="Prelude.Inverses.html#6577" class="Function">invertibles-are-embeddings</a> <a id="6771" href="Prelude.Inverses.html#6771" class="Bound">f</a> <a id="6773" href="Prelude.Inverses.html#6773" class="Bound">fi</a> <a id="6776" class="Symbol">=</a> <a id="6778" href="MGS-Embeddings.html#1410" class="Function">equivs-are-embeddings</a> <a id="6800" href="Prelude.Inverses.html#6771" class="Bound">f</a> <a id="6802" class="Symbol">(</a><a id="6803" href="MGS-Equivalences.html#2127" class="Function">invertibles-are-equivs</a> <a id="6826" href="Prelude.Inverses.html#6771" class="Bound">f</a> <a id="6828" href="Prelude.Inverses.html#6773" class="Bound">fi</a><a id="6830" class="Symbol">)</a>

</pre>

Finally, embeddings are monic; from a proof `p : is-embedding f` that `f` is an embedding we can construct a proof of `Monic f`.

<pre class="Agda">


<a id="embedding-is-monic"></a><a id="6990" href="Prelude.Inverses.html#6990" class="Function">embedding-is-monic</a> <a id="7009" class="Symbol">:</a> <a id="7011" class="Symbol">{</a><a id="7012" href="Prelude.Inverses.html#7012" class="Bound">𝓧</a> <a id="7014" href="Prelude.Inverses.html#7014" class="Bound">𝓨</a> <a id="7016" class="Symbol">:</a> <a id="7018" href="Agda.Primitive.html#423" class="Postulate">Universe</a><a id="7026" class="Symbol">}</a> <a id="7028" class="Symbol">{</a><a id="7029" href="Prelude.Inverses.html#7029" class="Bound">X</a> <a id="7031" class="Symbol">:</a> <a id="7033" href="Prelude.Inverses.html#7012" class="Bound">𝓧</a> <a id="7035" href="Universes.html#403" class="Function Operator">̇</a><a id="7036" class="Symbol">}{</a><a id="7038" href="Prelude.Inverses.html#7038" class="Bound">Y</a> <a id="7040" class="Symbol">:</a> <a id="7042" href="Prelude.Inverses.html#7014" class="Bound">𝓨</a> <a id="7044" href="Universes.html#403" class="Function Operator">̇</a><a id="7045" class="Symbol">}</a>
                     <a id="7068" class="Symbol">(</a><a id="7069" href="Prelude.Inverses.html#7069" class="Bound">f</a> <a id="7071" class="Symbol">:</a> <a id="7073" href="Prelude.Inverses.html#7029" class="Bound">X</a> <a id="7075" class="Symbol">→</a> <a id="7077" href="Prelude.Inverses.html#7038" class="Bound">Y</a><a id="7078" class="Symbol">)</a> <a id="7080" class="Symbol">→</a> <a id="7082" href="MGS-Embeddings.html#384" class="Function">is-embedding</a> <a id="7095" href="Prelude.Inverses.html#7069" class="Bound">f</a> <a id="7097" class="Symbol">→</a> <a id="7099" href="Prelude.Inverses.html#3989" class="Function">Monic</a> <a id="7105" href="Prelude.Inverses.html#7069" class="Bound">f</a>

<a id="7108" href="Prelude.Inverses.html#6990" class="Function">embedding-is-monic</a> <a id="7127" href="Prelude.Inverses.html#7127" class="Bound">f</a> <a id="7129" href="Prelude.Inverses.html#7129" class="Bound">femb</a> <a id="7134" href="Prelude.Inverses.html#7134" class="Bound">x</a> <a id="7136" href="Prelude.Inverses.html#7136" class="Bound">x&#39;</a> <a id="7139" href="Prelude.Inverses.html#7139" class="Bound">fxfx&#39;</a> <a id="7145" class="Symbol">=</a> <a id="7147" href="MGS-MLTT.html#6613" class="Function">ap</a> <a id="7150" href="MGS-MLTT.html#2942" class="Function">pr₁</a> <a id="7154" class="Symbol">((</a><a id="7156" href="Prelude.Inverses.html#7129" class="Bound">femb</a> <a id="7161" class="Symbol">(</a><a id="7162" href="Prelude.Inverses.html#7127" class="Bound">f</a> <a id="7164" href="Prelude.Inverses.html#7134" class="Bound">x</a><a id="7165" class="Symbol">))</a> <a id="7168" href="Prelude.Inverses.html#7183" class="Function">fa</a> <a id="7171" href="Prelude.Inverses.html#7219" class="Function">fb</a><a id="7173" class="Symbol">)</a>
 <a id="7176" class="Keyword">where</a>
 <a id="7183" href="Prelude.Inverses.html#7183" class="Function">fa</a> <a id="7186" class="Symbol">:</a> <a id="7188" href="MGS-Equivalences.html#501" class="Function">fiber</a> <a id="7194" href="Prelude.Inverses.html#7127" class="Bound">f</a> <a id="7196" class="Symbol">(</a><a id="7197" href="Prelude.Inverses.html#7127" class="Bound">f</a> <a id="7199" href="Prelude.Inverses.html#7134" class="Bound">x</a><a id="7200" class="Symbol">)</a>
 <a id="7203" href="Prelude.Inverses.html#7183" class="Function">fa</a> <a id="7206" class="Symbol">=</a> <a id="7208" href="Prelude.Inverses.html#7134" class="Bound">x</a> <a id="7210" href="Prelude.Preliminaries.html#14518" class="InductiveConstructor Operator">,</a> <a id="7212" href="Prelude.Equality.html#1245" class="InductiveConstructor">𝓇ℯ𝒻𝓁</a>

 <a id="7219" href="Prelude.Inverses.html#7219" class="Function">fb</a> <a id="7222" class="Symbol">:</a> <a id="7224" href="MGS-Equivalences.html#501" class="Function">fiber</a> <a id="7230" href="Prelude.Inverses.html#7127" class="Bound">f</a> <a id="7232" class="Symbol">(</a><a id="7233" href="Prelude.Inverses.html#7127" class="Bound">f</a> <a id="7235" href="Prelude.Inverses.html#7134" class="Bound">x</a><a id="7236" class="Symbol">)</a>
 <a id="7239" href="Prelude.Inverses.html#7219" class="Function">fb</a> <a id="7242" class="Symbol">=</a> <a id="7244" href="Prelude.Inverses.html#7136" class="Bound">x&#39;</a> <a id="7247" href="Prelude.Preliminaries.html#14518" class="InductiveConstructor Operator">,</a> <a id="7249" class="Symbol">(</a><a id="7250" href="Prelude.Inverses.html#7139" class="Bound">fxfx&#39;</a> <a id="7256" href="MGS-MLTT.html#6125" class="Function Operator">⁻¹</a><a id="7258" class="Symbol">)</a>

</pre>


-------------------------------------


[← Prelude.Extensionality](Prelude.Extensionality.html)
<span style="float:right;">[Prelude.Lifts →](Prelude.Lifts.html)</span>


{% include UALib.Links.md %}


