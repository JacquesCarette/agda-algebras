---
layout: default
title : UALib.Prelude.Inverses module (Agda Universal Algebra Library)
date : 2021-01-12
author: William DeMeo
---

### <a id="inverses">Inverses</a>

This section presents the [UALib.Prelude.Inverses][] module of the [Agda Universal Algebra Library][].
Here we define (the syntax of) a type for the (semantic concept of) **inverse image** of a function.

<pre class="Agda">

<a id="391" class="Symbol">{-#</a> <a id="395" class="Keyword">OPTIONS</a> <a id="403" class="Pragma">--without-K</a> <a id="415" class="Pragma">--exact-split</a> <a id="429" class="Pragma">--safe</a> <a id="436" class="Symbol">#-}</a>

<a id="441" class="Keyword">module</a> <a id="448" href="Prelude.Inverses.html" class="Module">Prelude.Inverses</a> <a id="465" class="Keyword">where</a>

<a id="472" class="Comment">-- Public imports (inherited by modules importing this one)</a>
<a id="532" class="Keyword">open</a> <a id="537" class="Keyword">import</a> <a id="544" href="Prelude.Extensionality.html" class="Module">Prelude.Extensionality</a> <a id="567" class="Keyword">public</a> 

<a id="576" class="Keyword">open</a> <a id="581" class="Keyword">import</a> <a id="588" href="Identity-Type.html" class="Module">Identity-Type</a> <a id="602" class="Keyword">renaming</a> <a id="611" class="Symbol">(</a><a id="612" href="Identity-Type.html#121" class="Datatype Operator">_≡_</a> <a id="616" class="Symbol">to</a> <a id="619" class="Keyword">infix</a> <a id="625" class="Number">0</a> <a id="_≡_"></a><a id="627" href="Prelude.Inverses.html#627" class="Datatype Operator">_≡_</a> <a id="631" class="Symbol">;</a> <a id="633" href="Identity-Type.html#162" class="InductiveConstructor">refl</a> <a id="638" class="Symbol">to</a> <a id="refl"></a><a id="641" href="Prelude.Inverses.html#641" class="InductiveConstructor">𝓇ℯ𝒻𝓁</a><a id="645" class="Symbol">)</a> <a id="647" class="Keyword">public</a>
<a id="654" class="Keyword">open</a> <a id="659" class="Keyword">import</a> <a id="666" href="MGS-Subsingleton-Truncation.html" class="Module">MGS-Subsingleton-Truncation</a> <a id="694" class="Keyword">using</a> <a id="700" class="Symbol">(</a><a id="701" href="MGS-MLTT.html#5910" class="Function Operator">_∙_</a><a id="704" class="Symbol">)</a> <a id="706" class="Keyword">public</a>
<a id="713" class="Keyword">open</a> <a id="718" class="Keyword">import</a> <a id="725" href="MGS-MLTT.html" class="Module">MGS-MLTT</a> <a id="734" class="Keyword">using</a> <a id="740" class="Symbol">(</a><a id="741" href="MGS-MLTT.html#6125" class="Function Operator">_⁻¹</a><a id="744" class="Symbol">;</a> <a id="746" href="MGS-MLTT.html#3813" class="Function Operator">_∘_</a><a id="749" class="Symbol">;</a> <a id="751" href="MGS-MLTT.html#3778" class="Function">𝑖𝑑</a><a id="753" class="Symbol">;</a> <a id="755" href="MGS-MLTT.html#3944" class="Function">domain</a><a id="761" class="Symbol">;</a> <a id="763" href="MGS-MLTT.html#4021" class="Function">codomain</a><a id="771" class="Symbol">)</a> <a id="773" class="Keyword">public</a>
<a id="780" class="Keyword">open</a> <a id="785" class="Keyword">import</a> <a id="792" href="MGS-Embeddings.html" class="Module">MGS-Embeddings</a> <a id="807" class="Keyword">using</a> <a id="813" class="Symbol">(</a><a id="814" href="MGS-Basic-UF.html#7284" class="Function">to-Σ-≡</a><a id="820" class="Symbol">;</a> <a id="822" href="MGS-Equivalences.html#370" class="Function">invertible</a><a id="832" class="Symbol">;</a> <a id="834" href="MGS-Embeddings.html#1410" class="Function">equivs-are-embeddings</a><a id="855" class="Symbol">;</a> <a id="857" href="MGS-Equivalences.html#2127" class="Function">invertibles-are-equivs</a><a id="879" class="Symbol">)</a> <a id="881" class="Keyword">public</a>

<a id="889" class="Keyword">module</a> <a id="896" href="Prelude.Inverses.html#896" class="Module">_</a> <a id="898" class="Symbol">{</a><a id="899" href="Prelude.Inverses.html#899" class="Bound">𝓤</a> <a id="901" href="Prelude.Inverses.html#901" class="Bound">𝓦</a> <a id="903" class="Symbol">:</a> <a id="905" href="Universes.html#205" class="Postulate">Universe</a><a id="913" class="Symbol">}</a> <a id="915" class="Keyword">where</a>


 <a id="924" class="Keyword">data</a> <a id="929" href="Prelude.Inverses.html#929" class="Datatype Operator">Image_∋_</a> <a id="938" class="Symbol">{</a><a id="939" href="Prelude.Inverses.html#939" class="Bound">A</a> <a id="941" class="Symbol">:</a> <a id="943" href="Prelude.Inverses.html#899" class="Bound">𝓤</a> <a id="945" href="Universes.html#403" class="Function Operator">̇</a> <a id="947" class="Symbol">}{</a><a id="949" href="Prelude.Inverses.html#949" class="Bound">B</a> <a id="951" class="Symbol">:</a> <a id="953" href="Prelude.Inverses.html#901" class="Bound">𝓦</a> <a id="955" href="Universes.html#403" class="Function Operator">̇</a> <a id="957" class="Symbol">}(</a><a id="959" href="Prelude.Inverses.html#959" class="Bound">f</a> <a id="961" class="Symbol">:</a> <a id="963" href="Prelude.Inverses.html#939" class="Bound">A</a> <a id="965" class="Symbol">→</a> <a id="967" href="Prelude.Inverses.html#949" class="Bound">B</a><a id="968" class="Symbol">)</a> <a id="970" class="Symbol">:</a> <a id="972" href="Prelude.Inverses.html#949" class="Bound">B</a> <a id="974" class="Symbol">→</a> <a id="976" href="Prelude.Inverses.html#899" class="Bound">𝓤</a> <a id="978" href="Agda.Primitive.html#636" class="Primitive Operator">⊔</a> <a id="980" href="Prelude.Inverses.html#901" class="Bound">𝓦</a> <a id="982" href="Universes.html#403" class="Function Operator">̇</a>
  <a id="986" class="Keyword">where</a>
  <a id="994" href="Prelude.Inverses.html#994" class="InductiveConstructor">im</a> <a id="997" class="Symbol">:</a> <a id="999" class="Symbol">(</a><a id="1000" href="Prelude.Inverses.html#1000" class="Bound">x</a> <a id="1002" class="Symbol">:</a> <a id="1004" href="Prelude.Inverses.html#939" class="Bound">A</a><a id="1005" class="Symbol">)</a> <a id="1007" class="Symbol">→</a> <a id="1009" href="Prelude.Inverses.html#929" class="Datatype Operator">Image</a> <a id="1015" href="Prelude.Inverses.html#959" class="Bound">f</a> <a id="1017" href="Prelude.Inverses.html#929" class="Datatype Operator">∋</a> <a id="1019" href="Prelude.Inverses.html#959" class="Bound">f</a> <a id="1021" href="Prelude.Inverses.html#1000" class="Bound">x</a>
  <a id="1025" href="Prelude.Inverses.html#1025" class="InductiveConstructor">eq</a> <a id="1028" class="Symbol">:</a> <a id="1030" class="Symbol">(</a><a id="1031" href="Prelude.Inverses.html#1031" class="Bound">b</a> <a id="1033" class="Symbol">:</a> <a id="1035" href="Prelude.Inverses.html#949" class="Bound">B</a><a id="1036" class="Symbol">)</a> <a id="1038" class="Symbol">→</a> <a id="1040" class="Symbol">(</a><a id="1041" href="Prelude.Inverses.html#1041" class="Bound">a</a> <a id="1043" class="Symbol">:</a> <a id="1045" href="Prelude.Inverses.html#939" class="Bound">A</a><a id="1046" class="Symbol">)</a> <a id="1048" class="Symbol">→</a> <a id="1050" href="Prelude.Inverses.html#1031" class="Bound">b</a> <a id="1052" href="Prelude.Equality.html#1610" class="Datatype Operator">≡</a> <a id="1054" href="Prelude.Inverses.html#959" class="Bound">f</a> <a id="1056" href="Prelude.Inverses.html#1041" class="Bound">a</a> <a id="1058" class="Symbol">→</a> <a id="1060" href="Prelude.Inverses.html#929" class="Datatype Operator">Image</a> <a id="1066" href="Prelude.Inverses.html#959" class="Bound">f</a> <a id="1068" href="Prelude.Inverses.html#929" class="Datatype Operator">∋</a> <a id="1070" href="Prelude.Inverses.html#1031" class="Bound">b</a>

 <a id="1074" href="Prelude.Inverses.html#1074" class="Function">ImageIsImage</a> <a id="1087" class="Symbol">:</a> <a id="1089" class="Symbol">{</a><a id="1090" href="Prelude.Inverses.html#1090" class="Bound">A</a> <a id="1092" class="Symbol">:</a> <a id="1094" href="Prelude.Inverses.html#899" class="Bound">𝓤</a> <a id="1096" href="Universes.html#403" class="Function Operator">̇</a> <a id="1098" class="Symbol">}{</a><a id="1100" href="Prelude.Inverses.html#1100" class="Bound">B</a> <a id="1102" class="Symbol">:</a> <a id="1104" href="Prelude.Inverses.html#901" class="Bound">𝓦</a> <a id="1106" href="Universes.html#403" class="Function Operator">̇</a> <a id="1108" class="Symbol">}</a>
                <a id="1126" class="Symbol">(</a><a id="1127" href="Prelude.Inverses.html#1127" class="Bound">f</a> <a id="1129" class="Symbol">:</a> <a id="1131" href="Prelude.Inverses.html#1090" class="Bound">A</a> <a id="1133" class="Symbol">→</a> <a id="1135" href="Prelude.Inverses.html#1100" class="Bound">B</a><a id="1136" class="Symbol">)</a> <a id="1138" class="Symbol">(</a><a id="1139" href="Prelude.Inverses.html#1139" class="Bound">b</a> <a id="1141" class="Symbol">:</a> <a id="1143" href="Prelude.Inverses.html#1100" class="Bound">B</a><a id="1144" class="Symbol">)</a> <a id="1146" class="Symbol">(</a><a id="1147" href="Prelude.Inverses.html#1147" class="Bound">a</a> <a id="1149" class="Symbol">:</a> <a id="1151" href="Prelude.Inverses.html#1090" class="Bound">A</a><a id="1152" class="Symbol">)</a>
  <a id="1156" class="Symbol">→</a>             <a id="1170" href="Prelude.Inverses.html#1139" class="Bound">b</a> <a id="1172" href="Prelude.Equality.html#1610" class="Datatype Operator">≡</a> <a id="1174" href="Prelude.Inverses.html#1127" class="Bound">f</a> <a id="1176" href="Prelude.Inverses.html#1147" class="Bound">a</a>
                <a id="1194" class="Comment">-----------</a>
  <a id="1208" class="Symbol">→</a>             <a id="1222" href="Prelude.Inverses.html#929" class="Datatype Operator">Image</a> <a id="1228" href="Prelude.Inverses.html#1127" class="Bound">f</a> <a id="1230" href="Prelude.Inverses.html#929" class="Datatype Operator">∋</a> <a id="1232" href="Prelude.Inverses.html#1139" class="Bound">b</a>

 <a id="1236" href="Prelude.Inverses.html#1074" class="Function">ImageIsImage</a> <a id="1249" class="Symbol">{</a><a id="1250" href="Prelude.Inverses.html#1250" class="Bound">A</a><a id="1251" class="Symbol">}{</a><a id="1253" href="Prelude.Inverses.html#1253" class="Bound">B</a><a id="1254" class="Symbol">}</a> <a id="1256" href="Prelude.Inverses.html#1256" class="Bound">f</a> <a id="1258" href="Prelude.Inverses.html#1258" class="Bound">b</a> <a id="1260" href="Prelude.Inverses.html#1260" class="Bound">a</a> <a id="1262" href="Prelude.Inverses.html#1262" class="Bound">b≡fa</a> <a id="1267" class="Symbol">=</a> <a id="1269" href="Prelude.Inverses.html#1025" class="InductiveConstructor">eq</a> <a id="1272" href="Prelude.Inverses.html#1258" class="Bound">b</a> <a id="1274" href="Prelude.Inverses.html#1260" class="Bound">a</a> <a id="1276" href="Prelude.Inverses.html#1262" class="Bound">b≡fa</a>

</pre>

Note that an inhabitant of `Image f ∋ b` is a dependent pair `(a , p)`, where `a : A` and `p : b ≡ f a` is a proof that `f` maps `a` to `b`.  Thus, a proof that `b` belongs to the image of `f` (i.e., an inhabitant of `Image f ∋ b`), always has a witness `a : A`, and a proof that `b = f a`, so a (pseudo)inverse can actually be *computed*.

For convenience, we define a pseudo-inverse function, which we call `Inv`, that takes `b : B` and `(a , p) : Image f ∋ b` and returns `a`.

<pre class="Agda">

 <a id="1790" href="Prelude.Inverses.html#1790" class="Function">Inv</a> <a id="1794" class="Symbol">:</a> <a id="1796" class="Symbol">{</a><a id="1797" href="Prelude.Inverses.html#1797" class="Bound">A</a> <a id="1799" class="Symbol">:</a> <a id="1801" href="Prelude.Inverses.html#899" class="Bound">𝓤</a> <a id="1803" href="Universes.html#403" class="Function Operator">̇</a> <a id="1805" class="Symbol">}{</a><a id="1807" href="Prelude.Inverses.html#1807" class="Bound">B</a> <a id="1809" class="Symbol">:</a> <a id="1811" href="Prelude.Inverses.html#901" class="Bound">𝓦</a> <a id="1813" href="Universes.html#403" class="Function Operator">̇</a> <a id="1815" class="Symbol">}(</a><a id="1817" href="Prelude.Inverses.html#1817" class="Bound">f</a> <a id="1819" class="Symbol">:</a> <a id="1821" href="Prelude.Inverses.html#1797" class="Bound">A</a> <a id="1823" class="Symbol">→</a> <a id="1825" href="Prelude.Inverses.html#1807" class="Bound">B</a><a id="1826" class="Symbol">)(</a><a id="1828" href="Prelude.Inverses.html#1828" class="Bound">b</a> <a id="1830" class="Symbol">:</a> <a id="1832" href="Prelude.Inverses.html#1807" class="Bound">B</a><a id="1833" class="Symbol">)</a> <a id="1835" class="Symbol">→</a> <a id="1837" href="Prelude.Inverses.html#929" class="Datatype Operator">Image</a> <a id="1843" href="Prelude.Inverses.html#1817" class="Bound">f</a> <a id="1845" href="Prelude.Inverses.html#929" class="Datatype Operator">∋</a> <a id="1847" href="Prelude.Inverses.html#1828" class="Bound">b</a>  <a id="1850" class="Symbol">→</a>  <a id="1853" href="Prelude.Inverses.html#1797" class="Bound">A</a>
 <a id="1856" href="Prelude.Inverses.html#1790" class="Function">Inv</a> <a id="1860" href="Prelude.Inverses.html#1860" class="Bound">f</a> <a id="1862" class="DottedPattern Symbol">.(</a><a id="1864" href="Prelude.Inverses.html#1860" class="DottedPattern Bound">f</a> <a id="1866" href="Prelude.Inverses.html#1873" class="DottedPattern Bound">a</a><a id="1867" class="DottedPattern Symbol">)</a> <a id="1869" class="Symbol">(</a><a id="1870" href="Prelude.Inverses.html#994" class="InductiveConstructor">im</a> <a id="1873" href="Prelude.Inverses.html#1873" class="Bound">a</a><a id="1874" class="Symbol">)</a> <a id="1876" class="Symbol">=</a> <a id="1878" href="Prelude.Inverses.html#1873" class="Bound">a</a>
 <a id="1881" href="Prelude.Inverses.html#1790" class="Function">Inv</a> <a id="1885" href="Prelude.Inverses.html#1885" class="Bound">f</a> <a id="1887" class="Symbol">_</a> <a id="1889" class="Symbol">(</a><a id="1890" href="Prelude.Inverses.html#1025" class="InductiveConstructor">eq</a> <a id="1893" class="Symbol">_</a> <a id="1895" href="Prelude.Inverses.html#1895" class="Bound">a</a> <a id="1897" class="Symbol">_)</a> <a id="1900" class="Symbol">=</a> <a id="1902" href="Prelude.Inverses.html#1895" class="Bound">a</a>

</pre>

Of course, we can prove that `Inv f` is really the (right-) inverse of `f`.

<pre class="Agda">

 <a id="2009" href="Prelude.Inverses.html#2009" class="Function">InvIsInv</a> <a id="2018" class="Symbol">:</a> <a id="2020" class="Symbol">{</a><a id="2021" href="Prelude.Inverses.html#2021" class="Bound">A</a> <a id="2023" class="Symbol">:</a> <a id="2025" href="Prelude.Inverses.html#899" class="Bound">𝓤</a> <a id="2027" href="Universes.html#403" class="Function Operator">̇</a> <a id="2029" class="Symbol">}</a> <a id="2031" class="Symbol">{</a><a id="2032" href="Prelude.Inverses.html#2032" class="Bound">B</a> <a id="2034" class="Symbol">:</a> <a id="2036" href="Prelude.Inverses.html#901" class="Bound">𝓦</a> <a id="2038" href="Universes.html#403" class="Function Operator">̇</a> <a id="2040" class="Symbol">}</a> <a id="2042" class="Symbol">(</a><a id="2043" href="Prelude.Inverses.html#2043" class="Bound">f</a> <a id="2045" class="Symbol">:</a> <a id="2047" href="Prelude.Inverses.html#2021" class="Bound">A</a> <a id="2049" class="Symbol">→</a> <a id="2051" href="Prelude.Inverses.html#2032" class="Bound">B</a><a id="2052" class="Symbol">)</a>
            <a id="2066" class="Symbol">(</a><a id="2067" href="Prelude.Inverses.html#2067" class="Bound">b</a> <a id="2069" class="Symbol">:</a> <a id="2071" href="Prelude.Inverses.html#2032" class="Bound">B</a><a id="2072" class="Symbol">)</a> <a id="2074" class="Symbol">(</a><a id="2075" href="Prelude.Inverses.html#2075" class="Bound">b∈Imgf</a> <a id="2082" class="Symbol">:</a> <a id="2084" href="Prelude.Inverses.html#929" class="Datatype Operator">Image</a> <a id="2090" href="Prelude.Inverses.html#2043" class="Bound">f</a> <a id="2092" href="Prelude.Inverses.html#929" class="Datatype Operator">∋</a> <a id="2094" href="Prelude.Inverses.html#2067" class="Bound">b</a><a id="2095" class="Symbol">)</a>
            <a id="2109" class="Comment">------------------------------</a>
  <a id="2142" class="Symbol">→</a>         <a id="2152" href="Prelude.Inverses.html#2043" class="Bound">f</a> <a id="2154" class="Symbol">(</a><a id="2155" href="Prelude.Inverses.html#1790" class="Function">Inv</a> <a id="2159" href="Prelude.Inverses.html#2043" class="Bound">f</a> <a id="2161" href="Prelude.Inverses.html#2067" class="Bound">b</a> <a id="2163" href="Prelude.Inverses.html#2075" class="Bound">b∈Imgf</a><a id="2169" class="Symbol">)</a> <a id="2171" href="Prelude.Equality.html#1610" class="Datatype Operator">≡</a> <a id="2173" href="Prelude.Inverses.html#2067" class="Bound">b</a>
 <a id="2176" href="Prelude.Inverses.html#2009" class="Function">InvIsInv</a> <a id="2185" href="Prelude.Inverses.html#2185" class="Bound">f</a> <a id="2187" class="DottedPattern Symbol">.(</a><a id="2189" href="Prelude.Inverses.html#2185" class="DottedPattern Bound">f</a> <a id="2191" href="Prelude.Inverses.html#2198" class="DottedPattern Bound">a</a><a id="2192" class="DottedPattern Symbol">)</a> <a id="2194" class="Symbol">(</a><a id="2195" href="Prelude.Inverses.html#994" class="InductiveConstructor">im</a> <a id="2198" href="Prelude.Inverses.html#2198" class="Bound">a</a><a id="2199" class="Symbol">)</a> <a id="2201" class="Symbol">=</a> <a id="2203" href="Prelude.Equality.html#1645" class="InductiveConstructor">refl</a> <a id="2208" class="Symbol">_</a>
 <a id="2211" href="Prelude.Inverses.html#2009" class="Function">InvIsInv</a> <a id="2220" href="Prelude.Inverses.html#2220" class="Bound">f</a> <a id="2222" class="Symbol">_</a> <a id="2224" class="Symbol">(</a><a id="2225" href="Prelude.Inverses.html#1025" class="InductiveConstructor">eq</a> <a id="2228" class="Symbol">_</a> <a id="2230" class="Symbol">_</a> <a id="2232" href="Prelude.Inverses.html#2232" class="Bound">p</a><a id="2233" class="Symbol">)</a> <a id="2235" class="Symbol">=</a> <a id="2237" href="Prelude.Inverses.html#2232" class="Bound">p</a> <a id="2239" href="MGS-MLTT.html#6125" class="Function Operator">⁻¹</a>

</pre>





#### <a id="surjective-functions">Surjective functions</a>

An epic (or surjective) function from type `A : 𝓤 ̇` to type `B : 𝓦 ̇` is as an inhabitant of the `Epic` type, which we define as follows.

<pre class="Agda">

 <a id="2474" href="Prelude.Inverses.html#2474" class="Function">Epic</a> <a id="2479" class="Symbol">:</a> <a id="2481" class="Symbol">{</a><a id="2482" href="Prelude.Inverses.html#2482" class="Bound">A</a> <a id="2484" class="Symbol">:</a> <a id="2486" href="Prelude.Inverses.html#899" class="Bound">𝓤</a> <a id="2488" href="Universes.html#403" class="Function Operator">̇</a> <a id="2490" class="Symbol">}</a> <a id="2492" class="Symbol">{</a><a id="2493" href="Prelude.Inverses.html#2493" class="Bound">B</a> <a id="2495" class="Symbol">:</a> <a id="2497" href="Prelude.Inverses.html#901" class="Bound">𝓦</a> <a id="2499" href="Universes.html#403" class="Function Operator">̇</a> <a id="2501" class="Symbol">}</a> <a id="2503" class="Symbol">(</a><a id="2504" href="Prelude.Inverses.html#2504" class="Bound">g</a> <a id="2506" class="Symbol">:</a> <a id="2508" href="Prelude.Inverses.html#2482" class="Bound">A</a> <a id="2510" class="Symbol">→</a> <a id="2512" href="Prelude.Inverses.html#2493" class="Bound">B</a><a id="2513" class="Symbol">)</a> <a id="2515" class="Symbol">→</a>  <a id="2518" href="Prelude.Inverses.html#899" class="Bound">𝓤</a> <a id="2520" href="Agda.Primitive.html#636" class="Primitive Operator">⊔</a> <a id="2522" href="Prelude.Inverses.html#901" class="Bound">𝓦</a> <a id="2524" href="Universes.html#403" class="Function Operator">̇</a>
 <a id="2527" href="Prelude.Inverses.html#2474" class="Function">Epic</a> <a id="2532" href="Prelude.Inverses.html#2532" class="Bound">g</a> <a id="2534" class="Symbol">=</a> <a id="2536" class="Symbol">∀</a> <a id="2538" href="Prelude.Inverses.html#2538" class="Bound">y</a> <a id="2540" class="Symbol">→</a> <a id="2542" href="Prelude.Inverses.html#929" class="Datatype Operator">Image</a> <a id="2548" href="Prelude.Inverses.html#2532" class="Bound">g</a> <a id="2550" href="Prelude.Inverses.html#929" class="Datatype Operator">∋</a> <a id="2552" href="Prelude.Inverses.html#2538" class="Bound">y</a>

</pre>

We obtain the right-inverse (or pseudoinverse) of an epic function `f` by applying the function `EpicInv` (which we now define) to the function `f` along with a proof, `fE : Epic f`, that `f` is surjective.

<pre class="Agda">

 <a id="2790" href="Prelude.Inverses.html#2790" class="Function">EpicInv</a> <a id="2798" class="Symbol">:</a> <a id="2800" class="Symbol">{</a><a id="2801" href="Prelude.Inverses.html#2801" class="Bound">A</a> <a id="2803" class="Symbol">:</a> <a id="2805" href="Prelude.Inverses.html#899" class="Bound">𝓤</a> <a id="2807" href="Universes.html#403" class="Function Operator">̇</a> <a id="2809" class="Symbol">}</a> <a id="2811" class="Symbol">{</a><a id="2812" href="Prelude.Inverses.html#2812" class="Bound">B</a> <a id="2814" class="Symbol">:</a> <a id="2816" href="Prelude.Inverses.html#901" class="Bound">𝓦</a> <a id="2818" href="Universes.html#403" class="Function Operator">̇</a> <a id="2820" class="Symbol">}</a>
           <a id="2833" class="Symbol">(</a><a id="2834" href="Prelude.Inverses.html#2834" class="Bound">f</a> <a id="2836" class="Symbol">:</a> <a id="2838" href="Prelude.Inverses.html#2801" class="Bound">A</a> <a id="2840" class="Symbol">→</a> <a id="2842" href="Prelude.Inverses.html#2812" class="Bound">B</a><a id="2843" class="Symbol">)</a> <a id="2845" class="Symbol">→</a> <a id="2847" href="Prelude.Inverses.html#2474" class="Function">Epic</a> <a id="2852" href="Prelude.Inverses.html#2834" class="Bound">f</a>
           <a id="2865" class="Comment">--------------------</a>
  <a id="2888" class="Symbol">→</a>        <a id="2897" href="Prelude.Inverses.html#2812" class="Bound">B</a> <a id="2899" class="Symbol">→</a> <a id="2901" href="Prelude.Inverses.html#2801" class="Bound">A</a>

 <a id="2905" href="Prelude.Inverses.html#2790" class="Function">EpicInv</a> <a id="2913" href="Prelude.Inverses.html#2913" class="Bound">f</a> <a id="2915" href="Prelude.Inverses.html#2915" class="Bound">fE</a> <a id="2918" href="Prelude.Inverses.html#2918" class="Bound">b</a> <a id="2920" class="Symbol">=</a> <a id="2922" href="Prelude.Inverses.html#1790" class="Function">Inv</a> <a id="2926" href="Prelude.Inverses.html#2913" class="Bound">f</a> <a id="2928" href="Prelude.Inverses.html#2918" class="Bound">b</a> <a id="2930" class="Symbol">(</a><a id="2931" href="Prelude.Inverses.html#2915" class="Bound">fE</a> <a id="2934" href="Prelude.Inverses.html#2918" class="Bound">b</a><a id="2935" class="Symbol">)</a>

</pre>

The function defined by `EpicInv f fE` is indeed the right-inverse of `f`.

<pre class="Agda">

 <a id="3041" href="Prelude.Inverses.html#3041" class="Function">EpicInvIsRightInv</a> <a id="3059" class="Symbol">:</a> <a id="3061" href="MGS-FunExt-from-Univalence.html#393" class="Function">funext</a> <a id="3068" href="Prelude.Inverses.html#901" class="Bound">𝓦</a> <a id="3070" href="Prelude.Inverses.html#901" class="Bound">𝓦</a> <a id="3072" class="Symbol">→</a> <a id="3074" class="Symbol">{</a><a id="3075" href="Prelude.Inverses.html#3075" class="Bound">A</a> <a id="3077" class="Symbol">:</a> <a id="3079" href="Prelude.Inverses.html#899" class="Bound">𝓤</a> <a id="3081" href="Universes.html#403" class="Function Operator">̇</a> <a id="3083" class="Symbol">}</a> <a id="3085" class="Symbol">{</a><a id="3086" href="Prelude.Inverses.html#3086" class="Bound">B</a> <a id="3088" class="Symbol">:</a> <a id="3090" href="Prelude.Inverses.html#901" class="Bound">𝓦</a> <a id="3092" href="Universes.html#403" class="Function Operator">̇</a> <a id="3094" class="Symbol">}</a>
                     <a id="3117" class="Symbol">(</a><a id="3118" href="Prelude.Inverses.html#3118" class="Bound">f</a> <a id="3120" class="Symbol">:</a> <a id="3122" href="Prelude.Inverses.html#3075" class="Bound">A</a> <a id="3124" class="Symbol">→</a> <a id="3126" href="Prelude.Inverses.html#3086" class="Bound">B</a><a id="3127" class="Symbol">)</a>  <a id="3130" class="Symbol">(</a><a id="3131" href="Prelude.Inverses.html#3131" class="Bound">fE</a> <a id="3134" class="Symbol">:</a> <a id="3136" href="Prelude.Inverses.html#2474" class="Function">Epic</a> <a id="3141" href="Prelude.Inverses.html#3118" class="Bound">f</a><a id="3142" class="Symbol">)</a>
                     <a id="3165" class="Comment">--------------------------</a>
  <a id="3194" class="Symbol">→</a>                  <a id="3213" href="Prelude.Inverses.html#3118" class="Bound">f</a> <a id="3215" href="MGS-MLTT.html#3813" class="Function Operator">∘</a> <a id="3217" class="Symbol">(</a><a id="3218" href="Prelude.Inverses.html#2790" class="Function">EpicInv</a> <a id="3226" href="Prelude.Inverses.html#3118" class="Bound">f</a> <a id="3228" href="Prelude.Inverses.html#3131" class="Bound">fE</a><a id="3230" class="Symbol">)</a> <a id="3232" href="Prelude.Equality.html#1610" class="Datatype Operator">≡</a> <a id="3234" href="MGS-MLTT.html#3778" class="Function">𝑖𝑑</a> <a id="3237" href="Prelude.Inverses.html#3086" class="Bound">B</a>

 <a id="3241" href="Prelude.Inverses.html#3041" class="Function">EpicInvIsRightInv</a> <a id="3259" href="Prelude.Inverses.html#3259" class="Bound">fe</a> <a id="3262" href="Prelude.Inverses.html#3262" class="Bound">f</a> <a id="3264" href="Prelude.Inverses.html#3264" class="Bound">fE</a> <a id="3267" class="Symbol">=</a> <a id="3269" href="Prelude.Inverses.html#3259" class="Bound">fe</a> <a id="3272" class="Symbol">(λ</a> <a id="3275" href="Prelude.Inverses.html#3275" class="Bound">x</a> <a id="3277" class="Symbol">→</a> <a id="3279" href="Prelude.Inverses.html#2009" class="Function">InvIsInv</a> <a id="3288" href="Prelude.Inverses.html#3262" class="Bound">f</a> <a id="3290" href="Prelude.Inverses.html#3275" class="Bound">x</a> <a id="3292" class="Symbol">(</a><a id="3293" href="Prelude.Inverses.html#3264" class="Bound">fE</a> <a id="3296" href="Prelude.Inverses.html#3275" class="Bound">x</a><a id="3297" class="Symbol">))</a>

</pre>





#### <a id="injective-functions">Injective functions</a>

We say that a function `g : A → B` is monic (or injective) if we have a proof of `Monic g`, where

<pre class="Agda">

 <a id="3489" href="Prelude.Inverses.html#3489" class="Function">Monic</a> <a id="3495" class="Symbol">:</a> <a id="3497" class="Symbol">{</a><a id="3498" href="Prelude.Inverses.html#3498" class="Bound">A</a> <a id="3500" class="Symbol">:</a> <a id="3502" href="Prelude.Inverses.html#899" class="Bound">𝓤</a> <a id="3504" href="Universes.html#403" class="Function Operator">̇</a> <a id="3506" class="Symbol">}</a> <a id="3508" class="Symbol">{</a><a id="3509" href="Prelude.Inverses.html#3509" class="Bound">B</a> <a id="3511" class="Symbol">:</a> <a id="3513" href="Prelude.Inverses.html#901" class="Bound">𝓦</a> <a id="3515" href="Universes.html#403" class="Function Operator">̇</a> <a id="3517" class="Symbol">}(</a><a id="3519" href="Prelude.Inverses.html#3519" class="Bound">g</a> <a id="3521" class="Symbol">:</a> <a id="3523" href="Prelude.Inverses.html#3498" class="Bound">A</a> <a id="3525" class="Symbol">→</a> <a id="3527" href="Prelude.Inverses.html#3509" class="Bound">B</a><a id="3528" class="Symbol">)</a> <a id="3530" class="Symbol">→</a> <a id="3532" href="Prelude.Inverses.html#899" class="Bound">𝓤</a> <a id="3534" href="Agda.Primitive.html#636" class="Primitive Operator">⊔</a> <a id="3536" href="Prelude.Inverses.html#901" class="Bound">𝓦</a> <a id="3538" href="Universes.html#403" class="Function Operator">̇</a>
 <a id="3541" href="Prelude.Inverses.html#3489" class="Function">Monic</a> <a id="3547" href="Prelude.Inverses.html#3547" class="Bound">g</a> <a id="3549" class="Symbol">=</a> <a id="3551" class="Symbol">∀</a> <a id="3553" href="Prelude.Inverses.html#3553" class="Bound">a₁</a> <a id="3556" href="Prelude.Inverses.html#3556" class="Bound">a₂</a> <a id="3559" class="Symbol">→</a> <a id="3561" href="Prelude.Inverses.html#3547" class="Bound">g</a> <a id="3563" href="Prelude.Inverses.html#3553" class="Bound">a₁</a> <a id="3566" href="Prelude.Equality.html#1610" class="Datatype Operator">≡</a> <a id="3568" href="Prelude.Inverses.html#3547" class="Bound">g</a> <a id="3570" href="Prelude.Inverses.html#3556" class="Bound">a₂</a> <a id="3573" class="Symbol">→</a> <a id="3575" href="Prelude.Inverses.html#3553" class="Bound">a₁</a> <a id="3578" href="Prelude.Equality.html#1610" class="Datatype Operator">≡</a> <a id="3580" href="Prelude.Inverses.html#3556" class="Bound">a₂</a>

</pre>

Again, we obtain a pseudoinverse. Here it is obtained by applying the function `MonicInv` to `g` and a proof that `g` is monic.

<pre class="Agda">

 <a id="3740" class="Comment">--The (pseudo-)inverse of a monic function</a>
 <a id="3784" href="Prelude.Inverses.html#3784" class="Function">MonicInv</a> <a id="3793" class="Symbol">:</a> <a id="3795" class="Symbol">{</a><a id="3796" href="Prelude.Inverses.html#3796" class="Bound">A</a> <a id="3798" class="Symbol">:</a> <a id="3800" href="Prelude.Inverses.html#899" class="Bound">𝓤</a> <a id="3802" href="Universes.html#403" class="Function Operator">̇</a> <a id="3804" class="Symbol">}{</a><a id="3806" href="Prelude.Inverses.html#3806" class="Bound">B</a> <a id="3808" class="Symbol">:</a> <a id="3810" href="Prelude.Inverses.html#901" class="Bound">𝓦</a> <a id="3812" href="Universes.html#403" class="Function Operator">̇</a> <a id="3814" class="Symbol">}(</a><a id="3816" href="Prelude.Inverses.html#3816" class="Bound">f</a> <a id="3818" class="Symbol">:</a> <a id="3820" href="Prelude.Inverses.html#3796" class="Bound">A</a> <a id="3822" class="Symbol">→</a> <a id="3824" href="Prelude.Inverses.html#3806" class="Bound">B</a><a id="3825" class="Symbol">)</a> <a id="3827" class="Symbol">→</a> <a id="3829" href="Prelude.Inverses.html#3489" class="Function">Monic</a> <a id="3835" href="Prelude.Inverses.html#3816" class="Bound">f</a>
  <a id="3839" class="Symbol">→</a>         <a id="3849" class="Symbol">(</a><a id="3850" href="Prelude.Inverses.html#3850" class="Bound">b</a> <a id="3852" class="Symbol">:</a> <a id="3854" href="Prelude.Inverses.html#3806" class="Bound">B</a><a id="3855" class="Symbol">)</a> <a id="3857" class="Symbol">→</a> <a id="3859" href="Prelude.Inverses.html#929" class="Datatype Operator">Image</a> <a id="3865" href="Prelude.Inverses.html#3816" class="Bound">f</a> <a id="3867" href="Prelude.Inverses.html#929" class="Datatype Operator">∋</a> <a id="3869" href="Prelude.Inverses.html#3850" class="Bound">b</a> <a id="3871" class="Symbol">→</a> <a id="3873" href="Prelude.Inverses.html#3796" class="Bound">A</a>

 <a id="3877" href="Prelude.Inverses.html#3784" class="Function">MonicInv</a> <a id="3886" href="Prelude.Inverses.html#3886" class="Bound">f</a> <a id="3888" class="Symbol">_</a> <a id="3890" class="Symbol">=</a> <a id="3892" class="Symbol">λ</a> <a id="3894" href="Prelude.Inverses.html#3894" class="Bound">b</a> <a id="3896" href="Prelude.Inverses.html#3896" class="Bound">Imf∋b</a> <a id="3902" class="Symbol">→</a> <a id="3904" href="Prelude.Inverses.html#1790" class="Function">Inv</a> <a id="3908" href="Prelude.Inverses.html#3886" class="Bound">f</a> <a id="3910" href="Prelude.Inverses.html#3894" class="Bound">b</a> <a id="3912" href="Prelude.Inverses.html#3896" class="Bound">Imf∋b</a>

</pre>

The function defined by `MonicInv f fM` is the left-inverse of `f`.

<pre class="Agda">

 <a id="4015" class="Comment">--The (psudo-)inverse of a monic is the left inverse.</a>
 <a id="4070" href="Prelude.Inverses.html#4070" class="Function">MonicInvIsLeftInv</a> <a id="4088" class="Symbol">:</a> <a id="4090" class="Symbol">{</a><a id="4091" href="Prelude.Inverses.html#4091" class="Bound">A</a> <a id="4093" class="Symbol">:</a> <a id="4095" href="Prelude.Inverses.html#899" class="Bound">𝓤</a> <a id="4097" href="Universes.html#403" class="Function Operator">̇</a> <a id="4099" class="Symbol">}{</a><a id="4101" href="Prelude.Inverses.html#4101" class="Bound">B</a> <a id="4103" class="Symbol">:</a> <a id="4105" href="Prelude.Inverses.html#901" class="Bound">𝓦</a> <a id="4107" href="Universes.html#403" class="Function Operator">̇</a> <a id="4109" class="Symbol">}(</a><a id="4111" href="Prelude.Inverses.html#4111" class="Bound">f</a> <a id="4113" class="Symbol">:</a> <a id="4115" href="Prelude.Inverses.html#4091" class="Bound">A</a> <a id="4117" class="Symbol">→</a> <a id="4119" href="Prelude.Inverses.html#4101" class="Bound">B</a><a id="4120" class="Symbol">)(</a><a id="4122" href="Prelude.Inverses.html#4122" class="Bound">fmonic</a> <a id="4129" class="Symbol">:</a> <a id="4131" href="Prelude.Inverses.html#3489" class="Function">Monic</a> <a id="4137" href="Prelude.Inverses.html#4111" class="Bound">f</a><a id="4138" class="Symbol">)(</a><a id="4140" href="Prelude.Inverses.html#4140" class="Bound">x</a> <a id="4142" class="Symbol">:</a> <a id="4144" href="Prelude.Inverses.html#4091" class="Bound">A</a><a id="4145" class="Symbol">)</a>
   <a id="4150" class="Symbol">→</a>                 <a id="4168" class="Symbol">(</a><a id="4169" href="Prelude.Inverses.html#3784" class="Function">MonicInv</a> <a id="4178" href="Prelude.Inverses.html#4111" class="Bound">f</a> <a id="4180" href="Prelude.Inverses.html#4122" class="Bound">fmonic</a><a id="4186" class="Symbol">)(</a><a id="4188" href="Prelude.Inverses.html#4111" class="Bound">f</a> <a id="4190" href="Prelude.Inverses.html#4140" class="Bound">x</a><a id="4191" class="Symbol">)(</a><a id="4193" href="Prelude.Inverses.html#994" class="InductiveConstructor">im</a> <a id="4196" href="Prelude.Inverses.html#4140" class="Bound">x</a><a id="4197" class="Symbol">)</a> <a id="4199" href="Prelude.Equality.html#1610" class="Datatype Operator">≡</a> <a id="4201" href="Prelude.Inverses.html#4140" class="Bound">x</a>

 <a id="4205" href="Prelude.Inverses.html#4070" class="Function">MonicInvIsLeftInv</a> <a id="4223" href="Prelude.Inverses.html#4223" class="Bound">f</a> <a id="4225" href="Prelude.Inverses.html#4225" class="Bound">fmonic</a> <a id="4232" href="Prelude.Inverses.html#4232" class="Bound">x</a> <a id="4234" class="Symbol">=</a> <a id="4236" href="Prelude.Equality.html#1645" class="InductiveConstructor">refl</a> <a id="4241" class="Symbol">_</a>

</pre>



#### <a id="composition-laws">Composition laws</a>

<pre class="Agda">

<a id="4324" class="Keyword">module</a> <a id="4331" href="Prelude.Inverses.html#4331" class="Module">_</a> <a id="4333" class="Symbol">{</a><a id="4334" href="Prelude.Inverses.html#4334" class="Bound">𝓧</a> <a id="4336" href="Prelude.Inverses.html#4336" class="Bound">𝓨</a> <a id="4338" href="Prelude.Inverses.html#4338" class="Bound">𝓩</a> <a id="4340" class="Symbol">:</a> <a id="4342" href="Universes.html#205" class="Postulate">Universe</a><a id="4350" class="Symbol">}</a> <a id="4352" class="Keyword">where</a>

 <a id="4360" href="Prelude.Inverses.html#4360" class="Function">epic-factor</a> <a id="4372" class="Symbol">:</a> <a id="4374" href="MGS-FunExt-from-Univalence.html#393" class="Function">funext</a> <a id="4381" href="Prelude.Inverses.html#4336" class="Bound">𝓨</a> <a id="4383" href="Prelude.Inverses.html#4336" class="Bound">𝓨</a> <a id="4385" class="Symbol">→</a> <a id="4387" class="Symbol">{</a><a id="4388" href="Prelude.Inverses.html#4388" class="Bound">A</a> <a id="4390" class="Symbol">:</a> <a id="4392" href="Prelude.Inverses.html#4334" class="Bound">𝓧</a> <a id="4394" href="Universes.html#403" class="Function Operator">̇</a><a id="4395" class="Symbol">}{</a><a id="4397" href="Prelude.Inverses.html#4397" class="Bound">B</a> <a id="4399" class="Symbol">:</a> <a id="4401" href="Prelude.Inverses.html#4336" class="Bound">𝓨</a> <a id="4403" href="Universes.html#403" class="Function Operator">̇</a><a id="4404" class="Symbol">}{</a><a id="4406" href="Prelude.Inverses.html#4406" class="Bound">C</a> <a id="4408" class="Symbol">:</a> <a id="4410" href="Prelude.Inverses.html#4338" class="Bound">𝓩</a> <a id="4412" href="Universes.html#403" class="Function Operator">̇</a><a id="4413" class="Symbol">}</a>
               <a id="4430" class="Symbol">(</a><a id="4431" href="Prelude.Inverses.html#4431" class="Bound">β</a> <a id="4433" class="Symbol">:</a> <a id="4435" href="Prelude.Inverses.html#4388" class="Bound">A</a> <a id="4437" class="Symbol">→</a> <a id="4439" href="Prelude.Inverses.html#4397" class="Bound">B</a><a id="4440" class="Symbol">)(</a><a id="4442" href="Prelude.Inverses.html#4442" class="Bound">ξ</a> <a id="4444" class="Symbol">:</a> <a id="4446" href="Prelude.Inverses.html#4388" class="Bound">A</a> <a id="4448" class="Symbol">→</a> <a id="4450" href="Prelude.Inverses.html#4406" class="Bound">C</a><a id="4451" class="Symbol">)(</a><a id="4453" href="Prelude.Inverses.html#4453" class="Bound">ϕ</a> <a id="4455" class="Symbol">:</a> <a id="4457" href="Prelude.Inverses.html#4406" class="Bound">C</a> <a id="4459" class="Symbol">→</a> <a id="4461" href="Prelude.Inverses.html#4397" class="Bound">B</a><a id="4462" class="Symbol">)</a>
  <a id="4466" class="Symbol">→</a>            <a id="4479" href="Prelude.Inverses.html#4431" class="Bound">β</a> <a id="4481" href="Prelude.Equality.html#1610" class="Datatype Operator">≡</a> <a id="4483" href="Prelude.Inverses.html#4453" class="Bound">ϕ</a> <a id="4485" href="MGS-MLTT.html#3813" class="Function Operator">∘</a> <a id="4487" href="Prelude.Inverses.html#4442" class="Bound">ξ</a> <a id="4489" class="Symbol">→</a>  <a id="4492" href="Prelude.Inverses.html#2474" class="Function">Epic</a> <a id="4497" href="Prelude.Inverses.html#4431" class="Bound">β</a> <a id="4499" class="Symbol">→</a> <a id="4501" href="Prelude.Inverses.html#2474" class="Function">Epic</a> <a id="4506" href="Prelude.Inverses.html#4453" class="Bound">ϕ</a>

 <a id="4510" href="Prelude.Inverses.html#4360" class="Function">epic-factor</a> <a id="4522" href="Prelude.Inverses.html#4522" class="Bound">fe</a> <a id="4525" class="Symbol">{</a><a id="4526" href="Prelude.Inverses.html#4526" class="Bound">A</a><a id="4527" class="Symbol">}{</a><a id="4529" href="Prelude.Inverses.html#4529" class="Bound">B</a><a id="4530" class="Symbol">}{</a><a id="4532" href="Prelude.Inverses.html#4532" class="Bound">C</a><a id="4533" class="Symbol">}</a> <a id="4535" href="Prelude.Inverses.html#4535" class="Bound">β</a> <a id="4537" href="Prelude.Inverses.html#4537" class="Bound">ξ</a> <a id="4539" href="Prelude.Inverses.html#4539" class="Bound">ϕ</a> <a id="4541" href="Prelude.Inverses.html#4541" class="Bound">compId</a> <a id="4548" href="Prelude.Inverses.html#4548" class="Bound">βe</a> <a id="4551" href="Prelude.Inverses.html#4551" class="Bound">y</a> <a id="4553" class="Symbol">=</a> <a id="4555" href="Prelude.Inverses.html#4755" class="Function">γ</a>
  <a id="4559" class="Keyword">where</a>
   <a id="4568" href="Prelude.Inverses.html#4568" class="Function">βinv</a> <a id="4573" class="Symbol">:</a> <a id="4575" href="Prelude.Inverses.html#4529" class="Bound">B</a> <a id="4577" class="Symbol">→</a> <a id="4579" href="Prelude.Inverses.html#4526" class="Bound">A</a>
   <a id="4584" href="Prelude.Inverses.html#4568" class="Function">βinv</a> <a id="4589" class="Symbol">=</a> <a id="4591" href="Prelude.Inverses.html#2790" class="Function">EpicInv</a> <a id="4599" href="Prelude.Inverses.html#4535" class="Bound">β</a> <a id="4601" href="Prelude.Inverses.html#4548" class="Bound">βe</a>

   <a id="4608" href="Prelude.Inverses.html#4608" class="Function">ζ</a> <a id="4610" class="Symbol">:</a> <a id="4612" href="Prelude.Inverses.html#4535" class="Bound">β</a> <a id="4614" class="Symbol">(</a><a id="4615" href="Prelude.Inverses.html#4568" class="Function">βinv</a> <a id="4620" href="Prelude.Inverses.html#4551" class="Bound">y</a><a id="4621" class="Symbol">)</a> <a id="4623" href="Prelude.Equality.html#1610" class="Datatype Operator">≡</a> <a id="4625" href="Prelude.Inverses.html#4551" class="Bound">y</a>
   <a id="4630" href="Prelude.Inverses.html#4608" class="Function">ζ</a> <a id="4632" class="Symbol">=</a> <a id="4634" href="MGS-MLTT.html#6613" class="Function">ap</a> <a id="4637" class="Symbol">(λ</a> <a id="4640" href="Prelude.Inverses.html#4640" class="Bound">-</a> <a id="4642" class="Symbol">→</a> <a id="4644" href="Prelude.Inverses.html#4640" class="Bound">-</a> <a id="4646" href="Prelude.Inverses.html#4551" class="Bound">y</a><a id="4647" class="Symbol">)</a> <a id="4649" class="Symbol">(</a><a id="4650" href="Prelude.Inverses.html#3041" class="Function">EpicInvIsRightInv</a> <a id="4668" href="Prelude.Inverses.html#4522" class="Bound">fe</a> <a id="4671" href="Prelude.Inverses.html#4535" class="Bound">β</a> <a id="4673" href="Prelude.Inverses.html#4548" class="Bound">βe</a><a id="4675" class="Symbol">)</a>
   <a id="4680" href="Prelude.Inverses.html#4680" class="Function">η</a> <a id="4682" class="Symbol">:</a> <a id="4684" class="Symbol">(</a><a id="4685" href="Prelude.Inverses.html#4539" class="Bound">ϕ</a> <a id="4687" href="MGS-MLTT.html#3813" class="Function Operator">∘</a> <a id="4689" href="Prelude.Inverses.html#4537" class="Bound">ξ</a><a id="4690" class="Symbol">)</a> <a id="4692" class="Symbol">(</a><a id="4693" href="Prelude.Inverses.html#4568" class="Function">βinv</a> <a id="4698" href="Prelude.Inverses.html#4551" class="Bound">y</a><a id="4699" class="Symbol">)</a> <a id="4701" href="Prelude.Equality.html#1610" class="Datatype Operator">≡</a> <a id="4703" href="Prelude.Inverses.html#4551" class="Bound">y</a>
   <a id="4708" href="Prelude.Inverses.html#4680" class="Function">η</a> <a id="4710" class="Symbol">=</a> <a id="4712" class="Symbol">(</a><a id="4713" href="MGS-MLTT.html#6613" class="Function">ap</a> <a id="4716" class="Symbol">(λ</a> <a id="4719" href="Prelude.Inverses.html#4719" class="Bound">-</a> <a id="4721" class="Symbol">→</a> <a id="4723" href="Prelude.Inverses.html#4719" class="Bound">-</a> <a id="4725" class="Symbol">(</a><a id="4726" href="Prelude.Inverses.html#4568" class="Function">βinv</a> <a id="4731" href="Prelude.Inverses.html#4551" class="Bound">y</a><a id="4732" class="Symbol">))</a> <a id="4735" class="Symbol">(</a><a id="4736" href="Prelude.Inverses.html#4541" class="Bound">compId</a> <a id="4743" href="MGS-MLTT.html#6125" class="Function Operator">⁻¹</a><a id="4745" class="Symbol">))</a> <a id="4748" href="MGS-MLTT.html#5910" class="Function Operator">∙</a> <a id="4750" href="Prelude.Inverses.html#4608" class="Function">ζ</a>
   <a id="4755" href="Prelude.Inverses.html#4755" class="Function">γ</a> <a id="4757" class="Symbol">:</a> <a id="4759" href="Prelude.Inverses.html#929" class="Datatype Operator">Image</a> <a id="4765" href="Prelude.Inverses.html#4539" class="Bound">ϕ</a> <a id="4767" href="Prelude.Inverses.html#929" class="Datatype Operator">∋</a> <a id="4769" href="Prelude.Inverses.html#4551" class="Bound">y</a>
   <a id="4774" href="Prelude.Inverses.html#4755" class="Function">γ</a> <a id="4776" class="Symbol">=</a> <a id="4778" href="Prelude.Inverses.html#1025" class="InductiveConstructor">eq</a> <a id="4781" href="Prelude.Inverses.html#4551" class="Bound">y</a> <a id="4783" class="Symbol">(</a><a id="4784" href="Prelude.Inverses.html#4537" class="Bound">ξ</a> <a id="4786" class="Symbol">(</a><a id="4787" href="Prelude.Inverses.html#4568" class="Function">βinv</a> <a id="4792" href="Prelude.Inverses.html#4551" class="Bound">y</a><a id="4793" class="Symbol">))</a> <a id="4796" class="Symbol">(</a><a id="4797" href="Prelude.Inverses.html#4680" class="Function">η</a> <a id="4799" href="MGS-MLTT.html#6125" class="Function Operator">⁻¹</a><a id="4801" class="Symbol">)</a>

</pre>





#### Injective functions are set embeddings

This is the first point at which [truncation](UALib.Preface.html#truncation) comes into play.  An [embedding](https://www.cs.bham.ac.uk/~mhe/HoTT-UF-in-Agda-Lecture-Notes/HoTT-UF-Agda.html#embeddings) is defined in the [Type Topology][] library as follows.<sup>[1](Prelude.Inverses.html#fn1</sup> This requires the types from the `MGS-Equivalences` of the [Type Topology][] that we introduced in the last module ([Prelude.Extensionality][]).


Finally, the type `is-embedding f` will denotes the assertion that `f` is a function all of whose fibers are subsingletons.

<pre class="Agda">
<a id="5447" class="Keyword">module</a> <a id="hide-is-embedding"></a><a id="5454" href="Prelude.Inverses.html#5454" class="Module">hide-is-embedding</a> <a id="5472" class="Symbol">{</a><a id="5473" href="Prelude.Inverses.html#5473" class="Bound">𝓤</a> <a id="5475" href="Prelude.Inverses.html#5475" class="Bound">𝓦</a> <a id="5477" class="Symbol">:</a> <a id="5479" href="Universes.html#205" class="Postulate">Universe</a><a id="5487" class="Symbol">}</a> <a id="5489" class="Keyword">where</a>

 <a id="hide-is-embedding.is-embedding"></a><a id="5497" href="Prelude.Inverses.html#5497" class="Function">is-embedding</a> <a id="5510" class="Symbol">:</a> <a id="5512" class="Symbol">{</a><a id="5513" href="Prelude.Inverses.html#5513" class="Bound">X</a> <a id="5515" class="Symbol">:</a> <a id="5517" href="Prelude.Inverses.html#5473" class="Bound">𝓤</a> <a id="5519" href="Universes.html#403" class="Function Operator">̇</a> <a id="5521" class="Symbol">}</a> <a id="5523" class="Symbol">{</a><a id="5524" href="Prelude.Inverses.html#5524" class="Bound">Y</a> <a id="5526" class="Symbol">:</a> <a id="5528" href="Prelude.Inverses.html#5475" class="Bound">𝓦</a> <a id="5530" href="Universes.html#403" class="Function Operator">̇</a> <a id="5532" class="Symbol">}</a> <a id="5534" class="Symbol">→</a> <a id="5536" class="Symbol">(</a><a id="5537" href="Prelude.Inverses.html#5513" class="Bound">X</a> <a id="5539" class="Symbol">→</a> <a id="5541" href="Prelude.Inverses.html#5524" class="Bound">Y</a><a id="5542" class="Symbol">)</a> <a id="5544" class="Symbol">→</a> <a id="5546" href="Prelude.Inverses.html#5473" class="Bound">𝓤</a> <a id="5548" href="Agda.Primitive.html#636" class="Primitive Operator">⊔</a> <a id="5550" href="Prelude.Inverses.html#5475" class="Bound">𝓦</a> <a id="5552" href="Universes.html#403" class="Function Operator">̇</a>
 <a id="5555" href="Prelude.Inverses.html#5497" class="Function">is-embedding</a> <a id="5568" href="Prelude.Inverses.html#5568" class="Bound">f</a> <a id="5570" class="Symbol">=</a> <a id="5572" class="Symbol">(</a><a id="5573" href="Prelude.Inverses.html#5573" class="Bound">y</a> <a id="5575" class="Symbol">:</a> <a id="5577" href="MGS-MLTT.html#4021" class="Function">codomain</a> <a id="5586" href="Prelude.Inverses.html#5568" class="Bound">f</a><a id="5587" class="Symbol">)</a> <a id="5589" class="Symbol">→</a> <a id="5591" href="MGS-Basic-UF.html#743" class="Function">is-subsingleton</a> <a id="5607" class="Symbol">(</a><a id="5608" href="MGS-Equivalences.html#501" class="Function">fiber</a> <a id="5614" href="Prelude.Inverses.html#5568" class="Bound">f</a> <a id="5616" href="Prelude.Inverses.html#5573" class="Bound">y</a><a id="5617" class="Symbol">)</a>

</pre>

This is a natural way to represent what we usually mean in mathematics by embedding.  Observe that an embedding does not simply correspond to an injective map.  However, if we assume that the codomain `B` has unique identity proofs (i.e., is a set), then we can prove that a monic function into `B` is an embedding. We will do so in the [Relations.Truncation][] module when we take up the topic of sets in some detail.

Of course, invertible maps are embeddings.

<pre class="Agda">

<a id="6110" class="Keyword">open</a> <a id="6115" class="Keyword">import</a> <a id="6122" href="MGS-Embeddings.html" class="Module">MGS-Embeddings</a> <a id="6137" class="Keyword">using</a> <a id="6143" class="Symbol">(</a><a id="6144" href="MGS-Embeddings.html#384" class="Function">is-embedding</a><a id="6156" class="Symbol">)</a> <a id="6158" class="Keyword">public</a>

<a id="invertibles-are-embeddings"></a><a id="6166" href="Prelude.Inverses.html#6166" class="Function">invertibles-are-embeddings</a> <a id="6193" class="Symbol">:</a> <a id="6195" class="Symbol">{</a><a id="6196" href="Prelude.Inverses.html#6196" class="Bound">𝓧</a> <a id="6198" href="Prelude.Inverses.html#6198" class="Bound">𝓨</a> <a id="6200" class="Symbol">:</a> <a id="6202" href="Universes.html#205" class="Postulate">Universe</a><a id="6210" class="Symbol">}</a>
                             <a id="6241" class="Symbol">{</a><a id="6242" href="Prelude.Inverses.html#6242" class="Bound">X</a> <a id="6244" class="Symbol">:</a> <a id="6246" href="Prelude.Inverses.html#6196" class="Bound">𝓧</a> <a id="6248" href="Universes.html#403" class="Function Operator">̇</a><a id="6249" class="Symbol">}</a> <a id="6251" class="Symbol">{</a><a id="6252" href="Prelude.Inverses.html#6252" class="Bound">Y</a> <a id="6254" class="Symbol">:</a> <a id="6256" href="Prelude.Inverses.html#6198" class="Bound">𝓨</a> <a id="6258" href="Universes.html#403" class="Function Operator">̇</a><a id="6259" class="Symbol">}</a> <a id="6261" class="Symbol">(</a><a id="6262" href="Prelude.Inverses.html#6262" class="Bound">f</a> <a id="6264" class="Symbol">:</a> <a id="6266" href="Prelude.Inverses.html#6242" class="Bound">X</a> <a id="6268" class="Symbol">→</a> <a id="6270" href="Prelude.Inverses.html#6252" class="Bound">Y</a><a id="6271" class="Symbol">)</a>
 <a id="6274" class="Symbol">→</a>                           <a id="6302" href="MGS-Equivalences.html#370" class="Function">invertible</a> <a id="6313" href="Prelude.Inverses.html#6262" class="Bound">f</a> <a id="6315" class="Symbol">→</a> <a id="6317" href="MGS-Embeddings.html#384" class="Function">is-embedding</a> <a id="6330" href="Prelude.Inverses.html#6262" class="Bound">f</a>

<a id="6333" href="Prelude.Inverses.html#6166" class="Function">invertibles-are-embeddings</a> <a id="6360" href="Prelude.Inverses.html#6360" class="Bound">f</a> <a id="6362" href="Prelude.Inverses.html#6362" class="Bound">fi</a> <a id="6365" class="Symbol">=</a> <a id="6367" href="MGS-Embeddings.html#1410" class="Function">equivs-are-embeddings</a> <a id="6389" href="Prelude.Inverses.html#6360" class="Bound">f</a> <a id="6391" class="Symbol">(</a><a id="6392" href="MGS-Equivalences.html#2127" class="Function">invertibles-are-equivs</a> <a id="6415" href="Prelude.Inverses.html#6360" class="Bound">f</a> <a id="6417" href="Prelude.Inverses.html#6362" class="Bound">fi</a><a id="6419" class="Symbol">)</a>

</pre>

Finally, if we have a proof `p : is-embedding f` that the map `f` is an embedding, here's a tool that can make it easier to apply `p`.  We will use the `fiber` type of the [Type Topology][] library, which is defined as follows.



<pre class="Agda">

<a id="6679" class="Keyword">open</a> <a id="6684" class="Keyword">import</a> <a id="6691" href="MGS-Subsingleton-Truncation.html" class="Module">MGS-Subsingleton-Truncation</a> <a id="6719" class="Keyword">using</a> <a id="6725" class="Symbol">(</a><a id="6726" href="MGS-Equivalences.html#501" class="Function">fiber</a><a id="6731" class="Symbol">)</a> <a id="6733" class="Keyword">public</a>

<a id="embedding-elim"></a><a id="6741" href="Prelude.Inverses.html#6741" class="Function">embedding-elim</a> <a id="6756" class="Symbol">:</a> <a id="6758" class="Symbol">{</a><a id="6759" href="Prelude.Inverses.html#6759" class="Bound">𝓧</a> <a id="6761" href="Prelude.Inverses.html#6761" class="Bound">𝓨</a> <a id="6763" class="Symbol">:</a> <a id="6765" href="Universes.html#205" class="Postulate">Universe</a><a id="6773" class="Symbol">}{</a><a id="6775" href="Prelude.Inverses.html#6775" class="Bound">X</a> <a id="6777" class="Symbol">:</a> <a id="6779" href="Prelude.Inverses.html#6759" class="Bound">𝓧</a> <a id="6781" href="Universes.html#403" class="Function Operator">̇</a><a id="6782" class="Symbol">}</a> <a id="6784" class="Symbol">{</a><a id="6785" href="Prelude.Inverses.html#6785" class="Bound">Y</a> <a id="6787" class="Symbol">:</a> <a id="6789" href="Prelude.Inverses.html#6761" class="Bound">𝓨</a> <a id="6791" href="Universes.html#403" class="Function Operator">̇</a><a id="6792" class="Symbol">}</a>
                 <a id="6811" class="Symbol">(</a><a id="6812" href="Prelude.Inverses.html#6812" class="Bound">f</a> <a id="6814" class="Symbol">:</a> <a id="6816" href="Prelude.Inverses.html#6775" class="Bound">X</a> <a id="6818" class="Symbol">→</a> <a id="6820" href="Prelude.Inverses.html#6785" class="Bound">Y</a><a id="6821" class="Symbol">)</a> <a id="6823" class="Symbol">→</a> <a id="6825" href="MGS-Embeddings.html#384" class="Function">is-embedding</a> <a id="6838" href="Prelude.Inverses.html#6812" class="Bound">f</a>
 <a id="6841" class="Symbol">→</a>               <a id="6857" class="Symbol">∀</a> <a id="6859" href="Prelude.Inverses.html#6859" class="Bound">x</a> <a id="6861" href="Prelude.Inverses.html#6861" class="Bound">x&#39;</a> <a id="6864" class="Symbol">→</a> <a id="6866" href="Prelude.Inverses.html#6812" class="Bound">f</a> <a id="6868" href="Prelude.Inverses.html#6859" class="Bound">x</a> <a id="6870" href="Prelude.Equality.html#1610" class="Datatype Operator">≡</a> <a id="6872" href="Prelude.Inverses.html#6812" class="Bound">f</a> <a id="6874" href="Prelude.Inverses.html#6861" class="Bound">x&#39;</a> <a id="6877" class="Symbol">→</a> <a id="6879" href="Prelude.Inverses.html#6859" class="Bound">x</a> <a id="6881" href="Prelude.Equality.html#1610" class="Datatype Operator">≡</a> <a id="6883" href="Prelude.Inverses.html#6861" class="Bound">x&#39;</a>

<a id="6887" href="Prelude.Inverses.html#6741" class="Function">embedding-elim</a> <a id="6902" href="Prelude.Inverses.html#6902" class="Bound">f</a> <a id="6904" href="Prelude.Inverses.html#6904" class="Bound">femb</a> <a id="6909" href="Prelude.Inverses.html#6909" class="Bound">x</a> <a id="6911" href="Prelude.Inverses.html#6911" class="Bound">x&#39;</a> <a id="6914" href="Prelude.Inverses.html#6914" class="Bound">fxfx&#39;</a> <a id="6920" class="Symbol">=</a> <a id="6922" href="MGS-MLTT.html#6613" class="Function">ap</a> <a id="6925" href="MGS-MLTT.html#2942" class="Function">pr₁</a> <a id="6929" class="Symbol">((</a><a id="6931" href="Prelude.Inverses.html#6904" class="Bound">femb</a> <a id="6936" class="Symbol">(</a><a id="6937" href="Prelude.Inverses.html#6902" class="Bound">f</a> <a id="6939" href="Prelude.Inverses.html#6909" class="Bound">x</a><a id="6940" class="Symbol">))</a> <a id="6943" href="Prelude.Inverses.html#6959" class="Function">fa</a> <a id="6946" href="Prelude.Inverses.html#6997" class="Function">fb</a><a id="6948" class="Symbol">)</a>
 <a id="6951" class="Keyword">where</a>
  <a id="6959" href="Prelude.Inverses.html#6959" class="Function">fa</a> <a id="6962" class="Symbol">:</a> <a id="6964" href="MGS-Equivalences.html#501" class="Function">fiber</a> <a id="6970" href="Prelude.Inverses.html#6902" class="Bound">f</a> <a id="6972" class="Symbol">(</a><a id="6973" href="Prelude.Inverses.html#6902" class="Bound">f</a> <a id="6975" href="Prelude.Inverses.html#6909" class="Bound">x</a><a id="6976" class="Symbol">)</a>
  <a id="6980" href="Prelude.Inverses.html#6959" class="Function">fa</a> <a id="6983" class="Symbol">=</a> <a id="6985" href="Prelude.Inverses.html#6909" class="Bound">x</a> <a id="6987" href="MGS-MLTT.html#2929" class="InductiveConstructor Operator">,</a> <a id="6989" href="Prelude.Equality.html#1624" class="InductiveConstructor">𝓇ℯ𝒻𝓁</a>

  <a id="6997" href="Prelude.Inverses.html#6997" class="Function">fb</a> <a id="7000" class="Symbol">:</a> <a id="7002" href="MGS-Equivalences.html#501" class="Function">fiber</a> <a id="7008" href="Prelude.Inverses.html#6902" class="Bound">f</a> <a id="7010" class="Symbol">(</a><a id="7011" href="Prelude.Inverses.html#6902" class="Bound">f</a> <a id="7013" href="Prelude.Inverses.html#6909" class="Bound">x</a><a id="7014" class="Symbol">)</a>
  <a id="7018" href="Prelude.Inverses.html#6997" class="Function">fb</a> <a id="7021" class="Symbol">=</a> <a id="7023" href="Prelude.Inverses.html#6911" class="Bound">x&#39;</a> <a id="7026" href="MGS-MLTT.html#2929" class="InductiveConstructor Operator">,</a> <a id="7028" class="Symbol">(</a><a id="7029" href="Prelude.Inverses.html#6914" class="Bound">fxfx&#39;</a> <a id="7035" href="MGS-MLTT.html#6125" class="Function Operator">⁻¹</a><a id="7037" class="Symbol">)</a>

</pre>


-------------------------------------

<sup>1</sup><span class="footnote" id="fn1">Whenever we wish to hide some code from the rest of the development, we will enclose it in a module called `hidden.` In this case, we don't want the code inside the `hidden` module to conflict with the original definitions of these functions from Escardo's Type Topology library, which we will import later.  As long as we don't invoke `open hidden`, the code inside the `hidden` model remains essentially hidden (for the purposes of resolving conflicts, though Agda *will* type-check the code).</span>


-----------------------------------

[← Prelude.Extensionality](Prelude.Extensionality.html)
<span style="float:right;">[Prelude.Lifts →](Prelude.Lifts.html)</span>





{% include UALib.Links.md %}












<!-- Unused stuff ------------

#### <a id="neutral-elements">Neutral elements</a>

The next three lemmas appeared in the `UF-Base` and `UF-Equiv` modules which were (at one time) part of Matin Escsardo's UF Agda repository.


refl-left-neutral : {𝓧 : Universe} {X : 𝓧 ̇ } {x y : X} (p : x ≡ y) → (refl _) ∙ p ≡ p
refl-left-neutral (refl _) = refl _

refl-right-neutral : {𝓧 : Universe}{X : 𝓧 ̇ } {x y : X} (p : x ≡ y) → p ≡ p ∙ (refl _)
refl-right-neutral p = refl _

identifications-in-fibers : {𝓧 𝓨 : Universe} {X : 𝓧 ̇ } {Y : 𝓨 ̇ } (f : X → Y)
                            (y : Y) (x x' : X) (p : f x ≡ y) (p' : f x' ≡ y)
 →                          (Σ γ ꞉ x ≡ x' , ap f γ ∙ p' ≡ p) → (x , p) ≡ (x' , p')
identifications-in-fibers f .(f x) x .x 𝓇ℯ𝒻𝓁 p' (𝓇ℯ𝒻𝓁 , r) = g
 where
  g : x , 𝓇ℯ𝒻𝓁 ≡ x , p'
  g = ap (λ - → (x , -)) (r ⁻¹ ∙ refl-left-neutral _)

-->
