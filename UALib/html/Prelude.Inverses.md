---
layout: default
title : UALib.Prelude.Inverses module (Agda Universal Algebra Library)
date : 2021-01-12
author: William DeMeo
---

### <a id="inverses">Inverses</a>

This is the [UALib.Prelude.Inverses][] module of the [Agda Universal Algebra Library][].

<pre class="Agda">

<a id="276" class="Symbol">{-#</a> <a id="280" class="Keyword">OPTIONS</a> <a id="288" class="Pragma">--without-K</a> <a id="300" class="Pragma">--exact-split</a> <a id="314" class="Pragma">--safe</a> <a id="321" class="Symbol">#-}</a>

<a id="326" class="Keyword">module</a> <a id="333" href="Prelude.Inverses.html" class="Module">Prelude.Inverses</a> <a id="350" class="Keyword">where</a>

<a id="357" class="Keyword">open</a> <a id="362" class="Keyword">import</a> <a id="369" href="Prelude.Extensionality.html" class="Module">Prelude.Extensionality</a> <a id="392" class="Keyword">public</a>

<a id="400" class="Keyword">open</a> <a id="405" class="Keyword">import</a> <a id="412" href="MGS-Embeddings.html" class="Module">MGS-Embeddings</a>
 <a id="428" class="Keyword">using</a> <a id="434" class="Symbol">(</a><a id="435" href="MGS-Embeddings.html#1410" class="Function">equivs-are-embeddings</a><a id="456" class="Symbol">;</a> <a id="458" href="MGS-Equivalences.html#370" class="Function">invertible</a><a id="468" class="Symbol">;</a> <a id="470" href="MGS-Equivalences.html#2127" class="Function">invertibles-are-equivs</a><a id="492" class="Symbol">)</a> <a id="494" class="Keyword">public</a>

</pre>

We begin by defining an inductive type that represents the semantic concept of *inverse image* of a function.

<pre class="Agda">

<a id="639" class="Keyword">module</a> <a id="646" href="Prelude.Inverses.html#646" class="Module">_</a> <a id="648" class="Symbol">{</a><a id="649" href="Prelude.Inverses.html#649" class="Bound">𝓤</a> <a id="651" href="Prelude.Inverses.html#651" class="Bound">𝓦</a> <a id="653" class="Symbol">:</a> <a id="655" href="Agda.Primitive.html#423" class="Postulate">Universe</a><a id="663" class="Symbol">}</a> <a id="665" class="Keyword">where</a>

 <a id="673" class="Keyword">data</a> <a id="678" href="Prelude.Inverses.html#678" class="Datatype Operator">Image_∋_</a> <a id="687" class="Symbol">{</a><a id="688" href="Prelude.Inverses.html#688" class="Bound">A</a> <a id="690" class="Symbol">:</a> <a id="692" href="Prelude.Inverses.html#649" class="Bound">𝓤</a> <a id="694" href="Universes.html#403" class="Function Operator">̇</a> <a id="696" class="Symbol">}{</a><a id="698" href="Prelude.Inverses.html#698" class="Bound">B</a> <a id="700" class="Symbol">:</a> <a id="702" href="Prelude.Inverses.html#651" class="Bound">𝓦</a> <a id="704" href="Universes.html#403" class="Function Operator">̇</a> <a id="706" class="Symbol">}(</a><a id="708" href="Prelude.Inverses.html#708" class="Bound">f</a> <a id="710" class="Symbol">:</a> <a id="712" href="Prelude.Inverses.html#688" class="Bound">A</a> <a id="714" class="Symbol">→</a> <a id="716" href="Prelude.Inverses.html#698" class="Bound">B</a><a id="717" class="Symbol">)</a> <a id="719" class="Symbol">:</a> <a id="721" href="Prelude.Inverses.html#698" class="Bound">B</a> <a id="723" class="Symbol">→</a> <a id="725" href="Prelude.Inverses.html#649" class="Bound">𝓤</a> <a id="727" href="Agda.Primitive.html#636" class="Primitive Operator">⊔</a> <a id="729" href="Prelude.Inverses.html#651" class="Bound">𝓦</a> <a id="731" href="Universes.html#403" class="Function Operator">̇</a>
  <a id="735" class="Keyword">where</a>
  <a id="743" href="Prelude.Inverses.html#743" class="InductiveConstructor">im</a> <a id="746" class="Symbol">:</a> <a id="748" class="Symbol">(</a><a id="749" href="Prelude.Inverses.html#749" class="Bound">x</a> <a id="751" class="Symbol">:</a> <a id="753" href="Prelude.Inverses.html#688" class="Bound">A</a><a id="754" class="Symbol">)</a> <a id="756" class="Symbol">→</a> <a id="758" href="Prelude.Inverses.html#678" class="Datatype Operator">Image</a> <a id="764" href="Prelude.Inverses.html#708" class="Bound">f</a> <a id="766" href="Prelude.Inverses.html#678" class="Datatype Operator">∋</a> <a id="768" href="Prelude.Inverses.html#708" class="Bound">f</a> <a id="770" href="Prelude.Inverses.html#749" class="Bound">x</a>
  <a id="774" href="Prelude.Inverses.html#774" class="InductiveConstructor">eq</a> <a id="777" class="Symbol">:</a> <a id="779" class="Symbol">(</a><a id="780" href="Prelude.Inverses.html#780" class="Bound">b</a> <a id="782" class="Symbol">:</a> <a id="784" href="Prelude.Inverses.html#698" class="Bound">B</a><a id="785" class="Symbol">)</a> <a id="787" class="Symbol">→</a> <a id="789" class="Symbol">(</a><a id="790" href="Prelude.Inverses.html#790" class="Bound">a</a> <a id="792" class="Symbol">:</a> <a id="794" href="Prelude.Inverses.html#688" class="Bound">A</a><a id="795" class="Symbol">)</a> <a id="797" class="Symbol">→</a> <a id="799" href="Prelude.Inverses.html#780" class="Bound">b</a> <a id="801" href="Prelude.Equality.html#2570" class="Datatype Operator">≡</a> <a id="803" href="Prelude.Inverses.html#708" class="Bound">f</a> <a id="805" href="Prelude.Inverses.html#790" class="Bound">a</a> <a id="807" class="Symbol">→</a> <a id="809" href="Prelude.Inverses.html#678" class="Datatype Operator">Image</a> <a id="815" href="Prelude.Inverses.html#708" class="Bound">f</a> <a id="817" href="Prelude.Inverses.html#678" class="Datatype Operator">∋</a> <a id="819" href="Prelude.Inverses.html#780" class="Bound">b</a>


<a id="823" class="Keyword">module</a> <a id="830" href="Prelude.Inverses.html#830" class="Module">_</a> <a id="832" class="Symbol">{</a><a id="833" href="Prelude.Inverses.html#833" class="Bound">𝓤</a> <a id="835" href="Prelude.Inverses.html#835" class="Bound">𝓦</a> <a id="837" class="Symbol">:</a> <a id="839" href="Agda.Primitive.html#423" class="Postulate">Universe</a><a id="847" class="Symbol">}{</a><a id="849" href="Prelude.Inverses.html#849" class="Bound">A</a> <a id="851" class="Symbol">:</a> <a id="853" href="Prelude.Inverses.html#833" class="Bound">𝓤</a> <a id="855" href="Universes.html#403" class="Function Operator">̇</a><a id="856" class="Symbol">}{</a><a id="858" href="Prelude.Inverses.html#858" class="Bound">B</a> <a id="860" class="Symbol">:</a> <a id="862" href="Prelude.Inverses.html#835" class="Bound">𝓦</a> <a id="864" href="Universes.html#403" class="Function Operator">̇</a><a id="865" class="Symbol">}</a> <a id="867" class="Keyword">where</a>
</pre>

Next we verify that the type just defined is what we expect.

<pre class="Agda">

 <a id="962" href="Prelude.Inverses.html#962" class="Function">ImageIsImage</a> <a id="975" class="Symbol">:</a> <a id="977" class="Symbol">(</a><a id="978" href="Prelude.Inverses.html#978" class="Bound">f</a> <a id="980" class="Symbol">:</a> <a id="982" href="Prelude.Inverses.html#849" class="Bound">A</a> <a id="984" class="Symbol">→</a> <a id="986" href="Prelude.Inverses.html#858" class="Bound">B</a><a id="987" class="Symbol">)(</a><a id="989" href="Prelude.Inverses.html#989" class="Bound">b</a> <a id="991" class="Symbol">:</a> <a id="993" href="Prelude.Inverses.html#858" class="Bound">B</a><a id="994" class="Symbol">)(</a><a id="996" href="Prelude.Inverses.html#996" class="Bound">a</a> <a id="998" class="Symbol">:</a> <a id="1000" href="Prelude.Inverses.html#849" class="Bound">A</a><a id="1001" class="Symbol">)</a> <a id="1003" class="Symbol">→</a> <a id="1005" href="Prelude.Inverses.html#989" class="Bound">b</a> <a id="1007" href="Prelude.Equality.html#2570" class="Datatype Operator">≡</a> <a id="1009" href="Prelude.Inverses.html#978" class="Bound">f</a> <a id="1011" href="Prelude.Inverses.html#996" class="Bound">a</a> <a id="1013" class="Symbol">→</a> <a id="1015" href="Prelude.Inverses.html#678" class="Datatype Operator">Image</a> <a id="1021" href="Prelude.Inverses.html#978" class="Bound">f</a> <a id="1023" href="Prelude.Inverses.html#678" class="Datatype Operator">∋</a> <a id="1025" href="Prelude.Inverses.html#989" class="Bound">b</a>
 <a id="1028" href="Prelude.Inverses.html#962" class="Function">ImageIsImage</a> <a id="1041" href="Prelude.Inverses.html#1041" class="Bound">f</a> <a id="1043" href="Prelude.Inverses.html#1043" class="Bound">b</a> <a id="1045" href="Prelude.Inverses.html#1045" class="Bound">a</a> <a id="1047" href="Prelude.Inverses.html#1047" class="Bound">b≡fa</a> <a id="1052" class="Symbol">=</a> <a id="1054" href="Prelude.Inverses.html#774" class="InductiveConstructor">eq</a> <a id="1057" href="Prelude.Inverses.html#1043" class="Bound">b</a> <a id="1059" href="Prelude.Inverses.html#1045" class="Bound">a</a> <a id="1061" href="Prelude.Inverses.html#1047" class="Bound">b≡fa</a>

</pre>

An inhabitant of `Image f ∋ b` is a dependent pair `(a , p)`, where `a : A` and `p : b ≡ f a` is a proof that `f` maps `a` to `b`.  Since the proof that `b` belongs to the image of `f` is always accompanied by a "witness" `a : A`, we can actually *compute* a (pseudo)inverse of `f`. For convenience, we define this inverse function, which we call `Inv`, and which takes an arbitrary `b : B` and a (*witness*, *proof*)-pair, `(a , p) : Image f ∋ b`, and returns the witness `a`.

<pre class="Agda">

 <a id="1573" href="Prelude.Inverses.html#1573" class="Function">Inv</a> <a id="1577" class="Symbol">:</a> <a id="1579" class="Symbol">(</a><a id="1580" href="Prelude.Inverses.html#1580" class="Bound">f</a> <a id="1582" class="Symbol">:</a> <a id="1584" href="Prelude.Inverses.html#849" class="Bound">A</a> <a id="1586" class="Symbol">→</a> <a id="1588" href="Prelude.Inverses.html#858" class="Bound">B</a><a id="1589" class="Symbol">){</a><a id="1591" href="Prelude.Inverses.html#1591" class="Bound">b</a> <a id="1593" class="Symbol">:</a> <a id="1595" href="Prelude.Inverses.html#858" class="Bound">B</a><a id="1596" class="Symbol">}</a> <a id="1598" class="Symbol">→</a> <a id="1600" href="Prelude.Inverses.html#678" class="Datatype Operator">Image</a> <a id="1606" href="Prelude.Inverses.html#1580" class="Bound">f</a> <a id="1608" href="Prelude.Inverses.html#678" class="Datatype Operator">∋</a> <a id="1610" href="Prelude.Inverses.html#1591" class="Bound">b</a>  <a id="1613" class="Symbol">→</a>  <a id="1616" href="Prelude.Inverses.html#849" class="Bound">A</a>
 <a id="1619" href="Prelude.Inverses.html#1573" class="Function">Inv</a> <a id="1623" href="Prelude.Inverses.html#1623" class="Bound">f</a> <a id="1625" class="Symbol">{</a><a id="1626" class="DottedPattern Symbol">.(</a><a id="1628" href="Prelude.Inverses.html#1623" class="DottedPattern Bound">f</a> <a id="1630" href="Prelude.Inverses.html#1638" class="DottedPattern Bound">a</a><a id="1631" class="DottedPattern Symbol">)</a><a id="1632" class="Symbol">}</a> <a id="1634" class="Symbol">(</a><a id="1635" href="Prelude.Inverses.html#743" class="InductiveConstructor">im</a> <a id="1638" href="Prelude.Inverses.html#1638" class="Bound">a</a><a id="1639" class="Symbol">)</a> <a id="1641" class="Symbol">=</a> <a id="1643" href="Prelude.Inverses.html#1638" class="Bound">a</a>
 <a id="1646" href="Prelude.Inverses.html#1573" class="Function">Inv</a> <a id="1650" href="Prelude.Inverses.html#1650" class="Bound">f</a> <a id="1652" class="Symbol">(</a><a id="1653" href="Prelude.Inverses.html#774" class="InductiveConstructor">eq</a> <a id="1656" class="Symbol">_</a> <a id="1658" href="Prelude.Inverses.html#1658" class="Bound">a</a> <a id="1660" class="Symbol">_)</a> <a id="1663" class="Symbol">=</a> <a id="1665" href="Prelude.Inverses.html#1658" class="Bound">a</a>

</pre>

We can prove that `Inv f` is the *right-inverse* of `f`, as follows.

<pre class="Agda">

 <a id="1765" href="Prelude.Inverses.html#1765" class="Function">InvIsInv</a> <a id="1774" class="Symbol">:</a> <a id="1776" class="Symbol">(</a><a id="1777" href="Prelude.Inverses.html#1777" class="Bound">f</a> <a id="1779" class="Symbol">:</a> <a id="1781" href="Prelude.Inverses.html#849" class="Bound">A</a> <a id="1783" class="Symbol">→</a> <a id="1785" href="Prelude.Inverses.html#858" class="Bound">B</a><a id="1786" class="Symbol">){</a><a id="1788" href="Prelude.Inverses.html#1788" class="Bound">b</a> <a id="1790" class="Symbol">:</a> <a id="1792" href="Prelude.Inverses.html#858" class="Bound">B</a><a id="1793" class="Symbol">}(</a><a id="1795" href="Prelude.Inverses.html#1795" class="Bound">q</a> <a id="1797" class="Symbol">:</a> <a id="1799" href="Prelude.Inverses.html#678" class="Datatype Operator">Image</a> <a id="1805" href="Prelude.Inverses.html#1777" class="Bound">f</a> <a id="1807" href="Prelude.Inverses.html#678" class="Datatype Operator">∋</a> <a id="1809" href="Prelude.Inverses.html#1788" class="Bound">b</a><a id="1810" class="Symbol">)</a> <a id="1812" class="Symbol">→</a> <a id="1814" href="Prelude.Inverses.html#1777" class="Bound">f</a><a id="1815" class="Symbol">(</a><a id="1816" href="Prelude.Inverses.html#1573" class="Function">Inv</a> <a id="1820" href="Prelude.Inverses.html#1777" class="Bound">f</a> <a id="1822" href="Prelude.Inverses.html#1795" class="Bound">q</a><a id="1823" class="Symbol">)</a> <a id="1825" href="Prelude.Equality.html#2570" class="Datatype Operator">≡</a> <a id="1827" href="Prelude.Inverses.html#1788" class="Bound">b</a>
 <a id="1830" href="Prelude.Inverses.html#1765" class="Function">InvIsInv</a> <a id="1839" href="Prelude.Inverses.html#1839" class="Bound">f</a> <a id="1841" class="Symbol">{</a><a id="1842" class="DottedPattern Symbol">.(</a><a id="1844" href="Prelude.Inverses.html#1839" class="DottedPattern Bound">f</a> <a id="1846" href="Prelude.Inverses.html#1854" class="DottedPattern Bound">a</a><a id="1847" class="DottedPattern Symbol">)</a><a id="1848" class="Symbol">}</a> <a id="1850" class="Symbol">(</a><a id="1851" href="Prelude.Inverses.html#743" class="InductiveConstructor">im</a> <a id="1854" href="Prelude.Inverses.html#1854" class="Bound">a</a><a id="1855" class="Symbol">)</a> <a id="1857" class="Symbol">=</a> <a id="1859" href="Identity-Type.html#162" class="InductiveConstructor">refl</a>
 <a id="1865" href="Prelude.Inverses.html#1765" class="Function">InvIsInv</a> <a id="1874" href="Prelude.Inverses.html#1874" class="Bound">f</a> <a id="1876" class="Symbol">(</a><a id="1877" href="Prelude.Inverses.html#774" class="InductiveConstructor">eq</a> <a id="1880" class="Symbol">_</a> <a id="1882" class="Symbol">_</a> <a id="1884" href="Prelude.Inverses.html#1884" class="Bound">p</a><a id="1885" class="Symbol">)</a> <a id="1887" class="Symbol">=</a> <a id="1889" href="Prelude.Inverses.html#1884" class="Bound">p</a> <a id="1891" href="MGS-MLTT.html#6125" class="Function Operator">⁻¹</a>

</pre>





#### <a id="epics">Epics (surjective functions)</a>

An epic (or surjective) function from type `A : 𝓤 ̇` to type `B : 𝓦 ̇` is as an inhabitant of the `Epic` type, which we define as follows.

<pre class="Agda">

 <a id="2119" href="Prelude.Inverses.html#2119" class="Function">Epic</a> <a id="2124" class="Symbol">:</a> <a id="2126" class="Symbol">(</a><a id="2127" href="Prelude.Inverses.html#2127" class="Bound">g</a> <a id="2129" class="Symbol">:</a> <a id="2131" href="Prelude.Inverses.html#849" class="Bound">A</a> <a id="2133" class="Symbol">→</a> <a id="2135" href="Prelude.Inverses.html#858" class="Bound">B</a><a id="2136" class="Symbol">)</a> <a id="2138" class="Symbol">→</a>  <a id="2141" href="Prelude.Inverses.html#833" class="Bound">𝓤</a> <a id="2143" href="Agda.Primitive.html#636" class="Primitive Operator">⊔</a> <a id="2145" href="Prelude.Inverses.html#835" class="Bound">𝓦</a> <a id="2147" href="Universes.html#403" class="Function Operator">̇</a>
 <a id="2150" href="Prelude.Inverses.html#2119" class="Function">Epic</a> <a id="2155" href="Prelude.Inverses.html#2155" class="Bound">g</a> <a id="2157" class="Symbol">=</a> <a id="2159" class="Symbol">∀</a> <a id="2161" href="Prelude.Inverses.html#2161" class="Bound">y</a> <a id="2163" class="Symbol">→</a> <a id="2165" href="Prelude.Inverses.html#678" class="Datatype Operator">Image</a> <a id="2171" href="Prelude.Inverses.html#2155" class="Bound">g</a> <a id="2173" href="Prelude.Inverses.html#678" class="Datatype Operator">∋</a> <a id="2175" href="Prelude.Inverses.html#2161" class="Bound">y</a>

</pre>

We obtain the right-inverse (or pseudoinverse) of an epic function `f` by applying the function `EpicInv` (which we now define) to the function `f` along with a proof, `fE : Epic f`, that `f` is surjective.

<pre class="Agda">

 <a id="2413" href="Prelude.Inverses.html#2413" class="Function">EpicInv</a> <a id="2421" class="Symbol">:</a> <a id="2423" class="Symbol">(</a><a id="2424" href="Prelude.Inverses.html#2424" class="Bound">f</a> <a id="2426" class="Symbol">:</a> <a id="2428" href="Prelude.Inverses.html#849" class="Bound">A</a> <a id="2430" class="Symbol">→</a> <a id="2432" href="Prelude.Inverses.html#858" class="Bound">B</a><a id="2433" class="Symbol">)</a> <a id="2435" class="Symbol">→</a> <a id="2437" href="Prelude.Inverses.html#2119" class="Function">Epic</a> <a id="2442" href="Prelude.Inverses.html#2424" class="Bound">f</a> <a id="2444" class="Symbol">→</a> <a id="2446" href="Prelude.Inverses.html#858" class="Bound">B</a> <a id="2448" class="Symbol">→</a> <a id="2450" href="Prelude.Inverses.html#849" class="Bound">A</a>
 <a id="2453" href="Prelude.Inverses.html#2413" class="Function">EpicInv</a> <a id="2461" href="Prelude.Inverses.html#2461" class="Bound">f</a> <a id="2463" href="Prelude.Inverses.html#2463" class="Bound">fE</a> <a id="2466" href="Prelude.Inverses.html#2466" class="Bound">b</a> <a id="2468" class="Symbol">=</a> <a id="2470" href="Prelude.Inverses.html#1573" class="Function">Inv</a> <a id="2474" href="Prelude.Inverses.html#2461" class="Bound">f</a> <a id="2476" class="Symbol">(</a><a id="2477" href="Prelude.Inverses.html#2463" class="Bound">fE</a> <a id="2480" href="Prelude.Inverses.html#2466" class="Bound">b</a><a id="2481" class="Symbol">)</a>

</pre>

The function defined by `EpicInv f fE` is indeed the right-inverse of `f`. To state this, we'll use the function composition operation, `∘`, which is already defined in the [Type Topology][] library as follows.

<pre class="Agda">

<a id="2722" class="Keyword">module</a> <a id="hide-∘"></a><a id="2729" href="Prelude.Inverses.html#2729" class="Module">hide-∘</a> <a id="2736" class="Symbol">{</a><a id="2737" href="Prelude.Inverses.html#2737" class="Bound">𝓤</a> <a id="2739" href="Prelude.Inverses.html#2739" class="Bound">𝓦</a> <a id="2741" class="Symbol">:</a> <a id="2743" href="Agda.Primitive.html#423" class="Postulate">Universe</a><a id="2751" class="Symbol">}{</a><a id="2753" href="Prelude.Inverses.html#2753" class="Bound">A</a> <a id="2755" class="Symbol">:</a> <a id="2757" href="Prelude.Inverses.html#2737" class="Bound">𝓤</a> <a id="2759" href="Universes.html#403" class="Function Operator">̇</a><a id="2760" class="Symbol">}{</a><a id="2762" href="Prelude.Inverses.html#2762" class="Bound">B</a> <a id="2764" class="Symbol">:</a> <a id="2766" href="Prelude.Inverses.html#2739" class="Bound">𝓦</a> <a id="2768" href="Universes.html#403" class="Function Operator">̇</a><a id="2769" class="Symbol">}</a> <a id="2771" class="Keyword">where</a>

 <a id="hide-∘._∘_"></a><a id="2779" href="Prelude.Inverses.html#2779" class="Function Operator">_∘_</a> <a id="2783" class="Symbol">:</a> <a id="2785" class="Symbol">{</a><a id="2786" href="Prelude.Inverses.html#2786" class="Bound">C</a> <a id="2788" class="Symbol">:</a> <a id="2790" href="Prelude.Inverses.html#2762" class="Bound">B</a> <a id="2792" class="Symbol">→</a> <a id="2794" href="Prelude.Inverses.html#2739" class="Bound">𝓦</a> <a id="2796" href="Universes.html#403" class="Function Operator">̇</a> <a id="2798" class="Symbol">}</a> <a id="2800" class="Symbol">→</a> <a id="2802" href="MGS-MLTT.html#3562" class="Function">Π</a> <a id="2804" href="Prelude.Inverses.html#2786" class="Bound">C</a> <a id="2806" class="Symbol">→</a> <a id="2808" class="Symbol">(</a><a id="2809" href="Prelude.Inverses.html#2809" class="Bound">f</a> <a id="2811" class="Symbol">:</a> <a id="2813" href="Prelude.Inverses.html#2753" class="Bound">A</a> <a id="2815" class="Symbol">→</a> <a id="2817" href="Prelude.Inverses.html#2762" class="Bound">B</a><a id="2818" class="Symbol">)</a> <a id="2820" class="Symbol">→</a> <a id="2822" class="Symbol">(</a><a id="2823" href="Prelude.Inverses.html#2823" class="Bound">x</a> <a id="2825" class="Symbol">:</a> <a id="2827" href="Prelude.Inverses.html#2753" class="Bound">A</a><a id="2828" class="Symbol">)</a> <a id="2830" class="Symbol">→</a> <a id="2832" href="Prelude.Inverses.html#2786" class="Bound">C</a> <a id="2834" class="Symbol">(</a><a id="2835" href="Prelude.Inverses.html#2809" class="Bound">f</a> <a id="2837" href="Prelude.Inverses.html#2823" class="Bound">x</a><a id="2838" class="Symbol">)</a>
 <a id="2841" href="Prelude.Inverses.html#2841" class="Bound">g</a> <a id="2843" href="Prelude.Inverses.html#2779" class="Function Operator">∘</a> <a id="2845" href="Prelude.Inverses.html#2845" class="Bound">f</a> <a id="2847" class="Symbol">=</a> <a id="2849" class="Symbol">λ</a> <a id="2851" href="Prelude.Inverses.html#2851" class="Bound">x</a> <a id="2853" class="Symbol">→</a> <a id="2855" href="Prelude.Inverses.html#2841" class="Bound">g</a> <a id="2857" class="Symbol">(</a><a id="2858" href="Prelude.Inverses.html#2845" class="Bound">f</a> <a id="2860" href="Prelude.Inverses.html#2851" class="Bound">x</a><a id="2861" class="Symbol">)</a>

<a id="2864" class="Keyword">open</a> <a id="2869" class="Keyword">import</a> <a id="2876" href="MGS-MLTT.html" class="Module">MGS-MLTT</a> <a id="2885" class="Keyword">using</a> <a id="2891" class="Symbol">(</a><a id="2892" href="MGS-MLTT.html#3813" class="Function Operator">_∘_</a><a id="2895" class="Symbol">)</a> <a id="2897" class="Keyword">public</a>


<a id="2906" class="Keyword">module</a> <a id="2913" href="Prelude.Inverses.html#2913" class="Module">_</a> <a id="2915" class="Symbol">{</a><a id="2916" href="Prelude.Inverses.html#2916" class="Bound">𝓤</a> <a id="2918" href="Prelude.Inverses.html#2918" class="Bound">𝓦</a> <a id="2920" class="Symbol">:</a> <a id="2922" href="Agda.Primitive.html#423" class="Postulate">Universe</a><a id="2930" class="Symbol">}{</a><a id="2932" href="Prelude.Inverses.html#2932" class="Bound">fe</a> <a id="2935" class="Symbol">:</a> <a id="2937" href="MGS-FunExt-from-Univalence.html#393" class="Function">funext</a> <a id="2944" href="Prelude.Inverses.html#2918" class="Bound">𝓦</a> <a id="2946" href="Prelude.Inverses.html#2918" class="Bound">𝓦</a><a id="2947" class="Symbol">}{</a><a id="2949" href="Prelude.Inverses.html#2949" class="Bound">A</a> <a id="2951" class="Symbol">:</a> <a id="2953" href="Prelude.Inverses.html#2916" class="Bound">𝓤</a> <a id="2955" href="Universes.html#403" class="Function Operator">̇</a><a id="2956" class="Symbol">}{</a><a id="2958" href="Prelude.Inverses.html#2958" class="Bound">B</a> <a id="2960" class="Symbol">:</a> <a id="2962" href="Prelude.Inverses.html#2918" class="Bound">𝓦</a> <a id="2964" href="Universes.html#403" class="Function Operator">̇</a><a id="2965" class="Symbol">}</a> <a id="2967" class="Keyword">where</a>

 <a id="2975" href="Prelude.Inverses.html#2975" class="Function">EpicInvIsRightInv</a> <a id="2993" class="Symbol">:</a> <a id="2995" class="Symbol">(</a><a id="2996" href="Prelude.Inverses.html#2996" class="Bound">f</a> <a id="2998" class="Symbol">:</a> <a id="3000" href="Prelude.Inverses.html#2949" class="Bound">A</a> <a id="3002" class="Symbol">→</a> <a id="3004" href="Prelude.Inverses.html#2958" class="Bound">B</a><a id="3005" class="Symbol">)(</a><a id="3007" href="Prelude.Inverses.html#3007" class="Bound">fE</a> <a id="3010" class="Symbol">:</a> <a id="3012" href="Prelude.Inverses.html#2119" class="Function">Epic</a> <a id="3017" href="Prelude.Inverses.html#2996" class="Bound">f</a><a id="3018" class="Symbol">)</a> <a id="3020" class="Symbol">→</a> <a id="3022" href="Prelude.Inverses.html#2996" class="Bound">f</a> <a id="3024" href="MGS-MLTT.html#3813" class="Function Operator">∘</a> <a id="3026" class="Symbol">(</a><a id="3027" href="Prelude.Inverses.html#2413" class="Function">EpicInv</a> <a id="3035" href="Prelude.Inverses.html#2996" class="Bound">f</a> <a id="3037" href="Prelude.Inverses.html#3007" class="Bound">fE</a><a id="3039" class="Symbol">)</a> <a id="3041" href="Prelude.Equality.html#2570" class="Datatype Operator">≡</a> <a id="3043" href="MGS-MLTT.html#3778" class="Function">𝑖𝑑</a> <a id="3046" href="Prelude.Inverses.html#2958" class="Bound">B</a>
 <a id="3049" href="Prelude.Inverses.html#2975" class="Function">EpicInvIsRightInv</a> <a id="3067" href="Prelude.Inverses.html#3067" class="Bound">f</a> <a id="3069" href="Prelude.Inverses.html#3069" class="Bound">fE</a> <a id="3072" class="Symbol">=</a> <a id="3074" href="Prelude.Inverses.html#2932" class="Bound">fe</a> <a id="3077" class="Symbol">(λ</a> <a id="3080" href="Prelude.Inverses.html#3080" class="Bound">x</a> <a id="3082" class="Symbol">→</a> <a id="3084" href="Prelude.Inverses.html#1765" class="Function">InvIsInv</a> <a id="3093" href="Prelude.Inverses.html#3067" class="Bound">f</a> <a id="3095" class="Symbol">(</a><a id="3096" href="Prelude.Inverses.html#3069" class="Bound">fE</a> <a id="3099" href="Prelude.Inverses.html#3080" class="Bound">x</a><a id="3100" class="Symbol">))</a>

</pre>





#### <a id="monics">Monics (injective functions)</a>

We say that a function `g : A → B` is *monic* (or *injective* or *one-to-one*) if it doesn't map distinct elements to a common point. This property is formalized quite naturally using the `Monic` type, which we now define.

<pre class="Agda">

<a id="3412" class="Keyword">module</a> <a id="3419" href="Prelude.Inverses.html#3419" class="Module">_</a> <a id="3421" class="Symbol">{</a><a id="3422" href="Prelude.Inverses.html#3422" class="Bound">𝓤</a> <a id="3424" href="Prelude.Inverses.html#3424" class="Bound">𝓦</a> <a id="3426" class="Symbol">:</a> <a id="3428" href="Agda.Primitive.html#423" class="Postulate">Universe</a><a id="3436" class="Symbol">}{</a><a id="3438" href="Prelude.Inverses.html#3438" class="Bound">A</a> <a id="3440" class="Symbol">:</a> <a id="3442" href="Prelude.Inverses.html#3422" class="Bound">𝓤</a> <a id="3444" href="Universes.html#403" class="Function Operator">̇</a><a id="3445" class="Symbol">}{</a><a id="3447" href="Prelude.Inverses.html#3447" class="Bound">B</a> <a id="3449" class="Symbol">:</a> <a id="3451" href="Prelude.Inverses.html#3424" class="Bound">𝓦</a> <a id="3453" href="Universes.html#403" class="Function Operator">̇</a><a id="3454" class="Symbol">}</a> <a id="3456" class="Keyword">where</a>

 <a id="3464" href="Prelude.Inverses.html#3464" class="Function">Monic</a> <a id="3470" class="Symbol">:</a> <a id="3472" class="Symbol">(</a><a id="3473" href="Prelude.Inverses.html#3473" class="Bound">g</a> <a id="3475" class="Symbol">:</a> <a id="3477" href="Prelude.Inverses.html#3438" class="Bound">A</a> <a id="3479" class="Symbol">→</a> <a id="3481" href="Prelude.Inverses.html#3447" class="Bound">B</a><a id="3482" class="Symbol">)</a> <a id="3484" class="Symbol">→</a> <a id="3486" href="Prelude.Inverses.html#3422" class="Bound">𝓤</a> <a id="3488" href="Agda.Primitive.html#636" class="Primitive Operator">⊔</a> <a id="3490" href="Prelude.Inverses.html#3424" class="Bound">𝓦</a> <a id="3492" href="Universes.html#403" class="Function Operator">̇</a>
 <a id="3495" href="Prelude.Inverses.html#3464" class="Function">Monic</a> <a id="3501" href="Prelude.Inverses.html#3501" class="Bound">g</a> <a id="3503" class="Symbol">=</a> <a id="3505" class="Symbol">∀</a> <a id="3507" href="Prelude.Inverses.html#3507" class="Bound">a₁</a> <a id="3510" href="Prelude.Inverses.html#3510" class="Bound">a₂</a> <a id="3513" class="Symbol">→</a> <a id="3515" href="Prelude.Inverses.html#3501" class="Bound">g</a> <a id="3517" href="Prelude.Inverses.html#3507" class="Bound">a₁</a> <a id="3520" href="Prelude.Equality.html#2570" class="Datatype Operator">≡</a> <a id="3522" href="Prelude.Inverses.html#3501" class="Bound">g</a> <a id="3524" href="Prelude.Inverses.html#3510" class="Bound">a₂</a> <a id="3527" class="Symbol">→</a> <a id="3529" href="Prelude.Inverses.html#3507" class="Bound">a₁</a> <a id="3532" href="Prelude.Equality.html#2570" class="Datatype Operator">≡</a> <a id="3534" href="Prelude.Inverses.html#3510" class="Bound">a₂</a>

</pre>

Again, we obtain a pseudoinverse. Here it is obtained by applying the function `MonicInv` to `g` and a proof that `g` is monic.

<pre class="Agda">

 <a id="3694" href="Prelude.Inverses.html#3694" class="Function">MonicInv</a> <a id="3703" class="Symbol">:</a> <a id="3705" class="Symbol">(</a><a id="3706" href="Prelude.Inverses.html#3706" class="Bound">f</a> <a id="3708" class="Symbol">:</a> <a id="3710" href="Prelude.Inverses.html#3438" class="Bound">A</a> <a id="3712" class="Symbol">→</a> <a id="3714" href="Prelude.Inverses.html#3447" class="Bound">B</a><a id="3715" class="Symbol">)</a> <a id="3717" class="Symbol">→</a> <a id="3719" href="Prelude.Inverses.html#3464" class="Function">Monic</a> <a id="3725" href="Prelude.Inverses.html#3706" class="Bound">f</a> <a id="3727" class="Symbol">→</a> <a id="3729" class="Symbol">(</a><a id="3730" href="Prelude.Inverses.html#3730" class="Bound">b</a> <a id="3732" class="Symbol">:</a> <a id="3734" href="Prelude.Inverses.html#3447" class="Bound">B</a><a id="3735" class="Symbol">)</a> <a id="3737" class="Symbol">→</a> <a id="3739" href="Prelude.Inverses.html#678" class="Datatype Operator">Image</a> <a id="3745" href="Prelude.Inverses.html#3706" class="Bound">f</a> <a id="3747" href="Prelude.Inverses.html#678" class="Datatype Operator">∋</a> <a id="3749" href="Prelude.Inverses.html#3730" class="Bound">b</a> <a id="3751" class="Symbol">→</a> <a id="3753" href="Prelude.Inverses.html#3438" class="Bound">A</a>
 <a id="3756" href="Prelude.Inverses.html#3694" class="Function">MonicInv</a> <a id="3765" href="Prelude.Inverses.html#3765" class="Bound">f</a> <a id="3767" class="Symbol">_</a> <a id="3769" class="Symbol">=</a> <a id="3771" class="Symbol">λ</a> <a id="3773" href="Prelude.Inverses.html#3773" class="Bound">b</a> <a id="3775" href="Prelude.Inverses.html#3775" class="Bound">Imf∋b</a> <a id="3781" class="Symbol">→</a> <a id="3783" href="Prelude.Inverses.html#1573" class="Function">Inv</a> <a id="3787" href="Prelude.Inverses.html#3765" class="Bound">f</a> <a id="3789" href="Prelude.Inverses.html#3775" class="Bound">Imf∋b</a>

</pre>

The function defined by `MonicInv f fM` is the left-inverse of `f`.

<pre class="Agda">

 <a id="3892" href="Prelude.Inverses.html#3892" class="Function">MonicInvIsLeftInv</a> <a id="3910" class="Symbol">:</a> <a id="3912" class="Symbol">{</a><a id="3913" href="Prelude.Inverses.html#3913" class="Bound">f</a> <a id="3915" class="Symbol">:</a> <a id="3917" href="Prelude.Inverses.html#3438" class="Bound">A</a> <a id="3919" class="Symbol">→</a> <a id="3921" href="Prelude.Inverses.html#3447" class="Bound">B</a><a id="3922" class="Symbol">}{</a><a id="3924" href="Prelude.Inverses.html#3924" class="Bound">fM</a> <a id="3927" class="Symbol">:</a> <a id="3929" href="Prelude.Inverses.html#3464" class="Function">Monic</a> <a id="3935" href="Prelude.Inverses.html#3913" class="Bound">f</a><a id="3936" class="Symbol">}{</a><a id="3938" href="Prelude.Inverses.html#3938" class="Bound">x</a> <a id="3940" class="Symbol">:</a> <a id="3942" href="Prelude.Inverses.html#3438" class="Bound">A</a><a id="3943" class="Symbol">}</a>
   <a id="3948" class="Symbol">→</a>                 <a id="3966" class="Symbol">(</a><a id="3967" href="Prelude.Inverses.html#3694" class="Function">MonicInv</a> <a id="3976" href="Prelude.Inverses.html#3913" class="Bound">f</a> <a id="3978" href="Prelude.Inverses.html#3924" class="Bound">fM</a><a id="3980" class="Symbol">)(</a><a id="3982" href="Prelude.Inverses.html#3913" class="Bound">f</a> <a id="3984" href="Prelude.Inverses.html#3938" class="Bound">x</a><a id="3985" class="Symbol">)(</a><a id="3987" href="Prelude.Inverses.html#743" class="InductiveConstructor">im</a> <a id="3990" href="Prelude.Inverses.html#3938" class="Bound">x</a><a id="3991" class="Symbol">)</a> <a id="3993" href="Prelude.Equality.html#2570" class="Datatype Operator">≡</a> <a id="3995" href="Prelude.Inverses.html#3938" class="Bound">x</a>
 <a id="3998" href="Prelude.Inverses.html#3892" class="Function">MonicInvIsLeftInv</a> <a id="4016" class="Symbol">=</a> <a id="4018" href="Identity-Type.html#162" class="InductiveConstructor">refl</a>

</pre>



##### <a id="composition-law">A composition law for epics</a>

<pre class="Agda">

<a id="4115" class="Keyword">module</a> <a id="4122" href="Prelude.Inverses.html#4122" class="Module">_</a> <a id="4124" class="Symbol">{</a><a id="4125" href="Prelude.Inverses.html#4125" class="Bound">𝓧</a> <a id="4127" href="Prelude.Inverses.html#4127" class="Bound">𝓨</a> <a id="4129" href="Prelude.Inverses.html#4129" class="Bound">𝓩</a> <a id="4131" class="Symbol">:</a> <a id="4133" href="Agda.Primitive.html#423" class="Postulate">Universe</a><a id="4141" class="Symbol">}{</a><a id="4143" href="Prelude.Inverses.html#4143" class="Bound">fe</a> <a id="4146" class="Symbol">:</a> <a id="4148" href="MGS-FunExt-from-Univalence.html#393" class="Function">funext</a> <a id="4155" href="Prelude.Inverses.html#4127" class="Bound">𝓨</a> <a id="4157" href="Prelude.Inverses.html#4127" class="Bound">𝓨</a><a id="4158" class="Symbol">}{</a><a id="4160" href="Prelude.Inverses.html#4160" class="Bound">A</a> <a id="4162" class="Symbol">:</a> <a id="4164" href="Prelude.Inverses.html#4125" class="Bound">𝓧</a> <a id="4166" href="Universes.html#403" class="Function Operator">̇</a><a id="4167" class="Symbol">}{</a><a id="4169" href="Prelude.Inverses.html#4169" class="Bound">B</a> <a id="4171" class="Symbol">:</a> <a id="4173" href="Prelude.Inverses.html#4127" class="Bound">𝓨</a> <a id="4175" href="Universes.html#403" class="Function Operator">̇</a><a id="4176" class="Symbol">}{</a><a id="4178" href="Prelude.Inverses.html#4178" class="Bound">C</a> <a id="4180" class="Symbol">:</a> <a id="4182" href="Prelude.Inverses.html#4129" class="Bound">𝓩</a> <a id="4184" href="Universes.html#403" class="Function Operator">̇</a><a id="4185" class="Symbol">}</a> <a id="4187" class="Keyword">where</a>

 <a id="4195" href="Prelude.Inverses.html#4195" class="Function">epic-factor</a> <a id="4207" class="Symbol">:</a> <a id="4209" class="Symbol">(</a><a id="4210" href="Prelude.Inverses.html#4210" class="Bound">β</a> <a id="4212" class="Symbol">:</a> <a id="4214" href="Prelude.Inverses.html#4160" class="Bound">A</a> <a id="4216" class="Symbol">→</a> <a id="4218" href="Prelude.Inverses.html#4169" class="Bound">B</a><a id="4219" class="Symbol">)(</a><a id="4221" href="Prelude.Inverses.html#4221" class="Bound">ξ</a> <a id="4223" class="Symbol">:</a> <a id="4225" href="Prelude.Inverses.html#4160" class="Bound">A</a> <a id="4227" class="Symbol">→</a> <a id="4229" href="Prelude.Inverses.html#4178" class="Bound">C</a><a id="4230" class="Symbol">)(</a><a id="4232" href="Prelude.Inverses.html#4232" class="Bound">ϕ</a> <a id="4234" class="Symbol">:</a> <a id="4236" href="Prelude.Inverses.html#4178" class="Bound">C</a> <a id="4238" class="Symbol">→</a> <a id="4240" href="Prelude.Inverses.html#4169" class="Bound">B</a><a id="4241" class="Symbol">)</a> <a id="4243" class="Symbol">→</a> <a id="4245" href="Prelude.Inverses.html#4210" class="Bound">β</a> <a id="4247" href="Prelude.Equality.html#2570" class="Datatype Operator">≡</a> <a id="4249" href="Prelude.Inverses.html#4232" class="Bound">ϕ</a> <a id="4251" href="MGS-MLTT.html#3813" class="Function Operator">∘</a> <a id="4253" href="Prelude.Inverses.html#4221" class="Bound">ξ</a> <a id="4255" class="Symbol">→</a>  <a id="4258" href="Prelude.Inverses.html#2119" class="Function">Epic</a> <a id="4263" href="Prelude.Inverses.html#4210" class="Bound">β</a> <a id="4265" class="Symbol">→</a> <a id="4267" href="Prelude.Inverses.html#2119" class="Function">Epic</a> <a id="4272" href="Prelude.Inverses.html#4232" class="Bound">ϕ</a>

 <a id="4276" href="Prelude.Inverses.html#4195" class="Function">epic-factor</a> <a id="4288" href="Prelude.Inverses.html#4288" class="Bound">β</a> <a id="4290" href="Prelude.Inverses.html#4290" class="Bound">ξ</a> <a id="4292" href="Prelude.Inverses.html#4292" class="Bound">ϕ</a> <a id="4294" href="Prelude.Inverses.html#4294" class="Bound">compId</a> <a id="4301" href="Prelude.Inverses.html#4301" class="Bound">βe</a> <a id="4304" href="Prelude.Inverses.html#4304" class="Bound">y</a> <a id="4306" class="Symbol">=</a> <a id="4308" href="Prelude.Inverses.html#4508" class="Function">γ</a>
  <a id="4312" class="Keyword">where</a>
   <a id="4321" href="Prelude.Inverses.html#4321" class="Function">βinv</a> <a id="4326" class="Symbol">:</a> <a id="4328" href="Prelude.Inverses.html#4169" class="Bound">B</a> <a id="4330" class="Symbol">→</a> <a id="4332" href="Prelude.Inverses.html#4160" class="Bound">A</a>
   <a id="4337" href="Prelude.Inverses.html#4321" class="Function">βinv</a> <a id="4342" class="Symbol">=</a> <a id="4344" href="Prelude.Inverses.html#2413" class="Function">EpicInv</a> <a id="4352" href="Prelude.Inverses.html#4288" class="Bound">β</a> <a id="4354" href="Prelude.Inverses.html#4301" class="Bound">βe</a>

   <a id="4361" href="Prelude.Inverses.html#4361" class="Function">ζ</a> <a id="4363" class="Symbol">:</a> <a id="4365" href="Prelude.Inverses.html#4288" class="Bound">β</a> <a id="4367" class="Symbol">(</a><a id="4368" href="Prelude.Inverses.html#4321" class="Function">βinv</a> <a id="4373" href="Prelude.Inverses.html#4304" class="Bound">y</a><a id="4374" class="Symbol">)</a> <a id="4376" href="Prelude.Equality.html#2570" class="Datatype Operator">≡</a> <a id="4378" href="Prelude.Inverses.html#4304" class="Bound">y</a>
   <a id="4383" href="Prelude.Inverses.html#4361" class="Function">ζ</a> <a id="4385" class="Symbol">=</a> <a id="4387" href="Prelude.Equality.html#6465" class="Function">cong-app</a> <a id="4396" class="Symbol">(</a><a id="4397" href="Prelude.Inverses.html#2975" class="Function">EpicInvIsRightInv</a> <a id="4415" class="Symbol">{</a><a id="4416" class="Argument">fe</a> <a id="4419" class="Symbol">=</a> <a id="4421" href="Prelude.Inverses.html#4143" class="Bound">fe</a><a id="4423" class="Symbol">}</a> <a id="4425" href="Prelude.Inverses.html#4288" class="Bound">β</a> <a id="4427" href="Prelude.Inverses.html#4301" class="Bound">βe</a><a id="4429" class="Symbol">)</a> <a id="4431" href="Prelude.Inverses.html#4304" class="Bound">y</a>

   <a id="4437" href="Prelude.Inverses.html#4437" class="Function">η</a> <a id="4439" class="Symbol">:</a> <a id="4441" class="Symbol">(</a><a id="4442" href="Prelude.Inverses.html#4292" class="Bound">ϕ</a> <a id="4444" href="MGS-MLTT.html#3813" class="Function Operator">∘</a> <a id="4446" href="Prelude.Inverses.html#4290" class="Bound">ξ</a><a id="4447" class="Symbol">)</a> <a id="4449" class="Symbol">(</a><a id="4450" href="Prelude.Inverses.html#4321" class="Function">βinv</a> <a id="4455" href="Prelude.Inverses.html#4304" class="Bound">y</a><a id="4456" class="Symbol">)</a> <a id="4458" href="Prelude.Equality.html#2570" class="Datatype Operator">≡</a> <a id="4460" href="Prelude.Inverses.html#4304" class="Bound">y</a>
   <a id="4465" href="Prelude.Inverses.html#4437" class="Function">η</a> <a id="4467" class="Symbol">=</a> <a id="4469" class="Symbol">(</a><a id="4470" href="Prelude.Equality.html#6465" class="Function">cong-app</a> <a id="4479" class="Symbol">(</a><a id="4480" href="Prelude.Inverses.html#4294" class="Bound">compId</a> <a id="4487" href="MGS-MLTT.html#6125" class="Function Operator">⁻¹</a><a id="4489" class="Symbol">)(</a><a id="4491" href="Prelude.Inverses.html#4321" class="Function">βinv</a> <a id="4496" href="Prelude.Inverses.html#4304" class="Bound">y</a><a id="4497" class="Symbol">))</a> <a id="4500" href="MGS-MLTT.html#5910" class="Function Operator">∙</a> <a id="4502" href="Prelude.Inverses.html#4361" class="Function">ζ</a>

   <a id="4508" href="Prelude.Inverses.html#4508" class="Function">γ</a> <a id="4510" class="Symbol">:</a> <a id="4512" href="Prelude.Inverses.html#678" class="Datatype Operator">Image</a> <a id="4518" href="Prelude.Inverses.html#4292" class="Bound">ϕ</a> <a id="4520" href="Prelude.Inverses.html#678" class="Datatype Operator">∋</a> <a id="4522" href="Prelude.Inverses.html#4304" class="Bound">y</a>
   <a id="4527" href="Prelude.Inverses.html#4508" class="Function">γ</a> <a id="4529" class="Symbol">=</a> <a id="4531" href="Prelude.Inverses.html#774" class="InductiveConstructor">eq</a> <a id="4534" href="Prelude.Inverses.html#4304" class="Bound">y</a> <a id="4536" class="Symbol">(</a><a id="4537" href="Prelude.Inverses.html#4290" class="Bound">ξ</a> <a id="4539" class="Symbol">(</a><a id="4540" href="Prelude.Inverses.html#4321" class="Function">βinv</a> <a id="4545" href="Prelude.Inverses.html#4304" class="Bound">y</a><a id="4546" class="Symbol">))</a> <a id="4549" class="Symbol">(</a><a id="4550" href="Prelude.Inverses.html#4437" class="Function">η</a> <a id="4552" href="MGS-MLTT.html#6125" class="Function Operator">⁻¹</a><a id="4554" class="Symbol">)</a>

</pre>





#### <a id="embeddings">Embeddings</a>

The `is-embedding` type is defined in the [Type Topology][] library in the following way.

<pre class="Agda">
<a id="4717" class="Keyword">module</a> <a id="hide-is-embedding"></a><a id="4724" href="Prelude.Inverses.html#4724" class="Module">hide-is-embedding</a> <a id="4742" class="Symbol">{</a><a id="4743" href="Prelude.Inverses.html#4743" class="Bound">𝓤</a> <a id="4745" href="Prelude.Inverses.html#4745" class="Bound">𝓦</a> <a id="4747" class="Symbol">:</a> <a id="4749" href="Agda.Primitive.html#423" class="Postulate">Universe</a><a id="4757" class="Symbol">}{</a><a id="4759" href="Prelude.Inverses.html#4759" class="Bound">A</a> <a id="4761" class="Symbol">:</a> <a id="4763" href="Prelude.Inverses.html#4743" class="Bound">𝓤</a> <a id="4765" href="Universes.html#403" class="Function Operator">̇</a><a id="4766" class="Symbol">}{</a><a id="4768" href="Prelude.Inverses.html#4768" class="Bound">B</a> <a id="4770" class="Symbol">:</a> <a id="4772" href="Prelude.Inverses.html#4745" class="Bound">𝓦</a> <a id="4774" href="Universes.html#403" class="Function Operator">̇</a><a id="4775" class="Symbol">}</a> <a id="4777" class="Keyword">where</a>

 <a id="hide-is-embedding.is-embedding"></a><a id="4785" href="Prelude.Inverses.html#4785" class="Function">is-embedding</a> <a id="4798" class="Symbol">:</a> <a id="4800" class="Symbol">(</a><a id="4801" href="Prelude.Inverses.html#4759" class="Bound">A</a> <a id="4803" class="Symbol">→</a> <a id="4805" href="Prelude.Inverses.html#4768" class="Bound">B</a><a id="4806" class="Symbol">)</a> <a id="4808" class="Symbol">→</a> <a id="4810" href="Prelude.Inverses.html#4743" class="Bound">𝓤</a> <a id="4812" href="Agda.Primitive.html#636" class="Primitive Operator">⊔</a> <a id="4814" href="Prelude.Inverses.html#4745" class="Bound">𝓦</a> <a id="4816" href="Universes.html#403" class="Function Operator">̇</a>
 <a id="4819" href="Prelude.Inverses.html#4785" class="Function">is-embedding</a> <a id="4832" href="Prelude.Inverses.html#4832" class="Bound">f</a> <a id="4834" class="Symbol">=</a> <a id="4836" class="Symbol">∀</a> <a id="4838" href="Prelude.Inverses.html#4838" class="Bound">b</a> <a id="4840" class="Symbol">→</a> <a id="4842" href="MGS-Basic-UF.html#743" class="Function">is-subsingleton</a> <a id="4858" class="Symbol">(</a><a id="4859" href="MGS-Equivalences.html#501" class="Function">fiber</a> <a id="4865" href="Prelude.Inverses.html#4832" class="Bound">f</a> <a id="4867" href="Prelude.Inverses.html#4838" class="Bound">b</a><a id="4868" class="Symbol">)</a>

<a id="4871" class="Keyword">open</a> <a id="4876" class="Keyword">import</a> <a id="4883" href="MGS-Embeddings.html" class="Module">MGS-Embeddings</a> <a id="4898" class="Keyword">using</a> <a id="4904" class="Symbol">(</a><a id="4905" href="MGS-Embeddings.html#384" class="Function">is-embedding</a><a id="4917" class="Symbol">)</a> <a id="4919" class="Keyword">public</a>

</pre>

Thus, `is-embedding f` asserts that `f` is a function all of whose fibers are subsingletons. This is a natural way to represent what we usually mean in mathematics by embedding.  Observe that an embedding does not simply correspond to an injective map.  However, if we assume that the codomain `B` has unique identity proofs (i.e., is a set), then we can prove that a monic function into `B` is an embedding. We will do so in the [Relations.Truncation][] module when we take up the topic of sets in some detail.

Finding a proof that a function is an embedding isn't always easy, but one path that is often straightforward is to first prove that the function is invertible and then invoke the following theorem.

<pre class="Agda">

<a id="5666" class="Keyword">module</a> <a id="5673" href="Prelude.Inverses.html#5673" class="Module">_</a> <a id="5675" class="Symbol">{</a><a id="5676" href="Prelude.Inverses.html#5676" class="Bound">𝓤</a> <a id="5678" href="Prelude.Inverses.html#5678" class="Bound">𝓦</a> <a id="5680" class="Symbol">:</a> <a id="5682" href="Agda.Primitive.html#423" class="Postulate">Universe</a><a id="5690" class="Symbol">}{</a><a id="5692" href="Prelude.Inverses.html#5692" class="Bound">A</a> <a id="5694" class="Symbol">:</a> <a id="5696" href="Prelude.Inverses.html#5676" class="Bound">𝓤</a> <a id="5698" href="Universes.html#403" class="Function Operator">̇</a><a id="5699" class="Symbol">}{</a><a id="5701" href="Prelude.Inverses.html#5701" class="Bound">B</a> <a id="5703" class="Symbol">:</a> <a id="5705" href="Prelude.Inverses.html#5678" class="Bound">𝓦</a> <a id="5707" href="Universes.html#403" class="Function Operator">̇</a><a id="5708" class="Symbol">}</a> <a id="5710" class="Keyword">where</a>

 <a id="5718" href="Prelude.Inverses.html#5718" class="Function">invertibles-are-embeddings</a> <a id="5745" class="Symbol">:</a> <a id="5747" class="Symbol">(</a><a id="5748" href="Prelude.Inverses.html#5748" class="Bound">f</a> <a id="5750" class="Symbol">:</a> <a id="5752" href="Prelude.Inverses.html#5692" class="Bound">A</a> <a id="5754" class="Symbol">→</a> <a id="5756" href="Prelude.Inverses.html#5701" class="Bound">B</a><a id="5757" class="Symbol">)</a> <a id="5759" class="Symbol">→</a> <a id="5761" href="MGS-Equivalences.html#370" class="Function">invertible</a> <a id="5772" href="Prelude.Inverses.html#5748" class="Bound">f</a> <a id="5774" class="Symbol">→</a> <a id="5776" href="MGS-Embeddings.html#384" class="Function">is-embedding</a> <a id="5789" href="Prelude.Inverses.html#5748" class="Bound">f</a>
 <a id="5792" href="Prelude.Inverses.html#5718" class="Function">invertibles-are-embeddings</a> <a id="5819" href="Prelude.Inverses.html#5819" class="Bound">f</a> <a id="5821" href="Prelude.Inverses.html#5821" class="Bound">fi</a> <a id="5824" class="Symbol">=</a> <a id="5826" href="MGS-Embeddings.html#1410" class="Function">equivs-are-embeddings</a> <a id="5848" href="Prelude.Inverses.html#5819" class="Bound">f</a> <a id="5850" class="Symbol">(</a><a id="5851" href="MGS-Equivalences.html#2127" class="Function">invertibles-are-equivs</a> <a id="5874" href="Prelude.Inverses.html#5819" class="Bound">f</a> <a id="5876" href="Prelude.Inverses.html#5821" class="Bound">fi</a><a id="5878" class="Symbol">)</a>

</pre>

Finally, embeddings are monic; from a proof `p : is-embedding f` that `f` is an embedding we can construct a proof of `Monic f`.  We confirm this as follows.

<pre class="Agda">

 <a id="6067" href="Prelude.Inverses.html#6067" class="Function">embedding-is-monic</a> <a id="6086" class="Symbol">:</a> <a id="6088" class="Symbol">(</a><a id="6089" href="Prelude.Inverses.html#6089" class="Bound">f</a> <a id="6091" class="Symbol">:</a> <a id="6093" href="Prelude.Inverses.html#5692" class="Bound">A</a> <a id="6095" class="Symbol">→</a> <a id="6097" href="Prelude.Inverses.html#5701" class="Bound">B</a><a id="6098" class="Symbol">)</a> <a id="6100" class="Symbol">→</a> <a id="6102" href="MGS-Embeddings.html#384" class="Function">is-embedding</a> <a id="6115" href="Prelude.Inverses.html#6089" class="Bound">f</a> <a id="6117" class="Symbol">→</a> <a id="6119" href="Prelude.Inverses.html#3464" class="Function">Monic</a> <a id="6125" href="Prelude.Inverses.html#6089" class="Bound">f</a>
 <a id="6128" href="Prelude.Inverses.html#6067" class="Function">embedding-is-monic</a> <a id="6147" href="Prelude.Inverses.html#6147" class="Bound">f</a> <a id="6149" href="Prelude.Inverses.html#6149" class="Bound">femb</a> <a id="6154" href="Prelude.Inverses.html#6154" class="Bound">x</a> <a id="6156" href="Prelude.Inverses.html#6156" class="Bound">y</a> <a id="6158" href="Prelude.Inverses.html#6158" class="Bound">fxfy</a> <a id="6163" class="Symbol">=</a> <a id="6165" href="MGS-MLTT.html#6613" class="Function">ap</a> <a id="6168" href="MGS-MLTT.html#2942" class="Function">pr₁</a> <a id="6172" class="Symbol">((</a><a id="6174" href="Prelude.Inverses.html#6149" class="Bound">femb</a> <a id="6179" class="Symbol">(</a><a id="6180" href="Prelude.Inverses.html#6147" class="Bound">f</a> <a id="6182" href="Prelude.Inverses.html#6154" class="Bound">x</a><a id="6183" class="Symbol">))</a> <a id="6186" href="Prelude.Inverses.html#6203" class="Function">fx</a> <a id="6189" href="Prelude.Inverses.html#6241" class="Function">fy</a><a id="6191" class="Symbol">)</a>
  <a id="6195" class="Keyword">where</a>
  <a id="6203" href="Prelude.Inverses.html#6203" class="Function">fx</a> <a id="6206" class="Symbol">:</a> <a id="6208" href="MGS-Equivalences.html#501" class="Function">fiber</a> <a id="6214" href="Prelude.Inverses.html#6147" class="Bound">f</a> <a id="6216" class="Symbol">(</a><a id="6217" href="Prelude.Inverses.html#6147" class="Bound">f</a> <a id="6219" href="Prelude.Inverses.html#6154" class="Bound">x</a><a id="6220" class="Symbol">)</a>
  <a id="6224" href="Prelude.Inverses.html#6203" class="Function">fx</a> <a id="6227" class="Symbol">=</a> <a id="6229" href="Prelude.Inverses.html#6154" class="Bound">x</a> <a id="6231" href="Prelude.Preliminaries.html#11707" class="InductiveConstructor Operator">,</a> <a id="6233" href="Identity-Type.html#162" class="InductiveConstructor">refl</a>

  <a id="6241" href="Prelude.Inverses.html#6241" class="Function">fy</a> <a id="6244" class="Symbol">:</a> <a id="6246" href="MGS-Equivalences.html#501" class="Function">fiber</a> <a id="6252" href="Prelude.Inverses.html#6147" class="Bound">f</a> <a id="6254" class="Symbol">(</a><a id="6255" href="Prelude.Inverses.html#6147" class="Bound">f</a> <a id="6257" href="Prelude.Inverses.html#6154" class="Bound">x</a><a id="6258" class="Symbol">)</a>
  <a id="6262" href="Prelude.Inverses.html#6241" class="Function">fy</a> <a id="6265" class="Symbol">=</a> <a id="6267" href="Prelude.Inverses.html#6156" class="Bound">y</a> <a id="6269" href="Prelude.Preliminaries.html#11707" class="InductiveConstructor Operator">,</a> <a id="6271" class="Symbol">(</a><a id="6272" href="Prelude.Inverses.html#6158" class="Bound">fxfy</a> <a id="6277" href="MGS-MLTT.html#6125" class="Function Operator">⁻¹</a><a id="6279" class="Symbol">)</a>

</pre>


-------------------------------------

<p></p>

[← Prelude.Extensionality](Prelude.Extensionality.html)
<span style="float:right;">[Prelude.Lifts →](Prelude.Lifts.html)</span>


{% include UALib.Links.md %}


<!-- 
This is the first point at which [truncation](UALib.Preface.html#truncation) comes into play.  An [embedding](https://www.cs.bham.ac.uk/~mhe/HoTT-UF-in-Agda-Lecture-Notes/HoTT-UF-Agda.html#embeddings) is defined in the [Type Topology][] library, using the `is-subsingleton` type [described earlier](Prelude.Extensionality.html#alternative-extensionality-type), as follows.
-->
