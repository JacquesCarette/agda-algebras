---
layout: default
title : UALib.Prelude.Inverses module (Agda Universal Algebra Library)
date : 2021-01-12
author: William DeMeo
---

### <a id="inverses">Inverses</a>

This is the [UALib.Prelude.Inverses][] module of the [Agda Universal Algebra Library][].

<pre class="Agda">

<a id="276" class="Symbol">{-#</a> <a id="280" class="Keyword">OPTIONS</a> <a id="288" class="Pragma">--without-K</a> <a id="300" class="Pragma">--exact-split</a> <a id="314" class="Pragma">--safe</a> <a id="321" class="Symbol">#-}</a>

<a id="326" class="Keyword">module</a> <a id="333" href="Prelude.Inverses.html" class="Module">Prelude.Inverses</a> <a id="350" class="Keyword">where</a>

<a id="357" class="Keyword">open</a> <a id="362" class="Keyword">import</a> <a id="369" href="Prelude.Extensionality.html" class="Module">Prelude.Extensionality</a> <a id="392" class="Keyword">public</a>

<a id="400" class="Keyword">open</a> <a id="405" class="Keyword">import</a> <a id="412" href="MGS-Embeddings.html" class="Module">MGS-Embeddings</a>
 <a id="428" class="Keyword">using</a> <a id="434" class="Symbol">(</a><a id="435" href="MGS-Embeddings.html#1410" class="Function">equivs-are-embeddings</a><a id="456" class="Symbol">;</a> <a id="458" href="MGS-Equivalences.html#370" class="Function">invertible</a><a id="468" class="Symbol">;</a> <a id="470" href="MGS-Equivalences.html#2127" class="Function">invertibles-are-equivs</a><a id="492" class="Symbol">)</a> <a id="494" class="Keyword">public</a>

</pre>

We begin by defining an inductive type that represents the semantic concept of *inverse image* of a function.

<pre class="Agda">

<a id="639" class="Keyword">module</a> <a id="646" href="Prelude.Inverses.html#646" class="Module">_</a> <a id="648" class="Symbol">{</a><a id="649" href="Prelude.Inverses.html#649" class="Bound">𝓤</a> <a id="651" href="Prelude.Inverses.html#651" class="Bound">𝓦</a> <a id="653" class="Symbol">:</a> <a id="655" href="Agda.Primitive.html#423" class="Postulate">Universe</a><a id="663" class="Symbol">}{</a><a id="665" href="Prelude.Inverses.html#665" class="Bound">A</a> <a id="667" class="Symbol">:</a> <a id="669" href="Prelude.Inverses.html#649" class="Bound">𝓤</a> <a id="671" href="Universes.html#403" class="Function Operator">̇</a> <a id="673" class="Symbol">}{</a><a id="675" href="Prelude.Inverses.html#675" class="Bound">B</a> <a id="677" class="Symbol">:</a> <a id="679" href="Prelude.Inverses.html#651" class="Bound">𝓦</a> <a id="681" href="Universes.html#403" class="Function Operator">̇</a> <a id="683" class="Symbol">}</a> <a id="685" class="Keyword">where</a>

 <a id="693" class="Keyword">data</a> <a id="698" href="Prelude.Inverses.html#698" class="Datatype Operator">Image_∋_</a> <a id="707" class="Symbol">(</a><a id="708" href="Prelude.Inverses.html#708" class="Bound">f</a> <a id="710" class="Symbol">:</a> <a id="712" href="Prelude.Inverses.html#665" class="Bound">A</a> <a id="714" class="Symbol">→</a> <a id="716" href="Prelude.Inverses.html#675" class="Bound">B</a><a id="717" class="Symbol">)</a> <a id="719" class="Symbol">:</a> <a id="721" href="Prelude.Inverses.html#675" class="Bound">B</a> <a id="723" class="Symbol">→</a> <a id="725" href="Prelude.Inverses.html#649" class="Bound">𝓤</a> <a id="727" href="Agda.Primitive.html#636" class="Primitive Operator">⊔</a> <a id="729" href="Prelude.Inverses.html#651" class="Bound">𝓦</a> <a id="731" href="Universes.html#403" class="Function Operator">̇</a>
  <a id="735" class="Keyword">where</a>
  <a id="743" href="Prelude.Inverses.html#743" class="InductiveConstructor">im</a> <a id="746" class="Symbol">:</a> <a id="748" class="Symbol">(</a><a id="749" href="Prelude.Inverses.html#749" class="Bound">x</a> <a id="751" class="Symbol">:</a> <a id="753" href="Prelude.Inverses.html#665" class="Bound">A</a><a id="754" class="Symbol">)</a> <a id="756" class="Symbol">→</a> <a id="758" href="Prelude.Inverses.html#698" class="Datatype Operator">Image</a> <a id="764" href="Prelude.Inverses.html#708" class="Bound">f</a> <a id="766" href="Prelude.Inverses.html#698" class="Datatype Operator">∋</a> <a id="768" href="Prelude.Inverses.html#708" class="Bound">f</a> <a id="770" href="Prelude.Inverses.html#749" class="Bound">x</a>
  <a id="774" href="Prelude.Inverses.html#774" class="InductiveConstructor">eq</a> <a id="777" class="Symbol">:</a> <a id="779" class="Symbol">(</a><a id="780" href="Prelude.Inverses.html#780" class="Bound">b</a> <a id="782" class="Symbol">:</a> <a id="784" href="Prelude.Inverses.html#675" class="Bound">B</a><a id="785" class="Symbol">)</a> <a id="787" class="Symbol">→</a> <a id="789" class="Symbol">(</a><a id="790" href="Prelude.Inverses.html#790" class="Bound">a</a> <a id="792" class="Symbol">:</a> <a id="794" href="Prelude.Inverses.html#665" class="Bound">A</a><a id="795" class="Symbol">)</a> <a id="797" class="Symbol">→</a> <a id="799" href="Prelude.Inverses.html#780" class="Bound">b</a> <a id="801" href="Prelude.Equality.html#2570" class="Datatype Operator">≡</a> <a id="803" href="Prelude.Inverses.html#708" class="Bound">f</a> <a id="805" href="Prelude.Inverses.html#790" class="Bound">a</a> <a id="807" class="Symbol">→</a> <a id="809" href="Prelude.Inverses.html#698" class="Datatype Operator">Image</a> <a id="815" href="Prelude.Inverses.html#708" class="Bound">f</a> <a id="817" href="Prelude.Inverses.html#698" class="Datatype Operator">∋</a> <a id="819" href="Prelude.Inverses.html#780" class="Bound">b</a>

</pre>

Next we verify that the type just defined is what we expect.

<pre class="Agda">

 <a id="911" href="Prelude.Inverses.html#911" class="Function">ImageIsImage</a> <a id="924" class="Symbol">:</a> <a id="926" class="Symbol">(</a><a id="927" href="Prelude.Inverses.html#927" class="Bound">f</a> <a id="929" class="Symbol">:</a> <a id="931" href="Prelude.Inverses.html#665" class="Bound">A</a> <a id="933" class="Symbol">→</a> <a id="935" href="Prelude.Inverses.html#675" class="Bound">B</a><a id="936" class="Symbol">)(</a><a id="938" href="Prelude.Inverses.html#938" class="Bound">b</a> <a id="940" class="Symbol">:</a> <a id="942" href="Prelude.Inverses.html#675" class="Bound">B</a><a id="943" class="Symbol">)(</a><a id="945" href="Prelude.Inverses.html#945" class="Bound">a</a> <a id="947" class="Symbol">:</a> <a id="949" href="Prelude.Inverses.html#665" class="Bound">A</a><a id="950" class="Symbol">)</a> <a id="952" class="Symbol">→</a> <a id="954" href="Prelude.Inverses.html#938" class="Bound">b</a> <a id="956" href="Prelude.Equality.html#2570" class="Datatype Operator">≡</a> <a id="958" href="Prelude.Inverses.html#927" class="Bound">f</a> <a id="960" href="Prelude.Inverses.html#945" class="Bound">a</a> <a id="962" class="Symbol">→</a> <a id="964" href="Prelude.Inverses.html#698" class="Datatype Operator">Image</a> <a id="970" href="Prelude.Inverses.html#927" class="Bound">f</a> <a id="972" href="Prelude.Inverses.html#698" class="Datatype Operator">∋</a> <a id="974" href="Prelude.Inverses.html#938" class="Bound">b</a>
 <a id="977" href="Prelude.Inverses.html#911" class="Function">ImageIsImage</a> <a id="990" href="Prelude.Inverses.html#990" class="Bound">f</a> <a id="992" href="Prelude.Inverses.html#992" class="Bound">b</a> <a id="994" href="Prelude.Inverses.html#994" class="Bound">a</a> <a id="996" href="Prelude.Inverses.html#996" class="Bound">b≡fa</a> <a id="1001" class="Symbol">=</a> <a id="1003" href="Prelude.Inverses.html#774" class="InductiveConstructor">eq</a> <a id="1006" href="Prelude.Inverses.html#992" class="Bound">b</a> <a id="1008" href="Prelude.Inverses.html#994" class="Bound">a</a> <a id="1010" href="Prelude.Inverses.html#996" class="Bound">b≡fa</a>

</pre>

An inhabitant of `Image f ∋ b` is a dependent pair `(a , p)`, where `a : A` and `p : b ≡ f a` is a proof that `f` maps `a` to `b`.  Since the proof that `b` belongs to the image of `f` is always accompanied by a "witness" `a : A`, we can actually *compute* a (pseudo)inverse of `f`. For convenience, we define this inverse function, which we call `Inv`, and which takes an arbitrary `b : B` and a (*witness*, *proof*)-pair, `(a , p) : Image f ∋ b`, and returns the witness `a`.

<pre class="Agda">

 <a id="1522" href="Prelude.Inverses.html#1522" class="Function">Inv</a> <a id="1526" class="Symbol">:</a> <a id="1528" class="Symbol">(</a><a id="1529" href="Prelude.Inverses.html#1529" class="Bound">f</a> <a id="1531" class="Symbol">:</a> <a id="1533" href="Prelude.Inverses.html#665" class="Bound">A</a> <a id="1535" class="Symbol">→</a> <a id="1537" href="Prelude.Inverses.html#675" class="Bound">B</a><a id="1538" class="Symbol">){</a><a id="1540" href="Prelude.Inverses.html#1540" class="Bound">b</a> <a id="1542" class="Symbol">:</a> <a id="1544" href="Prelude.Inverses.html#675" class="Bound">B</a><a id="1545" class="Symbol">}</a> <a id="1547" class="Symbol">→</a> <a id="1549" href="Prelude.Inverses.html#698" class="Datatype Operator">Image</a> <a id="1555" href="Prelude.Inverses.html#1529" class="Bound">f</a> <a id="1557" href="Prelude.Inverses.html#698" class="Datatype Operator">∋</a> <a id="1559" href="Prelude.Inverses.html#1540" class="Bound">b</a>  <a id="1562" class="Symbol">→</a>  <a id="1565" href="Prelude.Inverses.html#665" class="Bound">A</a>
 <a id="1568" href="Prelude.Inverses.html#1522" class="Function">Inv</a> <a id="1572" href="Prelude.Inverses.html#1572" class="Bound">f</a> <a id="1574" class="Symbol">{</a><a id="1575" class="DottedPattern Symbol">.(</a><a id="1577" href="Prelude.Inverses.html#1572" class="DottedPattern Bound">f</a> <a id="1579" href="Prelude.Inverses.html#1587" class="DottedPattern Bound">a</a><a id="1580" class="DottedPattern Symbol">)</a><a id="1581" class="Symbol">}</a> <a id="1583" class="Symbol">(</a><a id="1584" href="Prelude.Inverses.html#743" class="InductiveConstructor">im</a> <a id="1587" href="Prelude.Inverses.html#1587" class="Bound">a</a><a id="1588" class="Symbol">)</a> <a id="1590" class="Symbol">=</a> <a id="1592" href="Prelude.Inverses.html#1587" class="Bound">a</a>
 <a id="1595" href="Prelude.Inverses.html#1522" class="Function">Inv</a> <a id="1599" href="Prelude.Inverses.html#1599" class="Bound">f</a> <a id="1601" class="Symbol">(</a><a id="1602" href="Prelude.Inverses.html#774" class="InductiveConstructor">eq</a> <a id="1605" class="Symbol">_</a> <a id="1607" href="Prelude.Inverses.html#1607" class="Bound">a</a> <a id="1609" class="Symbol">_)</a> <a id="1612" class="Symbol">=</a> <a id="1614" href="Prelude.Inverses.html#1607" class="Bound">a</a>

</pre>

We can prove that `Inv f` is the *right-inverse* of `f`, as follows.

<pre class="Agda">

 <a id="1714" href="Prelude.Inverses.html#1714" class="Function">InvIsInv</a> <a id="1723" class="Symbol">:</a> <a id="1725" class="Symbol">(</a><a id="1726" href="Prelude.Inverses.html#1726" class="Bound">f</a> <a id="1728" class="Symbol">:</a> <a id="1730" href="Prelude.Inverses.html#665" class="Bound">A</a> <a id="1732" class="Symbol">→</a> <a id="1734" href="Prelude.Inverses.html#675" class="Bound">B</a><a id="1735" class="Symbol">){</a><a id="1737" href="Prelude.Inverses.html#1737" class="Bound">b</a> <a id="1739" class="Symbol">:</a> <a id="1741" href="Prelude.Inverses.html#675" class="Bound">B</a><a id="1742" class="Symbol">}(</a><a id="1744" href="Prelude.Inverses.html#1744" class="Bound">q</a> <a id="1746" class="Symbol">:</a> <a id="1748" href="Prelude.Inverses.html#698" class="Datatype Operator">Image</a> <a id="1754" href="Prelude.Inverses.html#1726" class="Bound">f</a> <a id="1756" href="Prelude.Inverses.html#698" class="Datatype Operator">∋</a> <a id="1758" href="Prelude.Inverses.html#1737" class="Bound">b</a><a id="1759" class="Symbol">)</a> <a id="1761" class="Symbol">→</a> <a id="1763" href="Prelude.Inverses.html#1726" class="Bound">f</a><a id="1764" class="Symbol">(</a><a id="1765" href="Prelude.Inverses.html#1522" class="Function">Inv</a> <a id="1769" href="Prelude.Inverses.html#1726" class="Bound">f</a> <a id="1771" href="Prelude.Inverses.html#1744" class="Bound">q</a><a id="1772" class="Symbol">)</a> <a id="1774" href="Prelude.Equality.html#2570" class="Datatype Operator">≡</a> <a id="1776" href="Prelude.Inverses.html#1737" class="Bound">b</a>
 <a id="1779" href="Prelude.Inverses.html#1714" class="Function">InvIsInv</a> <a id="1788" href="Prelude.Inverses.html#1788" class="Bound">f</a> <a id="1790" class="Symbol">{</a><a id="1791" class="DottedPattern Symbol">.(</a><a id="1793" href="Prelude.Inverses.html#1788" class="DottedPattern Bound">f</a> <a id="1795" href="Prelude.Inverses.html#1803" class="DottedPattern Bound">a</a><a id="1796" class="DottedPattern Symbol">)</a><a id="1797" class="Symbol">}</a> <a id="1799" class="Symbol">(</a><a id="1800" href="Prelude.Inverses.html#743" class="InductiveConstructor">im</a> <a id="1803" href="Prelude.Inverses.html#1803" class="Bound">a</a><a id="1804" class="Symbol">)</a> <a id="1806" class="Symbol">=</a> <a id="1808" href="Identity-Type.html#162" class="InductiveConstructor">refl</a>
 <a id="1814" href="Prelude.Inverses.html#1714" class="Function">InvIsInv</a> <a id="1823" href="Prelude.Inverses.html#1823" class="Bound">f</a> <a id="1825" class="Symbol">(</a><a id="1826" href="Prelude.Inverses.html#774" class="InductiveConstructor">eq</a> <a id="1829" class="Symbol">_</a> <a id="1831" class="Symbol">_</a> <a id="1833" href="Prelude.Inverses.html#1833" class="Bound">p</a><a id="1834" class="Symbol">)</a> <a id="1836" class="Symbol">=</a> <a id="1838" href="Prelude.Inverses.html#1833" class="Bound">p</a> <a id="1840" href="MGS-MLTT.html#6125" class="Function Operator">⁻¹</a>

</pre>





#### <a id="epics">Epics (surjective functions)</a>

An epic (or surjective) function from `A` to `B` is as an inhabitant of the `Epic` type, which we now define.

<pre class="Agda">

 <a id="2039" href="Prelude.Inverses.html#2039" class="Function">Epic</a> <a id="2044" class="Symbol">:</a> <a id="2046" class="Symbol">(</a><a id="2047" href="Prelude.Inverses.html#665" class="Bound">A</a> <a id="2049" class="Symbol">→</a> <a id="2051" href="Prelude.Inverses.html#675" class="Bound">B</a><a id="2052" class="Symbol">)</a> <a id="2054" class="Symbol">→</a>  <a id="2057" href="Prelude.Inverses.html#649" class="Bound">𝓤</a> <a id="2059" href="Agda.Primitive.html#636" class="Primitive Operator">⊔</a> <a id="2061" href="Prelude.Inverses.html#651" class="Bound">𝓦</a> <a id="2063" href="Universes.html#403" class="Function Operator">̇</a>
 <a id="2066" href="Prelude.Inverses.html#2039" class="Function">Epic</a> <a id="2071" href="Prelude.Inverses.html#2071" class="Bound">f</a> <a id="2073" class="Symbol">=</a> <a id="2075" class="Symbol">∀</a> <a id="2077" href="Prelude.Inverses.html#2077" class="Bound">y</a> <a id="2079" class="Symbol">→</a> <a id="2081" href="Prelude.Inverses.html#698" class="Datatype Operator">Image</a> <a id="2087" href="Prelude.Inverses.html#2071" class="Bound">f</a> <a id="2089" href="Prelude.Inverses.html#698" class="Datatype Operator">∋</a> <a id="2091" href="Prelude.Inverses.html#2077" class="Bound">y</a>

</pre>

We obtain the right-inverse (or pseudoinverse) of an epic function `f` by applying the function `EpicInv` (which we now define) to the function `f` along with a proof, `fE : Epic f`, that `f` is surjective.

<pre class="Agda">

 <a id="2329" href="Prelude.Inverses.html#2329" class="Function">EpicInv</a> <a id="2337" class="Symbol">:</a> <a id="2339" class="Symbol">(</a><a id="2340" href="Prelude.Inverses.html#2340" class="Bound">f</a> <a id="2342" class="Symbol">:</a> <a id="2344" href="Prelude.Inverses.html#665" class="Bound">A</a> <a id="2346" class="Symbol">→</a> <a id="2348" href="Prelude.Inverses.html#675" class="Bound">B</a><a id="2349" class="Symbol">)</a> <a id="2351" class="Symbol">→</a> <a id="2353" href="Prelude.Inverses.html#2039" class="Function">Epic</a> <a id="2358" href="Prelude.Inverses.html#2340" class="Bound">f</a> <a id="2360" class="Symbol">→</a> <a id="2362" href="Prelude.Inverses.html#675" class="Bound">B</a> <a id="2364" class="Symbol">→</a> <a id="2366" href="Prelude.Inverses.html#665" class="Bound">A</a>
 <a id="2369" href="Prelude.Inverses.html#2329" class="Function">EpicInv</a> <a id="2377" href="Prelude.Inverses.html#2377" class="Bound">f</a> <a id="2379" href="Prelude.Inverses.html#2379" class="Bound">fE</a> <a id="2382" href="Prelude.Inverses.html#2382" class="Bound">b</a> <a id="2384" class="Symbol">=</a> <a id="2386" href="Prelude.Inverses.html#1522" class="Function">Inv</a> <a id="2390" href="Prelude.Inverses.html#2377" class="Bound">f</a> <a id="2392" class="Symbol">(</a><a id="2393" href="Prelude.Inverses.html#2379" class="Bound">fE</a> <a id="2396" href="Prelude.Inverses.html#2382" class="Bound">b</a><a id="2397" class="Symbol">)</a>

</pre>

The function defined by `EpicInv f fE` is indeed the right-inverse of `f`. To state this, we'll use the function composition operation, `∘`, which is already defined in the [Type Topology][] library as follows.

<pre class="Agda">

<a id="2638" class="Keyword">module</a> <a id="hide-∘"></a><a id="2645" href="Prelude.Inverses.html#2645" class="Module">hide-∘</a> <a id="2652" class="Symbol">{</a><a id="2653" href="Prelude.Inverses.html#2653" class="Bound">𝓤</a> <a id="2655" href="Prelude.Inverses.html#2655" class="Bound">𝓦</a> <a id="2657" class="Symbol">:</a> <a id="2659" href="Agda.Primitive.html#423" class="Postulate">Universe</a><a id="2667" class="Symbol">}{</a><a id="2669" href="Prelude.Inverses.html#2669" class="Bound">A</a> <a id="2671" class="Symbol">:</a> <a id="2673" href="Prelude.Inverses.html#2653" class="Bound">𝓤</a> <a id="2675" href="Universes.html#403" class="Function Operator">̇</a><a id="2676" class="Symbol">}{</a><a id="2678" href="Prelude.Inverses.html#2678" class="Bound">B</a> <a id="2680" class="Symbol">:</a> <a id="2682" href="Prelude.Inverses.html#2655" class="Bound">𝓦</a> <a id="2684" href="Universes.html#403" class="Function Operator">̇</a><a id="2685" class="Symbol">}</a> <a id="2687" class="Keyword">where</a>

 <a id="hide-∘._∘_"></a><a id="2695" href="Prelude.Inverses.html#2695" class="Function Operator">_∘_</a> <a id="2699" class="Symbol">:</a> <a id="2701" class="Symbol">{</a><a id="2702" href="Prelude.Inverses.html#2702" class="Bound">C</a> <a id="2704" class="Symbol">:</a> <a id="2706" href="Prelude.Inverses.html#2678" class="Bound">B</a> <a id="2708" class="Symbol">→</a> <a id="2710" href="Prelude.Inverses.html#2655" class="Bound">𝓦</a> <a id="2712" href="Universes.html#403" class="Function Operator">̇</a> <a id="2714" class="Symbol">}</a> <a id="2716" class="Symbol">→</a> <a id="2718" href="MGS-MLTT.html#3562" class="Function">Π</a> <a id="2720" href="Prelude.Inverses.html#2702" class="Bound">C</a> <a id="2722" class="Symbol">→</a> <a id="2724" class="Symbol">(</a><a id="2725" href="Prelude.Inverses.html#2725" class="Bound">f</a> <a id="2727" class="Symbol">:</a> <a id="2729" href="Prelude.Inverses.html#2669" class="Bound">A</a> <a id="2731" class="Symbol">→</a> <a id="2733" href="Prelude.Inverses.html#2678" class="Bound">B</a><a id="2734" class="Symbol">)</a> <a id="2736" class="Symbol">→</a> <a id="2738" class="Symbol">(</a><a id="2739" href="Prelude.Inverses.html#2739" class="Bound">x</a> <a id="2741" class="Symbol">:</a> <a id="2743" href="Prelude.Inverses.html#2669" class="Bound">A</a><a id="2744" class="Symbol">)</a> <a id="2746" class="Symbol">→</a> <a id="2748" href="Prelude.Inverses.html#2702" class="Bound">C</a> <a id="2750" class="Symbol">(</a><a id="2751" href="Prelude.Inverses.html#2725" class="Bound">f</a> <a id="2753" href="Prelude.Inverses.html#2739" class="Bound">x</a><a id="2754" class="Symbol">)</a>
 <a id="2757" href="Prelude.Inverses.html#2757" class="Bound">g</a> <a id="2759" href="Prelude.Inverses.html#2695" class="Function Operator">∘</a> <a id="2761" href="Prelude.Inverses.html#2761" class="Bound">f</a> <a id="2763" class="Symbol">=</a> <a id="2765" class="Symbol">λ</a> <a id="2767" href="Prelude.Inverses.html#2767" class="Bound">x</a> <a id="2769" class="Symbol">→</a> <a id="2771" href="Prelude.Inverses.html#2757" class="Bound">g</a> <a id="2773" class="Symbol">(</a><a id="2774" href="Prelude.Inverses.html#2761" class="Bound">f</a> <a id="2776" href="Prelude.Inverses.html#2767" class="Bound">x</a><a id="2777" class="Symbol">)</a>

<a id="2780" class="Keyword">open</a> <a id="2785" class="Keyword">import</a> <a id="2792" href="MGS-MLTT.html" class="Module">MGS-MLTT</a> <a id="2801" class="Keyword">using</a> <a id="2807" class="Symbol">(</a><a id="2808" href="MGS-MLTT.html#3813" class="Function Operator">_∘_</a><a id="2811" class="Symbol">)</a> <a id="2813" class="Keyword">public</a>


<a id="2822" class="Keyword">module</a> <a id="2829" href="Prelude.Inverses.html#2829" class="Module">_</a> <a id="2831" class="Symbol">{</a><a id="2832" href="Prelude.Inverses.html#2832" class="Bound">𝓤</a> <a id="2834" href="Prelude.Inverses.html#2834" class="Bound">𝓦</a> <a id="2836" class="Symbol">:</a> <a id="2838" href="Agda.Primitive.html#423" class="Postulate">Universe</a><a id="2846" class="Symbol">}{</a><a id="2848" href="Prelude.Inverses.html#2848" class="Bound">fe</a> <a id="2851" class="Symbol">:</a> <a id="2853" href="MGS-FunExt-from-Univalence.html#393" class="Function">funext</a> <a id="2860" href="Prelude.Inverses.html#2834" class="Bound">𝓦</a> <a id="2862" href="Prelude.Inverses.html#2834" class="Bound">𝓦</a><a id="2863" class="Symbol">}{</a><a id="2865" href="Prelude.Inverses.html#2865" class="Bound">A</a> <a id="2867" class="Symbol">:</a> <a id="2869" href="Prelude.Inverses.html#2832" class="Bound">𝓤</a> <a id="2871" href="Universes.html#403" class="Function Operator">̇</a><a id="2872" class="Symbol">}{</a><a id="2874" href="Prelude.Inverses.html#2874" class="Bound">B</a> <a id="2876" class="Symbol">:</a> <a id="2878" href="Prelude.Inverses.html#2834" class="Bound">𝓦</a> <a id="2880" href="Universes.html#403" class="Function Operator">̇</a><a id="2881" class="Symbol">}</a> <a id="2883" class="Keyword">where</a>

 <a id="2891" href="Prelude.Inverses.html#2891" class="Function">EpicInvIsRightInv</a> <a id="2909" class="Symbol">:</a> <a id="2911" class="Symbol">(</a><a id="2912" href="Prelude.Inverses.html#2912" class="Bound">f</a> <a id="2914" class="Symbol">:</a> <a id="2916" href="Prelude.Inverses.html#2865" class="Bound">A</a> <a id="2918" class="Symbol">→</a> <a id="2920" href="Prelude.Inverses.html#2874" class="Bound">B</a><a id="2921" class="Symbol">)(</a><a id="2923" href="Prelude.Inverses.html#2923" class="Bound">fE</a> <a id="2926" class="Symbol">:</a> <a id="2928" href="Prelude.Inverses.html#2039" class="Function">Epic</a> <a id="2933" href="Prelude.Inverses.html#2912" class="Bound">f</a><a id="2934" class="Symbol">)</a> <a id="2936" class="Symbol">→</a> <a id="2938" href="Prelude.Inverses.html#2912" class="Bound">f</a> <a id="2940" href="MGS-MLTT.html#3813" class="Function Operator">∘</a> <a id="2942" class="Symbol">(</a><a id="2943" href="Prelude.Inverses.html#2329" class="Function">EpicInv</a> <a id="2951" href="Prelude.Inverses.html#2912" class="Bound">f</a> <a id="2953" href="Prelude.Inverses.html#2923" class="Bound">fE</a><a id="2955" class="Symbol">)</a> <a id="2957" href="Prelude.Equality.html#2570" class="Datatype Operator">≡</a> <a id="2959" href="MGS-MLTT.html#3778" class="Function">𝑖𝑑</a> <a id="2962" href="Prelude.Inverses.html#2874" class="Bound">B</a>
 <a id="2965" href="Prelude.Inverses.html#2891" class="Function">EpicInvIsRightInv</a> <a id="2983" href="Prelude.Inverses.html#2983" class="Bound">f</a> <a id="2985" href="Prelude.Inverses.html#2985" class="Bound">fE</a> <a id="2988" class="Symbol">=</a> <a id="2990" href="Prelude.Inverses.html#2848" class="Bound">fe</a> <a id="2993" class="Symbol">(λ</a> <a id="2996" href="Prelude.Inverses.html#2996" class="Bound">x</a> <a id="2998" class="Symbol">→</a> <a id="3000" href="Prelude.Inverses.html#1714" class="Function">InvIsInv</a> <a id="3009" href="Prelude.Inverses.html#2983" class="Bound">f</a> <a id="3011" class="Symbol">(</a><a id="3012" href="Prelude.Inverses.html#2985" class="Bound">fE</a> <a id="3015" href="Prelude.Inverses.html#2996" class="Bound">x</a><a id="3016" class="Symbol">))</a>

</pre>

We can also prove the following composition law for epics.

<pre class="Agda">

 <a id="3107" href="Prelude.Inverses.html#3107" class="Function">epic-factor</a> <a id="3119" class="Symbol">:</a> <a id="3121" class="Symbol">{</a><a id="3122" href="Prelude.Inverses.html#3122" class="Bound">𝓩</a> <a id="3124" class="Symbol">:</a> <a id="3126" href="Agda.Primitive.html#423" class="Postulate">Universe</a><a id="3134" class="Symbol">}{</a><a id="3136" href="Prelude.Inverses.html#3136" class="Bound">C</a> <a id="3138" class="Symbol">:</a> <a id="3140" href="Prelude.Inverses.html#3122" class="Bound">𝓩</a> <a id="3142" href="Universes.html#403" class="Function Operator">̇</a><a id="3143" class="Symbol">}(</a><a id="3145" href="Prelude.Inverses.html#3145" class="Bound">f</a> <a id="3147" class="Symbol">:</a> <a id="3149" href="Prelude.Inverses.html#2865" class="Bound">A</a> <a id="3151" class="Symbol">→</a> <a id="3153" href="Prelude.Inverses.html#2874" class="Bound">B</a><a id="3154" class="Symbol">)(</a><a id="3156" href="Prelude.Inverses.html#3156" class="Bound">g</a> <a id="3158" class="Symbol">:</a> <a id="3160" href="Prelude.Inverses.html#2865" class="Bound">A</a> <a id="3162" class="Symbol">→</a> <a id="3164" href="Prelude.Inverses.html#3136" class="Bound">C</a><a id="3165" class="Symbol">)(</a><a id="3167" href="Prelude.Inverses.html#3167" class="Bound">h</a> <a id="3169" class="Symbol">:</a> <a id="3171" href="Prelude.Inverses.html#3136" class="Bound">C</a> <a id="3173" class="Symbol">→</a> <a id="3175" href="Prelude.Inverses.html#2874" class="Bound">B</a><a id="3176" class="Symbol">)</a>
  <a id="3180" class="Symbol">→</a>            <a id="3193" href="Prelude.Inverses.html#3145" class="Bound">f</a> <a id="3195" href="Prelude.Equality.html#2570" class="Datatype Operator">≡</a> <a id="3197" href="Prelude.Inverses.html#3167" class="Bound">h</a> <a id="3199" href="MGS-MLTT.html#3813" class="Function Operator">∘</a> <a id="3201" href="Prelude.Inverses.html#3156" class="Bound">g</a> <a id="3203" class="Symbol">→</a> <a id="3205" href="Prelude.Inverses.html#2039" class="Function">Epic</a> <a id="3210" href="Prelude.Inverses.html#3145" class="Bound">f</a> <a id="3212" class="Symbol">→</a> <a id="3214" href="Prelude.Inverses.html#2039" class="Function">Epic</a> <a id="3219" href="Prelude.Inverses.html#3167" class="Bound">h</a>

 <a id="3223" href="Prelude.Inverses.html#3107" class="Function">epic-factor</a> <a id="3235" href="Prelude.Inverses.html#3235" class="Bound">f</a> <a id="3237" href="Prelude.Inverses.html#3237" class="Bound">g</a> <a id="3239" href="Prelude.Inverses.html#3239" class="Bound">h</a> <a id="3241" href="Prelude.Inverses.html#3241" class="Bound">compId</a> <a id="3248" href="Prelude.Inverses.html#3248" class="Bound">fe</a> <a id="3251" href="Prelude.Inverses.html#3251" class="Bound">y</a> <a id="3253" class="Symbol">=</a> <a id="3255" href="Prelude.Inverses.html#3445" class="Function">γ</a>
  <a id="3259" class="Keyword">where</a>
   <a id="3268" href="Prelude.Inverses.html#3268" class="Function">finv</a> <a id="3273" class="Symbol">:</a> <a id="3275" href="Prelude.Inverses.html#2874" class="Bound">B</a> <a id="3277" class="Symbol">→</a> <a id="3279" href="Prelude.Inverses.html#2865" class="Bound">A</a>
   <a id="3284" href="Prelude.Inverses.html#3268" class="Function">finv</a> <a id="3289" class="Symbol">=</a> <a id="3291" href="Prelude.Inverses.html#2329" class="Function">EpicInv</a> <a id="3299" href="Prelude.Inverses.html#3235" class="Bound">f</a> <a id="3301" href="Prelude.Inverses.html#3248" class="Bound">fe</a>

   <a id="3308" href="Prelude.Inverses.html#3308" class="Function">ζ</a> <a id="3310" class="Symbol">:</a> <a id="3312" href="Prelude.Inverses.html#3235" class="Bound">f</a> <a id="3314" class="Symbol">(</a><a id="3315" href="Prelude.Inverses.html#3268" class="Function">finv</a> <a id="3320" href="Prelude.Inverses.html#3251" class="Bound">y</a><a id="3321" class="Symbol">)</a> <a id="3323" href="Prelude.Equality.html#2570" class="Datatype Operator">≡</a> <a id="3325" href="Prelude.Inverses.html#3251" class="Bound">y</a>
   <a id="3330" href="Prelude.Inverses.html#3308" class="Function">ζ</a> <a id="3332" class="Symbol">=</a> <a id="3334" href="Prelude.Equality.html#6465" class="Function">cong-app</a> <a id="3343" class="Symbol">(</a><a id="3344" href="Prelude.Inverses.html#2891" class="Function">EpicInvIsRightInv</a> <a id="3362" href="Prelude.Inverses.html#3235" class="Bound">f</a> <a id="3364" href="Prelude.Inverses.html#3248" class="Bound">fe</a><a id="3366" class="Symbol">)</a> <a id="3368" href="Prelude.Inverses.html#3251" class="Bound">y</a>

   <a id="3374" href="Prelude.Inverses.html#3374" class="Function">η</a> <a id="3376" class="Symbol">:</a> <a id="3378" class="Symbol">(</a><a id="3379" href="Prelude.Inverses.html#3239" class="Bound">h</a> <a id="3381" href="MGS-MLTT.html#3813" class="Function Operator">∘</a> <a id="3383" href="Prelude.Inverses.html#3237" class="Bound">g</a><a id="3384" class="Symbol">)</a> <a id="3386" class="Symbol">(</a><a id="3387" href="Prelude.Inverses.html#3268" class="Function">finv</a> <a id="3392" href="Prelude.Inverses.html#3251" class="Bound">y</a><a id="3393" class="Symbol">)</a> <a id="3395" href="Prelude.Equality.html#2570" class="Datatype Operator">≡</a> <a id="3397" href="Prelude.Inverses.html#3251" class="Bound">y</a>
   <a id="3402" href="Prelude.Inverses.html#3374" class="Function">η</a> <a id="3404" class="Symbol">=</a> <a id="3406" class="Symbol">(</a><a id="3407" href="Prelude.Equality.html#6465" class="Function">cong-app</a> <a id="3416" class="Symbol">(</a><a id="3417" href="Prelude.Inverses.html#3241" class="Bound">compId</a> <a id="3424" href="MGS-MLTT.html#6125" class="Function Operator">⁻¹</a><a id="3426" class="Symbol">)(</a><a id="3428" href="Prelude.Inverses.html#3268" class="Function">finv</a> <a id="3433" href="Prelude.Inverses.html#3251" class="Bound">y</a><a id="3434" class="Symbol">))</a> <a id="3437" href="MGS-MLTT.html#5910" class="Function Operator">∙</a> <a id="3439" href="Prelude.Inverses.html#3308" class="Function">ζ</a>

   <a id="3445" href="Prelude.Inverses.html#3445" class="Function">γ</a> <a id="3447" class="Symbol">:</a> <a id="3449" href="Prelude.Inverses.html#698" class="Datatype Operator">Image</a> <a id="3455" href="Prelude.Inverses.html#3239" class="Bound">h</a> <a id="3457" href="Prelude.Inverses.html#698" class="Datatype Operator">∋</a> <a id="3459" href="Prelude.Inverses.html#3251" class="Bound">y</a>
   <a id="3464" href="Prelude.Inverses.html#3445" class="Function">γ</a> <a id="3466" class="Symbol">=</a> <a id="3468" href="Prelude.Inverses.html#774" class="InductiveConstructor">eq</a> <a id="3471" href="Prelude.Inverses.html#3251" class="Bound">y</a> <a id="3473" class="Symbol">(</a><a id="3474" href="Prelude.Inverses.html#3237" class="Bound">g</a> <a id="3476" class="Symbol">(</a><a id="3477" href="Prelude.Inverses.html#3268" class="Function">finv</a> <a id="3482" href="Prelude.Inverses.html#3251" class="Bound">y</a><a id="3483" class="Symbol">))</a> <a id="3486" class="Symbol">(</a><a id="3487" href="Prelude.Inverses.html#3374" class="Function">η</a> <a id="3489" href="MGS-MLTT.html#6125" class="Function Operator">⁻¹</a><a id="3491" class="Symbol">)</a>

</pre>






#### <a id="monics">Monics (injective functions)</a>

We say that a function `f : A → B` is *monic* (or *injective* or *one-to-one*) if it doesn't map distinct elements to a common point. This property is formalized quite naturally using the `Monic` type, which we now define.

<pre class="Agda">

<a id="3803" class="Keyword">module</a> <a id="3810" href="Prelude.Inverses.html#3810" class="Module">_</a> <a id="3812" class="Symbol">{</a><a id="3813" href="Prelude.Inverses.html#3813" class="Bound">𝓤</a> <a id="3815" href="Prelude.Inverses.html#3815" class="Bound">𝓦</a> <a id="3817" class="Symbol">:</a> <a id="3819" href="Agda.Primitive.html#423" class="Postulate">Universe</a><a id="3827" class="Symbol">}{</a><a id="3829" href="Prelude.Inverses.html#3829" class="Bound">A</a> <a id="3831" class="Symbol">:</a> <a id="3833" href="Prelude.Inverses.html#3813" class="Bound">𝓤</a> <a id="3835" href="Universes.html#403" class="Function Operator">̇</a><a id="3836" class="Symbol">}{</a><a id="3838" href="Prelude.Inverses.html#3838" class="Bound">B</a> <a id="3840" class="Symbol">:</a> <a id="3842" href="Prelude.Inverses.html#3815" class="Bound">𝓦</a> <a id="3844" href="Universes.html#403" class="Function Operator">̇</a><a id="3845" class="Symbol">}</a> <a id="3847" class="Keyword">where</a>

 <a id="3855" href="Prelude.Inverses.html#3855" class="Function">Monic</a> <a id="3861" class="Symbol">:</a> <a id="3863" class="Symbol">(</a><a id="3864" href="Prelude.Inverses.html#3864" class="Bound">f</a> <a id="3866" class="Symbol">:</a> <a id="3868" href="Prelude.Inverses.html#3829" class="Bound">A</a> <a id="3870" class="Symbol">→</a> <a id="3872" href="Prelude.Inverses.html#3838" class="Bound">B</a><a id="3873" class="Symbol">)</a> <a id="3875" class="Symbol">→</a> <a id="3877" href="Prelude.Inverses.html#3813" class="Bound">𝓤</a> <a id="3879" href="Agda.Primitive.html#636" class="Primitive Operator">⊔</a> <a id="3881" href="Prelude.Inverses.html#3815" class="Bound">𝓦</a> <a id="3883" href="Universes.html#403" class="Function Operator">̇</a>
 <a id="3886" href="Prelude.Inverses.html#3855" class="Function">Monic</a> <a id="3892" href="Prelude.Inverses.html#3892" class="Bound">f</a> <a id="3894" class="Symbol">=</a> <a id="3896" class="Symbol">∀</a> <a id="3898" href="Prelude.Inverses.html#3898" class="Bound">x</a> <a id="3900" href="Prelude.Inverses.html#3900" class="Bound">y</a> <a id="3902" class="Symbol">→</a> <a id="3904" href="Prelude.Inverses.html#3892" class="Bound">f</a> <a id="3906" href="Prelude.Inverses.html#3898" class="Bound">x</a> <a id="3908" href="Prelude.Equality.html#2570" class="Datatype Operator">≡</a> <a id="3910" href="Prelude.Inverses.html#3892" class="Bound">f</a> <a id="3912" href="Prelude.Inverses.html#3900" class="Bound">y</a> <a id="3914" class="Symbol">→</a> <a id="3916" href="Prelude.Inverses.html#3898" class="Bound">x</a> <a id="3918" href="Prelude.Equality.html#2570" class="Datatype Operator">≡</a> <a id="3920" href="Prelude.Inverses.html#3900" class="Bound">y</a>

</pre>

Again, we obtain a pseudoinverse. Here it is obtained by applying the function `MonicInv` to `g` and a proof that `g` is monic.

<pre class="Agda">

 <a id="4079" href="Prelude.Inverses.html#4079" class="Function">MonicInv</a> <a id="4088" class="Symbol">:</a> <a id="4090" class="Symbol">(</a><a id="4091" href="Prelude.Inverses.html#4091" class="Bound">f</a> <a id="4093" class="Symbol">:</a> <a id="4095" href="Prelude.Inverses.html#3829" class="Bound">A</a> <a id="4097" class="Symbol">→</a> <a id="4099" href="Prelude.Inverses.html#3838" class="Bound">B</a><a id="4100" class="Symbol">)</a> <a id="4102" class="Symbol">→</a> <a id="4104" href="Prelude.Inverses.html#3855" class="Function">Monic</a> <a id="4110" href="Prelude.Inverses.html#4091" class="Bound">f</a> <a id="4112" class="Symbol">→</a> <a id="4114" class="Symbol">(</a><a id="4115" href="Prelude.Inverses.html#4115" class="Bound">b</a> <a id="4117" class="Symbol">:</a> <a id="4119" href="Prelude.Inverses.html#3838" class="Bound">B</a><a id="4120" class="Symbol">)</a> <a id="4122" class="Symbol">→</a> <a id="4124" href="Prelude.Inverses.html#698" class="Datatype Operator">Image</a> <a id="4130" href="Prelude.Inverses.html#4091" class="Bound">f</a> <a id="4132" href="Prelude.Inverses.html#698" class="Datatype Operator">∋</a> <a id="4134" href="Prelude.Inverses.html#4115" class="Bound">b</a> <a id="4136" class="Symbol">→</a> <a id="4138" href="Prelude.Inverses.html#3829" class="Bound">A</a>
 <a id="4141" href="Prelude.Inverses.html#4079" class="Function">MonicInv</a> <a id="4150" href="Prelude.Inverses.html#4150" class="Bound">f</a> <a id="4152" class="Symbol">_</a> <a id="4154" class="Symbol">=</a> <a id="4156" class="Symbol">λ</a> <a id="4158" href="Prelude.Inverses.html#4158" class="Bound">b</a> <a id="4160" href="Prelude.Inverses.html#4160" class="Bound">imfb</a> <a id="4165" class="Symbol">→</a> <a id="4167" href="Prelude.Inverses.html#1522" class="Function">Inv</a> <a id="4171" href="Prelude.Inverses.html#4150" class="Bound">f</a> <a id="4173" href="Prelude.Inverses.html#4160" class="Bound">imfb</a>

</pre>

The function defined by `MonicInv f fM` is the left-inverse of `f`.

<pre class="Agda">

 <a id="4275" href="Prelude.Inverses.html#4275" class="Function">MonicInvIsLeftInv</a> <a id="4293" class="Symbol">:</a> <a id="4295" class="Symbol">{</a><a id="4296" href="Prelude.Inverses.html#4296" class="Bound">f</a> <a id="4298" class="Symbol">:</a> <a id="4300" href="Prelude.Inverses.html#3829" class="Bound">A</a> <a id="4302" class="Symbol">→</a> <a id="4304" href="Prelude.Inverses.html#3838" class="Bound">B</a><a id="4305" class="Symbol">}{</a><a id="4307" href="Prelude.Inverses.html#4307" class="Bound">fM</a> <a id="4310" class="Symbol">:</a> <a id="4312" href="Prelude.Inverses.html#3855" class="Function">Monic</a> <a id="4318" href="Prelude.Inverses.html#4296" class="Bound">f</a><a id="4319" class="Symbol">}{</a><a id="4321" href="Prelude.Inverses.html#4321" class="Bound">x</a> <a id="4323" class="Symbol">:</a> <a id="4325" href="Prelude.Inverses.html#3829" class="Bound">A</a><a id="4326" class="Symbol">}</a> <a id="4328" class="Symbol">→</a> <a id="4330" class="Symbol">(</a><a id="4331" href="Prelude.Inverses.html#4079" class="Function">MonicInv</a> <a id="4340" href="Prelude.Inverses.html#4296" class="Bound">f</a> <a id="4342" href="Prelude.Inverses.html#4307" class="Bound">fM</a><a id="4344" class="Symbol">)(</a><a id="4346" href="Prelude.Inverses.html#4296" class="Bound">f</a> <a id="4348" href="Prelude.Inverses.html#4321" class="Bound">x</a><a id="4349" class="Symbol">)(</a><a id="4351" href="Prelude.Inverses.html#743" class="InductiveConstructor">im</a> <a id="4354" href="Prelude.Inverses.html#4321" class="Bound">x</a><a id="4355" class="Symbol">)</a> <a id="4357" href="Prelude.Equality.html#2570" class="Datatype Operator">≡</a> <a id="4359" href="Prelude.Inverses.html#4321" class="Bound">x</a>
 <a id="4362" href="Prelude.Inverses.html#4275" class="Function">MonicInvIsLeftInv</a> <a id="4380" class="Symbol">=</a> <a id="4382" href="Identity-Type.html#162" class="InductiveConstructor">refl</a>

</pre>





#### <a id="embeddings">Embeddings</a>

The `is-embedding` type is defined in the [Type Topology][] library in the following way.

<pre class="Agda">
<a id="4548" class="Keyword">module</a> <a id="hide-is-embedding"></a><a id="4555" href="Prelude.Inverses.html#4555" class="Module">hide-is-embedding</a> <a id="4573" class="Symbol">{</a><a id="4574" href="Prelude.Inverses.html#4574" class="Bound">𝓤</a> <a id="4576" href="Prelude.Inverses.html#4576" class="Bound">𝓦</a> <a id="4578" class="Symbol">:</a> <a id="4580" href="Agda.Primitive.html#423" class="Postulate">Universe</a><a id="4588" class="Symbol">}{</a><a id="4590" href="Prelude.Inverses.html#4590" class="Bound">A</a> <a id="4592" class="Symbol">:</a> <a id="4594" href="Prelude.Inverses.html#4574" class="Bound">𝓤</a> <a id="4596" href="Universes.html#403" class="Function Operator">̇</a><a id="4597" class="Symbol">}{</a><a id="4599" href="Prelude.Inverses.html#4599" class="Bound">B</a> <a id="4601" class="Symbol">:</a> <a id="4603" href="Prelude.Inverses.html#4576" class="Bound">𝓦</a> <a id="4605" href="Universes.html#403" class="Function Operator">̇</a><a id="4606" class="Symbol">}</a> <a id="4608" class="Keyword">where</a>

 <a id="hide-is-embedding.is-embedding"></a><a id="4616" href="Prelude.Inverses.html#4616" class="Function">is-embedding</a> <a id="4629" class="Symbol">:</a> <a id="4631" class="Symbol">(</a><a id="4632" href="Prelude.Inverses.html#4590" class="Bound">A</a> <a id="4634" class="Symbol">→</a> <a id="4636" href="Prelude.Inverses.html#4599" class="Bound">B</a><a id="4637" class="Symbol">)</a> <a id="4639" class="Symbol">→</a> <a id="4641" href="Prelude.Inverses.html#4574" class="Bound">𝓤</a> <a id="4643" href="Agda.Primitive.html#636" class="Primitive Operator">⊔</a> <a id="4645" href="Prelude.Inverses.html#4576" class="Bound">𝓦</a> <a id="4647" href="Universes.html#403" class="Function Operator">̇</a>
 <a id="4650" href="Prelude.Inverses.html#4616" class="Function">is-embedding</a> <a id="4663" href="Prelude.Inverses.html#4663" class="Bound">f</a> <a id="4665" class="Symbol">=</a> <a id="4667" class="Symbol">∀</a> <a id="4669" href="Prelude.Inverses.html#4669" class="Bound">b</a> <a id="4671" class="Symbol">→</a> <a id="4673" href="MGS-Basic-UF.html#743" class="Function">is-subsingleton</a> <a id="4689" class="Symbol">(</a><a id="4690" href="MGS-Equivalences.html#501" class="Function">fiber</a> <a id="4696" href="Prelude.Inverses.html#4663" class="Bound">f</a> <a id="4698" href="Prelude.Inverses.html#4669" class="Bound">b</a><a id="4699" class="Symbol">)</a>

<a id="4702" class="Keyword">open</a> <a id="4707" class="Keyword">import</a> <a id="4714" href="MGS-Embeddings.html" class="Module">MGS-Embeddings</a> <a id="4729" class="Keyword">using</a> <a id="4735" class="Symbol">(</a><a id="4736" href="MGS-Embeddings.html#384" class="Function">is-embedding</a><a id="4748" class="Symbol">)</a> <a id="4750" class="Keyword">public</a>

</pre>

Thus, `is-embedding f` asserts that `f` is a function all of whose fibers are subsingletons. This is a natural way to represent what we usually mean in mathematics by embedding.  Observe that an embedding does not simply correspond to an injective map.  However, if we assume that the codomain `B` has unique identity proofs (i.e., is a set), then we can prove that a monic function into `B` is an embedding. We will do so in the [Relations.Truncation][] module when we take up the topic of sets in some detail.

Finding a proof that a function is an embedding isn't always easy, but one path that is often straightforward is to first prove that the function is invertible and then invoke the following theorem.

<pre class="Agda">

<a id="5497" class="Keyword">module</a> <a id="5504" href="Prelude.Inverses.html#5504" class="Module">_</a> <a id="5506" class="Symbol">{</a><a id="5507" href="Prelude.Inverses.html#5507" class="Bound">𝓤</a> <a id="5509" href="Prelude.Inverses.html#5509" class="Bound">𝓦</a> <a id="5511" class="Symbol">:</a> <a id="5513" href="Agda.Primitive.html#423" class="Postulate">Universe</a><a id="5521" class="Symbol">}{</a><a id="5523" href="Prelude.Inverses.html#5523" class="Bound">A</a> <a id="5525" class="Symbol">:</a> <a id="5527" href="Prelude.Inverses.html#5507" class="Bound">𝓤</a> <a id="5529" href="Universes.html#403" class="Function Operator">̇</a><a id="5530" class="Symbol">}{</a><a id="5532" href="Prelude.Inverses.html#5532" class="Bound">B</a> <a id="5534" class="Symbol">:</a> <a id="5536" href="Prelude.Inverses.html#5509" class="Bound">𝓦</a> <a id="5538" href="Universes.html#403" class="Function Operator">̇</a><a id="5539" class="Symbol">}</a> <a id="5541" class="Keyword">where</a>

 <a id="5549" href="Prelude.Inverses.html#5549" class="Function">invertibles-are-embeddings</a> <a id="5576" class="Symbol">:</a> <a id="5578" class="Symbol">(</a><a id="5579" href="Prelude.Inverses.html#5579" class="Bound">f</a> <a id="5581" class="Symbol">:</a> <a id="5583" href="Prelude.Inverses.html#5523" class="Bound">A</a> <a id="5585" class="Symbol">→</a> <a id="5587" href="Prelude.Inverses.html#5532" class="Bound">B</a><a id="5588" class="Symbol">)</a> <a id="5590" class="Symbol">→</a> <a id="5592" href="MGS-Equivalences.html#370" class="Function">invertible</a> <a id="5603" href="Prelude.Inverses.html#5579" class="Bound">f</a> <a id="5605" class="Symbol">→</a> <a id="5607" href="MGS-Embeddings.html#384" class="Function">is-embedding</a> <a id="5620" href="Prelude.Inverses.html#5579" class="Bound">f</a>
 <a id="5623" href="Prelude.Inverses.html#5549" class="Function">invertibles-are-embeddings</a> <a id="5650" href="Prelude.Inverses.html#5650" class="Bound">f</a> <a id="5652" href="Prelude.Inverses.html#5652" class="Bound">fi</a> <a id="5655" class="Symbol">=</a> <a id="5657" href="MGS-Embeddings.html#1410" class="Function">equivs-are-embeddings</a> <a id="5679" href="Prelude.Inverses.html#5650" class="Bound">f</a> <a id="5681" class="Symbol">(</a><a id="5682" href="MGS-Equivalences.html#2127" class="Function">invertibles-are-equivs</a> <a id="5705" href="Prelude.Inverses.html#5650" class="Bound">f</a> <a id="5707" href="Prelude.Inverses.html#5652" class="Bound">fi</a><a id="5709" class="Symbol">)</a>

</pre>

Finally, embeddings are monic; from a proof `p : is-embedding f` that `f` is an embedding we can construct a proof of `Monic f`.  We confirm this as follows.

<pre class="Agda">

 <a id="5898" href="Prelude.Inverses.html#5898" class="Function">embedding-is-monic</a> <a id="5917" class="Symbol">:</a> <a id="5919" class="Symbol">(</a><a id="5920" href="Prelude.Inverses.html#5920" class="Bound">f</a> <a id="5922" class="Symbol">:</a> <a id="5924" href="Prelude.Inverses.html#5523" class="Bound">A</a> <a id="5926" class="Symbol">→</a> <a id="5928" href="Prelude.Inverses.html#5532" class="Bound">B</a><a id="5929" class="Symbol">)</a> <a id="5931" class="Symbol">→</a> <a id="5933" href="MGS-Embeddings.html#384" class="Function">is-embedding</a> <a id="5946" href="Prelude.Inverses.html#5920" class="Bound">f</a> <a id="5948" class="Symbol">→</a> <a id="5950" href="Prelude.Inverses.html#3855" class="Function">Monic</a> <a id="5956" href="Prelude.Inverses.html#5920" class="Bound">f</a>
 <a id="5959" href="Prelude.Inverses.html#5898" class="Function">embedding-is-monic</a> <a id="5978" href="Prelude.Inverses.html#5978" class="Bound">f</a> <a id="5980" href="Prelude.Inverses.html#5980" class="Bound">femb</a> <a id="5985" href="Prelude.Inverses.html#5985" class="Bound">x</a> <a id="5987" href="Prelude.Inverses.html#5987" class="Bound">y</a> <a id="5989" href="Prelude.Inverses.html#5989" class="Bound">fxfy</a> <a id="5994" class="Symbol">=</a> <a id="5996" href="MGS-MLTT.html#6613" class="Function">ap</a> <a id="5999" href="MGS-MLTT.html#2942" class="Function">pr₁</a> <a id="6003" class="Symbol">((</a><a id="6005" href="Prelude.Inverses.html#5980" class="Bound">femb</a> <a id="6010" class="Symbol">(</a><a id="6011" href="Prelude.Inverses.html#5978" class="Bound">f</a> <a id="6013" href="Prelude.Inverses.html#5985" class="Bound">x</a><a id="6014" class="Symbol">))</a> <a id="6017" href="Prelude.Inverses.html#6034" class="Function">fx</a> <a id="6020" href="Prelude.Inverses.html#6072" class="Function">fy</a><a id="6022" class="Symbol">)</a>
  <a id="6026" class="Keyword">where</a>
  <a id="6034" href="Prelude.Inverses.html#6034" class="Function">fx</a> <a id="6037" class="Symbol">:</a> <a id="6039" href="MGS-Equivalences.html#501" class="Function">fiber</a> <a id="6045" href="Prelude.Inverses.html#5978" class="Bound">f</a> <a id="6047" class="Symbol">(</a><a id="6048" href="Prelude.Inverses.html#5978" class="Bound">f</a> <a id="6050" href="Prelude.Inverses.html#5985" class="Bound">x</a><a id="6051" class="Symbol">)</a>
  <a id="6055" href="Prelude.Inverses.html#6034" class="Function">fx</a> <a id="6058" class="Symbol">=</a> <a id="6060" href="Prelude.Inverses.html#5985" class="Bound">x</a> <a id="6062" href="Prelude.Preliminaries.html#11707" class="InductiveConstructor Operator">,</a> <a id="6064" href="Identity-Type.html#162" class="InductiveConstructor">refl</a>

  <a id="6072" href="Prelude.Inverses.html#6072" class="Function">fy</a> <a id="6075" class="Symbol">:</a> <a id="6077" href="MGS-Equivalences.html#501" class="Function">fiber</a> <a id="6083" href="Prelude.Inverses.html#5978" class="Bound">f</a> <a id="6085" class="Symbol">(</a><a id="6086" href="Prelude.Inverses.html#5978" class="Bound">f</a> <a id="6088" href="Prelude.Inverses.html#5985" class="Bound">x</a><a id="6089" class="Symbol">)</a>
  <a id="6093" href="Prelude.Inverses.html#6072" class="Function">fy</a> <a id="6096" class="Symbol">=</a> <a id="6098" href="Prelude.Inverses.html#5987" class="Bound">y</a> <a id="6100" href="Prelude.Preliminaries.html#11707" class="InductiveConstructor Operator">,</a> <a id="6102" class="Symbol">(</a><a id="6103" href="Prelude.Inverses.html#5989" class="Bound">fxfy</a> <a id="6108" href="MGS-MLTT.html#6125" class="Function Operator">⁻¹</a><a id="6110" class="Symbol">)</a>

</pre>


-------------------------------------

<p></p>

[← Prelude.Extensionality](Prelude.Extensionality.html)
<span style="float:right;">[Prelude.Lifts →](Prelude.Lifts.html)</span>


{% include UALib.Links.md %}


<!-- 
This is the first point at which [truncation](UALib.Preface.html#truncation) comes into play.  An [embedding](https://www.cs.bham.ac.uk/~mhe/HoTT-UF-in-Agda-Lecture-Notes/HoTT-UF-Agda.html#embeddings) is defined in the [Type Topology][] library, using the `is-subsingleton` type [described earlier](Prelude.Extensionality.html#alternative-extensionality-type), as follows.
-->
