---
layout: default
title : UALib.Prelude.Inverses module (Agda Universal Algebra Library)
date : 2021-01-12
author: William DeMeo
---

### <a id="inverses">Inverses</a>

This section presents the [UALib.Prelude.Inverses][] module of the [Agda Universal Algebra Library][].
Here we define (the syntax of) a type for the (semantic concept of) **inverse image** of a function.

<pre class="Agda">

<a id="391" class="Symbol">{-#</a> <a id="395" class="Keyword">OPTIONS</a> <a id="403" class="Pragma">--without-K</a> <a id="415" class="Pragma">--exact-split</a> <a id="429" class="Pragma">--safe</a> <a id="436" class="Symbol">#-}</a>

<a id="441" class="Keyword">module</a> <a id="448" href="Prelude.Inverses.html" class="Module">Prelude.Inverses</a> <a id="465" class="Keyword">where</a>

<a id="472" class="Comment">-- Public imports (inherited by modules importing this one)</a>
<a id="532" class="Keyword">open</a> <a id="537" class="Keyword">import</a> <a id="544" href="Prelude.Extensionality.html" class="Module">Prelude.Extensionality</a> <a id="567" class="Keyword">public</a> 

<a id="576" class="Keyword">open</a> <a id="581" class="Keyword">import</a> <a id="588" href="Identity-Type.html" class="Module">Identity-Type</a> <a id="602" class="Keyword">renaming</a> <a id="611" class="Symbol">(</a><a id="612" href="Identity-Type.html#121" class="Datatype Operator">_≡_</a> <a id="616" class="Symbol">to</a> <a id="619" class="Keyword">infix</a> <a id="625" class="Number">0</a> <a id="_≡_"></a><a id="627" href="Prelude.Inverses.html#627" class="Datatype Operator">_≡_</a> <a id="631" class="Symbol">;</a> <a id="633" href="Identity-Type.html#162" class="InductiveConstructor">refl</a> <a id="638" class="Symbol">to</a> <a id="refl"></a><a id="641" href="Prelude.Inverses.html#641" class="InductiveConstructor">𝓇ℯ𝒻𝓁</a><a id="645" class="Symbol">)</a> <a id="647" class="Keyword">public</a>
<a id="654" class="Keyword">open</a> <a id="659" class="Keyword">import</a> <a id="666" href="MGS-Subsingleton-Truncation.html" class="Module">MGS-Subsingleton-Truncation</a> <a id="694" class="Keyword">using</a> <a id="700" class="Symbol">(</a><a id="701" href="MGS-MLTT.html#5910" class="Function Operator">_∙_</a><a id="704" class="Symbol">)</a> <a id="706" class="Keyword">public</a>
<a id="713" class="Keyword">open</a> <a id="718" class="Keyword">import</a> <a id="725" href="MGS-MLTT.html" class="Module">MGS-MLTT</a> <a id="734" class="Keyword">using</a> <a id="740" class="Symbol">(</a><a id="741" href="MGS-MLTT.html#3813" class="Function Operator">_∘_</a><a id="744" class="Symbol">;</a> <a id="746" href="MGS-MLTT.html#3778" class="Function">𝑖𝑑</a><a id="748" class="Symbol">;</a> <a id="750" href="MGS-MLTT.html#6125" class="Function Operator">_⁻¹</a><a id="753" class="Symbol">;</a> <a id="755" href="MGS-MLTT.html#3944" class="Function">domain</a><a id="761" class="Symbol">;</a> <a id="763" href="MGS-MLTT.html#4021" class="Function">codomain</a><a id="771" class="Symbol">;</a> <a id="773" href="MGS-MLTT.html#4946" class="Function">transport</a><a id="782" class="Symbol">)</a> <a id="784" class="Keyword">public</a>
<a id="791" class="Keyword">open</a> <a id="796" class="Keyword">import</a> <a id="803" href="MGS-Embeddings.html" class="Module">MGS-Embeddings</a> <a id="818" class="Keyword">using</a> <a id="824" class="Symbol">(</a><a id="825" href="MGS-Basic-UF.html#7284" class="Function">to-Σ-≡</a><a id="831" class="Symbol">;</a> <a id="833" href="MGS-Equivalences.html#370" class="Function">invertible</a><a id="843" class="Symbol">;</a> <a id="845" href="MGS-Embeddings.html#1410" class="Function">equivs-are-embeddings</a><a id="866" class="Symbol">;</a> <a id="868" href="MGS-Equivalences.html#2127" class="Function">invertibles-are-equivs</a><a id="890" class="Symbol">)</a> <a id="892" class="Keyword">public</a>

<a id="900" class="Comment">-- Private imports (only visible in the current module)</a>
<a id="956" class="Comment">-- open import MGS-Subsingleton-Theorems using (funext)</a>
<a id="1012" class="Comment">-- open import MGS-Embeddings using (is-set)</a>

<a id="1058" class="Keyword">module</a> <a id="1065" href="Prelude.Inverses.html#1065" class="Module">_</a> <a id="1067" class="Symbol">{</a><a id="1068" href="Prelude.Inverses.html#1068" class="Bound">𝓤</a> <a id="1070" href="Prelude.Inverses.html#1070" class="Bound">𝓦</a> <a id="1072" class="Symbol">:</a> <a id="1074" href="Universes.html#205" class="Postulate">Universe</a><a id="1082" class="Symbol">}</a> <a id="1084" class="Keyword">where</a>


 <a id="1093" class="Keyword">data</a> <a id="1098" href="Prelude.Inverses.html#1098" class="Datatype Operator">Image_∋_</a> <a id="1107" class="Symbol">{</a><a id="1108" href="Prelude.Inverses.html#1108" class="Bound">A</a> <a id="1110" class="Symbol">:</a> <a id="1112" href="Prelude.Inverses.html#1068" class="Bound">𝓤</a> <a id="1114" href="Universes.html#403" class="Function Operator">̇</a> <a id="1116" class="Symbol">}{</a><a id="1118" href="Prelude.Inverses.html#1118" class="Bound">B</a> <a id="1120" class="Symbol">:</a> <a id="1122" href="Prelude.Inverses.html#1070" class="Bound">𝓦</a> <a id="1124" href="Universes.html#403" class="Function Operator">̇</a> <a id="1126" class="Symbol">}(</a><a id="1128" href="Prelude.Inverses.html#1128" class="Bound">f</a> <a id="1130" class="Symbol">:</a> <a id="1132" href="Prelude.Inverses.html#1108" class="Bound">A</a> <a id="1134" class="Symbol">→</a> <a id="1136" href="Prelude.Inverses.html#1118" class="Bound">B</a><a id="1137" class="Symbol">)</a> <a id="1139" class="Symbol">:</a> <a id="1141" href="Prelude.Inverses.html#1118" class="Bound">B</a> <a id="1143" class="Symbol">→</a> <a id="1145" href="Prelude.Inverses.html#1068" class="Bound">𝓤</a> <a id="1147" href="Agda.Primitive.html#636" class="Primitive Operator">⊔</a> <a id="1149" href="Prelude.Inverses.html#1070" class="Bound">𝓦</a> <a id="1151" href="Universes.html#403" class="Function Operator">̇</a>
  <a id="1155" class="Keyword">where</a>
  <a id="1163" href="Prelude.Inverses.html#1163" class="InductiveConstructor">im</a> <a id="1166" class="Symbol">:</a> <a id="1168" class="Symbol">(</a><a id="1169" href="Prelude.Inverses.html#1169" class="Bound">x</a> <a id="1171" class="Symbol">:</a> <a id="1173" href="Prelude.Inverses.html#1108" class="Bound">A</a><a id="1174" class="Symbol">)</a> <a id="1176" class="Symbol">→</a> <a id="1178" href="Prelude.Inverses.html#1098" class="Datatype Operator">Image</a> <a id="1184" href="Prelude.Inverses.html#1128" class="Bound">f</a> <a id="1186" href="Prelude.Inverses.html#1098" class="Datatype Operator">∋</a> <a id="1188" href="Prelude.Inverses.html#1128" class="Bound">f</a> <a id="1190" href="Prelude.Inverses.html#1169" class="Bound">x</a>
  <a id="1194" href="Prelude.Inverses.html#1194" class="InductiveConstructor">eq</a> <a id="1197" class="Symbol">:</a> <a id="1199" class="Symbol">(</a><a id="1200" href="Prelude.Inverses.html#1200" class="Bound">b</a> <a id="1202" class="Symbol">:</a> <a id="1204" href="Prelude.Inverses.html#1118" class="Bound">B</a><a id="1205" class="Symbol">)</a> <a id="1207" class="Symbol">→</a> <a id="1209" class="Symbol">(</a><a id="1210" href="Prelude.Inverses.html#1210" class="Bound">a</a> <a id="1212" class="Symbol">:</a> <a id="1214" href="Prelude.Inverses.html#1108" class="Bound">A</a><a id="1215" class="Symbol">)</a> <a id="1217" class="Symbol">→</a> <a id="1219" href="Prelude.Inverses.html#1200" class="Bound">b</a> <a id="1221" href="Prelude.Equality.html#1610" class="Datatype Operator">≡</a> <a id="1223" href="Prelude.Inverses.html#1128" class="Bound">f</a> <a id="1225" href="Prelude.Inverses.html#1210" class="Bound">a</a> <a id="1227" class="Symbol">→</a> <a id="1229" href="Prelude.Inverses.html#1098" class="Datatype Operator">Image</a> <a id="1235" href="Prelude.Inverses.html#1128" class="Bound">f</a> <a id="1237" href="Prelude.Inverses.html#1098" class="Datatype Operator">∋</a> <a id="1239" href="Prelude.Inverses.html#1200" class="Bound">b</a>

 <a id="1243" href="Prelude.Inverses.html#1243" class="Function">ImageIsImage</a> <a id="1256" class="Symbol">:</a> <a id="1258" class="Symbol">{</a><a id="1259" href="Prelude.Inverses.html#1259" class="Bound">A</a> <a id="1261" class="Symbol">:</a> <a id="1263" href="Prelude.Inverses.html#1068" class="Bound">𝓤</a> <a id="1265" href="Universes.html#403" class="Function Operator">̇</a> <a id="1267" class="Symbol">}{</a><a id="1269" href="Prelude.Inverses.html#1269" class="Bound">B</a> <a id="1271" class="Symbol">:</a> <a id="1273" href="Prelude.Inverses.html#1070" class="Bound">𝓦</a> <a id="1275" href="Universes.html#403" class="Function Operator">̇</a> <a id="1277" class="Symbol">}</a>
                <a id="1295" class="Symbol">(</a><a id="1296" href="Prelude.Inverses.html#1296" class="Bound">f</a> <a id="1298" class="Symbol">:</a> <a id="1300" href="Prelude.Inverses.html#1259" class="Bound">A</a> <a id="1302" class="Symbol">→</a> <a id="1304" href="Prelude.Inverses.html#1269" class="Bound">B</a><a id="1305" class="Symbol">)</a> <a id="1307" class="Symbol">(</a><a id="1308" href="Prelude.Inverses.html#1308" class="Bound">b</a> <a id="1310" class="Symbol">:</a> <a id="1312" href="Prelude.Inverses.html#1269" class="Bound">B</a><a id="1313" class="Symbol">)</a> <a id="1315" class="Symbol">(</a><a id="1316" href="Prelude.Inverses.html#1316" class="Bound">a</a> <a id="1318" class="Symbol">:</a> <a id="1320" href="Prelude.Inverses.html#1259" class="Bound">A</a><a id="1321" class="Symbol">)</a>
  <a id="1325" class="Symbol">→</a>             <a id="1339" href="Prelude.Inverses.html#1308" class="Bound">b</a> <a id="1341" href="Prelude.Equality.html#1610" class="Datatype Operator">≡</a> <a id="1343" href="Prelude.Inverses.html#1296" class="Bound">f</a> <a id="1345" href="Prelude.Inverses.html#1316" class="Bound">a</a>
                <a id="1363" class="Comment">-----------</a>
  <a id="1377" class="Symbol">→</a>             <a id="1391" href="Prelude.Inverses.html#1098" class="Datatype Operator">Image</a> <a id="1397" href="Prelude.Inverses.html#1296" class="Bound">f</a> <a id="1399" href="Prelude.Inverses.html#1098" class="Datatype Operator">∋</a> <a id="1401" href="Prelude.Inverses.html#1308" class="Bound">b</a>

 <a id="1405" href="Prelude.Inverses.html#1243" class="Function">ImageIsImage</a> <a id="1418" class="Symbol">{</a><a id="1419" href="Prelude.Inverses.html#1419" class="Bound">A</a><a id="1420" class="Symbol">}{</a><a id="1422" href="Prelude.Inverses.html#1422" class="Bound">B</a><a id="1423" class="Symbol">}</a> <a id="1425" href="Prelude.Inverses.html#1425" class="Bound">f</a> <a id="1427" href="Prelude.Inverses.html#1427" class="Bound">b</a> <a id="1429" href="Prelude.Inverses.html#1429" class="Bound">a</a> <a id="1431" href="Prelude.Inverses.html#1431" class="Bound">b≡fa</a> <a id="1436" class="Symbol">=</a> <a id="1438" href="Prelude.Inverses.html#1194" class="InductiveConstructor">eq</a> <a id="1441" href="Prelude.Inverses.html#1427" class="Bound">b</a> <a id="1443" href="Prelude.Inverses.html#1429" class="Bound">a</a> <a id="1445" href="Prelude.Inverses.html#1431" class="Bound">b≡fa</a>

</pre>

Note that an inhabitant of `Image f ∋ b` is a dependent pair `(a , p)`, where `a : A` and `p : b ≡ f a` is a proof that `f` maps `a` to `b`.  Thus, a proof that `b` belongs to the image of `f` (i.e., an inhabitant of `Image f ∋ b`), always has a witness `a : A`, and a proof that `b = f a`, so a (pseudo)inverse can actually be *computed*.

For convenience, we define a pseudo-inverse function, which we call `Inv`, that takes `b : B` and `(a , p) : Image f ∋ b` and returns `a`.

<pre class="Agda">

 <a id="1959" href="Prelude.Inverses.html#1959" class="Function">Inv</a> <a id="1963" class="Symbol">:</a> <a id="1965" class="Symbol">{</a><a id="1966" href="Prelude.Inverses.html#1966" class="Bound">A</a> <a id="1968" class="Symbol">:</a> <a id="1970" href="Prelude.Inverses.html#1068" class="Bound">𝓤</a> <a id="1972" href="Universes.html#403" class="Function Operator">̇</a> <a id="1974" class="Symbol">}{</a><a id="1976" href="Prelude.Inverses.html#1976" class="Bound">B</a> <a id="1978" class="Symbol">:</a> <a id="1980" href="Prelude.Inverses.html#1070" class="Bound">𝓦</a> <a id="1982" href="Universes.html#403" class="Function Operator">̇</a> <a id="1984" class="Symbol">}(</a><a id="1986" href="Prelude.Inverses.html#1986" class="Bound">f</a> <a id="1988" class="Symbol">:</a> <a id="1990" href="Prelude.Inverses.html#1966" class="Bound">A</a> <a id="1992" class="Symbol">→</a> <a id="1994" href="Prelude.Inverses.html#1976" class="Bound">B</a><a id="1995" class="Symbol">)(</a><a id="1997" href="Prelude.Inverses.html#1997" class="Bound">b</a> <a id="1999" class="Symbol">:</a> <a id="2001" href="Prelude.Inverses.html#1976" class="Bound">B</a><a id="2002" class="Symbol">)</a> <a id="2004" class="Symbol">→</a> <a id="2006" href="Prelude.Inverses.html#1098" class="Datatype Operator">Image</a> <a id="2012" href="Prelude.Inverses.html#1986" class="Bound">f</a> <a id="2014" href="Prelude.Inverses.html#1098" class="Datatype Operator">∋</a> <a id="2016" href="Prelude.Inverses.html#1997" class="Bound">b</a>  <a id="2019" class="Symbol">→</a>  <a id="2022" href="Prelude.Inverses.html#1966" class="Bound">A</a>
 <a id="2025" href="Prelude.Inverses.html#1959" class="Function">Inv</a> <a id="2029" href="Prelude.Inverses.html#2029" class="Bound">f</a> <a id="2031" class="DottedPattern Symbol">.(</a><a id="2033" href="Prelude.Inverses.html#2029" class="DottedPattern Bound">f</a> <a id="2035" href="Prelude.Inverses.html#2042" class="DottedPattern Bound">a</a><a id="2036" class="DottedPattern Symbol">)</a> <a id="2038" class="Symbol">(</a><a id="2039" href="Prelude.Inverses.html#1163" class="InductiveConstructor">im</a> <a id="2042" href="Prelude.Inverses.html#2042" class="Bound">a</a><a id="2043" class="Symbol">)</a> <a id="2045" class="Symbol">=</a> <a id="2047" href="Prelude.Inverses.html#2042" class="Bound">a</a>
 <a id="2050" href="Prelude.Inverses.html#1959" class="Function">Inv</a> <a id="2054" href="Prelude.Inverses.html#2054" class="Bound">f</a> <a id="2056" class="Symbol">_</a> <a id="2058" class="Symbol">(</a><a id="2059" href="Prelude.Inverses.html#1194" class="InductiveConstructor">eq</a> <a id="2062" class="Symbol">_</a> <a id="2064" href="Prelude.Inverses.html#2064" class="Bound">a</a> <a id="2066" class="Symbol">_)</a> <a id="2069" class="Symbol">=</a> <a id="2071" href="Prelude.Inverses.html#2064" class="Bound">a</a>

</pre>

Of course, we can prove that `Inv f` is really the (right-) inverse of `f`.

<pre class="Agda">

 <a id="2178" href="Prelude.Inverses.html#2178" class="Function">InvIsInv</a> <a id="2187" class="Symbol">:</a> <a id="2189" class="Symbol">{</a><a id="2190" href="Prelude.Inverses.html#2190" class="Bound">A</a> <a id="2192" class="Symbol">:</a> <a id="2194" href="Prelude.Inverses.html#1068" class="Bound">𝓤</a> <a id="2196" href="Universes.html#403" class="Function Operator">̇</a> <a id="2198" class="Symbol">}</a> <a id="2200" class="Symbol">{</a><a id="2201" href="Prelude.Inverses.html#2201" class="Bound">B</a> <a id="2203" class="Symbol">:</a> <a id="2205" href="Prelude.Inverses.html#1070" class="Bound">𝓦</a> <a id="2207" href="Universes.html#403" class="Function Operator">̇</a> <a id="2209" class="Symbol">}</a> <a id="2211" class="Symbol">(</a><a id="2212" href="Prelude.Inverses.html#2212" class="Bound">f</a> <a id="2214" class="Symbol">:</a> <a id="2216" href="Prelude.Inverses.html#2190" class="Bound">A</a> <a id="2218" class="Symbol">→</a> <a id="2220" href="Prelude.Inverses.html#2201" class="Bound">B</a><a id="2221" class="Symbol">)</a>
            <a id="2235" class="Symbol">(</a><a id="2236" href="Prelude.Inverses.html#2236" class="Bound">b</a> <a id="2238" class="Symbol">:</a> <a id="2240" href="Prelude.Inverses.html#2201" class="Bound">B</a><a id="2241" class="Symbol">)</a> <a id="2243" class="Symbol">(</a><a id="2244" href="Prelude.Inverses.html#2244" class="Bound">b∈Imgf</a> <a id="2251" class="Symbol">:</a> <a id="2253" href="Prelude.Inverses.html#1098" class="Datatype Operator">Image</a> <a id="2259" href="Prelude.Inverses.html#2212" class="Bound">f</a> <a id="2261" href="Prelude.Inverses.html#1098" class="Datatype Operator">∋</a> <a id="2263" href="Prelude.Inverses.html#2236" class="Bound">b</a><a id="2264" class="Symbol">)</a>
            <a id="2278" class="Comment">------------------------------</a>
  <a id="2311" class="Symbol">→</a>         <a id="2321" href="Prelude.Inverses.html#2212" class="Bound">f</a> <a id="2323" class="Symbol">(</a><a id="2324" href="Prelude.Inverses.html#1959" class="Function">Inv</a> <a id="2328" href="Prelude.Inverses.html#2212" class="Bound">f</a> <a id="2330" href="Prelude.Inverses.html#2236" class="Bound">b</a> <a id="2332" href="Prelude.Inverses.html#2244" class="Bound">b∈Imgf</a><a id="2338" class="Symbol">)</a> <a id="2340" href="Prelude.Equality.html#1610" class="Datatype Operator">≡</a> <a id="2342" href="Prelude.Inverses.html#2236" class="Bound">b</a>
 <a id="2345" href="Prelude.Inverses.html#2178" class="Function">InvIsInv</a> <a id="2354" href="Prelude.Inverses.html#2354" class="Bound">f</a> <a id="2356" class="DottedPattern Symbol">.(</a><a id="2358" href="Prelude.Inverses.html#2354" class="DottedPattern Bound">f</a> <a id="2360" href="Prelude.Inverses.html#2367" class="DottedPattern Bound">a</a><a id="2361" class="DottedPattern Symbol">)</a> <a id="2363" class="Symbol">(</a><a id="2364" href="Prelude.Inverses.html#1163" class="InductiveConstructor">im</a> <a id="2367" href="Prelude.Inverses.html#2367" class="Bound">a</a><a id="2368" class="Symbol">)</a> <a id="2370" class="Symbol">=</a> <a id="2372" href="Prelude.Equality.html#1645" class="InductiveConstructor">refl</a> <a id="2377" class="Symbol">_</a>
 <a id="2380" href="Prelude.Inverses.html#2178" class="Function">InvIsInv</a> <a id="2389" href="Prelude.Inverses.html#2389" class="Bound">f</a> <a id="2391" class="Symbol">_</a> <a id="2393" class="Symbol">(</a><a id="2394" href="Prelude.Inverses.html#1194" class="InductiveConstructor">eq</a> <a id="2397" class="Symbol">_</a> <a id="2399" class="Symbol">_</a> <a id="2401" href="Prelude.Inverses.html#2401" class="Bound">p</a><a id="2402" class="Symbol">)</a> <a id="2404" class="Symbol">=</a> <a id="2406" href="Prelude.Inverses.html#2401" class="Bound">p</a> <a id="2408" href="MGS-MLTT.html#6125" class="Function Operator">⁻¹</a>

</pre>





#### <a id="surjective-functions">Surjective functions</a>

An epic (or surjective) function from type `A : 𝓤 ̇` to type `B : 𝓦 ̇` is as an inhabitant of the `Epic` type, which we define as follows.

<pre class="Agda">

 <a id="2643" href="Prelude.Inverses.html#2643" class="Function">Epic</a> <a id="2648" class="Symbol">:</a> <a id="2650" class="Symbol">{</a><a id="2651" href="Prelude.Inverses.html#2651" class="Bound">A</a> <a id="2653" class="Symbol">:</a> <a id="2655" href="Prelude.Inverses.html#1068" class="Bound">𝓤</a> <a id="2657" href="Universes.html#403" class="Function Operator">̇</a> <a id="2659" class="Symbol">}</a> <a id="2661" class="Symbol">{</a><a id="2662" href="Prelude.Inverses.html#2662" class="Bound">B</a> <a id="2664" class="Symbol">:</a> <a id="2666" href="Prelude.Inverses.html#1070" class="Bound">𝓦</a> <a id="2668" href="Universes.html#403" class="Function Operator">̇</a> <a id="2670" class="Symbol">}</a> <a id="2672" class="Symbol">(</a><a id="2673" href="Prelude.Inverses.html#2673" class="Bound">g</a> <a id="2675" class="Symbol">:</a> <a id="2677" href="Prelude.Inverses.html#2651" class="Bound">A</a> <a id="2679" class="Symbol">→</a> <a id="2681" href="Prelude.Inverses.html#2662" class="Bound">B</a><a id="2682" class="Symbol">)</a> <a id="2684" class="Symbol">→</a>  <a id="2687" href="Prelude.Inverses.html#1068" class="Bound">𝓤</a> <a id="2689" href="Agda.Primitive.html#636" class="Primitive Operator">⊔</a> <a id="2691" href="Prelude.Inverses.html#1070" class="Bound">𝓦</a> <a id="2693" href="Universes.html#403" class="Function Operator">̇</a>
 <a id="2696" href="Prelude.Inverses.html#2643" class="Function">Epic</a> <a id="2701" href="Prelude.Inverses.html#2701" class="Bound">g</a> <a id="2703" class="Symbol">=</a> <a id="2705" class="Symbol">∀</a> <a id="2707" href="Prelude.Inverses.html#2707" class="Bound">y</a> <a id="2709" class="Symbol">→</a> <a id="2711" href="Prelude.Inverses.html#1098" class="Datatype Operator">Image</a> <a id="2717" href="Prelude.Inverses.html#2701" class="Bound">g</a> <a id="2719" href="Prelude.Inverses.html#1098" class="Datatype Operator">∋</a> <a id="2721" href="Prelude.Inverses.html#2707" class="Bound">y</a>

</pre>

We obtain the right-inverse (or pseudoinverse) of an epic function `f` by applying the function `EpicInv` (which we now define) to the function `f` along with a proof, `fE : Epic f`, that `f` is surjective.

<pre class="Agda">

 <a id="2959" href="Prelude.Inverses.html#2959" class="Function">EpicInv</a> <a id="2967" class="Symbol">:</a> <a id="2969" class="Symbol">{</a><a id="2970" href="Prelude.Inverses.html#2970" class="Bound">A</a> <a id="2972" class="Symbol">:</a> <a id="2974" href="Prelude.Inverses.html#1068" class="Bound">𝓤</a> <a id="2976" href="Universes.html#403" class="Function Operator">̇</a> <a id="2978" class="Symbol">}</a> <a id="2980" class="Symbol">{</a><a id="2981" href="Prelude.Inverses.html#2981" class="Bound">B</a> <a id="2983" class="Symbol">:</a> <a id="2985" href="Prelude.Inverses.html#1070" class="Bound">𝓦</a> <a id="2987" href="Universes.html#403" class="Function Operator">̇</a> <a id="2989" class="Symbol">}</a>
           <a id="3002" class="Symbol">(</a><a id="3003" href="Prelude.Inverses.html#3003" class="Bound">f</a> <a id="3005" class="Symbol">:</a> <a id="3007" href="Prelude.Inverses.html#2970" class="Bound">A</a> <a id="3009" class="Symbol">→</a> <a id="3011" href="Prelude.Inverses.html#2981" class="Bound">B</a><a id="3012" class="Symbol">)</a> <a id="3014" class="Symbol">→</a> <a id="3016" href="Prelude.Inverses.html#2643" class="Function">Epic</a> <a id="3021" href="Prelude.Inverses.html#3003" class="Bound">f</a>
           <a id="3034" class="Comment">--------------------</a>
  <a id="3057" class="Symbol">→</a>        <a id="3066" href="Prelude.Inverses.html#2981" class="Bound">B</a> <a id="3068" class="Symbol">→</a> <a id="3070" href="Prelude.Inverses.html#2970" class="Bound">A</a>

 <a id="3074" href="Prelude.Inverses.html#2959" class="Function">EpicInv</a> <a id="3082" href="Prelude.Inverses.html#3082" class="Bound">f</a> <a id="3084" href="Prelude.Inverses.html#3084" class="Bound">fE</a> <a id="3087" href="Prelude.Inverses.html#3087" class="Bound">b</a> <a id="3089" class="Symbol">=</a> <a id="3091" href="Prelude.Inverses.html#1959" class="Function">Inv</a> <a id="3095" href="Prelude.Inverses.html#3082" class="Bound">f</a> <a id="3097" href="Prelude.Inverses.html#3087" class="Bound">b</a> <a id="3099" class="Symbol">(</a><a id="3100" href="Prelude.Inverses.html#3084" class="Bound">fE</a> <a id="3103" href="Prelude.Inverses.html#3087" class="Bound">b</a><a id="3104" class="Symbol">)</a>

</pre>

The function defined by `EpicInv f fE` is indeed the right-inverse of `f`.

<pre class="Agda">

 <a id="3210" href="Prelude.Inverses.html#3210" class="Function">EpicInvIsRightInv</a> <a id="3228" class="Symbol">:</a> <a id="3230" href="MGS-FunExt-from-Univalence.html#393" class="Function">funext</a> <a id="3237" href="Prelude.Inverses.html#1070" class="Bound">𝓦</a> <a id="3239" href="Prelude.Inverses.html#1070" class="Bound">𝓦</a> <a id="3241" class="Symbol">→</a> <a id="3243" class="Symbol">{</a><a id="3244" href="Prelude.Inverses.html#3244" class="Bound">A</a> <a id="3246" class="Symbol">:</a> <a id="3248" href="Prelude.Inverses.html#1068" class="Bound">𝓤</a> <a id="3250" href="Universes.html#403" class="Function Operator">̇</a> <a id="3252" class="Symbol">}</a> <a id="3254" class="Symbol">{</a><a id="3255" href="Prelude.Inverses.html#3255" class="Bound">B</a> <a id="3257" class="Symbol">:</a> <a id="3259" href="Prelude.Inverses.html#1070" class="Bound">𝓦</a> <a id="3261" href="Universes.html#403" class="Function Operator">̇</a> <a id="3263" class="Symbol">}</a>
                     <a id="3286" class="Symbol">(</a><a id="3287" href="Prelude.Inverses.html#3287" class="Bound">f</a> <a id="3289" class="Symbol">:</a> <a id="3291" href="Prelude.Inverses.html#3244" class="Bound">A</a> <a id="3293" class="Symbol">→</a> <a id="3295" href="Prelude.Inverses.html#3255" class="Bound">B</a><a id="3296" class="Symbol">)</a>  <a id="3299" class="Symbol">(</a><a id="3300" href="Prelude.Inverses.html#3300" class="Bound">fE</a> <a id="3303" class="Symbol">:</a> <a id="3305" href="Prelude.Inverses.html#2643" class="Function">Epic</a> <a id="3310" href="Prelude.Inverses.html#3287" class="Bound">f</a><a id="3311" class="Symbol">)</a>
                     <a id="3334" class="Comment">--------------------------</a>
  <a id="3363" class="Symbol">→</a>                  <a id="3382" href="Prelude.Inverses.html#3287" class="Bound">f</a> <a id="3384" href="MGS-MLTT.html#3813" class="Function Operator">∘</a> <a id="3386" class="Symbol">(</a><a id="3387" href="Prelude.Inverses.html#2959" class="Function">EpicInv</a> <a id="3395" href="Prelude.Inverses.html#3287" class="Bound">f</a> <a id="3397" href="Prelude.Inverses.html#3300" class="Bound">fE</a><a id="3399" class="Symbol">)</a> <a id="3401" href="Prelude.Equality.html#1610" class="Datatype Operator">≡</a> <a id="3403" href="MGS-MLTT.html#3778" class="Function">𝑖𝑑</a> <a id="3406" href="Prelude.Inverses.html#3255" class="Bound">B</a>

 <a id="3410" href="Prelude.Inverses.html#3210" class="Function">EpicInvIsRightInv</a> <a id="3428" href="Prelude.Inverses.html#3428" class="Bound">fe</a> <a id="3431" href="Prelude.Inverses.html#3431" class="Bound">f</a> <a id="3433" href="Prelude.Inverses.html#3433" class="Bound">fE</a> <a id="3436" class="Symbol">=</a> <a id="3438" href="Prelude.Inverses.html#3428" class="Bound">fe</a> <a id="3441" class="Symbol">(λ</a> <a id="3444" href="Prelude.Inverses.html#3444" class="Bound">x</a> <a id="3446" class="Symbol">→</a> <a id="3448" href="Prelude.Inverses.html#2178" class="Function">InvIsInv</a> <a id="3457" href="Prelude.Inverses.html#3431" class="Bound">f</a> <a id="3459" href="Prelude.Inverses.html#3444" class="Bound">x</a> <a id="3461" class="Symbol">(</a><a id="3462" href="Prelude.Inverses.html#3433" class="Bound">fE</a> <a id="3465" href="Prelude.Inverses.html#3444" class="Bound">x</a><a id="3466" class="Symbol">))</a>

</pre>





#### <a id="injective-functions">Injective functions</a>

We say that a function `g : A → B` is monic (or injective) if we have a proof of `Monic g`, where

<pre class="Agda">

 <a id="3658" href="Prelude.Inverses.html#3658" class="Function">Monic</a> <a id="3664" class="Symbol">:</a> <a id="3666" class="Symbol">{</a><a id="3667" href="Prelude.Inverses.html#3667" class="Bound">A</a> <a id="3669" class="Symbol">:</a> <a id="3671" href="Prelude.Inverses.html#1068" class="Bound">𝓤</a> <a id="3673" href="Universes.html#403" class="Function Operator">̇</a> <a id="3675" class="Symbol">}</a> <a id="3677" class="Symbol">{</a><a id="3678" href="Prelude.Inverses.html#3678" class="Bound">B</a> <a id="3680" class="Symbol">:</a> <a id="3682" href="Prelude.Inverses.html#1070" class="Bound">𝓦</a> <a id="3684" href="Universes.html#403" class="Function Operator">̇</a> <a id="3686" class="Symbol">}(</a><a id="3688" href="Prelude.Inverses.html#3688" class="Bound">g</a> <a id="3690" class="Symbol">:</a> <a id="3692" href="Prelude.Inverses.html#3667" class="Bound">A</a> <a id="3694" class="Symbol">→</a> <a id="3696" href="Prelude.Inverses.html#3678" class="Bound">B</a><a id="3697" class="Symbol">)</a> <a id="3699" class="Symbol">→</a> <a id="3701" href="Prelude.Inverses.html#1068" class="Bound">𝓤</a> <a id="3703" href="Agda.Primitive.html#636" class="Primitive Operator">⊔</a> <a id="3705" href="Prelude.Inverses.html#1070" class="Bound">𝓦</a> <a id="3707" href="Universes.html#403" class="Function Operator">̇</a>
 <a id="3710" href="Prelude.Inverses.html#3658" class="Function">Monic</a> <a id="3716" href="Prelude.Inverses.html#3716" class="Bound">g</a> <a id="3718" class="Symbol">=</a> <a id="3720" class="Symbol">∀</a> <a id="3722" href="Prelude.Inverses.html#3722" class="Bound">a₁</a> <a id="3725" href="Prelude.Inverses.html#3725" class="Bound">a₂</a> <a id="3728" class="Symbol">→</a> <a id="3730" href="Prelude.Inverses.html#3716" class="Bound">g</a> <a id="3732" href="Prelude.Inverses.html#3722" class="Bound">a₁</a> <a id="3735" href="Prelude.Equality.html#1610" class="Datatype Operator">≡</a> <a id="3737" href="Prelude.Inverses.html#3716" class="Bound">g</a> <a id="3739" href="Prelude.Inverses.html#3725" class="Bound">a₂</a> <a id="3742" class="Symbol">→</a> <a id="3744" href="Prelude.Inverses.html#3722" class="Bound">a₁</a> <a id="3747" href="Prelude.Equality.html#1610" class="Datatype Operator">≡</a> <a id="3749" href="Prelude.Inverses.html#3725" class="Bound">a₂</a>

</pre>

Again, we obtain a pseudoinverse. Here it is obtained by applying the function `MonicInv` to `g` and a proof that `g` is monic.

<pre class="Agda">

 <a id="3909" class="Comment">--The (pseudo-)inverse of a monic function</a>
 <a id="3953" href="Prelude.Inverses.html#3953" class="Function">MonicInv</a> <a id="3962" class="Symbol">:</a> <a id="3964" class="Symbol">{</a><a id="3965" href="Prelude.Inverses.html#3965" class="Bound">A</a> <a id="3967" class="Symbol">:</a> <a id="3969" href="Prelude.Inverses.html#1068" class="Bound">𝓤</a> <a id="3971" href="Universes.html#403" class="Function Operator">̇</a> <a id="3973" class="Symbol">}{</a><a id="3975" href="Prelude.Inverses.html#3975" class="Bound">B</a> <a id="3977" class="Symbol">:</a> <a id="3979" href="Prelude.Inverses.html#1070" class="Bound">𝓦</a> <a id="3981" href="Universes.html#403" class="Function Operator">̇</a> <a id="3983" class="Symbol">}(</a><a id="3985" href="Prelude.Inverses.html#3985" class="Bound">f</a> <a id="3987" class="Symbol">:</a> <a id="3989" href="Prelude.Inverses.html#3965" class="Bound">A</a> <a id="3991" class="Symbol">→</a> <a id="3993" href="Prelude.Inverses.html#3975" class="Bound">B</a><a id="3994" class="Symbol">)</a> <a id="3996" class="Symbol">→</a> <a id="3998" href="Prelude.Inverses.html#3658" class="Function">Monic</a> <a id="4004" href="Prelude.Inverses.html#3985" class="Bound">f</a>
  <a id="4008" class="Symbol">→</a>         <a id="4018" class="Symbol">(</a><a id="4019" href="Prelude.Inverses.html#4019" class="Bound">b</a> <a id="4021" class="Symbol">:</a> <a id="4023" href="Prelude.Inverses.html#3975" class="Bound">B</a><a id="4024" class="Symbol">)</a> <a id="4026" class="Symbol">→</a> <a id="4028" href="Prelude.Inverses.html#1098" class="Datatype Operator">Image</a> <a id="4034" href="Prelude.Inverses.html#3985" class="Bound">f</a> <a id="4036" href="Prelude.Inverses.html#1098" class="Datatype Operator">∋</a> <a id="4038" href="Prelude.Inverses.html#4019" class="Bound">b</a> <a id="4040" class="Symbol">→</a> <a id="4042" href="Prelude.Inverses.html#3965" class="Bound">A</a>

 <a id="4046" href="Prelude.Inverses.html#3953" class="Function">MonicInv</a> <a id="4055" href="Prelude.Inverses.html#4055" class="Bound">f</a> <a id="4057" class="Symbol">_</a> <a id="4059" class="Symbol">=</a> <a id="4061" class="Symbol">λ</a> <a id="4063" href="Prelude.Inverses.html#4063" class="Bound">b</a> <a id="4065" href="Prelude.Inverses.html#4065" class="Bound">Imf∋b</a> <a id="4071" class="Symbol">→</a> <a id="4073" href="Prelude.Inverses.html#1959" class="Function">Inv</a> <a id="4077" href="Prelude.Inverses.html#4055" class="Bound">f</a> <a id="4079" href="Prelude.Inverses.html#4063" class="Bound">b</a> <a id="4081" href="Prelude.Inverses.html#4065" class="Bound">Imf∋b</a>

</pre>

The function defined by `MonicInv f fM` is the left-inverse of `f`.

<pre class="Agda">

 <a id="4184" class="Comment">--The (psudo-)inverse of a monic is the left inverse.</a>
 <a id="4239" href="Prelude.Inverses.html#4239" class="Function">MonicInvIsLeftInv</a> <a id="4257" class="Symbol">:</a> <a id="4259" class="Symbol">{</a><a id="4260" href="Prelude.Inverses.html#4260" class="Bound">A</a> <a id="4262" class="Symbol">:</a> <a id="4264" href="Prelude.Inverses.html#1068" class="Bound">𝓤</a> <a id="4266" href="Universes.html#403" class="Function Operator">̇</a> <a id="4268" class="Symbol">}{</a><a id="4270" href="Prelude.Inverses.html#4270" class="Bound">B</a> <a id="4272" class="Symbol">:</a> <a id="4274" href="Prelude.Inverses.html#1070" class="Bound">𝓦</a> <a id="4276" href="Universes.html#403" class="Function Operator">̇</a> <a id="4278" class="Symbol">}(</a><a id="4280" href="Prelude.Inverses.html#4280" class="Bound">f</a> <a id="4282" class="Symbol">:</a> <a id="4284" href="Prelude.Inverses.html#4260" class="Bound">A</a> <a id="4286" class="Symbol">→</a> <a id="4288" href="Prelude.Inverses.html#4270" class="Bound">B</a><a id="4289" class="Symbol">)(</a><a id="4291" href="Prelude.Inverses.html#4291" class="Bound">fmonic</a> <a id="4298" class="Symbol">:</a> <a id="4300" href="Prelude.Inverses.html#3658" class="Function">Monic</a> <a id="4306" href="Prelude.Inverses.html#4280" class="Bound">f</a><a id="4307" class="Symbol">)(</a><a id="4309" href="Prelude.Inverses.html#4309" class="Bound">x</a> <a id="4311" class="Symbol">:</a> <a id="4313" href="Prelude.Inverses.html#4260" class="Bound">A</a><a id="4314" class="Symbol">)</a>
   <a id="4319" class="Symbol">→</a>                 <a id="4337" class="Symbol">(</a><a id="4338" href="Prelude.Inverses.html#3953" class="Function">MonicInv</a> <a id="4347" href="Prelude.Inverses.html#4280" class="Bound">f</a> <a id="4349" href="Prelude.Inverses.html#4291" class="Bound">fmonic</a><a id="4355" class="Symbol">)(</a><a id="4357" href="Prelude.Inverses.html#4280" class="Bound">f</a> <a id="4359" href="Prelude.Inverses.html#4309" class="Bound">x</a><a id="4360" class="Symbol">)(</a><a id="4362" href="Prelude.Inverses.html#1163" class="InductiveConstructor">im</a> <a id="4365" href="Prelude.Inverses.html#4309" class="Bound">x</a><a id="4366" class="Symbol">)</a> <a id="4368" href="Prelude.Equality.html#1610" class="Datatype Operator">≡</a> <a id="4370" href="Prelude.Inverses.html#4309" class="Bound">x</a>

 <a id="4374" href="Prelude.Inverses.html#4239" class="Function">MonicInvIsLeftInv</a> <a id="4392" href="Prelude.Inverses.html#4392" class="Bound">f</a> <a id="4394" href="Prelude.Inverses.html#4394" class="Bound">fmonic</a> <a id="4401" href="Prelude.Inverses.html#4401" class="Bound">x</a> <a id="4403" class="Symbol">=</a> <a id="4405" href="Prelude.Equality.html#1645" class="InductiveConstructor">refl</a> <a id="4410" class="Symbol">_</a>

</pre>



#### <a id="composition-laws">Composition laws</a>

<pre class="Agda">

<a id="4493" class="Keyword">module</a> <a id="4500" href="Prelude.Inverses.html#4500" class="Module">_</a> <a id="4502" class="Symbol">{</a><a id="4503" href="Prelude.Inverses.html#4503" class="Bound">𝓧</a> <a id="4505" href="Prelude.Inverses.html#4505" class="Bound">𝓨</a> <a id="4507" href="Prelude.Inverses.html#4507" class="Bound">𝓩</a> <a id="4509" class="Symbol">:</a> <a id="4511" href="Universes.html#205" class="Postulate">Universe</a><a id="4519" class="Symbol">}</a> <a id="4521" class="Keyword">where</a>

 <a id="4529" href="Prelude.Inverses.html#4529" class="Function">epic-factor</a> <a id="4541" class="Symbol">:</a> <a id="4543" href="MGS-FunExt-from-Univalence.html#393" class="Function">funext</a> <a id="4550" href="Prelude.Inverses.html#4505" class="Bound">𝓨</a> <a id="4552" href="Prelude.Inverses.html#4505" class="Bound">𝓨</a> <a id="4554" class="Symbol">→</a> <a id="4556" class="Symbol">{</a><a id="4557" href="Prelude.Inverses.html#4557" class="Bound">A</a> <a id="4559" class="Symbol">:</a> <a id="4561" href="Prelude.Inverses.html#4503" class="Bound">𝓧</a> <a id="4563" href="Universes.html#403" class="Function Operator">̇</a><a id="4564" class="Symbol">}{</a><a id="4566" href="Prelude.Inverses.html#4566" class="Bound">B</a> <a id="4568" class="Symbol">:</a> <a id="4570" href="Prelude.Inverses.html#4505" class="Bound">𝓨</a> <a id="4572" href="Universes.html#403" class="Function Operator">̇</a><a id="4573" class="Symbol">}{</a><a id="4575" href="Prelude.Inverses.html#4575" class="Bound">C</a> <a id="4577" class="Symbol">:</a> <a id="4579" href="Prelude.Inverses.html#4507" class="Bound">𝓩</a> <a id="4581" href="Universes.html#403" class="Function Operator">̇</a><a id="4582" class="Symbol">}</a>
               <a id="4599" class="Symbol">(</a><a id="4600" href="Prelude.Inverses.html#4600" class="Bound">β</a> <a id="4602" class="Symbol">:</a> <a id="4604" href="Prelude.Inverses.html#4557" class="Bound">A</a> <a id="4606" class="Symbol">→</a> <a id="4608" href="Prelude.Inverses.html#4566" class="Bound">B</a><a id="4609" class="Symbol">)(</a><a id="4611" href="Prelude.Inverses.html#4611" class="Bound">ξ</a> <a id="4613" class="Symbol">:</a> <a id="4615" href="Prelude.Inverses.html#4557" class="Bound">A</a> <a id="4617" class="Symbol">→</a> <a id="4619" href="Prelude.Inverses.html#4575" class="Bound">C</a><a id="4620" class="Symbol">)(</a><a id="4622" href="Prelude.Inverses.html#4622" class="Bound">ϕ</a> <a id="4624" class="Symbol">:</a> <a id="4626" href="Prelude.Inverses.html#4575" class="Bound">C</a> <a id="4628" class="Symbol">→</a> <a id="4630" href="Prelude.Inverses.html#4566" class="Bound">B</a><a id="4631" class="Symbol">)</a>
  <a id="4635" class="Symbol">→</a>            <a id="4648" href="Prelude.Inverses.html#4600" class="Bound">β</a> <a id="4650" href="Prelude.Equality.html#1610" class="Datatype Operator">≡</a> <a id="4652" href="Prelude.Inverses.html#4622" class="Bound">ϕ</a> <a id="4654" href="MGS-MLTT.html#3813" class="Function Operator">∘</a> <a id="4656" href="Prelude.Inverses.html#4611" class="Bound">ξ</a> <a id="4658" class="Symbol">→</a>  <a id="4661" href="Prelude.Inverses.html#2643" class="Function">Epic</a> <a id="4666" href="Prelude.Inverses.html#4600" class="Bound">β</a> <a id="4668" class="Symbol">→</a> <a id="4670" href="Prelude.Inverses.html#2643" class="Function">Epic</a> <a id="4675" href="Prelude.Inverses.html#4622" class="Bound">ϕ</a>

 <a id="4679" href="Prelude.Inverses.html#4529" class="Function">epic-factor</a> <a id="4691" href="Prelude.Inverses.html#4691" class="Bound">fe</a> <a id="4694" class="Symbol">{</a><a id="4695" href="Prelude.Inverses.html#4695" class="Bound">A</a><a id="4696" class="Symbol">}{</a><a id="4698" href="Prelude.Inverses.html#4698" class="Bound">B</a><a id="4699" class="Symbol">}{</a><a id="4701" href="Prelude.Inverses.html#4701" class="Bound">C</a><a id="4702" class="Symbol">}</a> <a id="4704" href="Prelude.Inverses.html#4704" class="Bound">β</a> <a id="4706" href="Prelude.Inverses.html#4706" class="Bound">ξ</a> <a id="4708" href="Prelude.Inverses.html#4708" class="Bound">ϕ</a> <a id="4710" href="Prelude.Inverses.html#4710" class="Bound">compId</a> <a id="4717" href="Prelude.Inverses.html#4717" class="Bound">βe</a> <a id="4720" href="Prelude.Inverses.html#4720" class="Bound">y</a> <a id="4722" class="Symbol">=</a> <a id="4724" href="Prelude.Inverses.html#4924" class="Function">γ</a>
  <a id="4728" class="Keyword">where</a>
   <a id="4737" href="Prelude.Inverses.html#4737" class="Function">βinv</a> <a id="4742" class="Symbol">:</a> <a id="4744" href="Prelude.Inverses.html#4698" class="Bound">B</a> <a id="4746" class="Symbol">→</a> <a id="4748" href="Prelude.Inverses.html#4695" class="Bound">A</a>
   <a id="4753" href="Prelude.Inverses.html#4737" class="Function">βinv</a> <a id="4758" class="Symbol">=</a> <a id="4760" href="Prelude.Inverses.html#2959" class="Function">EpicInv</a> <a id="4768" href="Prelude.Inverses.html#4704" class="Bound">β</a> <a id="4770" href="Prelude.Inverses.html#4717" class="Bound">βe</a>

   <a id="4777" href="Prelude.Inverses.html#4777" class="Function">ζ</a> <a id="4779" class="Symbol">:</a> <a id="4781" href="Prelude.Inverses.html#4704" class="Bound">β</a> <a id="4783" class="Symbol">(</a><a id="4784" href="Prelude.Inverses.html#4737" class="Function">βinv</a> <a id="4789" href="Prelude.Inverses.html#4720" class="Bound">y</a><a id="4790" class="Symbol">)</a> <a id="4792" href="Prelude.Equality.html#1610" class="Datatype Operator">≡</a> <a id="4794" href="Prelude.Inverses.html#4720" class="Bound">y</a>
   <a id="4799" href="Prelude.Inverses.html#4777" class="Function">ζ</a> <a id="4801" class="Symbol">=</a> <a id="4803" href="MGS-MLTT.html#6613" class="Function">ap</a> <a id="4806" class="Symbol">(λ</a> <a id="4809" href="Prelude.Inverses.html#4809" class="Bound">-</a> <a id="4811" class="Symbol">→</a> <a id="4813" href="Prelude.Inverses.html#4809" class="Bound">-</a> <a id="4815" href="Prelude.Inverses.html#4720" class="Bound">y</a><a id="4816" class="Symbol">)</a> <a id="4818" class="Symbol">(</a><a id="4819" href="Prelude.Inverses.html#3210" class="Function">EpicInvIsRightInv</a> <a id="4837" href="Prelude.Inverses.html#4691" class="Bound">fe</a> <a id="4840" href="Prelude.Inverses.html#4704" class="Bound">β</a> <a id="4842" href="Prelude.Inverses.html#4717" class="Bound">βe</a><a id="4844" class="Symbol">)</a>
   <a id="4849" href="Prelude.Inverses.html#4849" class="Function">η</a> <a id="4851" class="Symbol">:</a> <a id="4853" class="Symbol">(</a><a id="4854" href="Prelude.Inverses.html#4708" class="Bound">ϕ</a> <a id="4856" href="MGS-MLTT.html#3813" class="Function Operator">∘</a> <a id="4858" href="Prelude.Inverses.html#4706" class="Bound">ξ</a><a id="4859" class="Symbol">)</a> <a id="4861" class="Symbol">(</a><a id="4862" href="Prelude.Inverses.html#4737" class="Function">βinv</a> <a id="4867" href="Prelude.Inverses.html#4720" class="Bound">y</a><a id="4868" class="Symbol">)</a> <a id="4870" href="Prelude.Equality.html#1610" class="Datatype Operator">≡</a> <a id="4872" href="Prelude.Inverses.html#4720" class="Bound">y</a>
   <a id="4877" href="Prelude.Inverses.html#4849" class="Function">η</a> <a id="4879" class="Symbol">=</a> <a id="4881" class="Symbol">(</a><a id="4882" href="MGS-MLTT.html#6613" class="Function">ap</a> <a id="4885" class="Symbol">(λ</a> <a id="4888" href="Prelude.Inverses.html#4888" class="Bound">-</a> <a id="4890" class="Symbol">→</a> <a id="4892" href="Prelude.Inverses.html#4888" class="Bound">-</a> <a id="4894" class="Symbol">(</a><a id="4895" href="Prelude.Inverses.html#4737" class="Function">βinv</a> <a id="4900" href="Prelude.Inverses.html#4720" class="Bound">y</a><a id="4901" class="Symbol">))</a> <a id="4904" class="Symbol">(</a><a id="4905" href="Prelude.Inverses.html#4710" class="Bound">compId</a> <a id="4912" href="MGS-MLTT.html#6125" class="Function Operator">⁻¹</a><a id="4914" class="Symbol">))</a> <a id="4917" href="MGS-MLTT.html#5910" class="Function Operator">∙</a> <a id="4919" href="Prelude.Inverses.html#4777" class="Function">ζ</a>
   <a id="4924" href="Prelude.Inverses.html#4924" class="Function">γ</a> <a id="4926" class="Symbol">:</a> <a id="4928" href="Prelude.Inverses.html#1098" class="Datatype Operator">Image</a> <a id="4934" href="Prelude.Inverses.html#4708" class="Bound">ϕ</a> <a id="4936" href="Prelude.Inverses.html#1098" class="Datatype Operator">∋</a> <a id="4938" href="Prelude.Inverses.html#4720" class="Bound">y</a>
   <a id="4943" href="Prelude.Inverses.html#4924" class="Function">γ</a> <a id="4945" class="Symbol">=</a> <a id="4947" href="Prelude.Inverses.html#1194" class="InductiveConstructor">eq</a> <a id="4950" href="Prelude.Inverses.html#4720" class="Bound">y</a> <a id="4952" class="Symbol">(</a><a id="4953" href="Prelude.Inverses.html#4706" class="Bound">ξ</a> <a id="4955" class="Symbol">(</a><a id="4956" href="Prelude.Inverses.html#4737" class="Function">βinv</a> <a id="4961" href="Prelude.Inverses.html#4720" class="Bound">y</a><a id="4962" class="Symbol">))</a> <a id="4965" class="Symbol">(</a><a id="4966" href="Prelude.Inverses.html#4849" class="Function">η</a> <a id="4968" href="MGS-MLTT.html#6125" class="Function Operator">⁻¹</a><a id="4970" class="Symbol">)</a>

</pre>





#### Injective functions are set embeddings

This is the first point at which [truncation](UALib.Preface.html#truncation) comes into play.  An [embedding](https://www.cs.bham.ac.uk/~mhe/HoTT-UF-in-Agda-Lecture-Notes/HoTT-UF-Agda.html#embeddings) is defined in the [Type Topology][] library as follows.<sup>[1](Prelude.Inverses.html#fn1</sup> This requires the types from the `MGS-Equivalences` of the [Type Topology][] that we introduced in the last module ([Prelude.Extensionality][]).


Finally, the type `is-embedding f` will denotes the assertion that `f` is a function all of whose fibers are subsingletons.

<pre class="Agda">
<a id="5616" class="Keyword">module</a> <a id="hide-is-embedding"></a><a id="5623" href="Prelude.Inverses.html#5623" class="Module">hide-is-embedding</a> <a id="5641" class="Symbol">{</a><a id="5642" href="Prelude.Inverses.html#5642" class="Bound">𝓤</a> <a id="5644" href="Prelude.Inverses.html#5644" class="Bound">𝓦</a> <a id="5646" class="Symbol">:</a> <a id="5648" href="Universes.html#205" class="Postulate">Universe</a><a id="5656" class="Symbol">}</a> <a id="5658" class="Keyword">where</a>

 <a id="hide-is-embedding.is-embedding"></a><a id="5666" href="Prelude.Inverses.html#5666" class="Function">is-embedding</a> <a id="5679" class="Symbol">:</a> <a id="5681" class="Symbol">{</a><a id="5682" href="Prelude.Inverses.html#5682" class="Bound">X</a> <a id="5684" class="Symbol">:</a> <a id="5686" href="Prelude.Inverses.html#5642" class="Bound">𝓤</a> <a id="5688" href="Universes.html#403" class="Function Operator">̇</a> <a id="5690" class="Symbol">}</a> <a id="5692" class="Symbol">{</a><a id="5693" href="Prelude.Inverses.html#5693" class="Bound">Y</a> <a id="5695" class="Symbol">:</a> <a id="5697" href="Prelude.Inverses.html#5644" class="Bound">𝓦</a> <a id="5699" href="Universes.html#403" class="Function Operator">̇</a> <a id="5701" class="Symbol">}</a> <a id="5703" class="Symbol">→</a> <a id="5705" class="Symbol">(</a><a id="5706" href="Prelude.Inverses.html#5682" class="Bound">X</a> <a id="5708" class="Symbol">→</a> <a id="5710" href="Prelude.Inverses.html#5693" class="Bound">Y</a><a id="5711" class="Symbol">)</a> <a id="5713" class="Symbol">→</a> <a id="5715" href="Prelude.Inverses.html#5642" class="Bound">𝓤</a> <a id="5717" href="Agda.Primitive.html#636" class="Primitive Operator">⊔</a> <a id="5719" href="Prelude.Inverses.html#5644" class="Bound">𝓦</a> <a id="5721" href="Universes.html#403" class="Function Operator">̇</a>
 <a id="5724" href="Prelude.Inverses.html#5666" class="Function">is-embedding</a> <a id="5737" href="Prelude.Inverses.html#5737" class="Bound">f</a> <a id="5739" class="Symbol">=</a> <a id="5741" class="Symbol">(</a><a id="5742" href="Prelude.Inverses.html#5742" class="Bound">y</a> <a id="5744" class="Symbol">:</a> <a id="5746" href="MGS-MLTT.html#4021" class="Function">codomain</a> <a id="5755" href="Prelude.Inverses.html#5737" class="Bound">f</a><a id="5756" class="Symbol">)</a> <a id="5758" class="Symbol">→</a> <a id="5760" href="MGS-Basic-UF.html#743" class="Function">is-subsingleton</a> <a id="5776" class="Symbol">(</a><a id="5777" href="MGS-Equivalences.html#501" class="Function">fiber</a> <a id="5783" href="Prelude.Inverses.html#5737" class="Bound">f</a> <a id="5785" href="Prelude.Inverses.html#5742" class="Bound">y</a><a id="5786" class="Symbol">)</a>

</pre>

This is a natural way to represent what we usually mean in mathematics by embedding.  Observe that an embedding does not simply correspond to an injective map.  However, if we assume that the codomain `B` has unique identity proofs (i.e., is a set), then we can prove that a monic function into `B` is an embedding. We will do so in the [Relations.Truncation][] module when we take up the topic of sets in some detail.

Of course, invertible maps are embeddings.

<pre class="Agda">

<a id="6279" class="Keyword">open</a> <a id="6284" class="Keyword">import</a> <a id="6291" href="MGS-Embeddings.html" class="Module">MGS-Embeddings</a> <a id="6306" class="Keyword">using</a> <a id="6312" class="Symbol">(</a><a id="6313" href="MGS-Embeddings.html#384" class="Function">is-embedding</a><a id="6325" class="Symbol">)</a> <a id="6327" class="Keyword">public</a>

<a id="invertibles-are-embeddings"></a><a id="6335" href="Prelude.Inverses.html#6335" class="Function">invertibles-are-embeddings</a> <a id="6362" class="Symbol">:</a> <a id="6364" class="Symbol">{</a><a id="6365" href="Prelude.Inverses.html#6365" class="Bound">𝓧</a> <a id="6367" href="Prelude.Inverses.html#6367" class="Bound">𝓨</a> <a id="6369" class="Symbol">:</a> <a id="6371" href="Universes.html#205" class="Postulate">Universe</a><a id="6379" class="Symbol">}</a>
                             <a id="6410" class="Symbol">{</a><a id="6411" href="Prelude.Inverses.html#6411" class="Bound">X</a> <a id="6413" class="Symbol">:</a> <a id="6415" href="Prelude.Inverses.html#6365" class="Bound">𝓧</a> <a id="6417" href="Universes.html#403" class="Function Operator">̇</a><a id="6418" class="Symbol">}</a> <a id="6420" class="Symbol">{</a><a id="6421" href="Prelude.Inverses.html#6421" class="Bound">Y</a> <a id="6423" class="Symbol">:</a> <a id="6425" href="Prelude.Inverses.html#6367" class="Bound">𝓨</a> <a id="6427" href="Universes.html#403" class="Function Operator">̇</a><a id="6428" class="Symbol">}</a> <a id="6430" class="Symbol">(</a><a id="6431" href="Prelude.Inverses.html#6431" class="Bound">f</a> <a id="6433" class="Symbol">:</a> <a id="6435" href="Prelude.Inverses.html#6411" class="Bound">X</a> <a id="6437" class="Symbol">→</a> <a id="6439" href="Prelude.Inverses.html#6421" class="Bound">Y</a><a id="6440" class="Symbol">)</a>
 <a id="6443" class="Symbol">→</a>                           <a id="6471" href="MGS-Equivalences.html#370" class="Function">invertible</a> <a id="6482" href="Prelude.Inverses.html#6431" class="Bound">f</a> <a id="6484" class="Symbol">→</a> <a id="6486" href="MGS-Embeddings.html#384" class="Function">is-embedding</a> <a id="6499" href="Prelude.Inverses.html#6431" class="Bound">f</a>

<a id="6502" href="Prelude.Inverses.html#6335" class="Function">invertibles-are-embeddings</a> <a id="6529" href="Prelude.Inverses.html#6529" class="Bound">f</a> <a id="6531" href="Prelude.Inverses.html#6531" class="Bound">fi</a> <a id="6534" class="Symbol">=</a> <a id="6536" href="MGS-Embeddings.html#1410" class="Function">equivs-are-embeddings</a> <a id="6558" href="Prelude.Inverses.html#6529" class="Bound">f</a> <a id="6560" class="Symbol">(</a><a id="6561" href="MGS-Equivalences.html#2127" class="Function">invertibles-are-equivs</a> <a id="6584" href="Prelude.Inverses.html#6529" class="Bound">f</a> <a id="6586" href="Prelude.Inverses.html#6531" class="Bound">fi</a><a id="6588" class="Symbol">)</a>

</pre>

Finally, if we have a proof `p : is-embedding f` that the map `f` is an embedding, here's a tool that can make it easier to apply `p`.  We will use the `fiber` type of the [Type Topology][] library, which is defined as follows.



<pre class="Agda">

<a id="6848" class="Keyword">open</a> <a id="6853" class="Keyword">import</a> <a id="6860" href="MGS-Subsingleton-Truncation.html" class="Module">MGS-Subsingleton-Truncation</a> <a id="6888" class="Keyword">using</a> <a id="6894" class="Symbol">(</a><a id="6895" href="MGS-Equivalences.html#501" class="Function">fiber</a><a id="6900" class="Symbol">)</a> <a id="6902" class="Keyword">public</a>

<a id="embedding-elim"></a><a id="6910" href="Prelude.Inverses.html#6910" class="Function">embedding-elim</a> <a id="6925" class="Symbol">:</a> <a id="6927" class="Symbol">{</a><a id="6928" href="Prelude.Inverses.html#6928" class="Bound">𝓧</a> <a id="6930" href="Prelude.Inverses.html#6930" class="Bound">𝓨</a> <a id="6932" class="Symbol">:</a> <a id="6934" href="Universes.html#205" class="Postulate">Universe</a><a id="6942" class="Symbol">}{</a><a id="6944" href="Prelude.Inverses.html#6944" class="Bound">X</a> <a id="6946" class="Symbol">:</a> <a id="6948" href="Prelude.Inverses.html#6928" class="Bound">𝓧</a> <a id="6950" href="Universes.html#403" class="Function Operator">̇</a><a id="6951" class="Symbol">}</a> <a id="6953" class="Symbol">{</a><a id="6954" href="Prelude.Inverses.html#6954" class="Bound">Y</a> <a id="6956" class="Symbol">:</a> <a id="6958" href="Prelude.Inverses.html#6930" class="Bound">𝓨</a> <a id="6960" href="Universes.html#403" class="Function Operator">̇</a><a id="6961" class="Symbol">}</a>
                 <a id="6980" class="Symbol">(</a><a id="6981" href="Prelude.Inverses.html#6981" class="Bound">f</a> <a id="6983" class="Symbol">:</a> <a id="6985" href="Prelude.Inverses.html#6944" class="Bound">X</a> <a id="6987" class="Symbol">→</a> <a id="6989" href="Prelude.Inverses.html#6954" class="Bound">Y</a><a id="6990" class="Symbol">)</a> <a id="6992" class="Symbol">→</a> <a id="6994" href="MGS-Embeddings.html#384" class="Function">is-embedding</a> <a id="7007" href="Prelude.Inverses.html#6981" class="Bound">f</a>
 <a id="7010" class="Symbol">→</a>               <a id="7026" class="Symbol">∀</a> <a id="7028" href="Prelude.Inverses.html#7028" class="Bound">x</a> <a id="7030" href="Prelude.Inverses.html#7030" class="Bound">x&#39;</a> <a id="7033" class="Symbol">→</a> <a id="7035" href="Prelude.Inverses.html#6981" class="Bound">f</a> <a id="7037" href="Prelude.Inverses.html#7028" class="Bound">x</a> <a id="7039" href="Prelude.Equality.html#1610" class="Datatype Operator">≡</a> <a id="7041" href="Prelude.Inverses.html#6981" class="Bound">f</a> <a id="7043" href="Prelude.Inverses.html#7030" class="Bound">x&#39;</a> <a id="7046" class="Symbol">→</a> <a id="7048" href="Prelude.Inverses.html#7028" class="Bound">x</a> <a id="7050" href="Prelude.Equality.html#1610" class="Datatype Operator">≡</a> <a id="7052" href="Prelude.Inverses.html#7030" class="Bound">x&#39;</a>

<a id="7056" href="Prelude.Inverses.html#6910" class="Function">embedding-elim</a> <a id="7071" href="Prelude.Inverses.html#7071" class="Bound">f</a> <a id="7073" href="Prelude.Inverses.html#7073" class="Bound">femb</a> <a id="7078" href="Prelude.Inverses.html#7078" class="Bound">x</a> <a id="7080" href="Prelude.Inverses.html#7080" class="Bound">x&#39;</a> <a id="7083" href="Prelude.Inverses.html#7083" class="Bound">fxfx&#39;</a> <a id="7089" class="Symbol">=</a> <a id="7091" href="MGS-MLTT.html#6613" class="Function">ap</a> <a id="7094" href="MGS-MLTT.html#2942" class="Function">pr₁</a> <a id="7098" class="Symbol">((</a><a id="7100" href="Prelude.Inverses.html#7073" class="Bound">femb</a> <a id="7105" class="Symbol">(</a><a id="7106" href="Prelude.Inverses.html#7071" class="Bound">f</a> <a id="7108" href="Prelude.Inverses.html#7078" class="Bound">x</a><a id="7109" class="Symbol">))</a> <a id="7112" href="Prelude.Inverses.html#7128" class="Function">fa</a> <a id="7115" href="Prelude.Inverses.html#7166" class="Function">fb</a><a id="7117" class="Symbol">)</a>
 <a id="7120" class="Keyword">where</a>
  <a id="7128" href="Prelude.Inverses.html#7128" class="Function">fa</a> <a id="7131" class="Symbol">:</a> <a id="7133" href="MGS-Equivalences.html#501" class="Function">fiber</a> <a id="7139" href="Prelude.Inverses.html#7071" class="Bound">f</a> <a id="7141" class="Symbol">(</a><a id="7142" href="Prelude.Inverses.html#7071" class="Bound">f</a> <a id="7144" href="Prelude.Inverses.html#7078" class="Bound">x</a><a id="7145" class="Symbol">)</a>
  <a id="7149" href="Prelude.Inverses.html#7128" class="Function">fa</a> <a id="7152" class="Symbol">=</a> <a id="7154" href="Prelude.Inverses.html#7078" class="Bound">x</a> <a id="7156" href="MGS-MLTT.html#2929" class="InductiveConstructor Operator">,</a> <a id="7158" href="Prelude.Equality.html#1624" class="InductiveConstructor">𝓇ℯ𝒻𝓁</a>

  <a id="7166" href="Prelude.Inverses.html#7166" class="Function">fb</a> <a id="7169" class="Symbol">:</a> <a id="7171" href="MGS-Equivalences.html#501" class="Function">fiber</a> <a id="7177" href="Prelude.Inverses.html#7071" class="Bound">f</a> <a id="7179" class="Symbol">(</a><a id="7180" href="Prelude.Inverses.html#7071" class="Bound">f</a> <a id="7182" href="Prelude.Inverses.html#7078" class="Bound">x</a><a id="7183" class="Symbol">)</a>
  <a id="7187" href="Prelude.Inverses.html#7166" class="Function">fb</a> <a id="7190" class="Symbol">=</a> <a id="7192" href="Prelude.Inverses.html#7080" class="Bound">x&#39;</a> <a id="7195" href="MGS-MLTT.html#2929" class="InductiveConstructor Operator">,</a> <a id="7197" class="Symbol">(</a><a id="7198" href="Prelude.Inverses.html#7083" class="Bound">fxfx&#39;</a> <a id="7204" href="MGS-MLTT.html#6125" class="Function Operator">⁻¹</a><a id="7206" class="Symbol">)</a>

</pre>


-------------------------------------

<sup>1</sup><span class="footnote" id="fn1">Whenever we wish to hide some code from the rest of the development, we will enclose it in a module called `hidden.` In this case, we don't want the code inside the `hidden` module to conflict with the original definitions of these functions from Escardo's Type Topology library, which we will import later.  As long as we don't invoke `open hidden`, the code inside the `hidden` model remains essentially hidden (for the purposes of resolving conflicts, though Agda *will* type-check the code).</span>


-----------------------------------

[← Prelude.Extensionality](Prelude.Extensionality.html)
<span style="float:right;">[Prelude.Lifts →](Prelude.Lifts.html)</span>





{% include UALib.Links.md %}












<!-- Unused stuff ------------

#### <a id="neutral-elements">Neutral elements</a>

The next three lemmas appeared in the `UF-Base` and `UF-Equiv` modules which were (at one time) part of Matin Escsardo's UF Agda repository.


refl-left-neutral : {𝓧 : Universe} {X : 𝓧 ̇ } {x y : X} (p : x ≡ y) → (refl _) ∙ p ≡ p
refl-left-neutral (refl _) = refl _

refl-right-neutral : {𝓧 : Universe}{X : 𝓧 ̇ } {x y : X} (p : x ≡ y) → p ≡ p ∙ (refl _)
refl-right-neutral p = refl _

identifications-in-fibers : {𝓧 𝓨 : Universe} {X : 𝓧 ̇ } {Y : 𝓨 ̇ } (f : X → Y)
                            (y : Y) (x x' : X) (p : f x ≡ y) (p' : f x' ≡ y)
 →                          (Σ γ ꞉ x ≡ x' , ap f γ ∙ p' ≡ p) → (x , p) ≡ (x' , p')
identifications-in-fibers f .(f x) x .x 𝓇ℯ𝒻𝓁 p' (𝓇ℯ𝒻𝓁 , r) = g
 where
  g : x , 𝓇ℯ𝒻𝓁 ≡ x , p'
  g = ap (λ - → (x , -)) (r ⁻¹ ∙ refl-left-neutral _)

-->
