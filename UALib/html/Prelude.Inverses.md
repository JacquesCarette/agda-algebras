---
layout: default
title : UALib.Prelude.Inverses module (Agda Universal Algebra Library)
date : 2021-01-12
author: William DeMeo
---

### <a id="inverses">Inverses</a>

This is the [UALib.Prelude.Inverses][] module of the [Agda Universal Algebra Library][].

<pre class="Agda">

<a id="276" class="Symbol">{-#</a> <a id="280" class="Keyword">OPTIONS</a> <a id="288" class="Pragma">--without-K</a> <a id="300" class="Pragma">--exact-split</a> <a id="314" class="Pragma">--safe</a> <a id="321" class="Symbol">#-}</a>

<a id="326" class="Keyword">module</a> <a id="333" href="Prelude.Inverses.html" class="Module">Prelude.Inverses</a> <a id="350" class="Keyword">where</a>

<a id="357" class="Keyword">open</a> <a id="362" class="Keyword">import</a> <a id="369" href="Prelude.Extensionality.html" class="Module">Prelude.Extensionality</a> <a id="392" class="Keyword">public</a>

<a id="400" class="Keyword">open</a> <a id="405" class="Keyword">import</a> <a id="412" href="MGS-Embeddings.html" class="Module">MGS-Embeddings</a>
 <a id="428" class="Keyword">using</a> <a id="434" class="Symbol">(</a><a id="435" href="MGS-Embeddings.html#1410" class="Function">equivs-are-embeddings</a><a id="456" class="Symbol">;</a> <a id="458" href="MGS-Equivalences.html#370" class="Function">invertible</a><a id="468" class="Symbol">;</a> <a id="470" href="MGS-Equivalences.html#2127" class="Function">invertibles-are-equivs</a><a id="492" class="Symbol">)</a> <a id="494" class="Keyword">public</a>

</pre>

We begin by defining an inductive type that represents the semantic concept of **inverse image** of a function.

<pre class="Agda">

<a id="641" class="Keyword">module</a> <a id="648" href="Prelude.Inverses.html#648" class="Module">_</a> <a id="650" class="Symbol">{</a><a id="651" href="Prelude.Inverses.html#651" class="Bound">𝓤</a> <a id="653" href="Prelude.Inverses.html#653" class="Bound">𝓦</a> <a id="655" class="Symbol">:</a> <a id="657" href="Agda.Primitive.html#423" class="Postulate">Universe</a><a id="665" class="Symbol">}</a> <a id="667" class="Keyword">where</a>

 <a id="675" class="Keyword">data</a> <a id="680" href="Prelude.Inverses.html#680" class="Datatype Operator">Image_∋_</a> <a id="689" class="Symbol">{</a><a id="690" href="Prelude.Inverses.html#690" class="Bound">A</a> <a id="692" class="Symbol">:</a> <a id="694" href="Prelude.Inverses.html#651" class="Bound">𝓤</a> <a id="696" href="Universes.html#403" class="Function Operator">̇</a> <a id="698" class="Symbol">}{</a><a id="700" href="Prelude.Inverses.html#700" class="Bound">B</a> <a id="702" class="Symbol">:</a> <a id="704" href="Prelude.Inverses.html#653" class="Bound">𝓦</a> <a id="706" href="Universes.html#403" class="Function Operator">̇</a> <a id="708" class="Symbol">}(</a><a id="710" href="Prelude.Inverses.html#710" class="Bound">f</a> <a id="712" class="Symbol">:</a> <a id="714" href="Prelude.Inverses.html#690" class="Bound">A</a> <a id="716" class="Symbol">→</a> <a id="718" href="Prelude.Inverses.html#700" class="Bound">B</a><a id="719" class="Symbol">)</a> <a id="721" class="Symbol">:</a> <a id="723" href="Prelude.Inverses.html#700" class="Bound">B</a> <a id="725" class="Symbol">→</a> <a id="727" href="Prelude.Inverses.html#651" class="Bound">𝓤</a> <a id="729" href="Agda.Primitive.html#636" class="Primitive Operator">⊔</a> <a id="731" href="Prelude.Inverses.html#653" class="Bound">𝓦</a> <a id="733" href="Universes.html#403" class="Function Operator">̇</a>
  <a id="737" class="Keyword">where</a>
  <a id="745" href="Prelude.Inverses.html#745" class="InductiveConstructor">im</a> <a id="748" class="Symbol">:</a> <a id="750" class="Symbol">(</a><a id="751" href="Prelude.Inverses.html#751" class="Bound">x</a> <a id="753" class="Symbol">:</a> <a id="755" href="Prelude.Inverses.html#690" class="Bound">A</a><a id="756" class="Symbol">)</a> <a id="758" class="Symbol">→</a> <a id="760" href="Prelude.Inverses.html#680" class="Datatype Operator">Image</a> <a id="766" href="Prelude.Inverses.html#710" class="Bound">f</a> <a id="768" href="Prelude.Inverses.html#680" class="Datatype Operator">∋</a> <a id="770" href="Prelude.Inverses.html#710" class="Bound">f</a> <a id="772" href="Prelude.Inverses.html#751" class="Bound">x</a>
  <a id="776" href="Prelude.Inverses.html#776" class="InductiveConstructor">eq</a> <a id="779" class="Symbol">:</a> <a id="781" class="Symbol">(</a><a id="782" href="Prelude.Inverses.html#782" class="Bound">b</a> <a id="784" class="Symbol">:</a> <a id="786" href="Prelude.Inverses.html#700" class="Bound">B</a><a id="787" class="Symbol">)</a> <a id="789" class="Symbol">→</a> <a id="791" class="Symbol">(</a><a id="792" href="Prelude.Inverses.html#792" class="Bound">a</a> <a id="794" class="Symbol">:</a> <a id="796" href="Prelude.Inverses.html#690" class="Bound">A</a><a id="797" class="Symbol">)</a> <a id="799" class="Symbol">→</a> <a id="801" href="Prelude.Inverses.html#782" class="Bound">b</a> <a id="803" href="Prelude.Equality.html#2570" class="Datatype Operator">≡</a> <a id="805" href="Prelude.Inverses.html#710" class="Bound">f</a> <a id="807" href="Prelude.Inverses.html#792" class="Bound">a</a> <a id="809" class="Symbol">→</a> <a id="811" href="Prelude.Inverses.html#680" class="Datatype Operator">Image</a> <a id="817" href="Prelude.Inverses.html#710" class="Bound">f</a> <a id="819" href="Prelude.Inverses.html#680" class="Datatype Operator">∋</a> <a id="821" href="Prelude.Inverses.html#782" class="Bound">b</a>


<a id="825" class="Keyword">module</a> <a id="832" href="Prelude.Inverses.html#832" class="Module">_</a> <a id="834" class="Symbol">{</a><a id="835" href="Prelude.Inverses.html#835" class="Bound">𝓤</a> <a id="837" href="Prelude.Inverses.html#837" class="Bound">𝓦</a> <a id="839" class="Symbol">:</a> <a id="841" href="Agda.Primitive.html#423" class="Postulate">Universe</a><a id="849" class="Symbol">}{</a><a id="851" href="Prelude.Inverses.html#851" class="Bound">A</a> <a id="853" class="Symbol">:</a> <a id="855" href="Prelude.Inverses.html#835" class="Bound">𝓤</a> <a id="857" href="Universes.html#403" class="Function Operator">̇</a><a id="858" class="Symbol">}{</a><a id="860" href="Prelude.Inverses.html#860" class="Bound">B</a> <a id="862" class="Symbol">:</a> <a id="864" href="Prelude.Inverses.html#837" class="Bound">𝓦</a> <a id="866" href="Universes.html#403" class="Function Operator">̇</a><a id="867" class="Symbol">}</a> <a id="869" class="Keyword">where</a>
</pre>

Next we verify that the type just defined is what we expect.

<pre class="Agda">

 <a id="964" href="Prelude.Inverses.html#964" class="Function">ImageIsImage</a> <a id="977" class="Symbol">:</a> <a id="979" class="Symbol">(</a><a id="980" href="Prelude.Inverses.html#980" class="Bound">f</a> <a id="982" class="Symbol">:</a> <a id="984" href="Prelude.Inverses.html#851" class="Bound">A</a> <a id="986" class="Symbol">→</a> <a id="988" href="Prelude.Inverses.html#860" class="Bound">B</a><a id="989" class="Symbol">)(</a><a id="991" href="Prelude.Inverses.html#991" class="Bound">b</a> <a id="993" class="Symbol">:</a> <a id="995" href="Prelude.Inverses.html#860" class="Bound">B</a><a id="996" class="Symbol">)(</a><a id="998" href="Prelude.Inverses.html#998" class="Bound">a</a> <a id="1000" class="Symbol">:</a> <a id="1002" href="Prelude.Inverses.html#851" class="Bound">A</a><a id="1003" class="Symbol">)</a> <a id="1005" class="Symbol">→</a> <a id="1007" href="Prelude.Inverses.html#991" class="Bound">b</a> <a id="1009" href="Prelude.Equality.html#2570" class="Datatype Operator">≡</a> <a id="1011" href="Prelude.Inverses.html#980" class="Bound">f</a> <a id="1013" href="Prelude.Inverses.html#998" class="Bound">a</a> <a id="1015" class="Symbol">→</a> <a id="1017" href="Prelude.Inverses.html#680" class="Datatype Operator">Image</a> <a id="1023" href="Prelude.Inverses.html#980" class="Bound">f</a> <a id="1025" href="Prelude.Inverses.html#680" class="Datatype Operator">∋</a> <a id="1027" href="Prelude.Inverses.html#991" class="Bound">b</a>
 <a id="1030" href="Prelude.Inverses.html#964" class="Function">ImageIsImage</a> <a id="1043" href="Prelude.Inverses.html#1043" class="Bound">f</a> <a id="1045" href="Prelude.Inverses.html#1045" class="Bound">b</a> <a id="1047" href="Prelude.Inverses.html#1047" class="Bound">a</a> <a id="1049" href="Prelude.Inverses.html#1049" class="Bound">b≡fa</a> <a id="1054" class="Symbol">=</a> <a id="1056" href="Prelude.Inverses.html#776" class="InductiveConstructor">eq</a> <a id="1059" href="Prelude.Inverses.html#1045" class="Bound">b</a> <a id="1061" href="Prelude.Inverses.html#1047" class="Bound">a</a> <a id="1063" href="Prelude.Inverses.html#1049" class="Bound">b≡fa</a>

</pre>

An inhabitant of `Image f ∋ b` is a dependent pair `(a , p)`, where `a : A` and `p : b ≡ f a` is a proof that `f` maps `a` to `b`.  Since the proof that `b` belongs to the image of `f` is always accompanied by a "witness" `a : A`, we can actually *compute* a (pseudo)inverse of `f`. For convenience, we define this inverse function, which we call `Inv`, and which takes an arbitrary `b : B` and a (*witness*, *proof*)-pair, `(a , p) : Image f ∋ b`, and returns the witness `a`.

<pre class="Agda">

 <a id="1575" href="Prelude.Inverses.html#1575" class="Function">Inv</a> <a id="1579" class="Symbol">:</a> <a id="1581" class="Symbol">(</a><a id="1582" href="Prelude.Inverses.html#1582" class="Bound">f</a> <a id="1584" class="Symbol">:</a> <a id="1586" href="Prelude.Inverses.html#851" class="Bound">A</a> <a id="1588" class="Symbol">→</a> <a id="1590" href="Prelude.Inverses.html#860" class="Bound">B</a><a id="1591" class="Symbol">){</a><a id="1593" href="Prelude.Inverses.html#1593" class="Bound">b</a> <a id="1595" class="Symbol">:</a> <a id="1597" href="Prelude.Inverses.html#860" class="Bound">B</a><a id="1598" class="Symbol">}</a> <a id="1600" class="Symbol">→</a> <a id="1602" href="Prelude.Inverses.html#680" class="Datatype Operator">Image</a> <a id="1608" href="Prelude.Inverses.html#1582" class="Bound">f</a> <a id="1610" href="Prelude.Inverses.html#680" class="Datatype Operator">∋</a> <a id="1612" href="Prelude.Inverses.html#1593" class="Bound">b</a>  <a id="1615" class="Symbol">→</a>  <a id="1618" href="Prelude.Inverses.html#851" class="Bound">A</a>
 <a id="1621" href="Prelude.Inverses.html#1575" class="Function">Inv</a> <a id="1625" href="Prelude.Inverses.html#1625" class="Bound">f</a> <a id="1627" class="Symbol">{</a><a id="1628" class="DottedPattern Symbol">.(</a><a id="1630" href="Prelude.Inverses.html#1625" class="DottedPattern Bound">f</a> <a id="1632" href="Prelude.Inverses.html#1640" class="DottedPattern Bound">a</a><a id="1633" class="DottedPattern Symbol">)</a><a id="1634" class="Symbol">}</a> <a id="1636" class="Symbol">(</a><a id="1637" href="Prelude.Inverses.html#745" class="InductiveConstructor">im</a> <a id="1640" href="Prelude.Inverses.html#1640" class="Bound">a</a><a id="1641" class="Symbol">)</a> <a id="1643" class="Symbol">=</a> <a id="1645" href="Prelude.Inverses.html#1640" class="Bound">a</a>
 <a id="1648" href="Prelude.Inverses.html#1575" class="Function">Inv</a> <a id="1652" href="Prelude.Inverses.html#1652" class="Bound">f</a> <a id="1654" class="Symbol">(</a><a id="1655" href="Prelude.Inverses.html#776" class="InductiveConstructor">eq</a> <a id="1658" class="Symbol">_</a> <a id="1660" href="Prelude.Inverses.html#1660" class="Bound">a</a> <a id="1662" class="Symbol">_)</a> <a id="1665" class="Symbol">=</a> <a id="1667" href="Prelude.Inverses.html#1660" class="Bound">a</a>

</pre>

We can prove that `Inv f` is the *right-inverse* of `f`, as follows.

<pre class="Agda">

 <a id="1767" href="Prelude.Inverses.html#1767" class="Function">InvIsInv</a> <a id="1776" class="Symbol">:</a> <a id="1778" class="Symbol">(</a><a id="1779" href="Prelude.Inverses.html#1779" class="Bound">f</a> <a id="1781" class="Symbol">:</a> <a id="1783" href="Prelude.Inverses.html#851" class="Bound">A</a> <a id="1785" class="Symbol">→</a> <a id="1787" href="Prelude.Inverses.html#860" class="Bound">B</a><a id="1788" class="Symbol">){</a><a id="1790" href="Prelude.Inverses.html#1790" class="Bound">b</a> <a id="1792" class="Symbol">:</a> <a id="1794" href="Prelude.Inverses.html#860" class="Bound">B</a><a id="1795" class="Symbol">}(</a><a id="1797" href="Prelude.Inverses.html#1797" class="Bound">q</a> <a id="1799" class="Symbol">:</a> <a id="1801" href="Prelude.Inverses.html#680" class="Datatype Operator">Image</a> <a id="1807" href="Prelude.Inverses.html#1779" class="Bound">f</a> <a id="1809" href="Prelude.Inverses.html#680" class="Datatype Operator">∋</a> <a id="1811" href="Prelude.Inverses.html#1790" class="Bound">b</a><a id="1812" class="Symbol">)</a> <a id="1814" class="Symbol">→</a> <a id="1816" href="Prelude.Inverses.html#1779" class="Bound">f</a><a id="1817" class="Symbol">(</a><a id="1818" href="Prelude.Inverses.html#1575" class="Function">Inv</a> <a id="1822" href="Prelude.Inverses.html#1779" class="Bound">f</a> <a id="1824" href="Prelude.Inverses.html#1797" class="Bound">q</a><a id="1825" class="Symbol">)</a> <a id="1827" href="Prelude.Equality.html#2570" class="Datatype Operator">≡</a> <a id="1829" href="Prelude.Inverses.html#1790" class="Bound">b</a>
 <a id="1832" href="Prelude.Inverses.html#1767" class="Function">InvIsInv</a> <a id="1841" href="Prelude.Inverses.html#1841" class="Bound">f</a> <a id="1843" class="Symbol">{</a><a id="1844" class="DottedPattern Symbol">.(</a><a id="1846" href="Prelude.Inverses.html#1841" class="DottedPattern Bound">f</a> <a id="1848" href="Prelude.Inverses.html#1856" class="DottedPattern Bound">a</a><a id="1849" class="DottedPattern Symbol">)</a><a id="1850" class="Symbol">}</a> <a id="1852" class="Symbol">(</a><a id="1853" href="Prelude.Inverses.html#745" class="InductiveConstructor">im</a> <a id="1856" href="Prelude.Inverses.html#1856" class="Bound">a</a><a id="1857" class="Symbol">)</a> <a id="1859" class="Symbol">=</a> <a id="1861" href="Identity-Type.html#162" class="InductiveConstructor">refl</a>
 <a id="1867" href="Prelude.Inverses.html#1767" class="Function">InvIsInv</a> <a id="1876" href="Prelude.Inverses.html#1876" class="Bound">f</a> <a id="1878" class="Symbol">(</a><a id="1879" href="Prelude.Inverses.html#776" class="InductiveConstructor">eq</a> <a id="1882" class="Symbol">_</a> <a id="1884" class="Symbol">_</a> <a id="1886" href="Prelude.Inverses.html#1886" class="Bound">p</a><a id="1887" class="Symbol">)</a> <a id="1889" class="Symbol">=</a> <a id="1891" href="Prelude.Inverses.html#1886" class="Bound">p</a> <a id="1893" href="MGS-MLTT.html#6125" class="Function Operator">⁻¹</a>

</pre>





#### <a id="epics">Epics (surjective functions)</a>

An epic (or surjective) function from type `A : 𝓤 ̇` to type `B : 𝓦 ̇` is as an inhabitant of the `Epic` type, which we define as follows.

<pre class="Agda">

 <a id="2121" href="Prelude.Inverses.html#2121" class="Function">Epic</a> <a id="2126" class="Symbol">:</a> <a id="2128" class="Symbol">(</a><a id="2129" href="Prelude.Inverses.html#2129" class="Bound">g</a> <a id="2131" class="Symbol">:</a> <a id="2133" href="Prelude.Inverses.html#851" class="Bound">A</a> <a id="2135" class="Symbol">→</a> <a id="2137" href="Prelude.Inverses.html#860" class="Bound">B</a><a id="2138" class="Symbol">)</a> <a id="2140" class="Symbol">→</a>  <a id="2143" href="Prelude.Inverses.html#835" class="Bound">𝓤</a> <a id="2145" href="Agda.Primitive.html#636" class="Primitive Operator">⊔</a> <a id="2147" href="Prelude.Inverses.html#837" class="Bound">𝓦</a> <a id="2149" href="Universes.html#403" class="Function Operator">̇</a>
 <a id="2152" href="Prelude.Inverses.html#2121" class="Function">Epic</a> <a id="2157" href="Prelude.Inverses.html#2157" class="Bound">g</a> <a id="2159" class="Symbol">=</a> <a id="2161" class="Symbol">∀</a> <a id="2163" href="Prelude.Inverses.html#2163" class="Bound">y</a> <a id="2165" class="Symbol">→</a> <a id="2167" href="Prelude.Inverses.html#680" class="Datatype Operator">Image</a> <a id="2173" href="Prelude.Inverses.html#2157" class="Bound">g</a> <a id="2175" href="Prelude.Inverses.html#680" class="Datatype Operator">∋</a> <a id="2177" href="Prelude.Inverses.html#2163" class="Bound">y</a>

</pre>

We obtain the right-inverse (or pseudoinverse) of an epic function `f` by applying the function `EpicInv` (which we now define) to the function `f` along with a proof, `fE : Epic f`, that `f` is surjective.

<pre class="Agda">

 <a id="2415" href="Prelude.Inverses.html#2415" class="Function">EpicInv</a> <a id="2423" class="Symbol">:</a> <a id="2425" class="Symbol">(</a><a id="2426" href="Prelude.Inverses.html#2426" class="Bound">f</a> <a id="2428" class="Symbol">:</a> <a id="2430" href="Prelude.Inverses.html#851" class="Bound">A</a> <a id="2432" class="Symbol">→</a> <a id="2434" href="Prelude.Inverses.html#860" class="Bound">B</a><a id="2435" class="Symbol">)</a> <a id="2437" class="Symbol">→</a> <a id="2439" href="Prelude.Inverses.html#2121" class="Function">Epic</a> <a id="2444" href="Prelude.Inverses.html#2426" class="Bound">f</a> <a id="2446" class="Symbol">→</a> <a id="2448" href="Prelude.Inverses.html#860" class="Bound">B</a> <a id="2450" class="Symbol">→</a> <a id="2452" href="Prelude.Inverses.html#851" class="Bound">A</a>
 <a id="2455" href="Prelude.Inverses.html#2415" class="Function">EpicInv</a> <a id="2463" href="Prelude.Inverses.html#2463" class="Bound">f</a> <a id="2465" href="Prelude.Inverses.html#2465" class="Bound">fE</a> <a id="2468" href="Prelude.Inverses.html#2468" class="Bound">b</a> <a id="2470" class="Symbol">=</a> <a id="2472" href="Prelude.Inverses.html#1575" class="Function">Inv</a> <a id="2476" href="Prelude.Inverses.html#2463" class="Bound">f</a> <a id="2478" class="Symbol">(</a><a id="2479" href="Prelude.Inverses.html#2465" class="Bound">fE</a> <a id="2482" href="Prelude.Inverses.html#2468" class="Bound">b</a><a id="2483" class="Symbol">)</a>

</pre>

The function defined by `EpicInv f fE` is indeed the right-inverse of `f`. To state this, we'll use the function composition operation, `∘`, which is already defined in the [Type Topology][] library as follows.

<pre class="Agda">

<a id="2724" class="Keyword">module</a> <a id="hide-∘"></a><a id="2731" href="Prelude.Inverses.html#2731" class="Module">hide-∘</a> <a id="2738" class="Symbol">{</a><a id="2739" href="Prelude.Inverses.html#2739" class="Bound">𝓤</a> <a id="2741" href="Prelude.Inverses.html#2741" class="Bound">𝓦</a> <a id="2743" class="Symbol">:</a> <a id="2745" href="Agda.Primitive.html#423" class="Postulate">Universe</a><a id="2753" class="Symbol">}{</a><a id="2755" href="Prelude.Inverses.html#2755" class="Bound">A</a> <a id="2757" class="Symbol">:</a> <a id="2759" href="Prelude.Inverses.html#2739" class="Bound">𝓤</a> <a id="2761" href="Universes.html#403" class="Function Operator">̇</a><a id="2762" class="Symbol">}{</a><a id="2764" href="Prelude.Inverses.html#2764" class="Bound">B</a> <a id="2766" class="Symbol">:</a> <a id="2768" href="Prelude.Inverses.html#2741" class="Bound">𝓦</a> <a id="2770" href="Universes.html#403" class="Function Operator">̇</a><a id="2771" class="Symbol">}</a> <a id="2773" class="Keyword">where</a>

 <a id="hide-∘._∘_"></a><a id="2781" href="Prelude.Inverses.html#2781" class="Function Operator">_∘_</a> <a id="2785" class="Symbol">:</a> <a id="2787" class="Symbol">{</a><a id="2788" href="Prelude.Inverses.html#2788" class="Bound">C</a> <a id="2790" class="Symbol">:</a> <a id="2792" href="Prelude.Inverses.html#2764" class="Bound">B</a> <a id="2794" class="Symbol">→</a> <a id="2796" href="Prelude.Inverses.html#2741" class="Bound">𝓦</a> <a id="2798" href="Universes.html#403" class="Function Operator">̇</a> <a id="2800" class="Symbol">}</a> <a id="2802" class="Symbol">→</a> <a id="2804" href="MGS-MLTT.html#3562" class="Function">Π</a> <a id="2806" href="Prelude.Inverses.html#2788" class="Bound">C</a> <a id="2808" class="Symbol">→</a> <a id="2810" class="Symbol">(</a><a id="2811" href="Prelude.Inverses.html#2811" class="Bound">f</a> <a id="2813" class="Symbol">:</a> <a id="2815" href="Prelude.Inverses.html#2755" class="Bound">A</a> <a id="2817" class="Symbol">→</a> <a id="2819" href="Prelude.Inverses.html#2764" class="Bound">B</a><a id="2820" class="Symbol">)</a> <a id="2822" class="Symbol">→</a> <a id="2824" class="Symbol">(</a><a id="2825" href="Prelude.Inverses.html#2825" class="Bound">x</a> <a id="2827" class="Symbol">:</a> <a id="2829" href="Prelude.Inverses.html#2755" class="Bound">A</a><a id="2830" class="Symbol">)</a> <a id="2832" class="Symbol">→</a> <a id="2834" href="Prelude.Inverses.html#2788" class="Bound">C</a> <a id="2836" class="Symbol">(</a><a id="2837" href="Prelude.Inverses.html#2811" class="Bound">f</a> <a id="2839" href="Prelude.Inverses.html#2825" class="Bound">x</a><a id="2840" class="Symbol">)</a>
 <a id="2843" href="Prelude.Inverses.html#2843" class="Bound">g</a> <a id="2845" href="Prelude.Inverses.html#2781" class="Function Operator">∘</a> <a id="2847" href="Prelude.Inverses.html#2847" class="Bound">f</a> <a id="2849" class="Symbol">=</a> <a id="2851" class="Symbol">λ</a> <a id="2853" href="Prelude.Inverses.html#2853" class="Bound">x</a> <a id="2855" class="Symbol">→</a> <a id="2857" href="Prelude.Inverses.html#2843" class="Bound">g</a> <a id="2859" class="Symbol">(</a><a id="2860" href="Prelude.Inverses.html#2847" class="Bound">f</a> <a id="2862" href="Prelude.Inverses.html#2853" class="Bound">x</a><a id="2863" class="Symbol">)</a>

<a id="2866" class="Keyword">open</a> <a id="2871" class="Keyword">import</a> <a id="2878" href="MGS-MLTT.html" class="Module">MGS-MLTT</a> <a id="2887" class="Keyword">using</a> <a id="2893" class="Symbol">(</a><a id="2894" href="MGS-MLTT.html#3813" class="Function Operator">_∘_</a><a id="2897" class="Symbol">)</a> <a id="2899" class="Keyword">public</a>


<a id="2908" class="Keyword">module</a> <a id="2915" href="Prelude.Inverses.html#2915" class="Module">_</a> <a id="2917" class="Symbol">{</a><a id="2918" href="Prelude.Inverses.html#2918" class="Bound">𝓤</a> <a id="2920" href="Prelude.Inverses.html#2920" class="Bound">𝓦</a> <a id="2922" class="Symbol">:</a> <a id="2924" href="Agda.Primitive.html#423" class="Postulate">Universe</a><a id="2932" class="Symbol">}{</a><a id="2934" href="Prelude.Inverses.html#2934" class="Bound">fe</a> <a id="2937" class="Symbol">:</a> <a id="2939" href="MGS-FunExt-from-Univalence.html#393" class="Function">funext</a> <a id="2946" href="Prelude.Inverses.html#2920" class="Bound">𝓦</a> <a id="2948" href="Prelude.Inverses.html#2920" class="Bound">𝓦</a><a id="2949" class="Symbol">}{</a><a id="2951" href="Prelude.Inverses.html#2951" class="Bound">A</a> <a id="2953" class="Symbol">:</a> <a id="2955" href="Prelude.Inverses.html#2918" class="Bound">𝓤</a> <a id="2957" href="Universes.html#403" class="Function Operator">̇</a><a id="2958" class="Symbol">}{</a><a id="2960" href="Prelude.Inverses.html#2960" class="Bound">B</a> <a id="2962" class="Symbol">:</a> <a id="2964" href="Prelude.Inverses.html#2920" class="Bound">𝓦</a> <a id="2966" href="Universes.html#403" class="Function Operator">̇</a><a id="2967" class="Symbol">}</a> <a id="2969" class="Keyword">where</a>

 <a id="2977" href="Prelude.Inverses.html#2977" class="Function">EpicInvIsRightInv</a> <a id="2995" class="Symbol">:</a> <a id="2997" class="Symbol">(</a><a id="2998" href="Prelude.Inverses.html#2998" class="Bound">f</a> <a id="3000" class="Symbol">:</a> <a id="3002" href="Prelude.Inverses.html#2951" class="Bound">A</a> <a id="3004" class="Symbol">→</a> <a id="3006" href="Prelude.Inverses.html#2960" class="Bound">B</a><a id="3007" class="Symbol">)(</a><a id="3009" href="Prelude.Inverses.html#3009" class="Bound">fE</a> <a id="3012" class="Symbol">:</a> <a id="3014" href="Prelude.Inverses.html#2121" class="Function">Epic</a> <a id="3019" href="Prelude.Inverses.html#2998" class="Bound">f</a><a id="3020" class="Symbol">)</a> <a id="3022" class="Symbol">→</a> <a id="3024" href="Prelude.Inverses.html#2998" class="Bound">f</a> <a id="3026" href="MGS-MLTT.html#3813" class="Function Operator">∘</a> <a id="3028" class="Symbol">(</a><a id="3029" href="Prelude.Inverses.html#2415" class="Function">EpicInv</a> <a id="3037" href="Prelude.Inverses.html#2998" class="Bound">f</a> <a id="3039" href="Prelude.Inverses.html#3009" class="Bound">fE</a><a id="3041" class="Symbol">)</a> <a id="3043" href="Prelude.Equality.html#2570" class="Datatype Operator">≡</a> <a id="3045" href="MGS-MLTT.html#3778" class="Function">𝑖𝑑</a> <a id="3048" href="Prelude.Inverses.html#2960" class="Bound">B</a>
 <a id="3051" href="Prelude.Inverses.html#2977" class="Function">EpicInvIsRightInv</a> <a id="3069" href="Prelude.Inverses.html#3069" class="Bound">f</a> <a id="3071" href="Prelude.Inverses.html#3071" class="Bound">fE</a> <a id="3074" class="Symbol">=</a> <a id="3076" href="Prelude.Inverses.html#2934" class="Bound">fe</a> <a id="3079" class="Symbol">(λ</a> <a id="3082" href="Prelude.Inverses.html#3082" class="Bound">x</a> <a id="3084" class="Symbol">→</a> <a id="3086" href="Prelude.Inverses.html#1767" class="Function">InvIsInv</a> <a id="3095" href="Prelude.Inverses.html#3069" class="Bound">f</a> <a id="3097" class="Symbol">(</a><a id="3098" href="Prelude.Inverses.html#3071" class="Bound">fE</a> <a id="3101" href="Prelude.Inverses.html#3082" class="Bound">x</a><a id="3102" class="Symbol">))</a>

</pre>





#### <a id="monics">Monics (injective functions)</a>

We say that a function `g : A → B` is *monic* (or *injective* or *one-to-one*) if it doesn't map distinct elements to a common point. This property is formalized quite naturally using the `Monic` type, which we now define.

<pre class="Agda">

<a id="3414" class="Keyword">module</a> <a id="3421" href="Prelude.Inverses.html#3421" class="Module">_</a> <a id="3423" class="Symbol">{</a><a id="3424" href="Prelude.Inverses.html#3424" class="Bound">𝓤</a> <a id="3426" href="Prelude.Inverses.html#3426" class="Bound">𝓦</a> <a id="3428" class="Symbol">:</a> <a id="3430" href="Agda.Primitive.html#423" class="Postulate">Universe</a><a id="3438" class="Symbol">}{</a><a id="3440" href="Prelude.Inverses.html#3440" class="Bound">A</a> <a id="3442" class="Symbol">:</a> <a id="3444" href="Prelude.Inverses.html#3424" class="Bound">𝓤</a> <a id="3446" href="Universes.html#403" class="Function Operator">̇</a><a id="3447" class="Symbol">}{</a><a id="3449" href="Prelude.Inverses.html#3449" class="Bound">B</a> <a id="3451" class="Symbol">:</a> <a id="3453" href="Prelude.Inverses.html#3426" class="Bound">𝓦</a> <a id="3455" href="Universes.html#403" class="Function Operator">̇</a><a id="3456" class="Symbol">}</a> <a id="3458" class="Keyword">where</a>

 <a id="3466" href="Prelude.Inverses.html#3466" class="Function">Monic</a> <a id="3472" class="Symbol">:</a> <a id="3474" class="Symbol">(</a><a id="3475" href="Prelude.Inverses.html#3475" class="Bound">g</a> <a id="3477" class="Symbol">:</a> <a id="3479" href="Prelude.Inverses.html#3440" class="Bound">A</a> <a id="3481" class="Symbol">→</a> <a id="3483" href="Prelude.Inverses.html#3449" class="Bound">B</a><a id="3484" class="Symbol">)</a> <a id="3486" class="Symbol">→</a> <a id="3488" href="Prelude.Inverses.html#3424" class="Bound">𝓤</a> <a id="3490" href="Agda.Primitive.html#636" class="Primitive Operator">⊔</a> <a id="3492" href="Prelude.Inverses.html#3426" class="Bound">𝓦</a> <a id="3494" href="Universes.html#403" class="Function Operator">̇</a>
 <a id="3497" href="Prelude.Inverses.html#3466" class="Function">Monic</a> <a id="3503" href="Prelude.Inverses.html#3503" class="Bound">g</a> <a id="3505" class="Symbol">=</a> <a id="3507" class="Symbol">∀</a> <a id="3509" href="Prelude.Inverses.html#3509" class="Bound">a₁</a> <a id="3512" href="Prelude.Inverses.html#3512" class="Bound">a₂</a> <a id="3515" class="Symbol">→</a> <a id="3517" href="Prelude.Inverses.html#3503" class="Bound">g</a> <a id="3519" href="Prelude.Inverses.html#3509" class="Bound">a₁</a> <a id="3522" href="Prelude.Equality.html#2570" class="Datatype Operator">≡</a> <a id="3524" href="Prelude.Inverses.html#3503" class="Bound">g</a> <a id="3526" href="Prelude.Inverses.html#3512" class="Bound">a₂</a> <a id="3529" class="Symbol">→</a> <a id="3531" href="Prelude.Inverses.html#3509" class="Bound">a₁</a> <a id="3534" href="Prelude.Equality.html#2570" class="Datatype Operator">≡</a> <a id="3536" href="Prelude.Inverses.html#3512" class="Bound">a₂</a>

</pre>

Again, we obtain a pseudoinverse. Here it is obtained by applying the function `MonicInv` to `g` and a proof that `g` is monic.

<pre class="Agda">

 <a id="3696" href="Prelude.Inverses.html#3696" class="Function">MonicInv</a> <a id="3705" class="Symbol">:</a> <a id="3707" class="Symbol">(</a><a id="3708" href="Prelude.Inverses.html#3708" class="Bound">f</a> <a id="3710" class="Symbol">:</a> <a id="3712" href="Prelude.Inverses.html#3440" class="Bound">A</a> <a id="3714" class="Symbol">→</a> <a id="3716" href="Prelude.Inverses.html#3449" class="Bound">B</a><a id="3717" class="Symbol">)</a> <a id="3719" class="Symbol">→</a> <a id="3721" href="Prelude.Inverses.html#3466" class="Function">Monic</a> <a id="3727" href="Prelude.Inverses.html#3708" class="Bound">f</a> <a id="3729" class="Symbol">→</a> <a id="3731" class="Symbol">(</a><a id="3732" href="Prelude.Inverses.html#3732" class="Bound">b</a> <a id="3734" class="Symbol">:</a> <a id="3736" href="Prelude.Inverses.html#3449" class="Bound">B</a><a id="3737" class="Symbol">)</a> <a id="3739" class="Symbol">→</a> <a id="3741" href="Prelude.Inverses.html#680" class="Datatype Operator">Image</a> <a id="3747" href="Prelude.Inverses.html#3708" class="Bound">f</a> <a id="3749" href="Prelude.Inverses.html#680" class="Datatype Operator">∋</a> <a id="3751" href="Prelude.Inverses.html#3732" class="Bound">b</a> <a id="3753" class="Symbol">→</a> <a id="3755" href="Prelude.Inverses.html#3440" class="Bound">A</a>
 <a id="3758" href="Prelude.Inverses.html#3696" class="Function">MonicInv</a> <a id="3767" href="Prelude.Inverses.html#3767" class="Bound">f</a> <a id="3769" class="Symbol">_</a> <a id="3771" class="Symbol">=</a> <a id="3773" class="Symbol">λ</a> <a id="3775" href="Prelude.Inverses.html#3775" class="Bound">b</a> <a id="3777" href="Prelude.Inverses.html#3777" class="Bound">Imf∋b</a> <a id="3783" class="Symbol">→</a> <a id="3785" href="Prelude.Inverses.html#1575" class="Function">Inv</a> <a id="3789" href="Prelude.Inverses.html#3767" class="Bound">f</a> <a id="3791" href="Prelude.Inverses.html#3777" class="Bound">Imf∋b</a>

</pre>

The function defined by `MonicInv f fM` is the left-inverse of `f`.

<pre class="Agda">

 <a id="3894" href="Prelude.Inverses.html#3894" class="Function">MonicInvIsLeftInv</a> <a id="3912" class="Symbol">:</a> <a id="3914" class="Symbol">{</a><a id="3915" href="Prelude.Inverses.html#3915" class="Bound">f</a> <a id="3917" class="Symbol">:</a> <a id="3919" href="Prelude.Inverses.html#3440" class="Bound">A</a> <a id="3921" class="Symbol">→</a> <a id="3923" href="Prelude.Inverses.html#3449" class="Bound">B</a><a id="3924" class="Symbol">}{</a><a id="3926" href="Prelude.Inverses.html#3926" class="Bound">fM</a> <a id="3929" class="Symbol">:</a> <a id="3931" href="Prelude.Inverses.html#3466" class="Function">Monic</a> <a id="3937" href="Prelude.Inverses.html#3915" class="Bound">f</a><a id="3938" class="Symbol">}{</a><a id="3940" href="Prelude.Inverses.html#3940" class="Bound">x</a> <a id="3942" class="Symbol">:</a> <a id="3944" href="Prelude.Inverses.html#3440" class="Bound">A</a><a id="3945" class="Symbol">}</a>
   <a id="3950" class="Symbol">→</a>                 <a id="3968" class="Symbol">(</a><a id="3969" href="Prelude.Inverses.html#3696" class="Function">MonicInv</a> <a id="3978" href="Prelude.Inverses.html#3915" class="Bound">f</a> <a id="3980" href="Prelude.Inverses.html#3926" class="Bound">fM</a><a id="3982" class="Symbol">)(</a><a id="3984" href="Prelude.Inverses.html#3915" class="Bound">f</a> <a id="3986" href="Prelude.Inverses.html#3940" class="Bound">x</a><a id="3987" class="Symbol">)(</a><a id="3989" href="Prelude.Inverses.html#745" class="InductiveConstructor">im</a> <a id="3992" href="Prelude.Inverses.html#3940" class="Bound">x</a><a id="3993" class="Symbol">)</a> <a id="3995" href="Prelude.Equality.html#2570" class="Datatype Operator">≡</a> <a id="3997" href="Prelude.Inverses.html#3940" class="Bound">x</a>
 <a id="4000" href="Prelude.Inverses.html#3894" class="Function">MonicInvIsLeftInv</a> <a id="4018" class="Symbol">=</a> <a id="4020" href="Identity-Type.html#162" class="InductiveConstructor">refl</a>

</pre>



#### <a id="composition-laws">Composition laws</a>

<pre class="Agda">

<a id="4106" class="Keyword">module</a> <a id="4113" href="Prelude.Inverses.html#4113" class="Module">_</a> <a id="4115" class="Symbol">{</a><a id="4116" href="Prelude.Inverses.html#4116" class="Bound">𝓧</a> <a id="4118" href="Prelude.Inverses.html#4118" class="Bound">𝓨</a> <a id="4120" href="Prelude.Inverses.html#4120" class="Bound">𝓩</a> <a id="4122" class="Symbol">:</a> <a id="4124" href="Agda.Primitive.html#423" class="Postulate">Universe</a><a id="4132" class="Symbol">}</a> <a id="4134" class="Keyword">where</a>

 <a id="4142" href="Prelude.Inverses.html#4142" class="Function">epic-factor</a> <a id="4154" class="Symbol">:</a> <a id="4156" href="MGS-FunExt-from-Univalence.html#393" class="Function">funext</a> <a id="4163" href="Prelude.Inverses.html#4118" class="Bound">𝓨</a> <a id="4165" href="Prelude.Inverses.html#4118" class="Bound">𝓨</a> <a id="4167" class="Symbol">→</a> <a id="4169" class="Symbol">{</a><a id="4170" href="Prelude.Inverses.html#4170" class="Bound">A</a> <a id="4172" class="Symbol">:</a> <a id="4174" href="Prelude.Inverses.html#4116" class="Bound">𝓧</a> <a id="4176" href="Universes.html#403" class="Function Operator">̇</a><a id="4177" class="Symbol">}{</a><a id="4179" href="Prelude.Inverses.html#4179" class="Bound">B</a> <a id="4181" class="Symbol">:</a> <a id="4183" href="Prelude.Inverses.html#4118" class="Bound">𝓨</a> <a id="4185" href="Universes.html#403" class="Function Operator">̇</a><a id="4186" class="Symbol">}{</a><a id="4188" href="Prelude.Inverses.html#4188" class="Bound">C</a> <a id="4190" class="Symbol">:</a> <a id="4192" href="Prelude.Inverses.html#4120" class="Bound">𝓩</a> <a id="4194" href="Universes.html#403" class="Function Operator">̇</a><a id="4195" class="Symbol">}</a>
               <a id="4212" class="Symbol">(</a><a id="4213" href="Prelude.Inverses.html#4213" class="Bound">β</a> <a id="4215" class="Symbol">:</a> <a id="4217" href="Prelude.Inverses.html#4170" class="Bound">A</a> <a id="4219" class="Symbol">→</a> <a id="4221" href="Prelude.Inverses.html#4179" class="Bound">B</a><a id="4222" class="Symbol">)(</a><a id="4224" href="Prelude.Inverses.html#4224" class="Bound">ξ</a> <a id="4226" class="Symbol">:</a> <a id="4228" href="Prelude.Inverses.html#4170" class="Bound">A</a> <a id="4230" class="Symbol">→</a> <a id="4232" href="Prelude.Inverses.html#4188" class="Bound">C</a><a id="4233" class="Symbol">)(</a><a id="4235" href="Prelude.Inverses.html#4235" class="Bound">ϕ</a> <a id="4237" class="Symbol">:</a> <a id="4239" href="Prelude.Inverses.html#4188" class="Bound">C</a> <a id="4241" class="Symbol">→</a> <a id="4243" href="Prelude.Inverses.html#4179" class="Bound">B</a><a id="4244" class="Symbol">)</a>
  <a id="4248" class="Symbol">→</a>            <a id="4261" href="Prelude.Inverses.html#4213" class="Bound">β</a> <a id="4263" href="Prelude.Equality.html#2570" class="Datatype Operator">≡</a> <a id="4265" href="Prelude.Inverses.html#4235" class="Bound">ϕ</a> <a id="4267" href="MGS-MLTT.html#3813" class="Function Operator">∘</a> <a id="4269" href="Prelude.Inverses.html#4224" class="Bound">ξ</a> <a id="4271" class="Symbol">→</a>  <a id="4274" href="Prelude.Inverses.html#2121" class="Function">Epic</a> <a id="4279" href="Prelude.Inverses.html#4213" class="Bound">β</a> <a id="4281" class="Symbol">→</a> <a id="4283" href="Prelude.Inverses.html#2121" class="Function">Epic</a> <a id="4288" href="Prelude.Inverses.html#4235" class="Bound">ϕ</a>

 <a id="4292" href="Prelude.Inverses.html#4142" class="Function">epic-factor</a> <a id="4304" href="Prelude.Inverses.html#4304" class="Bound">fe</a> <a id="4307" class="Symbol">{</a><a id="4308" href="Prelude.Inverses.html#4308" class="Bound">A</a><a id="4309" class="Symbol">}{</a><a id="4311" href="Prelude.Inverses.html#4311" class="Bound">B</a><a id="4312" class="Symbol">}{</a><a id="4314" href="Prelude.Inverses.html#4314" class="Bound">C</a><a id="4315" class="Symbol">}</a> <a id="4317" href="Prelude.Inverses.html#4317" class="Bound">β</a> <a id="4319" href="Prelude.Inverses.html#4319" class="Bound">ξ</a> <a id="4321" href="Prelude.Inverses.html#4321" class="Bound">ϕ</a> <a id="4323" href="Prelude.Inverses.html#4323" class="Bound">compId</a> <a id="4330" href="Prelude.Inverses.html#4330" class="Bound">βe</a> <a id="4333" href="Prelude.Inverses.html#4333" class="Bound">y</a> <a id="4335" class="Symbol">=</a> <a id="4337" href="Prelude.Inverses.html#4537" class="Function">γ</a>
  <a id="4341" class="Keyword">where</a>
   <a id="4350" href="Prelude.Inverses.html#4350" class="Function">βinv</a> <a id="4355" class="Symbol">:</a> <a id="4357" href="Prelude.Inverses.html#4311" class="Bound">B</a> <a id="4359" class="Symbol">→</a> <a id="4361" href="Prelude.Inverses.html#4308" class="Bound">A</a>
   <a id="4366" href="Prelude.Inverses.html#4350" class="Function">βinv</a> <a id="4371" class="Symbol">=</a> <a id="4373" href="Prelude.Inverses.html#2415" class="Function">EpicInv</a> <a id="4381" href="Prelude.Inverses.html#4317" class="Bound">β</a> <a id="4383" href="Prelude.Inverses.html#4330" class="Bound">βe</a>

   <a id="4390" href="Prelude.Inverses.html#4390" class="Function">ζ</a> <a id="4392" class="Symbol">:</a> <a id="4394" href="Prelude.Inverses.html#4317" class="Bound">β</a> <a id="4396" class="Symbol">(</a><a id="4397" href="Prelude.Inverses.html#4350" class="Function">βinv</a> <a id="4402" href="Prelude.Inverses.html#4333" class="Bound">y</a><a id="4403" class="Symbol">)</a> <a id="4405" href="Prelude.Equality.html#2570" class="Datatype Operator">≡</a> <a id="4407" href="Prelude.Inverses.html#4333" class="Bound">y</a>
   <a id="4412" href="Prelude.Inverses.html#4390" class="Function">ζ</a> <a id="4414" class="Symbol">=</a> <a id="4416" href="Prelude.Equality.html#6465" class="Function">cong-app</a> <a id="4425" class="Symbol">(</a><a id="4426" href="Prelude.Inverses.html#2977" class="Function">EpicInvIsRightInv</a> <a id="4444" class="Symbol">{</a><a id="4445" class="Argument">fe</a> <a id="4448" class="Symbol">=</a> <a id="4450" href="Prelude.Inverses.html#4304" class="Bound">fe</a><a id="4452" class="Symbol">}</a> <a id="4454" href="Prelude.Inverses.html#4317" class="Bound">β</a> <a id="4456" href="Prelude.Inverses.html#4330" class="Bound">βe</a><a id="4458" class="Symbol">)</a> <a id="4460" href="Prelude.Inverses.html#4333" class="Bound">y</a>

   <a id="4466" href="Prelude.Inverses.html#4466" class="Function">η</a> <a id="4468" class="Symbol">:</a> <a id="4470" class="Symbol">(</a><a id="4471" href="Prelude.Inverses.html#4321" class="Bound">ϕ</a> <a id="4473" href="MGS-MLTT.html#3813" class="Function Operator">∘</a> <a id="4475" href="Prelude.Inverses.html#4319" class="Bound">ξ</a><a id="4476" class="Symbol">)</a> <a id="4478" class="Symbol">(</a><a id="4479" href="Prelude.Inverses.html#4350" class="Function">βinv</a> <a id="4484" href="Prelude.Inverses.html#4333" class="Bound">y</a><a id="4485" class="Symbol">)</a> <a id="4487" href="Prelude.Equality.html#2570" class="Datatype Operator">≡</a> <a id="4489" href="Prelude.Inverses.html#4333" class="Bound">y</a>
   <a id="4494" href="Prelude.Inverses.html#4466" class="Function">η</a> <a id="4496" class="Symbol">=</a> <a id="4498" class="Symbol">(</a><a id="4499" href="Prelude.Equality.html#6465" class="Function">cong-app</a> <a id="4508" class="Symbol">(</a><a id="4509" href="Prelude.Inverses.html#4323" class="Bound">compId</a> <a id="4516" href="MGS-MLTT.html#6125" class="Function Operator">⁻¹</a><a id="4518" class="Symbol">)(</a><a id="4520" href="Prelude.Inverses.html#4350" class="Function">βinv</a> <a id="4525" href="Prelude.Inverses.html#4333" class="Bound">y</a><a id="4526" class="Symbol">))</a> <a id="4529" href="MGS-MLTT.html#5910" class="Function Operator">∙</a> <a id="4531" href="Prelude.Inverses.html#4390" class="Function">ζ</a>

   <a id="4537" href="Prelude.Inverses.html#4537" class="Function">γ</a> <a id="4539" class="Symbol">:</a> <a id="4541" href="Prelude.Inverses.html#680" class="Datatype Operator">Image</a> <a id="4547" href="Prelude.Inverses.html#4321" class="Bound">ϕ</a> <a id="4549" href="Prelude.Inverses.html#680" class="Datatype Operator">∋</a> <a id="4551" href="Prelude.Inverses.html#4333" class="Bound">y</a>
   <a id="4556" href="Prelude.Inverses.html#4537" class="Function">γ</a> <a id="4558" class="Symbol">=</a> <a id="4560" href="Prelude.Inverses.html#776" class="InductiveConstructor">eq</a> <a id="4563" href="Prelude.Inverses.html#4333" class="Bound">y</a> <a id="4565" class="Symbol">(</a><a id="4566" href="Prelude.Inverses.html#4319" class="Bound">ξ</a> <a id="4568" class="Symbol">(</a><a id="4569" href="Prelude.Inverses.html#4350" class="Function">βinv</a> <a id="4574" href="Prelude.Inverses.html#4333" class="Bound">y</a><a id="4575" class="Symbol">))</a> <a id="4578" class="Symbol">(</a><a id="4579" href="Prelude.Inverses.html#4466" class="Function">η</a> <a id="4581" href="MGS-MLTT.html#6125" class="Function Operator">⁻¹</a><a id="4583" class="Symbol">)</a>

</pre>





#### <a id="embeddings">Embeddings</a>

The `is-embedding` type is defined in the [Type Topology][] library in the following way.

<pre class="Agda">
<a id="4746" class="Keyword">module</a> <a id="hide-is-embedding"></a><a id="4753" href="Prelude.Inverses.html#4753" class="Module">hide-is-embedding</a> <a id="4771" class="Symbol">{</a><a id="4772" href="Prelude.Inverses.html#4772" class="Bound">𝓤</a> <a id="4774" href="Prelude.Inverses.html#4774" class="Bound">𝓦</a> <a id="4776" class="Symbol">:</a> <a id="4778" href="Agda.Primitive.html#423" class="Postulate">Universe</a><a id="4786" class="Symbol">}</a> <a id="4788" class="Symbol">{</a><a id="4789" href="Prelude.Inverses.html#4789" class="Bound">A</a> <a id="4791" class="Symbol">:</a> <a id="4793" href="Prelude.Inverses.html#4772" class="Bound">𝓤</a> <a id="4795" href="Universes.html#403" class="Function Operator">̇</a> <a id="4797" class="Symbol">}</a> <a id="4799" class="Symbol">{</a><a id="4800" href="Prelude.Inverses.html#4800" class="Bound">B</a> <a id="4802" class="Symbol">:</a> <a id="4804" href="Prelude.Inverses.html#4774" class="Bound">𝓦</a> <a id="4806" href="Universes.html#403" class="Function Operator">̇</a> <a id="4808" class="Symbol">}</a> <a id="4810" class="Keyword">where</a>

 <a id="hide-is-embedding.is-embedding"></a><a id="4818" href="Prelude.Inverses.html#4818" class="Function">is-embedding</a> <a id="4831" class="Symbol">:</a> <a id="4833" class="Symbol">(</a><a id="4834" href="Prelude.Inverses.html#4789" class="Bound">A</a> <a id="4836" class="Symbol">→</a> <a id="4838" href="Prelude.Inverses.html#4800" class="Bound">B</a><a id="4839" class="Symbol">)</a> <a id="4841" class="Symbol">→</a> <a id="4843" href="Prelude.Inverses.html#4772" class="Bound">𝓤</a> <a id="4845" href="Agda.Primitive.html#636" class="Primitive Operator">⊔</a> <a id="4847" href="Prelude.Inverses.html#4774" class="Bound">𝓦</a> <a id="4849" href="Universes.html#403" class="Function Operator">̇</a>
 <a id="4852" href="Prelude.Inverses.html#4818" class="Function">is-embedding</a> <a id="4865" href="Prelude.Inverses.html#4865" class="Bound">f</a> <a id="4867" class="Symbol">=</a> <a id="4869" class="Symbol">∀</a> <a id="4871" href="Prelude.Inverses.html#4871" class="Bound">b</a> <a id="4873" class="Symbol">→</a> <a id="4875" href="MGS-Basic-UF.html#743" class="Function">is-subsingleton</a> <a id="4891" class="Symbol">(</a><a id="4892" href="MGS-Equivalences.html#501" class="Function">fiber</a> <a id="4898" href="Prelude.Inverses.html#4865" class="Bound">f</a> <a id="4900" href="Prelude.Inverses.html#4871" class="Bound">b</a><a id="4901" class="Symbol">)</a>

<a id="4904" class="Keyword">open</a> <a id="4909" class="Keyword">import</a> <a id="4916" href="MGS-Embeddings.html" class="Module">MGS-Embeddings</a> <a id="4931" class="Keyword">using</a> <a id="4937" class="Symbol">(</a><a id="4938" href="MGS-Embeddings.html#384" class="Function">is-embedding</a><a id="4950" class="Symbol">)</a> <a id="4952" class="Keyword">public</a>

</pre>

Thus, `is-embedding f` asserts that `f` is a function all of whose fibers are subsingletons. This is a natural way to represent what we usually mean in mathematics by embedding.  Observe that an embedding does not simply correspond to an injective map.  However, if we assume that the codomain `B` has unique identity proofs (i.e., is a set), then we can prove that a monic function into `B` is an embedding. We will do so in the [Relations.Truncation][] module when we take up the topic of sets in some detail.

Finding a proof that a function is an embedding isn't always easy, but one path that is often straightforward is to first prove that the function is invertible and then invoke the following theorem.

<pre class="Agda">

<a id="5699" class="Keyword">module</a> <a id="5706" href="Prelude.Inverses.html#5706" class="Module">_</a> <a id="5708" class="Symbol">{</a><a id="5709" href="Prelude.Inverses.html#5709" class="Bound">𝓤</a> <a id="5711" href="Prelude.Inverses.html#5711" class="Bound">𝓦</a> <a id="5713" class="Symbol">:</a> <a id="5715" href="Agda.Primitive.html#423" class="Postulate">Universe</a><a id="5723" class="Symbol">}{</a><a id="5725" href="Prelude.Inverses.html#5725" class="Bound">A</a> <a id="5727" class="Symbol">:</a> <a id="5729" href="Prelude.Inverses.html#5709" class="Bound">𝓤</a> <a id="5731" href="Universes.html#403" class="Function Operator">̇</a><a id="5732" class="Symbol">}{</a><a id="5734" href="Prelude.Inverses.html#5734" class="Bound">B</a> <a id="5736" class="Symbol">:</a> <a id="5738" href="Prelude.Inverses.html#5711" class="Bound">𝓦</a> <a id="5740" href="Universes.html#403" class="Function Operator">̇</a><a id="5741" class="Symbol">}</a> <a id="5743" class="Keyword">where</a>

 <a id="5751" href="Prelude.Inverses.html#5751" class="Function">invertibles-are-embeddings</a> <a id="5778" class="Symbol">:</a> <a id="5780" class="Symbol">(</a><a id="5781" href="Prelude.Inverses.html#5781" class="Bound">f</a> <a id="5783" class="Symbol">:</a> <a id="5785" href="Prelude.Inverses.html#5725" class="Bound">A</a> <a id="5787" class="Symbol">→</a> <a id="5789" href="Prelude.Inverses.html#5734" class="Bound">B</a><a id="5790" class="Symbol">)</a> <a id="5792" class="Symbol">→</a> <a id="5794" href="MGS-Equivalences.html#370" class="Function">invertible</a> <a id="5805" href="Prelude.Inverses.html#5781" class="Bound">f</a> <a id="5807" class="Symbol">→</a> <a id="5809" href="MGS-Embeddings.html#384" class="Function">is-embedding</a> <a id="5822" href="Prelude.Inverses.html#5781" class="Bound">f</a>
 <a id="5825" href="Prelude.Inverses.html#5751" class="Function">invertibles-are-embeddings</a> <a id="5852" href="Prelude.Inverses.html#5852" class="Bound">f</a> <a id="5854" href="Prelude.Inverses.html#5854" class="Bound">fi</a> <a id="5857" class="Symbol">=</a> <a id="5859" href="MGS-Embeddings.html#1410" class="Function">equivs-are-embeddings</a> <a id="5881" href="Prelude.Inverses.html#5852" class="Bound">f</a> <a id="5883" class="Symbol">(</a><a id="5884" href="MGS-Equivalences.html#2127" class="Function">invertibles-are-equivs</a> <a id="5907" href="Prelude.Inverses.html#5852" class="Bound">f</a> <a id="5909" href="Prelude.Inverses.html#5854" class="Bound">fi</a><a id="5911" class="Symbol">)</a>

</pre>

Finally, embeddings are monic; from a proof `p : is-embedding f` that `f` is an embedding we can construct a proof of `Monic f`.  We confirm this as follows.

<pre class="Agda">

 <a id="6100" href="Prelude.Inverses.html#6100" class="Function">embedding-is-monic</a> <a id="6119" class="Symbol">:</a> <a id="6121" class="Symbol">(</a><a id="6122" href="Prelude.Inverses.html#6122" class="Bound">f</a> <a id="6124" class="Symbol">:</a> <a id="6126" href="Prelude.Inverses.html#5725" class="Bound">A</a> <a id="6128" class="Symbol">→</a> <a id="6130" href="Prelude.Inverses.html#5734" class="Bound">B</a><a id="6131" class="Symbol">)</a> <a id="6133" class="Symbol">→</a> <a id="6135" href="MGS-Embeddings.html#384" class="Function">is-embedding</a> <a id="6148" href="Prelude.Inverses.html#6122" class="Bound">f</a> <a id="6150" class="Symbol">→</a> <a id="6152" href="Prelude.Inverses.html#3466" class="Function">Monic</a> <a id="6158" href="Prelude.Inverses.html#6122" class="Bound">f</a>
 <a id="6161" href="Prelude.Inverses.html#6100" class="Function">embedding-is-monic</a> <a id="6180" href="Prelude.Inverses.html#6180" class="Bound">f</a> <a id="6182" href="Prelude.Inverses.html#6182" class="Bound">femb</a> <a id="6187" href="Prelude.Inverses.html#6187" class="Bound">x</a> <a id="6189" href="Prelude.Inverses.html#6189" class="Bound">y</a> <a id="6191" href="Prelude.Inverses.html#6191" class="Bound">fxfy</a> <a id="6196" class="Symbol">=</a> <a id="6198" href="MGS-MLTT.html#6613" class="Function">ap</a> <a id="6201" href="MGS-MLTT.html#2942" class="Function">pr₁</a> <a id="6205" class="Symbol">((</a><a id="6207" href="Prelude.Inverses.html#6182" class="Bound">femb</a> <a id="6212" class="Symbol">(</a><a id="6213" href="Prelude.Inverses.html#6180" class="Bound">f</a> <a id="6215" href="Prelude.Inverses.html#6187" class="Bound">x</a><a id="6216" class="Symbol">))</a> <a id="6219" href="Prelude.Inverses.html#6236" class="Function">fx</a> <a id="6222" href="Prelude.Inverses.html#6274" class="Function">fy</a><a id="6224" class="Symbol">)</a>
  <a id="6228" class="Keyword">where</a>
  <a id="6236" href="Prelude.Inverses.html#6236" class="Function">fx</a> <a id="6239" class="Symbol">:</a> <a id="6241" href="MGS-Equivalences.html#501" class="Function">fiber</a> <a id="6247" href="Prelude.Inverses.html#6180" class="Bound">f</a> <a id="6249" class="Symbol">(</a><a id="6250" href="Prelude.Inverses.html#6180" class="Bound">f</a> <a id="6252" href="Prelude.Inverses.html#6187" class="Bound">x</a><a id="6253" class="Symbol">)</a>
  <a id="6257" href="Prelude.Inverses.html#6236" class="Function">fx</a> <a id="6260" class="Symbol">=</a> <a id="6262" href="Prelude.Inverses.html#6187" class="Bound">x</a> <a id="6264" href="Prelude.Preliminaries.html#11707" class="InductiveConstructor Operator">,</a> <a id="6266" href="Identity-Type.html#162" class="InductiveConstructor">refl</a>

  <a id="6274" href="Prelude.Inverses.html#6274" class="Function">fy</a> <a id="6277" class="Symbol">:</a> <a id="6279" href="MGS-Equivalences.html#501" class="Function">fiber</a> <a id="6285" href="Prelude.Inverses.html#6180" class="Bound">f</a> <a id="6287" class="Symbol">(</a><a id="6288" href="Prelude.Inverses.html#6180" class="Bound">f</a> <a id="6290" href="Prelude.Inverses.html#6187" class="Bound">x</a><a id="6291" class="Symbol">)</a>
  <a id="6295" href="Prelude.Inverses.html#6274" class="Function">fy</a> <a id="6298" class="Symbol">=</a> <a id="6300" href="Prelude.Inverses.html#6189" class="Bound">y</a> <a id="6302" href="Prelude.Preliminaries.html#11707" class="InductiveConstructor Operator">,</a> <a id="6304" class="Symbol">(</a><a id="6305" href="Prelude.Inverses.html#6191" class="Bound">fxfy</a> <a id="6310" href="MGS-MLTT.html#6125" class="Function Operator">⁻¹</a><a id="6312" class="Symbol">)</a>

</pre>


-------------------------------------

<p></p>

[← Prelude.Extensionality](Prelude.Extensionality.html)
<span style="float:right;">[Prelude.Lifts →](Prelude.Lifts.html)</span>


{% include UALib.Links.md %}


<!-- 
This is the first point at which [truncation](UALib.Preface.html#truncation) comes into play.  An [embedding](https://www.cs.bham.ac.uk/~mhe/HoTT-UF-in-Agda-Lecture-Notes/HoTT-UF-Agda.html#embeddings) is defined in the [Type Topology][] library, using the `is-subsingleton` type [described earlier](Prelude.Extensionality.html#alternative-extensionality-type), as follows.
-->
