---
layout: default
title : UALib.Prelude.Inverses module (Agda Universal Algebra Library)
date : 2021-01-12
author: William DeMeo
---

### <a id="inverses">Inverses</a>

This section presents the [UALib.Prelude.Inverses][] module of the [Agda Universal Algebra Library][].

<pre class="Agda">

<a id="290" class="Symbol">{-#</a> <a id="294" class="Keyword">OPTIONS</a> <a id="302" class="Pragma">--without-K</a> <a id="314" class="Pragma">--exact-split</a> <a id="328" class="Pragma">--safe</a> <a id="335" class="Symbol">#-}</a>

<a id="340" class="Keyword">module</a> <a id="347" href="Prelude.Inverses.html" class="Module">Prelude.Inverses</a> <a id="364" class="Keyword">where</a>

<a id="371" class="Keyword">open</a> <a id="376" class="Keyword">import</a> <a id="383" href="Prelude.Extensionality.html" class="Module">Prelude.Extensionality</a> <a id="406" class="Keyword">public</a>

<a id="414" class="Keyword">open</a> <a id="419" class="Keyword">import</a> <a id="426" href="MGS-Embeddings.html" class="Module">MGS-Embeddings</a>
 <a id="442" class="Keyword">using</a> <a id="448" class="Symbol">(</a><a id="449" href="MGS-Embeddings.html#1410" class="Function">equivs-are-embeddings</a><a id="470" class="Symbol">;</a> <a id="472" href="MGS-Equivalences.html#370" class="Function">invertible</a><a id="482" class="Symbol">;</a> <a id="484" href="MGS-Equivalences.html#2127" class="Function">invertibles-are-equivs</a><a id="506" class="Symbol">)</a> <a id="508" class="Keyword">public</a>

</pre>

We begin by defining an inductive type that represents the semantic concept of **inverse image** of a function.

<pre class="Agda">

<a id="655" class="Keyword">module</a> <a id="662" href="Prelude.Inverses.html#662" class="Module">_</a> <a id="664" class="Symbol">{</a><a id="665" href="Prelude.Inverses.html#665" class="Bound">𝓤</a> <a id="667" href="Prelude.Inverses.html#667" class="Bound">𝓦</a> <a id="669" class="Symbol">:</a> <a id="671" href="Agda.Primitive.html#423" class="Postulate">Universe</a><a id="679" class="Symbol">}</a> <a id="681" class="Keyword">where</a>

 <a id="689" class="Keyword">data</a> <a id="694" href="Prelude.Inverses.html#694" class="Datatype Operator">Image_∋_</a> <a id="703" class="Symbol">{</a><a id="704" href="Prelude.Inverses.html#704" class="Bound">A</a> <a id="706" class="Symbol">:</a> <a id="708" href="Prelude.Inverses.html#665" class="Bound">𝓤</a> <a id="710" href="Universes.html#403" class="Function Operator">̇</a> <a id="712" class="Symbol">}{</a><a id="714" href="Prelude.Inverses.html#714" class="Bound">B</a> <a id="716" class="Symbol">:</a> <a id="718" href="Prelude.Inverses.html#667" class="Bound">𝓦</a> <a id="720" href="Universes.html#403" class="Function Operator">̇</a> <a id="722" class="Symbol">}(</a><a id="724" href="Prelude.Inverses.html#724" class="Bound">f</a> <a id="726" class="Symbol">:</a> <a id="728" href="Prelude.Inverses.html#704" class="Bound">A</a> <a id="730" class="Symbol">→</a> <a id="732" href="Prelude.Inverses.html#714" class="Bound">B</a><a id="733" class="Symbol">)</a> <a id="735" class="Symbol">:</a> <a id="737" href="Prelude.Inverses.html#714" class="Bound">B</a> <a id="739" class="Symbol">→</a> <a id="741" href="Prelude.Inverses.html#665" class="Bound">𝓤</a> <a id="743" href="Agda.Primitive.html#636" class="Primitive Operator">⊔</a> <a id="745" href="Prelude.Inverses.html#667" class="Bound">𝓦</a> <a id="747" href="Universes.html#403" class="Function Operator">̇</a>
  <a id="751" class="Keyword">where</a>
  <a id="759" href="Prelude.Inverses.html#759" class="InductiveConstructor">im</a> <a id="762" class="Symbol">:</a> <a id="764" class="Symbol">(</a><a id="765" href="Prelude.Inverses.html#765" class="Bound">x</a> <a id="767" class="Symbol">:</a> <a id="769" href="Prelude.Inverses.html#704" class="Bound">A</a><a id="770" class="Symbol">)</a> <a id="772" class="Symbol">→</a> <a id="774" href="Prelude.Inverses.html#694" class="Datatype Operator">Image</a> <a id="780" href="Prelude.Inverses.html#724" class="Bound">f</a> <a id="782" href="Prelude.Inverses.html#694" class="Datatype Operator">∋</a> <a id="784" href="Prelude.Inverses.html#724" class="Bound">f</a> <a id="786" href="Prelude.Inverses.html#765" class="Bound">x</a>
  <a id="790" href="Prelude.Inverses.html#790" class="InductiveConstructor">eq</a> <a id="793" class="Symbol">:</a> <a id="795" class="Symbol">(</a><a id="796" href="Prelude.Inverses.html#796" class="Bound">b</a> <a id="798" class="Symbol">:</a> <a id="800" href="Prelude.Inverses.html#714" class="Bound">B</a><a id="801" class="Symbol">)</a> <a id="803" class="Symbol">→</a> <a id="805" class="Symbol">(</a><a id="806" href="Prelude.Inverses.html#806" class="Bound">a</a> <a id="808" class="Symbol">:</a> <a id="810" href="Prelude.Inverses.html#704" class="Bound">A</a><a id="811" class="Symbol">)</a> <a id="813" class="Symbol">→</a> <a id="815" href="Prelude.Inverses.html#796" class="Bound">b</a> <a id="817" href="Prelude.Equality.html#1231" class="Datatype Operator">≡</a> <a id="819" href="Prelude.Inverses.html#724" class="Bound">f</a> <a id="821" href="Prelude.Inverses.html#806" class="Bound">a</a> <a id="823" class="Symbol">→</a> <a id="825" href="Prelude.Inverses.html#694" class="Datatype Operator">Image</a> <a id="831" href="Prelude.Inverses.html#724" class="Bound">f</a> <a id="833" href="Prelude.Inverses.html#694" class="Datatype Operator">∋</a> <a id="835" href="Prelude.Inverses.html#796" class="Bound">b</a>


 <a id="840" href="Prelude.Inverses.html#840" class="Function">ImageIsImage</a> <a id="853" class="Symbol">:</a> <a id="855" class="Symbol">{</a><a id="856" href="Prelude.Inverses.html#856" class="Bound">A</a> <a id="858" class="Symbol">:</a> <a id="860" href="Prelude.Inverses.html#665" class="Bound">𝓤</a> <a id="862" href="Universes.html#403" class="Function Operator">̇</a><a id="863" class="Symbol">}{</a><a id="865" href="Prelude.Inverses.html#865" class="Bound">B</a> <a id="867" class="Symbol">:</a> <a id="869" href="Prelude.Inverses.html#667" class="Bound">𝓦</a> <a id="871" href="Universes.html#403" class="Function Operator">̇</a><a id="872" class="Symbol">}(</a><a id="874" href="Prelude.Inverses.html#874" class="Bound">f</a> <a id="876" class="Symbol">:</a> <a id="878" href="Prelude.Inverses.html#856" class="Bound">A</a> <a id="880" class="Symbol">→</a> <a id="882" href="Prelude.Inverses.html#865" class="Bound">B</a><a id="883" class="Symbol">)(</a><a id="885" href="Prelude.Inverses.html#885" class="Bound">b</a> <a id="887" class="Symbol">:</a> <a id="889" href="Prelude.Inverses.html#865" class="Bound">B</a><a id="890" class="Symbol">)(</a><a id="892" href="Prelude.Inverses.html#892" class="Bound">a</a> <a id="894" class="Symbol">:</a> <a id="896" href="Prelude.Inverses.html#856" class="Bound">A</a><a id="897" class="Symbol">)</a>
                <a id="915" class="Comment">---------------------------------------------</a>
  <a id="963" class="Symbol">→</a>             <a id="977" href="Prelude.Inverses.html#885" class="Bound">b</a> <a id="979" href="Prelude.Equality.html#1231" class="Datatype Operator">≡</a> <a id="981" href="Prelude.Inverses.html#874" class="Bound">f</a> <a id="983" href="Prelude.Inverses.html#892" class="Bound">a</a> <a id="985" class="Symbol">→</a> <a id="987" href="Prelude.Inverses.html#694" class="Datatype Operator">Image</a> <a id="993" href="Prelude.Inverses.html#874" class="Bound">f</a> <a id="995" href="Prelude.Inverses.html#694" class="Datatype Operator">∋</a> <a id="997" href="Prelude.Inverses.html#885" class="Bound">b</a>

 <a id="1001" href="Prelude.Inverses.html#840" class="Function">ImageIsImage</a> <a id="1014" href="Prelude.Inverses.html#1014" class="Bound">f</a> <a id="1016" href="Prelude.Inverses.html#1016" class="Bound">b</a> <a id="1018" href="Prelude.Inverses.html#1018" class="Bound">a</a> <a id="1020" href="Prelude.Inverses.html#1020" class="Bound">b≡fa</a> <a id="1025" class="Symbol">=</a> <a id="1027" href="Prelude.Inverses.html#790" class="InductiveConstructor">eq</a> <a id="1030" href="Prelude.Inverses.html#1016" class="Bound">b</a> <a id="1032" href="Prelude.Inverses.html#1018" class="Bound">a</a> <a id="1034" href="Prelude.Inverses.html#1020" class="Bound">b≡fa</a>

</pre>

The following restatement of the last lemma simply rearranges the arguments in case that makes it clearer.

<pre class="Agda">

 <a id="1175" href="Prelude.Inverses.html#1175" class="Function">ImageIsImage&#39;</a> <a id="1189" class="Symbol">:</a> <a id="1191" class="Symbol">{</a><a id="1192" href="Prelude.Inverses.html#1192" class="Bound">A</a> <a id="1194" class="Symbol">:</a> <a id="1196" href="Prelude.Inverses.html#665" class="Bound">𝓤</a> <a id="1198" href="Universes.html#403" class="Function Operator">̇</a><a id="1199" class="Symbol">}{</a><a id="1201" href="Prelude.Inverses.html#1201" class="Bound">B</a> <a id="1203" class="Symbol">:</a> <a id="1205" href="Prelude.Inverses.html#667" class="Bound">𝓦</a> <a id="1207" href="Universes.html#403" class="Function Operator">̇</a><a id="1208" class="Symbol">}(</a><a id="1210" href="Prelude.Inverses.html#1210" class="Bound">f</a> <a id="1212" class="Symbol">:</a> <a id="1214" href="Prelude.Inverses.html#1192" class="Bound">A</a> <a id="1216" class="Symbol">→</a> <a id="1218" href="Prelude.Inverses.html#1201" class="Bound">B</a><a id="1219" class="Symbol">)(</a><a id="1221" href="Prelude.Inverses.html#1221" class="Bound">a</a> <a id="1223" class="Symbol">:</a> <a id="1225" href="Prelude.Inverses.html#1192" class="Bound">A</a><a id="1226" class="Symbol">)(</a><a id="1228" href="Prelude.Inverses.html#1228" class="Bound">b</a> <a id="1230" class="Symbol">:</a> <a id="1232" href="Prelude.Inverses.html#1201" class="Bound">B</a><a id="1233" class="Symbol">)</a>
                  <a id="1253" class="Comment">---------------------------------------------</a>
  <a id="1301" class="Symbol">→</a>               <a id="1317" href="Prelude.Inverses.html#1210" class="Bound">f</a> <a id="1319" href="Prelude.Inverses.html#1221" class="Bound">a</a> <a id="1321" href="Prelude.Equality.html#1231" class="Datatype Operator">≡</a> <a id="1323" href="Prelude.Inverses.html#1228" class="Bound">b</a>  <a id="1326" class="Symbol">→</a>  <a id="1329" href="Prelude.Inverses.html#694" class="Datatype Operator">Image</a> <a id="1335" href="Prelude.Inverses.html#1210" class="Bound">f</a> <a id="1337" href="Prelude.Inverses.html#694" class="Datatype Operator">∋</a> <a id="1339" href="Prelude.Inverses.html#1228" class="Bound">b</a>

 <a id="1343" href="Prelude.Inverses.html#1175" class="Function">ImageIsImage&#39;</a> <a id="1357" href="Prelude.Inverses.html#1357" class="Bound">f</a> <a id="1359" href="Prelude.Inverses.html#1359" class="Bound">a</a> <a id="1361" href="Prelude.Inverses.html#1361" class="Bound">b</a> <a id="1363" href="Prelude.Inverses.html#1363" class="Bound">fab</a> <a id="1367" class="Symbol">=</a> <a id="1369" href="Prelude.Inverses.html#790" class="InductiveConstructor">eq</a> <a id="1372" href="Prelude.Inverses.html#1361" class="Bound">b</a> <a id="1374" href="Prelude.Inverses.html#1359" class="Bound">a</a> <a id="1376" class="Symbol">(</a><a id="1377" href="Prelude.Inverses.html#1363" class="Bound">fab</a> <a id="1381" href="MGS-MLTT.html#6125" class="Function Operator">⁻¹</a><a id="1383" class="Symbol">)</a>

</pre>

Note that an inhabitant of `Image f ∋ b` is a dependent pair `(a , p)`, where `a : A` and `p : b ≡ f a` is a proof that `f` maps `a` to `b`.  Since the proof that `b` belongs to the image of `f` is always accompanied by a "witness" `a : A`, we can actually *compute* a (pseudo)inverse of `f`. For convenience, we define this inverse function, which we call `Inv`, and which takes an arbitrary `b : B` and a witness-proof pair, `(a , p) : Image f ∋ b`, and returns `a`.

<pre class="Agda">

 <a id="1883" href="Prelude.Inverses.html#1883" class="Function">Inv</a> <a id="1887" class="Symbol">:</a> <a id="1889" class="Symbol">{</a><a id="1890" href="Prelude.Inverses.html#1890" class="Bound">A</a> <a id="1892" class="Symbol">:</a> <a id="1894" href="Prelude.Inverses.html#665" class="Bound">𝓤</a> <a id="1896" href="Universes.html#403" class="Function Operator">̇</a> <a id="1898" class="Symbol">}{</a><a id="1900" href="Prelude.Inverses.html#1900" class="Bound">B</a> <a id="1902" class="Symbol">:</a> <a id="1904" href="Prelude.Inverses.html#667" class="Bound">𝓦</a> <a id="1906" href="Universes.html#403" class="Function Operator">̇</a> <a id="1908" class="Symbol">}(</a><a id="1910" href="Prelude.Inverses.html#1910" class="Bound">f</a> <a id="1912" class="Symbol">:</a> <a id="1914" href="Prelude.Inverses.html#1890" class="Bound">A</a> <a id="1916" class="Symbol">→</a> <a id="1918" href="Prelude.Inverses.html#1900" class="Bound">B</a><a id="1919" class="Symbol">){</a><a id="1921" href="Prelude.Inverses.html#1921" class="Bound">b</a> <a id="1923" class="Symbol">:</a> <a id="1925" href="Prelude.Inverses.html#1900" class="Bound">B</a><a id="1926" class="Symbol">}</a> <a id="1928" class="Symbol">→</a> <a id="1930" href="Prelude.Inverses.html#694" class="Datatype Operator">Image</a> <a id="1936" href="Prelude.Inverses.html#1910" class="Bound">f</a> <a id="1938" href="Prelude.Inverses.html#694" class="Datatype Operator">∋</a> <a id="1940" href="Prelude.Inverses.html#1921" class="Bound">b</a>  <a id="1943" class="Symbol">→</a>  <a id="1946" href="Prelude.Inverses.html#1890" class="Bound">A</a>
 <a id="1949" href="Prelude.Inverses.html#1883" class="Function">Inv</a> <a id="1953" href="Prelude.Inverses.html#1953" class="Bound">f</a> <a id="1955" class="Symbol">{</a><a id="1956" class="DottedPattern Symbol">.(</a><a id="1958" href="Prelude.Inverses.html#1953" class="DottedPattern Bound">f</a> <a id="1960" href="Prelude.Inverses.html#1968" class="DottedPattern Bound">a</a><a id="1961" class="DottedPattern Symbol">)</a><a id="1962" class="Symbol">}</a> <a id="1964" class="Symbol">(</a><a id="1965" href="Prelude.Inverses.html#759" class="InductiveConstructor">im</a> <a id="1968" href="Prelude.Inverses.html#1968" class="Bound">a</a><a id="1969" class="Symbol">)</a> <a id="1971" class="Symbol">=</a> <a id="1973" href="Prelude.Inverses.html#1968" class="Bound">a</a>
 <a id="1976" href="Prelude.Inverses.html#1883" class="Function">Inv</a> <a id="1980" href="Prelude.Inverses.html#1980" class="Bound">f</a> <a id="1982" class="Symbol">(</a><a id="1983" href="Prelude.Inverses.html#790" class="InductiveConstructor">eq</a> <a id="1986" class="Symbol">_</a> <a id="1988" href="Prelude.Inverses.html#1988" class="Bound">a</a> <a id="1990" class="Symbol">_)</a> <a id="1993" class="Symbol">=</a> <a id="1995" href="Prelude.Inverses.html#1988" class="Bound">a</a>

</pre>

We can prove that `Inv f` is the right-inverse of `f`, as follows.

<pre class="Agda">

 <a id="2093" href="Prelude.Inverses.html#2093" class="Function">InvIsInv</a> <a id="2102" class="Symbol">:</a> <a id="2104" class="Symbol">{</a><a id="2105" href="Prelude.Inverses.html#2105" class="Bound">A</a> <a id="2107" class="Symbol">:</a> <a id="2109" href="Prelude.Inverses.html#665" class="Bound">𝓤</a> <a id="2111" href="Universes.html#403" class="Function Operator">̇</a><a id="2112" class="Symbol">}{</a><a id="2114" href="Prelude.Inverses.html#2114" class="Bound">B</a> <a id="2116" class="Symbol">:</a> <a id="2118" href="Prelude.Inverses.html#667" class="Bound">𝓦</a> <a id="2120" href="Universes.html#403" class="Function Operator">̇</a><a id="2121" class="Symbol">}(</a><a id="2123" href="Prelude.Inverses.html#2123" class="Bound">f</a> <a id="2125" class="Symbol">:</a> <a id="2127" href="Prelude.Inverses.html#2105" class="Bound">A</a> <a id="2129" class="Symbol">→</a> <a id="2131" href="Prelude.Inverses.html#2114" class="Bound">B</a><a id="2132" class="Symbol">){</a><a id="2134" href="Prelude.Inverses.html#2134" class="Bound">b</a> <a id="2136" class="Symbol">:</a> <a id="2138" href="Prelude.Inverses.html#2114" class="Bound">B</a><a id="2139" class="Symbol">}(</a><a id="2141" href="Prelude.Inverses.html#2141" class="Bound">b∈Imgf</a> <a id="2148" class="Symbol">:</a> <a id="2150" href="Prelude.Inverses.html#694" class="Datatype Operator">Image</a> <a id="2156" href="Prelude.Inverses.html#2123" class="Bound">f</a> <a id="2158" href="Prelude.Inverses.html#694" class="Datatype Operator">∋</a> <a id="2160" href="Prelude.Inverses.html#2134" class="Bound">b</a><a id="2161" class="Symbol">)</a> <a id="2163" class="Symbol">→</a> <a id="2165" href="Prelude.Inverses.html#2123" class="Bound">f</a><a id="2166" class="Symbol">(</a><a id="2167" href="Prelude.Inverses.html#1883" class="Function">Inv</a> <a id="2171" href="Prelude.Inverses.html#2123" class="Bound">f</a> <a id="2173" href="Prelude.Inverses.html#2141" class="Bound">b∈Imgf</a><a id="2179" class="Symbol">)</a> <a id="2181" href="Prelude.Equality.html#1231" class="Datatype Operator">≡</a> <a id="2183" href="Prelude.Inverses.html#2134" class="Bound">b</a>

 <a id="2187" href="Prelude.Inverses.html#2093" class="Function">InvIsInv</a> <a id="2196" href="Prelude.Inverses.html#2196" class="Bound">f</a> <a id="2198" class="Symbol">{</a><a id="2199" class="DottedPattern Symbol">.(</a><a id="2201" href="Prelude.Inverses.html#2196" class="DottedPattern Bound">f</a> <a id="2203" href="Prelude.Inverses.html#2211" class="DottedPattern Bound">a</a><a id="2204" class="DottedPattern Symbol">)</a><a id="2205" class="Symbol">}</a> <a id="2207" class="Symbol">(</a><a id="2208" href="Prelude.Inverses.html#759" class="InductiveConstructor">im</a> <a id="2211" href="Prelude.Inverses.html#2211" class="Bound">a</a><a id="2212" class="Symbol">)</a> <a id="2214" class="Symbol">=</a> <a id="2216" href="Prelude.Equality.html#1413" class="InductiveConstructor">refl</a> <a id="2221" class="Symbol">_</a>

 <a id="2225" href="Prelude.Inverses.html#2093" class="Function">InvIsInv</a> <a id="2234" href="Prelude.Inverses.html#2234" class="Bound">f</a> <a id="2236" class="Symbol">(</a><a id="2237" href="Prelude.Inverses.html#790" class="InductiveConstructor">eq</a> <a id="2240" class="Symbol">_</a> <a id="2242" class="Symbol">_</a> <a id="2244" href="Prelude.Inverses.html#2244" class="Bound">p</a><a id="2245" class="Symbol">)</a> <a id="2247" class="Symbol">=</a> <a id="2249" href="Prelude.Inverses.html#2244" class="Bound">p</a> <a id="2251" href="MGS-MLTT.html#6125" class="Function Operator">⁻¹</a>

</pre>





#### <a id="surjective-functions">Surjective functions</a>

An epic (or surjective) function from type `A : 𝓤 ̇` to type `B : 𝓦 ̇` is as an inhabitant of the `Epic` type, which we define as follows.

<pre class="Agda">

 <a id="2486" href="Prelude.Inverses.html#2486" class="Function">Epic</a> <a id="2491" class="Symbol">:</a> <a id="2493" class="Symbol">{</a><a id="2494" href="Prelude.Inverses.html#2494" class="Bound">A</a> <a id="2496" class="Symbol">:</a> <a id="2498" href="Prelude.Inverses.html#665" class="Bound">𝓤</a> <a id="2500" href="Universes.html#403" class="Function Operator">̇</a> <a id="2502" class="Symbol">}</a> <a id="2504" class="Symbol">{</a><a id="2505" href="Prelude.Inverses.html#2505" class="Bound">B</a> <a id="2507" class="Symbol">:</a> <a id="2509" href="Prelude.Inverses.html#667" class="Bound">𝓦</a> <a id="2511" href="Universes.html#403" class="Function Operator">̇</a> <a id="2513" class="Symbol">}</a> <a id="2515" class="Symbol">(</a><a id="2516" href="Prelude.Inverses.html#2516" class="Bound">g</a> <a id="2518" class="Symbol">:</a> <a id="2520" href="Prelude.Inverses.html#2494" class="Bound">A</a> <a id="2522" class="Symbol">→</a> <a id="2524" href="Prelude.Inverses.html#2505" class="Bound">B</a><a id="2525" class="Symbol">)</a> <a id="2527" class="Symbol">→</a>  <a id="2530" href="Prelude.Inverses.html#665" class="Bound">𝓤</a> <a id="2532" href="Agda.Primitive.html#636" class="Primitive Operator">⊔</a> <a id="2534" href="Prelude.Inverses.html#667" class="Bound">𝓦</a> <a id="2536" href="Universes.html#403" class="Function Operator">̇</a>
 <a id="2539" href="Prelude.Inverses.html#2486" class="Function">Epic</a> <a id="2544" href="Prelude.Inverses.html#2544" class="Bound">g</a> <a id="2546" class="Symbol">=</a> <a id="2548" class="Symbol">∀</a> <a id="2550" href="Prelude.Inverses.html#2550" class="Bound">y</a> <a id="2552" class="Symbol">→</a> <a id="2554" href="Prelude.Inverses.html#694" class="Datatype Operator">Image</a> <a id="2560" href="Prelude.Inverses.html#2544" class="Bound">g</a> <a id="2562" href="Prelude.Inverses.html#694" class="Datatype Operator">∋</a> <a id="2564" href="Prelude.Inverses.html#2550" class="Bound">y</a>

</pre>

We obtain the right-inverse (or pseudoinverse) of an epic function `f` by applying the function `EpicInv` (which we now define) to the function `f` along with a proof, `fE : Epic f`, that `f` is surjective.

<pre class="Agda">

 <a id="2802" href="Prelude.Inverses.html#2802" class="Function">EpicInv</a> <a id="2810" class="Symbol">:</a> <a id="2812" class="Symbol">{</a><a id="2813" href="Prelude.Inverses.html#2813" class="Bound">A</a> <a id="2815" class="Symbol">:</a> <a id="2817" href="Prelude.Inverses.html#665" class="Bound">𝓤</a> <a id="2819" href="Universes.html#403" class="Function Operator">̇</a> <a id="2821" class="Symbol">}</a> <a id="2823" class="Symbol">{</a><a id="2824" href="Prelude.Inverses.html#2824" class="Bound">B</a> <a id="2826" class="Symbol">:</a> <a id="2828" href="Prelude.Inverses.html#667" class="Bound">𝓦</a> <a id="2830" href="Universes.html#403" class="Function Operator">̇</a> <a id="2832" class="Symbol">}</a>
           <a id="2845" class="Symbol">(</a><a id="2846" href="Prelude.Inverses.html#2846" class="Bound">f</a> <a id="2848" class="Symbol">:</a> <a id="2850" href="Prelude.Inverses.html#2813" class="Bound">A</a> <a id="2852" class="Symbol">→</a> <a id="2854" href="Prelude.Inverses.html#2824" class="Bound">B</a><a id="2855" class="Symbol">)</a> <a id="2857" class="Symbol">→</a> <a id="2859" href="Prelude.Inverses.html#2486" class="Function">Epic</a> <a id="2864" href="Prelude.Inverses.html#2846" class="Bound">f</a>
           <a id="2877" class="Comment">--------------------</a>
  <a id="2900" class="Symbol">→</a>        <a id="2909" href="Prelude.Inverses.html#2824" class="Bound">B</a> <a id="2911" class="Symbol">→</a> <a id="2913" href="Prelude.Inverses.html#2813" class="Bound">A</a>

 <a id="2917" href="Prelude.Inverses.html#2802" class="Function">EpicInv</a> <a id="2925" href="Prelude.Inverses.html#2925" class="Bound">f</a> <a id="2927" href="Prelude.Inverses.html#2927" class="Bound">fE</a> <a id="2930" href="Prelude.Inverses.html#2930" class="Bound">b</a> <a id="2932" class="Symbol">=</a> <a id="2934" href="Prelude.Inverses.html#1883" class="Function">Inv</a> <a id="2938" href="Prelude.Inverses.html#2925" class="Bound">f</a> <a id="2940" class="Symbol">(</a><a id="2941" href="Prelude.Inverses.html#2927" class="Bound">fE</a> <a id="2944" href="Prelude.Inverses.html#2930" class="Bound">b</a><a id="2945" class="Symbol">)</a>

</pre>

The function defined by `EpicInv f fE` is indeed the right-inverse of `f`. To state this, we'll use the function composition operation, `∘`, which is already defined in the [Type Topology][] library as follows.

<pre class="Agda">

<a id="3186" class="Keyword">module</a> <a id="hide-∘"></a><a id="3193" href="Prelude.Inverses.html#3193" class="Module">hide-∘</a> <a id="3200" class="Symbol">{</a><a id="3201" href="Prelude.Inverses.html#3201" class="Bound">𝓤</a> <a id="3203" href="Prelude.Inverses.html#3203" class="Bound">𝓦</a> <a id="3205" class="Symbol">:</a> <a id="3207" href="Agda.Primitive.html#423" class="Postulate">Universe</a><a id="3215" class="Symbol">}</a> <a id="3217" class="Keyword">where</a>

 <a id="hide-∘._∘_"></a><a id="3225" href="Prelude.Inverses.html#3225" class="Function Operator">_∘_</a> <a id="3229" class="Symbol">:</a> <a id="3231" class="Symbol">{</a><a id="3232" href="Prelude.Inverses.html#3232" class="Bound">X</a> <a id="3234" class="Symbol">:</a> <a id="3236" href="Prelude.Inverses.html#3201" class="Bound">𝓤</a> <a id="3238" href="Universes.html#403" class="Function Operator">̇</a> <a id="3240" class="Symbol">}</a> <a id="3242" class="Symbol">{</a><a id="3243" href="Prelude.Inverses.html#3243" class="Bound">Y</a> <a id="3245" class="Symbol">:</a> <a id="3247" href="Prelude.Inverses.html#3203" class="Bound">𝓦</a> <a id="3249" href="Universes.html#403" class="Function Operator">̇</a><a id="3250" class="Symbol">}{</a><a id="3252" href="Prelude.Inverses.html#3252" class="Bound">Z</a> <a id="3254" class="Symbol">:</a> <a id="3256" href="Prelude.Inverses.html#3243" class="Bound">Y</a> <a id="3258" class="Symbol">→</a> <a id="3260" href="Prelude.Inverses.html#3203" class="Bound">𝓦</a> <a id="3262" href="Universes.html#403" class="Function Operator">̇</a> <a id="3264" class="Symbol">}</a>
  <a id="3268" class="Symbol">→</a>    <a id="3273" href="MGS-MLTT.html#3562" class="Function">Π</a> <a id="3275" href="Prelude.Inverses.html#3252" class="Bound">Z</a> <a id="3277" class="Symbol">→</a> <a id="3279" class="Symbol">(</a><a id="3280" href="Prelude.Inverses.html#3280" class="Bound">f</a> <a id="3282" class="Symbol">:</a> <a id="3284" href="Prelude.Inverses.html#3232" class="Bound">X</a> <a id="3286" class="Symbol">→</a> <a id="3288" href="Prelude.Inverses.html#3243" class="Bound">Y</a><a id="3289" class="Symbol">)</a> <a id="3291" class="Symbol">→</a> <a id="3293" class="Symbol">(</a><a id="3294" href="Prelude.Inverses.html#3294" class="Bound">x</a> <a id="3296" class="Symbol">:</a> <a id="3298" href="Prelude.Inverses.html#3232" class="Bound">X</a><a id="3299" class="Symbol">)</a> <a id="3301" class="Symbol">→</a> <a id="3303" href="Prelude.Inverses.html#3252" class="Bound">Z</a> <a id="3305" class="Symbol">(</a><a id="3306" href="Prelude.Inverses.html#3280" class="Bound">f</a> <a id="3308" href="Prelude.Inverses.html#3294" class="Bound">x</a><a id="3309" class="Symbol">)</a>

 <a id="3313" href="Prelude.Inverses.html#3313" class="Bound">g</a> <a id="3315" href="Prelude.Inverses.html#3225" class="Function Operator">∘</a> <a id="3317" href="Prelude.Inverses.html#3317" class="Bound">f</a> <a id="3319" class="Symbol">=</a> <a id="3321" class="Symbol">λ</a> <a id="3323" href="Prelude.Inverses.html#3323" class="Bound">x</a> <a id="3325" class="Symbol">→</a> <a id="3327" href="Prelude.Inverses.html#3313" class="Bound">g</a> <a id="3329" class="Symbol">(</a><a id="3330" href="Prelude.Inverses.html#3317" class="Bound">f</a> <a id="3332" href="Prelude.Inverses.html#3323" class="Bound">x</a><a id="3333" class="Symbol">)</a>

<a id="3336" class="Keyword">open</a> <a id="3341" class="Keyword">import</a> <a id="3348" href="MGS-MLTT.html" class="Module">MGS-MLTT</a> <a id="3357" class="Keyword">using</a> <a id="3363" class="Symbol">(</a><a id="3364" href="MGS-MLTT.html#3813" class="Function Operator">_∘_</a><a id="3367" class="Symbol">)</a> <a id="3369" class="Keyword">public</a>


<a id="3378" class="Keyword">module</a> <a id="3385" href="Prelude.Inverses.html#3385" class="Module">_</a> <a id="3387" class="Symbol">{</a><a id="3388" href="Prelude.Inverses.html#3388" class="Bound">𝓤</a> <a id="3390" href="Prelude.Inverses.html#3390" class="Bound">𝓦</a> <a id="3392" class="Symbol">:</a> <a id="3394" href="Agda.Primitive.html#423" class="Postulate">Universe</a><a id="3402" class="Symbol">}</a> <a id="3404" class="Keyword">where</a>

 <a id="3412" href="Prelude.Inverses.html#3412" class="Function">EpicInvIsRightInv</a> <a id="3430" class="Symbol">:</a> <a id="3432" href="MGS-FunExt-from-Univalence.html#393" class="Function">funext</a> <a id="3439" href="Prelude.Inverses.html#3390" class="Bound">𝓦</a> <a id="3441" href="Prelude.Inverses.html#3390" class="Bound">𝓦</a> <a id="3443" class="Symbol">→</a> <a id="3445" class="Symbol">{</a><a id="3446" href="Prelude.Inverses.html#3446" class="Bound">A</a> <a id="3448" class="Symbol">:</a> <a id="3450" href="Prelude.Inverses.html#3388" class="Bound">𝓤</a> <a id="3452" href="Universes.html#403" class="Function Operator">̇</a> <a id="3454" class="Symbol">}</a> <a id="3456" class="Symbol">{</a><a id="3457" href="Prelude.Inverses.html#3457" class="Bound">B</a> <a id="3459" class="Symbol">:</a> <a id="3461" href="Prelude.Inverses.html#3390" class="Bound">𝓦</a> <a id="3463" href="Universes.html#403" class="Function Operator">̇</a> <a id="3465" class="Symbol">}</a>
                     <a id="3488" class="Symbol">(</a><a id="3489" href="Prelude.Inverses.html#3489" class="Bound">f</a> <a id="3491" class="Symbol">:</a> <a id="3493" href="Prelude.Inverses.html#3446" class="Bound">A</a> <a id="3495" class="Symbol">→</a> <a id="3497" href="Prelude.Inverses.html#3457" class="Bound">B</a><a id="3498" class="Symbol">)</a>  <a id="3501" class="Symbol">(</a><a id="3502" href="Prelude.Inverses.html#3502" class="Bound">fE</a> <a id="3505" class="Symbol">:</a> <a id="3507" href="Prelude.Inverses.html#2486" class="Function">Epic</a> <a id="3512" href="Prelude.Inverses.html#3489" class="Bound">f</a><a id="3513" class="Symbol">)</a>
                     <a id="3536" class="Comment">--------------------------</a>
  <a id="3565" class="Symbol">→</a>                  <a id="3584" href="Prelude.Inverses.html#3489" class="Bound">f</a> <a id="3586" href="MGS-MLTT.html#3813" class="Function Operator">∘</a> <a id="3588" class="Symbol">(</a><a id="3589" href="Prelude.Inverses.html#2802" class="Function">EpicInv</a> <a id="3597" href="Prelude.Inverses.html#3489" class="Bound">f</a> <a id="3599" href="Prelude.Inverses.html#3502" class="Bound">fE</a><a id="3601" class="Symbol">)</a> <a id="3603" href="Prelude.Equality.html#1231" class="Datatype Operator">≡</a> <a id="3605" href="MGS-MLTT.html#3778" class="Function">𝑖𝑑</a> <a id="3608" href="Prelude.Inverses.html#3457" class="Bound">B</a>

 <a id="3612" href="Prelude.Inverses.html#3412" class="Function">EpicInvIsRightInv</a> <a id="3630" href="Prelude.Inverses.html#3630" class="Bound">fe</a> <a id="3633" href="Prelude.Inverses.html#3633" class="Bound">f</a> <a id="3635" href="Prelude.Inverses.html#3635" class="Bound">fE</a> <a id="3638" class="Symbol">=</a> <a id="3640" href="Prelude.Inverses.html#3630" class="Bound">fe</a> <a id="3643" class="Symbol">(λ</a> <a id="3646" href="Prelude.Inverses.html#3646" class="Bound">x</a> <a id="3648" class="Symbol">→</a> <a id="3650" href="Prelude.Inverses.html#2093" class="Function">InvIsInv</a> <a id="3659" href="Prelude.Inverses.html#3633" class="Bound">f</a> <a id="3661" class="Symbol">(</a><a id="3662" href="Prelude.Inverses.html#3635" class="Bound">fE</a> <a id="3665" href="Prelude.Inverses.html#3646" class="Bound">x</a><a id="3666" class="Symbol">))</a>

</pre>





#### <a id="injective-functions">Injective functions</a>

We say that a function `g : A → B` is monic (or injective) if we have a proof of `Monic g`, where

<pre class="Agda">

 <a id="3858" href="Prelude.Inverses.html#3858" class="Function">Monic</a> <a id="3864" class="Symbol">:</a> <a id="3866" class="Symbol">{</a><a id="3867" href="Prelude.Inverses.html#3867" class="Bound">A</a> <a id="3869" class="Symbol">:</a> <a id="3871" href="Prelude.Inverses.html#3388" class="Bound">𝓤</a> <a id="3873" href="Universes.html#403" class="Function Operator">̇</a> <a id="3875" class="Symbol">}</a> <a id="3877" class="Symbol">{</a><a id="3878" href="Prelude.Inverses.html#3878" class="Bound">B</a> <a id="3880" class="Symbol">:</a> <a id="3882" href="Prelude.Inverses.html#3390" class="Bound">𝓦</a> <a id="3884" href="Universes.html#403" class="Function Operator">̇</a> <a id="3886" class="Symbol">}(</a><a id="3888" href="Prelude.Inverses.html#3888" class="Bound">g</a> <a id="3890" class="Symbol">:</a> <a id="3892" href="Prelude.Inverses.html#3867" class="Bound">A</a> <a id="3894" class="Symbol">→</a> <a id="3896" href="Prelude.Inverses.html#3878" class="Bound">B</a><a id="3897" class="Symbol">)</a> <a id="3899" class="Symbol">→</a> <a id="3901" href="Prelude.Inverses.html#3388" class="Bound">𝓤</a> <a id="3903" href="Agda.Primitive.html#636" class="Primitive Operator">⊔</a> <a id="3905" href="Prelude.Inverses.html#3390" class="Bound">𝓦</a> <a id="3907" href="Universes.html#403" class="Function Operator">̇</a>
 <a id="3910" href="Prelude.Inverses.html#3858" class="Function">Monic</a> <a id="3916" href="Prelude.Inverses.html#3916" class="Bound">g</a> <a id="3918" class="Symbol">=</a> <a id="3920" class="Symbol">∀</a> <a id="3922" href="Prelude.Inverses.html#3922" class="Bound">a₁</a> <a id="3925" href="Prelude.Inverses.html#3925" class="Bound">a₂</a> <a id="3928" class="Symbol">→</a> <a id="3930" href="Prelude.Inverses.html#3916" class="Bound">g</a> <a id="3932" href="Prelude.Inverses.html#3922" class="Bound">a₁</a> <a id="3935" href="Prelude.Equality.html#1231" class="Datatype Operator">≡</a> <a id="3937" href="Prelude.Inverses.html#3916" class="Bound">g</a> <a id="3939" href="Prelude.Inverses.html#3925" class="Bound">a₂</a> <a id="3942" class="Symbol">→</a> <a id="3944" href="Prelude.Inverses.html#3922" class="Bound">a₁</a> <a id="3947" href="Prelude.Equality.html#1231" class="Datatype Operator">≡</a> <a id="3949" href="Prelude.Inverses.html#3925" class="Bound">a₂</a>

</pre>

Again, we obtain a pseudoinverse. Here it is obtained by applying the function `MonicInv` to `g` and a proof that `g` is monic.

<pre class="Agda">

 <a id="4109" class="Comment">--The (pseudo-)inverse of a monic function</a>
 <a id="4153" href="Prelude.Inverses.html#4153" class="Function">MonicInv</a> <a id="4162" class="Symbol">:</a> <a id="4164" class="Symbol">{</a><a id="4165" href="Prelude.Inverses.html#4165" class="Bound">A</a> <a id="4167" class="Symbol">:</a> <a id="4169" href="Prelude.Inverses.html#3388" class="Bound">𝓤</a> <a id="4171" href="Universes.html#403" class="Function Operator">̇</a> <a id="4173" class="Symbol">}{</a><a id="4175" href="Prelude.Inverses.html#4175" class="Bound">B</a> <a id="4177" class="Symbol">:</a> <a id="4179" href="Prelude.Inverses.html#3390" class="Bound">𝓦</a> <a id="4181" href="Universes.html#403" class="Function Operator">̇</a> <a id="4183" class="Symbol">}(</a><a id="4185" href="Prelude.Inverses.html#4185" class="Bound">f</a> <a id="4187" class="Symbol">:</a> <a id="4189" href="Prelude.Inverses.html#4165" class="Bound">A</a> <a id="4191" class="Symbol">→</a> <a id="4193" href="Prelude.Inverses.html#4175" class="Bound">B</a><a id="4194" class="Symbol">)</a> <a id="4196" class="Symbol">→</a> <a id="4198" href="Prelude.Inverses.html#3858" class="Function">Monic</a> <a id="4204" href="Prelude.Inverses.html#4185" class="Bound">f</a>
  <a id="4208" class="Symbol">→</a>         <a id="4218" class="Symbol">(</a><a id="4219" href="Prelude.Inverses.html#4219" class="Bound">b</a> <a id="4221" class="Symbol">:</a> <a id="4223" href="Prelude.Inverses.html#4175" class="Bound">B</a><a id="4224" class="Symbol">)</a> <a id="4226" class="Symbol">→</a> <a id="4228" href="Prelude.Inverses.html#694" class="Datatype Operator">Image</a> <a id="4234" href="Prelude.Inverses.html#4185" class="Bound">f</a> <a id="4236" href="Prelude.Inverses.html#694" class="Datatype Operator">∋</a> <a id="4238" href="Prelude.Inverses.html#4219" class="Bound">b</a> <a id="4240" class="Symbol">→</a> <a id="4242" href="Prelude.Inverses.html#4165" class="Bound">A</a>

 <a id="4246" href="Prelude.Inverses.html#4153" class="Function">MonicInv</a> <a id="4255" href="Prelude.Inverses.html#4255" class="Bound">f</a> <a id="4257" class="Symbol">_</a> <a id="4259" class="Symbol">=</a> <a id="4261" class="Symbol">λ</a> <a id="4263" href="Prelude.Inverses.html#4263" class="Bound">b</a> <a id="4265" href="Prelude.Inverses.html#4265" class="Bound">Imf∋b</a> <a id="4271" class="Symbol">→</a> <a id="4273" href="Prelude.Inverses.html#1883" class="Function">Inv</a> <a id="4277" href="Prelude.Inverses.html#4255" class="Bound">f</a> <a id="4279" href="Prelude.Inverses.html#4265" class="Bound">Imf∋b</a>

</pre>

The function defined by `MonicInv f fM` is the left-inverse of `f`.

<pre class="Agda">

 <a id="4382" class="Comment">--The (psudo-)inverse of a monic is the left inverse.</a>
 <a id="4437" href="Prelude.Inverses.html#4437" class="Function">MonicInvIsLeftInv</a> <a id="4455" class="Symbol">:</a> <a id="4457" class="Symbol">{</a><a id="4458" href="Prelude.Inverses.html#4458" class="Bound">A</a> <a id="4460" class="Symbol">:</a> <a id="4462" href="Prelude.Inverses.html#3388" class="Bound">𝓤</a> <a id="4464" href="Universes.html#403" class="Function Operator">̇</a> <a id="4466" class="Symbol">}{</a><a id="4468" href="Prelude.Inverses.html#4468" class="Bound">B</a> <a id="4470" class="Symbol">:</a> <a id="4472" href="Prelude.Inverses.html#3390" class="Bound">𝓦</a> <a id="4474" href="Universes.html#403" class="Function Operator">̇</a> <a id="4476" class="Symbol">}(</a><a id="4478" href="Prelude.Inverses.html#4478" class="Bound">f</a> <a id="4480" class="Symbol">:</a> <a id="4482" href="Prelude.Inverses.html#4458" class="Bound">A</a> <a id="4484" class="Symbol">→</a> <a id="4486" href="Prelude.Inverses.html#4468" class="Bound">B</a><a id="4487" class="Symbol">)(</a><a id="4489" href="Prelude.Inverses.html#4489" class="Bound">fmonic</a> <a id="4496" class="Symbol">:</a> <a id="4498" href="Prelude.Inverses.html#3858" class="Function">Monic</a> <a id="4504" href="Prelude.Inverses.html#4478" class="Bound">f</a><a id="4505" class="Symbol">)(</a><a id="4507" href="Prelude.Inverses.html#4507" class="Bound">x</a> <a id="4509" class="Symbol">:</a> <a id="4511" href="Prelude.Inverses.html#4458" class="Bound">A</a><a id="4512" class="Symbol">)</a>
   <a id="4517" class="Symbol">→</a>                 <a id="4535" class="Symbol">(</a><a id="4536" href="Prelude.Inverses.html#4153" class="Function">MonicInv</a> <a id="4545" href="Prelude.Inverses.html#4478" class="Bound">f</a> <a id="4547" href="Prelude.Inverses.html#4489" class="Bound">fmonic</a><a id="4553" class="Symbol">)(</a><a id="4555" href="Prelude.Inverses.html#4478" class="Bound">f</a> <a id="4557" href="Prelude.Inverses.html#4507" class="Bound">x</a><a id="4558" class="Symbol">)(</a><a id="4560" href="Prelude.Inverses.html#759" class="InductiveConstructor">im</a> <a id="4563" href="Prelude.Inverses.html#4507" class="Bound">x</a><a id="4564" class="Symbol">)</a> <a id="4566" href="Prelude.Equality.html#1231" class="Datatype Operator">≡</a> <a id="4568" href="Prelude.Inverses.html#4507" class="Bound">x</a>

 <a id="4572" href="Prelude.Inverses.html#4437" class="Function">MonicInvIsLeftInv</a> <a id="4590" href="Prelude.Inverses.html#4590" class="Bound">f</a> <a id="4592" href="Prelude.Inverses.html#4592" class="Bound">fmonic</a> <a id="4599" href="Prelude.Inverses.html#4599" class="Bound">x</a> <a id="4601" class="Symbol">=</a> <a id="4603" href="Prelude.Equality.html#1413" class="InductiveConstructor">refl</a> <a id="4608" class="Symbol">_</a>

</pre>



#### <a id="composition-laws">Composition laws</a>

<pre class="Agda">

<a id="4691" class="Keyword">module</a> <a id="4698" href="Prelude.Inverses.html#4698" class="Module">_</a> <a id="4700" class="Symbol">{</a><a id="4701" href="Prelude.Inverses.html#4701" class="Bound">𝓧</a> <a id="4703" href="Prelude.Inverses.html#4703" class="Bound">𝓨</a> <a id="4705" href="Prelude.Inverses.html#4705" class="Bound">𝓩</a> <a id="4707" class="Symbol">:</a> <a id="4709" href="Agda.Primitive.html#423" class="Postulate">Universe</a><a id="4717" class="Symbol">}</a> <a id="4719" class="Keyword">where</a>

 <a id="4727" href="Prelude.Inverses.html#4727" class="Function">epic-factor</a> <a id="4739" class="Symbol">:</a> <a id="4741" href="MGS-FunExt-from-Univalence.html#393" class="Function">funext</a> <a id="4748" href="Prelude.Inverses.html#4703" class="Bound">𝓨</a> <a id="4750" href="Prelude.Inverses.html#4703" class="Bound">𝓨</a> <a id="4752" class="Symbol">→</a> <a id="4754" class="Symbol">{</a><a id="4755" href="Prelude.Inverses.html#4755" class="Bound">A</a> <a id="4757" class="Symbol">:</a> <a id="4759" href="Prelude.Inverses.html#4701" class="Bound">𝓧</a> <a id="4761" href="Universes.html#403" class="Function Operator">̇</a><a id="4762" class="Symbol">}{</a><a id="4764" href="Prelude.Inverses.html#4764" class="Bound">B</a> <a id="4766" class="Symbol">:</a> <a id="4768" href="Prelude.Inverses.html#4703" class="Bound">𝓨</a> <a id="4770" href="Universes.html#403" class="Function Operator">̇</a><a id="4771" class="Symbol">}{</a><a id="4773" href="Prelude.Inverses.html#4773" class="Bound">C</a> <a id="4775" class="Symbol">:</a> <a id="4777" href="Prelude.Inverses.html#4705" class="Bound">𝓩</a> <a id="4779" href="Universes.html#403" class="Function Operator">̇</a><a id="4780" class="Symbol">}</a>
               <a id="4797" class="Symbol">(</a><a id="4798" href="Prelude.Inverses.html#4798" class="Bound">β</a> <a id="4800" class="Symbol">:</a> <a id="4802" href="Prelude.Inverses.html#4755" class="Bound">A</a> <a id="4804" class="Symbol">→</a> <a id="4806" href="Prelude.Inverses.html#4764" class="Bound">B</a><a id="4807" class="Symbol">)(</a><a id="4809" href="Prelude.Inverses.html#4809" class="Bound">ξ</a> <a id="4811" class="Symbol">:</a> <a id="4813" href="Prelude.Inverses.html#4755" class="Bound">A</a> <a id="4815" class="Symbol">→</a> <a id="4817" href="Prelude.Inverses.html#4773" class="Bound">C</a><a id="4818" class="Symbol">)(</a><a id="4820" href="Prelude.Inverses.html#4820" class="Bound">ϕ</a> <a id="4822" class="Symbol">:</a> <a id="4824" href="Prelude.Inverses.html#4773" class="Bound">C</a> <a id="4826" class="Symbol">→</a> <a id="4828" href="Prelude.Inverses.html#4764" class="Bound">B</a><a id="4829" class="Symbol">)</a>
  <a id="4833" class="Symbol">→</a>            <a id="4846" href="Prelude.Inverses.html#4798" class="Bound">β</a> <a id="4848" href="Prelude.Equality.html#1231" class="Datatype Operator">≡</a> <a id="4850" href="Prelude.Inverses.html#4820" class="Bound">ϕ</a> <a id="4852" href="MGS-MLTT.html#3813" class="Function Operator">∘</a> <a id="4854" href="Prelude.Inverses.html#4809" class="Bound">ξ</a> <a id="4856" class="Symbol">→</a>  <a id="4859" href="Prelude.Inverses.html#2486" class="Function">Epic</a> <a id="4864" href="Prelude.Inverses.html#4798" class="Bound">β</a> <a id="4866" class="Symbol">→</a> <a id="4868" href="Prelude.Inverses.html#2486" class="Function">Epic</a> <a id="4873" href="Prelude.Inverses.html#4820" class="Bound">ϕ</a>

 <a id="4877" href="Prelude.Inverses.html#4727" class="Function">epic-factor</a> <a id="4889" href="Prelude.Inverses.html#4889" class="Bound">fe</a> <a id="4892" class="Symbol">{</a><a id="4893" href="Prelude.Inverses.html#4893" class="Bound">A</a><a id="4894" class="Symbol">}{</a><a id="4896" href="Prelude.Inverses.html#4896" class="Bound">B</a><a id="4897" class="Symbol">}{</a><a id="4899" href="Prelude.Inverses.html#4899" class="Bound">C</a><a id="4900" class="Symbol">}</a> <a id="4902" href="Prelude.Inverses.html#4902" class="Bound">β</a> <a id="4904" href="Prelude.Inverses.html#4904" class="Bound">ξ</a> <a id="4906" href="Prelude.Inverses.html#4906" class="Bound">ϕ</a> <a id="4908" href="Prelude.Inverses.html#4908" class="Bound">compId</a> <a id="4915" href="Prelude.Inverses.html#4915" class="Bound">βe</a> <a id="4918" href="Prelude.Inverses.html#4918" class="Bound">y</a> <a id="4920" class="Symbol">=</a> <a id="4922" href="Prelude.Inverses.html#5122" class="Function">γ</a>
  <a id="4926" class="Keyword">where</a>
   <a id="4935" href="Prelude.Inverses.html#4935" class="Function">βinv</a> <a id="4940" class="Symbol">:</a> <a id="4942" href="Prelude.Inverses.html#4896" class="Bound">B</a> <a id="4944" class="Symbol">→</a> <a id="4946" href="Prelude.Inverses.html#4893" class="Bound">A</a>
   <a id="4951" href="Prelude.Inverses.html#4935" class="Function">βinv</a> <a id="4956" class="Symbol">=</a> <a id="4958" href="Prelude.Inverses.html#2802" class="Function">EpicInv</a> <a id="4966" href="Prelude.Inverses.html#4902" class="Bound">β</a> <a id="4968" href="Prelude.Inverses.html#4915" class="Bound">βe</a>

   <a id="4975" href="Prelude.Inverses.html#4975" class="Function">ζ</a> <a id="4977" class="Symbol">:</a> <a id="4979" href="Prelude.Inverses.html#4902" class="Bound">β</a> <a id="4981" class="Symbol">(</a><a id="4982" href="Prelude.Inverses.html#4935" class="Function">βinv</a> <a id="4987" href="Prelude.Inverses.html#4918" class="Bound">y</a><a id="4988" class="Symbol">)</a> <a id="4990" href="Prelude.Equality.html#1231" class="Datatype Operator">≡</a> <a id="4992" href="Prelude.Inverses.html#4918" class="Bound">y</a>
   <a id="4997" href="Prelude.Inverses.html#4975" class="Function">ζ</a> <a id="4999" class="Symbol">=</a> <a id="5001" href="MGS-MLTT.html#6613" class="Function">ap</a> <a id="5004" class="Symbol">(λ</a> <a id="5007" href="Prelude.Inverses.html#5007" class="Bound">-</a> <a id="5009" class="Symbol">→</a> <a id="5011" href="Prelude.Inverses.html#5007" class="Bound">-</a> <a id="5013" href="Prelude.Inverses.html#4918" class="Bound">y</a><a id="5014" class="Symbol">)</a> <a id="5016" class="Symbol">(</a><a id="5017" href="Prelude.Inverses.html#3412" class="Function">EpicInvIsRightInv</a> <a id="5035" href="Prelude.Inverses.html#4889" class="Bound">fe</a> <a id="5038" href="Prelude.Inverses.html#4902" class="Bound">β</a> <a id="5040" href="Prelude.Inverses.html#4915" class="Bound">βe</a><a id="5042" class="Symbol">)</a>
   <a id="5047" href="Prelude.Inverses.html#5047" class="Function">η</a> <a id="5049" class="Symbol">:</a> <a id="5051" class="Symbol">(</a><a id="5052" href="Prelude.Inverses.html#4906" class="Bound">ϕ</a> <a id="5054" href="MGS-MLTT.html#3813" class="Function Operator">∘</a> <a id="5056" href="Prelude.Inverses.html#4904" class="Bound">ξ</a><a id="5057" class="Symbol">)</a> <a id="5059" class="Symbol">(</a><a id="5060" href="Prelude.Inverses.html#4935" class="Function">βinv</a> <a id="5065" href="Prelude.Inverses.html#4918" class="Bound">y</a><a id="5066" class="Symbol">)</a> <a id="5068" href="Prelude.Equality.html#1231" class="Datatype Operator">≡</a> <a id="5070" href="Prelude.Inverses.html#4918" class="Bound">y</a>
   <a id="5075" href="Prelude.Inverses.html#5047" class="Function">η</a> <a id="5077" class="Symbol">=</a> <a id="5079" class="Symbol">(</a><a id="5080" href="MGS-MLTT.html#6613" class="Function">ap</a> <a id="5083" class="Symbol">(λ</a> <a id="5086" href="Prelude.Inverses.html#5086" class="Bound">-</a> <a id="5088" class="Symbol">→</a> <a id="5090" href="Prelude.Inverses.html#5086" class="Bound">-</a> <a id="5092" class="Symbol">(</a><a id="5093" href="Prelude.Inverses.html#4935" class="Function">βinv</a> <a id="5098" href="Prelude.Inverses.html#4918" class="Bound">y</a><a id="5099" class="Symbol">))</a> <a id="5102" class="Symbol">(</a><a id="5103" href="Prelude.Inverses.html#4908" class="Bound">compId</a> <a id="5110" href="MGS-MLTT.html#6125" class="Function Operator">⁻¹</a><a id="5112" class="Symbol">))</a> <a id="5115" href="MGS-MLTT.html#5910" class="Function Operator">∙</a> <a id="5117" href="Prelude.Inverses.html#4975" class="Function">ζ</a>
   <a id="5122" href="Prelude.Inverses.html#5122" class="Function">γ</a> <a id="5124" class="Symbol">:</a> <a id="5126" href="Prelude.Inverses.html#694" class="Datatype Operator">Image</a> <a id="5132" href="Prelude.Inverses.html#4906" class="Bound">ϕ</a> <a id="5134" href="Prelude.Inverses.html#694" class="Datatype Operator">∋</a> <a id="5136" href="Prelude.Inverses.html#4918" class="Bound">y</a>
   <a id="5141" href="Prelude.Inverses.html#5122" class="Function">γ</a> <a id="5143" class="Symbol">=</a> <a id="5145" href="Prelude.Inverses.html#790" class="InductiveConstructor">eq</a> <a id="5148" href="Prelude.Inverses.html#4918" class="Bound">y</a> <a id="5150" class="Symbol">(</a><a id="5151" href="Prelude.Inverses.html#4904" class="Bound">ξ</a> <a id="5153" class="Symbol">(</a><a id="5154" href="Prelude.Inverses.html#4935" class="Function">βinv</a> <a id="5159" href="Prelude.Inverses.html#4918" class="Bound">y</a><a id="5160" class="Symbol">))</a> <a id="5163" class="Symbol">(</a><a id="5164" href="Prelude.Inverses.html#5047" class="Function">η</a> <a id="5166" href="MGS-MLTT.html#6125" class="Function Operator">⁻¹</a><a id="5168" class="Symbol">)</a>

</pre>





#### <a id="embeddings">Embeddings</a>

This is the first point at which [truncation](UALib.Preface.html#truncation) comes into play.  An [embedding](https://www.cs.bham.ac.uk/~mhe/HoTT-UF-in-Agda-Lecture-Notes/HoTT-UF-Agda.html#embeddings) is defined in the [Type Topology][] library, using the `is-subsingleton` type [described earlier](Prelude.Extensionality.html#alternative-extensionality-type), as follows.


Finally, the type `is-embedding f` will denotes the assertion that `f` is a function all of whose fibers are subsingletons.

<pre class="Agda">
<a id="5740" class="Keyword">module</a> <a id="hide-is-embedding"></a><a id="5747" href="Prelude.Inverses.html#5747" class="Module">hide-is-embedding</a> <a id="5765" class="Symbol">{</a><a id="5766" href="Prelude.Inverses.html#5766" class="Bound">𝓤</a> <a id="5768" href="Prelude.Inverses.html#5768" class="Bound">𝓦</a> <a id="5770" class="Symbol">:</a> <a id="5772" href="Agda.Primitive.html#423" class="Postulate">Universe</a><a id="5780" class="Symbol">}</a> <a id="5782" class="Keyword">where</a>

 <a id="hide-is-embedding.is-embedding"></a><a id="5790" href="Prelude.Inverses.html#5790" class="Function">is-embedding</a> <a id="5803" class="Symbol">:</a> <a id="5805" class="Symbol">{</a><a id="5806" href="Prelude.Inverses.html#5806" class="Bound">X</a> <a id="5808" class="Symbol">:</a> <a id="5810" href="Prelude.Inverses.html#5766" class="Bound">𝓤</a> <a id="5812" href="Universes.html#403" class="Function Operator">̇</a> <a id="5814" class="Symbol">}</a> <a id="5816" class="Symbol">{</a><a id="5817" href="Prelude.Inverses.html#5817" class="Bound">Y</a> <a id="5819" class="Symbol">:</a> <a id="5821" href="Prelude.Inverses.html#5768" class="Bound">𝓦</a> <a id="5823" href="Universes.html#403" class="Function Operator">̇</a> <a id="5825" class="Symbol">}</a> <a id="5827" class="Symbol">→</a> <a id="5829" class="Symbol">(</a><a id="5830" href="Prelude.Inverses.html#5806" class="Bound">X</a> <a id="5832" class="Symbol">→</a> <a id="5834" href="Prelude.Inverses.html#5817" class="Bound">Y</a><a id="5835" class="Symbol">)</a> <a id="5837" class="Symbol">→</a> <a id="5839" href="Prelude.Inverses.html#5766" class="Bound">𝓤</a> <a id="5841" href="Agda.Primitive.html#636" class="Primitive Operator">⊔</a> <a id="5843" href="Prelude.Inverses.html#5768" class="Bound">𝓦</a> <a id="5845" href="Universes.html#403" class="Function Operator">̇</a>
 <a id="5848" href="Prelude.Inverses.html#5790" class="Function">is-embedding</a> <a id="5861" href="Prelude.Inverses.html#5861" class="Bound">f</a> <a id="5863" class="Symbol">=</a> <a id="5865" class="Symbol">∀</a> <a id="5867" href="Prelude.Inverses.html#5867" class="Bound">y</a> <a id="5869" class="Symbol">→</a> <a id="5871" href="MGS-Basic-UF.html#743" class="Function">is-subsingleton</a> <a id="5887" class="Symbol">(</a><a id="5888" href="MGS-Equivalences.html#501" class="Function">fiber</a> <a id="5894" href="Prelude.Inverses.html#5861" class="Bound">f</a> <a id="5896" href="Prelude.Inverses.html#5867" class="Bound">y</a><a id="5897" class="Symbol">)</a>

</pre>

This is a natural way to represent what we usually mean in mathematics by embedding.  Observe that an embedding does not simply correspond to an injective map.  However, if we assume that the codomain `B` has unique identity proofs (i.e., is a set), then we can prove that a monic function into `B` is an embedding. We will do so in the [Relations.Truncation][] module when we take up the topic of sets in some detail.

Of course, invertible maps are embeddings.

<pre class="Agda">

<a id="6390" class="Keyword">open</a> <a id="6395" class="Keyword">import</a> <a id="6402" href="MGS-Embeddings.html" class="Module">MGS-Embeddings</a> <a id="6417" class="Keyword">using</a> <a id="6423" class="Symbol">(</a><a id="6424" href="MGS-Embeddings.html#384" class="Function">is-embedding</a><a id="6436" class="Symbol">)</a> <a id="6438" class="Keyword">public</a>

<a id="invertibles-are-embeddings"></a><a id="6446" href="Prelude.Inverses.html#6446" class="Function">invertibles-are-embeddings</a> <a id="6473" class="Symbol">:</a> <a id="6475" class="Symbol">{</a><a id="6476" href="Prelude.Inverses.html#6476" class="Bound">𝓧</a> <a id="6478" href="Prelude.Inverses.html#6478" class="Bound">𝓨</a> <a id="6480" class="Symbol">:</a> <a id="6482" href="Agda.Primitive.html#423" class="Postulate">Universe</a><a id="6490" class="Symbol">}</a>
                             <a id="6521" class="Symbol">{</a><a id="6522" href="Prelude.Inverses.html#6522" class="Bound">X</a> <a id="6524" class="Symbol">:</a> <a id="6526" href="Prelude.Inverses.html#6476" class="Bound">𝓧</a> <a id="6528" href="Universes.html#403" class="Function Operator">̇</a><a id="6529" class="Symbol">}</a> <a id="6531" class="Symbol">{</a><a id="6532" href="Prelude.Inverses.html#6532" class="Bound">Y</a> <a id="6534" class="Symbol">:</a> <a id="6536" href="Prelude.Inverses.html#6478" class="Bound">𝓨</a> <a id="6538" href="Universes.html#403" class="Function Operator">̇</a><a id="6539" class="Symbol">}</a> <a id="6541" class="Symbol">(</a><a id="6542" href="Prelude.Inverses.html#6542" class="Bound">f</a> <a id="6544" class="Symbol">:</a> <a id="6546" href="Prelude.Inverses.html#6522" class="Bound">X</a> <a id="6548" class="Symbol">→</a> <a id="6550" href="Prelude.Inverses.html#6532" class="Bound">Y</a><a id="6551" class="Symbol">)</a>
 <a id="6554" class="Symbol">→</a>                           <a id="6582" href="MGS-Equivalences.html#370" class="Function">invertible</a> <a id="6593" href="Prelude.Inverses.html#6542" class="Bound">f</a> <a id="6595" class="Symbol">→</a> <a id="6597" href="MGS-Embeddings.html#384" class="Function">is-embedding</a> <a id="6610" href="Prelude.Inverses.html#6542" class="Bound">f</a>

<a id="6613" href="Prelude.Inverses.html#6446" class="Function">invertibles-are-embeddings</a> <a id="6640" href="Prelude.Inverses.html#6640" class="Bound">f</a> <a id="6642" href="Prelude.Inverses.html#6642" class="Bound">fi</a> <a id="6645" class="Symbol">=</a> <a id="6647" href="MGS-Embeddings.html#1410" class="Function">equivs-are-embeddings</a> <a id="6669" href="Prelude.Inverses.html#6640" class="Bound">f</a> <a id="6671" class="Symbol">(</a><a id="6672" href="MGS-Equivalences.html#2127" class="Function">invertibles-are-equivs</a> <a id="6695" href="Prelude.Inverses.html#6640" class="Bound">f</a> <a id="6697" href="Prelude.Inverses.html#6642" class="Bound">fi</a><a id="6699" class="Symbol">)</a>

</pre>

Finally, if we have a proof `p : is-embedding f` that the map `f` is an embedding, here's a tool that can make it easier to apply `p`.  We will use the `fiber` type of the [Type Topology][] library, which is defined as follows.



<pre class="Agda">

<a id="6959" class="Keyword">open</a> <a id="6964" class="Keyword">import</a> <a id="6971" href="MGS-Subsingleton-Truncation.html" class="Module">MGS-Subsingleton-Truncation</a> <a id="6999" class="Keyword">using</a> <a id="7005" class="Symbol">(</a><a id="7006" href="MGS-Equivalences.html#501" class="Function">fiber</a><a id="7011" class="Symbol">)</a> <a id="7013" class="Keyword">public</a>

<a id="embedding-elim"></a><a id="7021" href="Prelude.Inverses.html#7021" class="Function">embedding-elim</a> <a id="7036" class="Symbol">:</a> <a id="7038" class="Symbol">{</a><a id="7039" href="Prelude.Inverses.html#7039" class="Bound">𝓧</a> <a id="7041" href="Prelude.Inverses.html#7041" class="Bound">𝓨</a> <a id="7043" class="Symbol">:</a> <a id="7045" href="Agda.Primitive.html#423" class="Postulate">Universe</a><a id="7053" class="Symbol">}{</a><a id="7055" href="Prelude.Inverses.html#7055" class="Bound">X</a> <a id="7057" class="Symbol">:</a> <a id="7059" href="Prelude.Inverses.html#7039" class="Bound">𝓧</a> <a id="7061" href="Universes.html#403" class="Function Operator">̇</a><a id="7062" class="Symbol">}</a> <a id="7064" class="Symbol">{</a><a id="7065" href="Prelude.Inverses.html#7065" class="Bound">Y</a> <a id="7067" class="Symbol">:</a> <a id="7069" href="Prelude.Inverses.html#7041" class="Bound">𝓨</a> <a id="7071" href="Universes.html#403" class="Function Operator">̇</a><a id="7072" class="Symbol">}</a>
                 <a id="7091" class="Symbol">(</a><a id="7092" href="Prelude.Inverses.html#7092" class="Bound">f</a> <a id="7094" class="Symbol">:</a> <a id="7096" href="Prelude.Inverses.html#7055" class="Bound">X</a> <a id="7098" class="Symbol">→</a> <a id="7100" href="Prelude.Inverses.html#7065" class="Bound">Y</a><a id="7101" class="Symbol">)</a> <a id="7103" class="Symbol">→</a> <a id="7105" href="MGS-Embeddings.html#384" class="Function">is-embedding</a> <a id="7118" href="Prelude.Inverses.html#7092" class="Bound">f</a>
 <a id="7121" class="Symbol">→</a>               <a id="7137" class="Symbol">∀</a> <a id="7139" href="Prelude.Inverses.html#7139" class="Bound">x</a> <a id="7141" href="Prelude.Inverses.html#7141" class="Bound">x&#39;</a> <a id="7144" class="Symbol">→</a> <a id="7146" href="Prelude.Inverses.html#7092" class="Bound">f</a> <a id="7148" href="Prelude.Inverses.html#7139" class="Bound">x</a> <a id="7150" href="Prelude.Equality.html#1231" class="Datatype Operator">≡</a> <a id="7152" href="Prelude.Inverses.html#7092" class="Bound">f</a> <a id="7154" href="Prelude.Inverses.html#7141" class="Bound">x&#39;</a> <a id="7157" class="Symbol">→</a> <a id="7159" href="Prelude.Inverses.html#7139" class="Bound">x</a> <a id="7161" href="Prelude.Equality.html#1231" class="Datatype Operator">≡</a> <a id="7163" href="Prelude.Inverses.html#7141" class="Bound">x&#39;</a>

<a id="7167" href="Prelude.Inverses.html#7021" class="Function">embedding-elim</a> <a id="7182" href="Prelude.Inverses.html#7182" class="Bound">f</a> <a id="7184" href="Prelude.Inverses.html#7184" class="Bound">femb</a> <a id="7189" href="Prelude.Inverses.html#7189" class="Bound">x</a> <a id="7191" href="Prelude.Inverses.html#7191" class="Bound">x&#39;</a> <a id="7194" href="Prelude.Inverses.html#7194" class="Bound">fxfx&#39;</a> <a id="7200" class="Symbol">=</a> <a id="7202" href="MGS-MLTT.html#6613" class="Function">ap</a> <a id="7205" href="MGS-MLTT.html#2942" class="Function">pr₁</a> <a id="7209" class="Symbol">((</a><a id="7211" href="Prelude.Inverses.html#7184" class="Bound">femb</a> <a id="7216" class="Symbol">(</a><a id="7217" href="Prelude.Inverses.html#7182" class="Bound">f</a> <a id="7219" href="Prelude.Inverses.html#7189" class="Bound">x</a><a id="7220" class="Symbol">))</a> <a id="7223" href="Prelude.Inverses.html#7239" class="Function">fa</a> <a id="7226" href="Prelude.Inverses.html#7277" class="Function">fb</a><a id="7228" class="Symbol">)</a>
 <a id="7231" class="Keyword">where</a>
  <a id="7239" href="Prelude.Inverses.html#7239" class="Function">fa</a> <a id="7242" class="Symbol">:</a> <a id="7244" href="MGS-Equivalences.html#501" class="Function">fiber</a> <a id="7250" href="Prelude.Inverses.html#7182" class="Bound">f</a> <a id="7252" class="Symbol">(</a><a id="7253" href="Prelude.Inverses.html#7182" class="Bound">f</a> <a id="7255" href="Prelude.Inverses.html#7189" class="Bound">x</a><a id="7256" class="Symbol">)</a>
  <a id="7260" href="Prelude.Inverses.html#7239" class="Function">fa</a> <a id="7263" class="Symbol">=</a> <a id="7265" href="Prelude.Inverses.html#7189" class="Bound">x</a> <a id="7267" href="Prelude.Preliminaries.html#14518" class="InductiveConstructor Operator">,</a> <a id="7269" href="Prelude.Equality.html#1245" class="InductiveConstructor">𝓇ℯ𝒻𝓁</a>

  <a id="7277" href="Prelude.Inverses.html#7277" class="Function">fb</a> <a id="7280" class="Symbol">:</a> <a id="7282" href="MGS-Equivalences.html#501" class="Function">fiber</a> <a id="7288" href="Prelude.Inverses.html#7182" class="Bound">f</a> <a id="7290" class="Symbol">(</a><a id="7291" href="Prelude.Inverses.html#7182" class="Bound">f</a> <a id="7293" href="Prelude.Inverses.html#7189" class="Bound">x</a><a id="7294" class="Symbol">)</a>
  <a id="7298" href="Prelude.Inverses.html#7277" class="Function">fb</a> <a id="7301" class="Symbol">=</a> <a id="7303" href="Prelude.Inverses.html#7191" class="Bound">x&#39;</a> <a id="7306" href="Prelude.Preliminaries.html#14518" class="InductiveConstructor Operator">,</a> <a id="7308" class="Symbol">(</a><a id="7309" href="Prelude.Inverses.html#7194" class="Bound">fxfx&#39;</a> <a id="7315" href="MGS-MLTT.html#6125" class="Function Operator">⁻¹</a><a id="7317" class="Symbol">)</a>

</pre>


-------------------------------------


[← Prelude.Extensionality](Prelude.Extensionality.html)
<span style="float:right;">[Prelude.Lifts →](Prelude.Lifts.html)</span>


{% include UALib.Links.md %}


