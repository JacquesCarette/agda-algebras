---
layout: default
title : Birkhoff.HSPTheorem (The Agda Universal Algebra Library)
date : 2021-02-02
author: William DeMeo
---

### <a id="hsp-theorem">HSP Theorem</a>

This section presents the [Birkhoff.HSPTheorem][] module of the [Agda Universal Algebra Library][].<sup>1</sup>

To complete the proof of Birkhoff's HSP theorem, it remains to show that every algebra 𝑨 that belongs to `Mod X (Th (V 𝒦))`---i.e., every algebra that models the equations in `Th (V 𝒦)`---belongs to `V 𝒦`.  This will prove that `V 𝒦` is an equational class.  (The converse, that every equational class is a variety was already proved; see the remarks at the end of this module.)

We accomplish this goal by constructing an algebra `𝔽` with the following properties:

1. `𝔽 ∈ V 𝒦` and

2. Every `𝑨 ∈ Mod X (Th (V 𝒦))` is a homomorphic image of `𝔽`.

(In earlier versions of the [Agda UALib][], the free algebra 𝔉 developed in the [Birkhoff.FreeAlgebra][] section played the role of the algebra 𝔽 with properties 1 and 2.  However, we found a more direct path to the proof using the algebra `𝔽 := (𝑻 X) [ ℭ ]/ker homℭ`.)

We denote by ℭ the product of all subalgebras of algebras in 𝒦, and by `homℭ` the homomorphism from `𝑻 X` to `ℭ` defined as follows:

`homℭ := ⨅-hom-co (𝑻 X) 𝔄s hom𝔄`.

Here, `⨅-hom-co` (defined in [Homomorphisms.Basic](Homomorphisms.Basic.html#product-homomorphisms)) takes the term algebra `𝑻 X`, a family `{𝔄s : I → Algebra 𝓤 𝑆}` of 𝑆-algebras, and a family `hom𝔄 : ∀ i → hom (𝑻 X) (𝔄s i)` of homomorphisms and constructs the natural homomorphism `homℭ` from `𝑻 X` to the product `ℭ := ⨅ 𝔄`.  The homomorphism `homℭ : hom (𝑻 X) (⨅ ℭ)` is natural in the sense that the `i`-th component of the image of `𝑡 : Term X` under `homℭ` is the image `∣ hom𝔄 i ∣ 𝑡` of 𝑡 under the i-th homomorphism `hom𝔄 i`.

<pre class="Agda">

<a id="1821" class="Symbol">{-#</a> <a id="1825" class="Keyword">OPTIONS</a> <a id="1833" class="Pragma">--without-K</a> <a id="1845" class="Pragma">--exact-split</a> <a id="1859" class="Pragma">--safe</a> <a id="1866" class="Symbol">#-}</a>

<a id="1871" class="Keyword">open</a> <a id="1876" class="Keyword">import</a> <a id="1883" href="Algebras.Algebras.html" class="Module">Algebras.Algebras</a> <a id="1901" class="Keyword">using</a> <a id="1907" class="Symbol">(</a><a id="1908" href="Algebras.Signatures.html#1299" class="Function">Signature</a><a id="1917" class="Symbol">;</a> <a id="1919" href="universes.html#613" class="Generalizable">𝓞</a><a id="1920" class="Symbol">;</a> <a id="1922" href="universes.html#617" class="Generalizable">𝓥</a><a id="1923" class="Symbol">;</a> <a id="1925" href="Algebras.Algebras.html#694" class="Function">Algebra</a><a id="1932" class="Symbol">;</a> <a id="1934" href="Algebras.Algebras.html#3395" class="Function Operator">_↠_</a><a id="1937" class="Symbol">)</a>
<a id="1939" class="Keyword">open</a> <a id="1944" class="Keyword">import</a> <a id="1951" href="MGS-Subsingleton-Theorems.html" class="Module">MGS-Subsingleton-Theorems</a> <a id="1977" class="Keyword">using</a> <a id="1983" class="Symbol">(</a><a id="1984" href="MGS-Subsingleton-Theorems.html#3468" class="Function">global-dfunext</a><a id="1998" class="Symbol">)</a>
<a id="2000" class="Keyword">open</a> <a id="2005" class="Keyword">import</a> <a id="2012" href="universes.html" class="Module">universes</a>
<a id="2022" class="Keyword">open</a> <a id="2027" class="Keyword">import</a> <a id="2034" href="Relations.Unary.html" class="Module">Relations.Unary</a> <a id="2050" class="Keyword">using</a> <a id="2056" class="Symbol">(</a><a id="2057" href="Relations.Unary.html#1062" class="Function">Pred</a><a id="2061" class="Symbol">)</a>
<a id="2063" class="Keyword">open</a> <a id="2068" class="Keyword">import</a> <a id="2075" href="MGS-Powerset.html" class="Module">MGS-Powerset</a> <a id="2088" class="Comment">-- renaming (_∈_ to _∈₀_; _⊆_ to _⊆₀_; ∈-is-subsingleton to ∈₀-is-subsingleton)</a>
 <a id="2169" class="Keyword">using</a> <a id="2175" class="Symbol">(</a><a id="2176" href="MGS-Powerset.html#382" class="Function">propext</a><a id="2183" class="Symbol">;</a> <a id="2185" href="MGS-FunExt-from-Univalence.html#2235" class="Function">hfunext</a><a id="2192" class="Symbol">)</a>

<a id="2195" class="Comment">-- open import Prelude.Preliminaries using (global-dfunext; Universe; _̇; _⊔_; _⁺; propext; hfunext)</a>

</pre>

Unlike previous modules, in this module we fix `𝓤`, `X`, and `𝒦` in advance. We also assume 𝕏, which supplies, for each algebra `𝑨`, a surjective map ∣ 𝕏 𝑨 ∣ from `X` onto 𝑨.

<pre class="Agda">

<a id="2499" class="Keyword">module</a> <a id="2506" href="Birkhoff.HSPTheorem.html" class="Module">Birkhoff.HSPTheorem</a>
 <a id="2527" class="Symbol">{</a><a id="2528" href="Birkhoff.HSPTheorem.html#2528" class="Bound">𝑆</a> <a id="2530" class="Symbol">:</a> <a id="2532" href="Algebras.Signatures.html#1299" class="Function">Signature</a> <a id="2542" href="universes.html#613" class="Generalizable">𝓞</a> <a id="2544" href="universes.html#617" class="Generalizable">𝓥</a><a id="2545" class="Symbol">}{</a><a id="2547" href="Birkhoff.HSPTheorem.html#2547" class="Bound">gfe</a> <a id="2551" class="Symbol">:</a> <a id="2553" href="MGS-Subsingleton-Theorems.html#3468" class="Function">global-dfunext</a><a id="2567" class="Symbol">}</a>
 <a id="2570" class="Symbol">{</a><a id="2571" href="Birkhoff.HSPTheorem.html#2571" class="Bound">𝕏</a> <a id="2573" class="Symbol">:</a> <a id="2575" class="Symbol">{</a><a id="2576" href="Birkhoff.HSPTheorem.html#2576" class="Bound">𝓤</a> <a id="2578" href="Birkhoff.HSPTheorem.html#2578" class="Bound">𝓧</a> <a id="2580" class="Symbol">:</a> <a id="2582" href="universes.html#551" class="Postulate">Universe</a><a id="2590" class="Symbol">}{</a><a id="2592" href="Birkhoff.HSPTheorem.html#2592" class="Bound">X</a> <a id="2594" class="Symbol">:</a> <a id="2596" href="Birkhoff.HSPTheorem.html#2578" class="Bound">𝓧</a> <a id="2598" href="universes.html#758" class="Function Operator">̇</a> <a id="2600" class="Symbol">}(</a><a id="2602" href="Birkhoff.HSPTheorem.html#2602" class="Bound">𝑨</a> <a id="2604" class="Symbol">:</a> <a id="2606" href="Algebras.Algebras.html#694" class="Function">Algebra</a> <a id="2614" href="Birkhoff.HSPTheorem.html#2576" class="Bound">𝓤</a> <a id="2616" href="Birkhoff.HSPTheorem.html#2528" class="Bound">𝑆</a><a id="2617" class="Symbol">)</a> <a id="2619" class="Symbol">→</a> <a id="2621" href="Birkhoff.HSPTheorem.html#2592" class="Bound">X</a> <a id="2623" href="Algebras.Algebras.html#3395" class="Function Operator">↠</a> <a id="2625" href="Birkhoff.HSPTheorem.html#2602" class="Bound">𝑨</a><a id="2626" class="Symbol">}</a>
 <a id="2629" class="Symbol">{</a><a id="2630" href="Birkhoff.HSPTheorem.html#2630" class="Bound">𝓤</a> <a id="2632" class="Symbol">:</a> <a id="2634" href="universes.html#551" class="Postulate">Universe</a><a id="2642" class="Symbol">}</a> <a id="2644" class="Symbol">{</a><a id="2645" href="Birkhoff.HSPTheorem.html#2645" class="Bound">X</a> <a id="2647" class="Symbol">:</a> <a id="2649" href="Birkhoff.HSPTheorem.html#2630" class="Bound">𝓤</a> <a id="2651" href="universes.html#758" class="Function Operator">̇</a><a id="2652" class="Symbol">}</a>
 <a id="2655" class="Symbol">{</a><a id="2656" href="Birkhoff.HSPTheorem.html#2656" class="Bound">𝒦</a> <a id="2658" class="Symbol">:</a> <a id="2660" href="Relations.Unary.html#1062" class="Function">Pred</a> <a id="2665" class="Symbol">(</a><a id="2666" href="Algebras.Algebras.html#694" class="Function">Algebra</a> <a id="2674" href="Birkhoff.HSPTheorem.html#2630" class="Bound">𝓤</a> <a id="2676" href="Birkhoff.HSPTheorem.html#2528" class="Bound">𝑆</a><a id="2677" class="Symbol">)</a> <a id="2679" class="Symbol">(</a><a id="2680" href="universes.html#613" class="Generalizable">𝓞</a> <a id="2682" href="Agda.Primitive.html#636" class="Primitive Operator">⊔</a> <a id="2684" href="universes.html#617" class="Generalizable">𝓥</a> <a id="2686" href="Agda.Primitive.html#636" class="Primitive Operator">⊔</a> <a id="2688" href="Birkhoff.HSPTheorem.html#2630" class="Bound">𝓤</a> <a id="2690" href="universes.html#527" class="Primitive Operator">⁺</a><a id="2691" class="Symbol">)}</a>
 <a id="2695" class="Comment">-- extensionality assumptions:</a>
    <a id="2730" class="Symbol">{</a><a id="2731" href="Birkhoff.HSPTheorem.html#2731" class="Bound">pe</a> <a id="2734" class="Symbol">:</a> <a id="2736" href="MGS-Powerset.html#382" class="Function">propext</a> <a id="2744" href="Birkhoff.HSPTheorem.html#2630" class="Bound">𝓤</a><a id="2745" class="Symbol">}</a>
    <a id="2751" class="Symbol">{</a><a id="2752" href="Birkhoff.HSPTheorem.html#2752" class="Bound">pe&#39;</a> <a id="2756" class="Symbol">:</a> <a id="2758" href="MGS-Powerset.html#382" class="Function">propext</a> <a id="2766" class="Symbol">(</a><a id="2767" href="universes.html#613" class="Generalizable">𝓞</a> <a id="2769" href="Agda.Primitive.html#636" class="Primitive Operator">⊔</a> <a id="2771" href="universes.html#617" class="Generalizable">𝓥</a> <a id="2773" href="Agda.Primitive.html#636" class="Primitive Operator">⊔</a> <a id="2775" href="Birkhoff.HSPTheorem.html#2630" class="Bound">𝓤</a> <a id="2777" href="universes.html#527" class="Primitive Operator">⁺</a><a id="2778" class="Symbol">)}</a>
    <a id="2785" class="Symbol">{</a><a id="2786" href="Birkhoff.HSPTheorem.html#2786" class="Bound">hfe</a> <a id="2790" class="Symbol">:</a> <a id="2792" href="MGS-FunExt-from-Univalence.html#2235" class="Function">hfunext</a> <a id="2800" class="Symbol">(</a><a id="2801" href="universes.html#613" class="Generalizable">𝓞</a> <a id="2803" href="Agda.Primitive.html#636" class="Primitive Operator">⊔</a> <a id="2805" href="universes.html#617" class="Generalizable">𝓥</a> <a id="2807" href="Agda.Primitive.html#636" class="Primitive Operator">⊔</a> <a id="2809" href="Birkhoff.HSPTheorem.html#2630" class="Bound">𝓤</a> <a id="2811" href="universes.html#527" class="Primitive Operator">⁺</a><a id="2812" class="Symbol">)(</a><a id="2814" href="universes.html#613" class="Generalizable">𝓞</a> <a id="2816" href="Agda.Primitive.html#636" class="Primitive Operator">⊔</a> <a id="2818" href="universes.html#617" class="Generalizable">𝓥</a> <a id="2820" href="Agda.Primitive.html#636" class="Primitive Operator">⊔</a> <a id="2822" href="Birkhoff.HSPTheorem.html#2630" class="Bound">𝓤</a> <a id="2824" href="universes.html#527" class="Primitive Operator">⁺</a><a id="2825" class="Symbol">)}</a> <a id="2828" class="Keyword">where</a>

<a id="2835" class="Keyword">open</a> <a id="2840" class="Keyword">import</a> <a id="2847" href="Birkhoff.FreeAlgebra.html" class="Module">Birkhoff.FreeAlgebra</a> <a id="2868" class="Symbol">{</a><a id="2869" class="Argument">𝑆</a> <a id="2871" class="Symbol">=</a> <a id="2873" href="Birkhoff.HSPTheorem.html#2528" class="Bound">𝑆</a><a id="2874" class="Symbol">}{</a><a id="2876" href="Birkhoff.HSPTheorem.html#2547" class="Bound">gfe</a><a id="2879" class="Symbol">}</a> <a id="2881" class="Keyword">hiding</a> <a id="2888" class="Symbol">(</a>Pred<a id="2893" class="Symbol">;</a> _⊔_<a id="2898" class="Symbol">;</a> _⁺<a id="2902" class="Symbol">;</a> Algebra<a id="2911" class="Symbol">;</a> _̇ <a id="2916" class="Symbol">)</a> <a id="2918" class="Keyword">public</a>
<a id="2925" class="Keyword">open</a> <a id="2930" href="Birkhoff.FreeAlgebra.html#2632" class="Module">the-free-algebra</a> <a id="2947" class="Symbol">{</a><a id="2948" href="Birkhoff.HSPTheorem.html#2630" class="Bound">𝓤</a><a id="2949" class="Symbol">}{</a><a id="2951" href="Birkhoff.HSPTheorem.html#2630" class="Bound">𝓤</a><a id="2952" class="Symbol">}{</a><a id="2954" href="Birkhoff.HSPTheorem.html#2645" class="Bound">X</a><a id="2955" class="Symbol">}</a>
<a id="2957" class="Keyword">open</a> <a id="2962" class="Keyword">import</a> <a id="2969" href="MGS-Embeddings.html" class="Module">MGS-Embeddings</a> <a id="2984" class="Keyword">using</a> <a id="2990" class="Symbol">(</a><a id="2991" href="MGS-Basic-UF.html#1929" class="Function">is-set</a><a id="2997" class="Symbol">)</a> <a id="2999" class="Keyword">public</a>
<a id="3006" class="Keyword">open</a> <a id="3011" class="Keyword">import</a> <a id="3018" href="MGS-Subsingleton-Theorems.html" class="Module">MGS-Subsingleton-Theorems</a> <a id="3044" class="Keyword">using</a> <a id="3050" class="Symbol">(</a><a id="3051" href="MGS-Basic-UF.html#743" class="Function">is-subsingleton</a><a id="3066" class="Symbol">)</a> <a id="3068" class="Keyword">public</a>

</pre>


#### <a id="F-in-classproduct">𝔽 ≤  ⨅ S(𝒦)</a>
Now we come to a step in the Agda formalization of Birkhoff's theorem that turns out to be surprisingly nontrivial. We must prove that the free algebra embeds in the product ℭ of all subalgebras of algebras in the class 𝒦.  This is really the only stage in the proof of Birkhoff's theorem that requires the truncation assumption that ℭ be a set.

We begin by constructing ℭ, using the techniques described in the section on <a href="https://ualib.gitlab.io/Varieties.Varieties.html#products-of-classes">products of classes</a>.

**Notation**. In this module, the type `ℑs` will index the collection of all subalgebras of algebras in the class 𝒦, and `𝔄s : ℑs → Algebra 𝓤 𝑆` will be a map from the index type to the subalgebras. 

<pre class="Agda">

<a id="3880" class="Keyword">open</a> <a id="3885" href="Birkhoff.FreeAlgebra.html#6466" class="Module">the-relatively-free-algebra</a> <a id="3913" class="Symbol">{</a><a id="3914" class="Argument">𝓤</a> <a id="3916" class="Symbol">=</a> <a id="3918" href="Birkhoff.HSPTheorem.html#2630" class="Bound">𝓤</a><a id="3919" class="Symbol">}{</a><a id="3921" class="Argument">𝓧</a> <a id="3923" class="Symbol">=</a> <a id="3925" href="Birkhoff.HSPTheorem.html#2630" class="Bound">𝓤</a><a id="3926" class="Symbol">}{</a><a id="3928" class="Argument">X</a> <a id="3930" class="Symbol">=</a> <a id="3932" href="Birkhoff.HSPTheorem.html#2645" class="Bound">X</a><a id="3933" class="Symbol">}</a> <a id="3935" class="Symbol">{</a><a id="3936" class="Argument">𝒦</a> <a id="3938" class="Symbol">=</a> <a id="3940" href="Birkhoff.HSPTheorem.html#2656" class="Bound">𝒦</a><a id="3941" class="Symbol">}</a>

<a id="3944" class="Comment">-- NOTATION.</a>
<a id="ℑs"></a><a id="3957" href="Birkhoff.HSPTheorem.html#3957" class="Function">ℑs</a> <a id="3960" class="Symbol">:</a> <a id="3962" href="Birkhoff.FreeAlgebra.html#2748" class="Function">𝓸𝓿𝓾</a> <a id="3966" href="universes.html#758" class="Function Operator">̇</a>
<a id="3968" href="Birkhoff.HSPTheorem.html#3957" class="Function">ℑs</a> <a id="3971" class="Symbol">=</a> <a id="3973" href="Algebras.Products.html#2873" class="Function">ℑ</a><a id="3974" class="Symbol">{</a><a id="3975" href="Birkhoff.HSPTheorem.html#2630" class="Bound">𝓤</a><a id="3976" class="Symbol">}{</a><a id="3978" href="Birkhoff.HSPTheorem.html#2630" class="Bound">𝓤</a><a id="3979" class="Symbol">}{</a><a id="3981" href="Birkhoff.HSPTheorem.html#2645" class="Bound">X</a><a id="3982" class="Symbol">}</a> <a id="3984" class="Symbol">(</a><a id="3985" href="Varieties.Varieties.html#2944" class="Datatype">S</a><a id="3986" class="Symbol">{</a><a id="3987" href="Birkhoff.HSPTheorem.html#2630" class="Bound">𝓤</a><a id="3988" class="Symbol">}{</a><a id="3990" href="Birkhoff.HSPTheorem.html#2630" class="Bound">𝓤</a><a id="3991" class="Symbol">}</a> <a id="3993" href="Birkhoff.HSPTheorem.html#2656" class="Bound">𝒦</a><a id="3994" class="Symbol">)</a>
<a id="𝔄s"></a><a id="3996" href="Birkhoff.HSPTheorem.html#3996" class="Function">𝔄s</a> <a id="3999" class="Symbol">:</a> <a id="4001" href="Birkhoff.HSPTheorem.html#3957" class="Function">ℑs</a> <a id="4004" class="Symbol">→</a> <a id="4006" href="Algebras.Algebras.html#694" class="Function">Algebra</a> <a id="4014" href="Birkhoff.HSPTheorem.html#2630" class="Bound">𝓤</a> <a id="4016" href="Birkhoff.HSPTheorem.html#2528" class="Bound">𝑆</a>
<a id="4018" href="Birkhoff.HSPTheorem.html#3996" class="Function">𝔄s</a> <a id="4021" class="Symbol">=</a> <a id="4023" class="Symbol">λ</a> <a id="4025" class="Symbol">(</a><a id="4026" href="Birkhoff.HSPTheorem.html#4026" class="Bound">i</a> <a id="4028" class="Symbol">:</a> <a id="4030" href="Birkhoff.HSPTheorem.html#3957" class="Function">ℑs</a><a id="4032" class="Symbol">)</a> <a id="4034" class="Symbol">→</a> <a id="4036" href="Prelude.Preliminaries.html#12622" class="Function Operator">∣</a> <a id="4038" href="Birkhoff.HSPTheorem.html#4026" class="Bound">i</a> <a id="4040" href="Prelude.Preliminaries.html#12622" class="Function Operator">∣</a>

<a id="SK𝔄"></a><a id="4043" href="Birkhoff.HSPTheorem.html#4043" class="Function">SK𝔄</a> <a id="4047" class="Symbol">:</a> <a id="4049" class="Symbol">(</a><a id="4050" href="Birkhoff.HSPTheorem.html#4050" class="Bound">i</a> <a id="4052" class="Symbol">:</a> <a id="4054" href="Birkhoff.HSPTheorem.html#3957" class="Function">ℑs</a><a id="4056" class="Symbol">)</a> <a id="4058" class="Symbol">→</a> <a id="4060" class="Symbol">(</a><a id="4061" href="Birkhoff.HSPTheorem.html#3996" class="Function">𝔄s</a> <a id="4064" href="Birkhoff.HSPTheorem.html#4050" class="Bound">i</a><a id="4065" class="Symbol">)</a> <a id="4067" href="Relations.Unary.html#2061" class="Function Operator">∈</a> <a id="4069" href="Varieties.Varieties.html#2944" class="Datatype">S</a><a id="4070" class="Symbol">{</a><a id="4071" href="Birkhoff.HSPTheorem.html#2630" class="Bound">𝓤</a><a id="4072" class="Symbol">}{</a><a id="4074" href="Birkhoff.HSPTheorem.html#2630" class="Bound">𝓤</a><a id="4075" class="Symbol">}</a> <a id="4077" href="Birkhoff.HSPTheorem.html#2656" class="Bound">𝒦</a>
<a id="4079" href="Birkhoff.HSPTheorem.html#4043" class="Function">SK𝔄</a> <a id="4083" class="Symbol">=</a> <a id="4085" class="Symbol">λ</a> <a id="4087" class="Symbol">(</a><a id="4088" href="Birkhoff.HSPTheorem.html#4088" class="Bound">i</a> <a id="4090" class="Symbol">:</a> <a id="4092" href="Birkhoff.HSPTheorem.html#3957" class="Function">ℑs</a><a id="4094" class="Symbol">)</a> <a id="4096" class="Symbol">→</a> <a id="4098" href="Prelude.Preliminaries.html#12626" class="Function">fst</a> <a id="4102" href="Prelude.Preliminaries.html#12700" class="Function Operator">∥</a> <a id="4104" href="Birkhoff.HSPTheorem.html#4088" class="Bound">i</a> <a id="4106" href="Prelude.Preliminaries.html#12700" class="Function Operator">∥</a>

<a id="𝔄h"></a><a id="4109" href="Birkhoff.HSPTheorem.html#4109" class="Function">𝔄h</a> <a id="4112" class="Symbol">:</a> <a id="4114" class="Symbol">(</a><a id="4115" href="Birkhoff.HSPTheorem.html#4115" class="Bound">i</a> <a id="4117" class="Symbol">:</a> <a id="4119" href="Birkhoff.HSPTheorem.html#3957" class="Function">ℑs</a><a id="4121" class="Symbol">)</a> <a id="4123" class="Symbol">→</a> <a id="4125" href="Birkhoff.HSPTheorem.html#2645" class="Bound">X</a> <a id="4127" class="Symbol">→</a> <a id="4129" href="Prelude.Preliminaries.html#12622" class="Function Operator">∣</a> <a id="4131" href="Birkhoff.HSPTheorem.html#3996" class="Function">𝔄s</a> <a id="4134" href="Birkhoff.HSPTheorem.html#4115" class="Bound">i</a> <a id="4136" href="Prelude.Preliminaries.html#12622" class="Function Operator">∣</a>
<a id="4138" href="Birkhoff.HSPTheorem.html#4109" class="Function">𝔄h</a> <a id="4141" class="Symbol">=</a> <a id="4143" class="Symbol">λ</a> <a id="4145" class="Symbol">(</a><a id="4146" href="Birkhoff.HSPTheorem.html#4146" class="Bound">i</a> <a id="4148" class="Symbol">:</a> <a id="4150" href="Birkhoff.HSPTheorem.html#3957" class="Function">ℑs</a><a id="4152" class="Symbol">)</a> <a id="4154" class="Symbol">→</a> <a id="4156" href="Prelude.Preliminaries.html#12704" class="Function">snd</a> <a id="4160" href="Prelude.Preliminaries.html#12700" class="Function Operator">∥</a> <a id="4162" href="Birkhoff.HSPTheorem.html#4146" class="Bound">i</a> <a id="4164" href="Prelude.Preliminaries.html#12700" class="Function Operator">∥</a>

<a id="4167" class="Comment">-- ℭ is the product of all subalgebras of algebras in 𝒦.</a>
<a id="ℭ"></a><a id="4224" href="Birkhoff.HSPTheorem.html#4224" class="Function">ℭ</a> <a id="4226" class="Symbol">:</a> <a id="4228" href="Algebras.Algebras.html#694" class="Function">Algebra</a> <a id="4236" href="Birkhoff.FreeAlgebra.html#2748" class="Function">𝓸𝓿𝓾</a> <a id="4240" href="Birkhoff.HSPTheorem.html#2528" class="Bound">𝑆</a>
<a id="4242" href="Birkhoff.HSPTheorem.html#4224" class="Function">ℭ</a> <a id="4244" class="Symbol">=</a> <a id="4246" href="Algebras.Products.html#908" class="Function">⨅</a> <a id="4248" href="Birkhoff.HSPTheorem.html#3996" class="Function">𝔄s</a>

</pre>

Observe that the inhabitants of ℭ are maps from ℑs to {𝔄s i : i ∈ ℑs}.

<pre class="Agda">

<a id="hom𝔄"></a><a id="4350" href="Birkhoff.HSPTheorem.html#4350" class="Function">hom𝔄</a> <a id="4355" class="Symbol">:</a> <a id="4357" class="Symbol">∀</a> <a id="4359" href="Birkhoff.HSPTheorem.html#4359" class="Bound">i</a> <a id="4361" class="Symbol">→</a> <a id="4363" href="Homomorphisms.Basic.html#2268" class="Function">hom</a> <a id="4367" class="Symbol">(</a><a id="4368" href="Terms.Basic.html#3603" class="Function">𝑻</a> <a id="4370" href="Birkhoff.HSPTheorem.html#2645" class="Bound">X</a><a id="4371" class="Symbol">)</a> <a id="4373" class="Symbol">(</a><a id="4374" href="Birkhoff.HSPTheorem.html#3996" class="Function">𝔄s</a> <a id="4377" href="Birkhoff.HSPTheorem.html#4359" class="Bound">i</a><a id="4378" class="Symbol">)</a>
<a id="4380" href="Birkhoff.HSPTheorem.html#4350" class="Function">hom𝔄</a> <a id="4385" href="Birkhoff.HSPTheorem.html#4385" class="Bound">i</a> <a id="4387" class="Symbol">=</a> <a id="4389" href="Terms.Basic.html#4495" class="Function">lift-hom</a> <a id="4398" class="Symbol">(</a><a id="4399" href="Birkhoff.HSPTheorem.html#3996" class="Function">𝔄s</a> <a id="4402" href="Birkhoff.HSPTheorem.html#4385" class="Bound">i</a><a id="4403" class="Symbol">)</a> <a id="4405" class="Symbol">(</a><a id="4406" href="Birkhoff.HSPTheorem.html#4109" class="Function">𝔄h</a> <a id="4409" href="Birkhoff.HSPTheorem.html#4385" class="Bound">i</a><a id="4410" class="Symbol">)</a>

<a id="homℭ"></a><a id="4413" href="Birkhoff.HSPTheorem.html#4413" class="Function">homℭ</a> <a id="4418" class="Symbol">:</a> <a id="4420" href="Homomorphisms.Basic.html#2268" class="Function">hom</a> <a id="4424" class="Symbol">(</a><a id="4425" href="Terms.Basic.html#3603" class="Function">𝑻</a> <a id="4427" href="Birkhoff.HSPTheorem.html#2645" class="Bound">X</a><a id="4428" class="Symbol">)</a> <a id="4430" href="Birkhoff.HSPTheorem.html#4224" class="Function">ℭ</a>
<a id="4432" href="Birkhoff.HSPTheorem.html#4413" class="Function">homℭ</a> <a id="4437" class="Symbol">=</a> <a id="4439" href="Homomorphisms.Basic.html#8312" class="Function">⨅-hom-co</a> <a id="4448" class="Symbol">(</a><a id="4449" href="Terms.Basic.html#3603" class="Function">𝑻</a> <a id="4451" href="Birkhoff.HSPTheorem.html#2645" class="Bound">X</a><a id="4452" class="Symbol">)</a> <a id="4454" href="Birkhoff.HSPTheorem.html#3996" class="Function">𝔄s</a> <a id="4457" href="Birkhoff.HSPTheorem.html#4350" class="Function">hom𝔄</a>

</pre>


#### <a id="the-new-free-algebra">The new free algebra</a>

As mentioned above, the initial version of the [Agda UALib][] used the free algebra `𝔉`, developed in the [Birkhoff.FreeAlgebra][] module.  However, our new, more direct proof uses the algebra `𝔽`, which we now define, along with the natural epimorphism `epi𝔽 : epi (𝑻 X) 𝔽` from `𝑻 X` to `𝔽`.<sup>2</sup>

<pre class="Agda">

<a id="𝔽"></a><a id="4857" href="Birkhoff.HSPTheorem.html#4857" class="Function">𝔽</a> <a id="4859" class="Symbol">:</a> <a id="4861" href="Algebras.Algebras.html#694" class="Function">Algebra</a> <a id="4869" href="Birkhoff.FreeAlgebra.html#2752" class="Function">𝓸𝓿𝓾+</a> <a id="4874" href="Birkhoff.HSPTheorem.html#2528" class="Bound">𝑆</a>
<a id="4876" href="Birkhoff.HSPTheorem.html#4857" class="Function">𝔽</a> <a id="4878" class="Symbol">=</a> <a id="4880" class="Symbol">(</a><a id="4881" href="Terms.Basic.html#3603" class="Function">𝑻</a> <a id="4883" href="Birkhoff.HSPTheorem.html#2645" class="Bound">X</a><a id="4884" class="Symbol">)</a> <a id="4886" href="Homomorphisms.Basic.html#6416" class="Function Operator">[</a> <a id="4888" href="Birkhoff.HSPTheorem.html#4224" class="Function">ℭ</a> <a id="4890" href="Homomorphisms.Basic.html#6416" class="Function Operator">]/ker</a> <a id="4896" href="Birkhoff.HSPTheorem.html#4413" class="Function">homℭ</a>

<a id="epi𝔽"></a><a id="4902" href="Birkhoff.HSPTheorem.html#4902" class="Function">epi𝔽</a> <a id="4907" class="Symbol">:</a> <a id="4909" href="Homomorphisms.Basic.html#2951" class="Function">epi</a> <a id="4913" class="Symbol">(</a><a id="4914" href="Terms.Basic.html#3603" class="Function">𝑻</a> <a id="4916" href="Birkhoff.HSPTheorem.html#2645" class="Bound">X</a><a id="4917" class="Symbol">)</a> <a id="4919" href="Birkhoff.HSPTheorem.html#4857" class="Function">𝔽</a>
<a id="4921" href="Birkhoff.HSPTheorem.html#4902" class="Function">epi𝔽</a> <a id="4926" class="Symbol">=</a> <a id="4928" href="Homomorphisms.Basic.html#7563" class="Function">πker</a> <a id="4933" href="Birkhoff.HSPTheorem.html#4224" class="Function">ℭ</a> <a id="4935" href="Birkhoff.HSPTheorem.html#4413" class="Function">homℭ</a>

<a id="hom𝔽"></a><a id="4941" href="Birkhoff.HSPTheorem.html#4941" class="Function">hom𝔽</a> <a id="4946" class="Symbol">:</a> <a id="4948" href="Homomorphisms.Basic.html#2268" class="Function">hom</a> <a id="4952" class="Symbol">(</a><a id="4953" href="Terms.Basic.html#3603" class="Function">𝑻</a> <a id="4955" href="Birkhoff.HSPTheorem.html#2645" class="Bound">X</a><a id="4956" class="Symbol">)</a> <a id="4958" href="Birkhoff.HSPTheorem.html#4857" class="Function">𝔽</a>
<a id="4960" href="Birkhoff.HSPTheorem.html#4941" class="Function">hom𝔽</a> <a id="4965" class="Symbol">=</a> <a id="4967" href="Homomorphisms.Basic.html#3288" class="Function">epi-to-hom</a> <a id="4978" href="Birkhoff.HSPTheorem.html#4857" class="Function">𝔽</a> <a id="4980" href="Birkhoff.HSPTheorem.html#4902" class="Function">epi𝔽</a>

<a id="hom𝔽-is-epic"></a><a id="4986" href="Birkhoff.HSPTheorem.html#4986" class="Function">hom𝔽-is-epic</a> <a id="4999" class="Symbol">:</a> <a id="5001" href="Prelude.Inverses.html#2322" class="Function">Epic</a> <a id="5006" href="Prelude.Preliminaries.html#12622" class="Function Operator">∣</a> <a id="5008" href="Birkhoff.HSPTheorem.html#4941" class="Function">hom𝔽</a> <a id="5013" href="Prelude.Preliminaries.html#12622" class="Function Operator">∣</a>
<a id="5015" href="Birkhoff.HSPTheorem.html#4986" class="Function">hom𝔽-is-epic</a> <a id="5028" class="Symbol">=</a> <a id="5030" href="Prelude.Preliminaries.html#12704" class="Function">snd</a> <a id="5034" href="Prelude.Preliminaries.html#12700" class="Function Operator">∥</a> <a id="5036" href="Birkhoff.HSPTheorem.html#4902" class="Function">epi𝔽</a> <a id="5041" href="Prelude.Preliminaries.html#12700" class="Function Operator">∥</a>

</pre>

We will need the following facts relating homℭ, hom𝔽, and ψ.

<pre class="Agda">

<a id="ψlemma0"></a><a id="5132" href="Birkhoff.HSPTheorem.html#5132" class="Function">ψlemma0</a> <a id="5140" class="Symbol">:</a> <a id="5142" class="Symbol">∀</a> <a id="5144" href="Birkhoff.HSPTheorem.html#5144" class="Bound">p</a> <a id="5146" href="Birkhoff.HSPTheorem.html#5146" class="Bound">q</a> <a id="5148" class="Symbol">→</a> <a id="5150" class="Symbol">(</a><a id="5151" href="Prelude.Preliminaries.html#12622" class="Function Operator">∣</a> <a id="5153" href="Birkhoff.HSPTheorem.html#4413" class="Function">homℭ</a> <a id="5158" href="Prelude.Preliminaries.html#12622" class="Function Operator">∣</a> <a id="5160" href="Birkhoff.HSPTheorem.html#5144" class="Bound">p</a> <a id="5162" href="Prelude.Inverses.html#560" class="Datatype Operator">≡</a> <a id="5164" href="Prelude.Preliminaries.html#12622" class="Function Operator">∣</a> <a id="5166" href="Birkhoff.HSPTheorem.html#4413" class="Function">homℭ</a> <a id="5171" href="Prelude.Preliminaries.html#12622" class="Function Operator">∣</a> <a id="5173" href="Birkhoff.HSPTheorem.html#5146" class="Bound">q</a><a id="5174" class="Symbol">)</a> <a id="5176" class="Symbol">→</a> <a id="5178" class="Symbol">(</a><a id="5179" href="Birkhoff.HSPTheorem.html#5144" class="Bound">p</a> <a id="5181" href="Prelude.Equality.html#493" class="InductiveConstructor Operator">,</a> <a id="5183" href="Birkhoff.HSPTheorem.html#5146" class="Bound">q</a><a id="5184" class="Symbol">)</a> <a id="5186" href="Relations.Unary.html#2061" class="Function Operator">∈</a> <a id="5188" href="Birkhoff.FreeAlgebra.html#4348" class="Function">ψ</a> <a id="5190" href="Birkhoff.HSPTheorem.html#2656" class="Bound">𝒦</a>
<a id="5192" href="Birkhoff.HSPTheorem.html#5132" class="Function">ψlemma0</a> <a id="5200" href="Birkhoff.HSPTheorem.html#5200" class="Bound">p</a> <a id="5202" href="Birkhoff.HSPTheorem.html#5202" class="Bound">q</a> <a id="5204" href="Birkhoff.HSPTheorem.html#5204" class="Bound">phomℭq</a> <a id="5211" href="Birkhoff.HSPTheorem.html#5211" class="Bound">𝑨</a> <a id="5213" href="Birkhoff.HSPTheorem.html#5213" class="Bound">sA</a> <a id="5216" href="Birkhoff.HSPTheorem.html#5216" class="Bound">h</a> <a id="5218" class="Symbol">=</a> <a id="5220" href="MGS-MLTT.html#6613" class="Function">ap</a> <a id="5223" class="Symbol">(λ</a> <a id="5226" href="Birkhoff.HSPTheorem.html#5226" class="Bound">-</a> <a id="5228" class="Symbol">→</a> <a id="5230" href="Birkhoff.HSPTheorem.html#5226" class="Bound">-</a> <a id="5232" class="Symbol">(</a><a id="5233" href="Birkhoff.HSPTheorem.html#5211" class="Bound">𝑨</a> <a id="5235" href="Prelude.Equality.html#493" class="InductiveConstructor Operator">,</a> <a id="5237" class="Symbol">(</a><a id="5238" href="Birkhoff.HSPTheorem.html#5213" class="Bound">sA</a> <a id="5241" href="Prelude.Equality.html#493" class="InductiveConstructor Operator">,</a> <a id="5243" href="Birkhoff.HSPTheorem.html#5216" class="Bound">h</a><a id="5244" class="Symbol">)))</a> <a id="5248" href="Birkhoff.HSPTheorem.html#5204" class="Bound">phomℭq</a>


<a id="ψlemma0-ap"></a><a id="5257" href="Birkhoff.HSPTheorem.html#5257" class="Function">ψlemma0-ap</a> <a id="5268" class="Symbol">:</a> <a id="5270" class="Symbol">{</a><a id="5271" href="Birkhoff.HSPTheorem.html#5271" class="Bound">𝑨</a> <a id="5273" class="Symbol">:</a> <a id="5275" href="Algebras.Algebras.html#694" class="Function">Algebra</a> <a id="5283" href="Birkhoff.HSPTheorem.html#2630" class="Bound">𝓤</a> <a id="5285" href="Birkhoff.HSPTheorem.html#2528" class="Bound">𝑆</a><a id="5286" class="Symbol">}{</a><a id="5288" href="Birkhoff.HSPTheorem.html#5288" class="Bound">h</a> <a id="5290" class="Symbol">:</a> <a id="5292" href="Birkhoff.HSPTheorem.html#2645" class="Bound">X</a> <a id="5294" class="Symbol">→</a> <a id="5296" href="Prelude.Preliminaries.html#12622" class="Function Operator">∣</a> <a id="5298" href="Birkhoff.HSPTheorem.html#5271" class="Bound">𝑨</a> <a id="5300" href="Prelude.Preliminaries.html#12622" class="Function Operator">∣</a><a id="5301" class="Symbol">}</a>
 <a id="5304" class="Symbol">→</a>           <a id="5316" href="Birkhoff.HSPTheorem.html#5271" class="Bound">𝑨</a> <a id="5318" href="Relations.Unary.html#2061" class="Function Operator">∈</a> <a id="5320" href="Varieties.Varieties.html#2944" class="Datatype">S</a><a id="5321" class="Symbol">{</a><a id="5322" href="Birkhoff.HSPTheorem.html#2630" class="Bound">𝓤</a><a id="5323" class="Symbol">}{</a><a id="5325" href="Birkhoff.HSPTheorem.html#2630" class="Bound">𝓤</a><a id="5326" class="Symbol">}</a> <a id="5328" href="Birkhoff.HSPTheorem.html#2656" class="Bound">𝒦</a>
             <a id="5343" class="Comment">---------------------------------------</a>
 <a id="5384" class="Symbol">→</a>           <a id="5396" href="Relations.Binary.html#1297" class="Function">KER-pred</a> <a id="5405" href="Prelude.Preliminaries.html#12622" class="Function Operator">∣</a> <a id="5407" href="Birkhoff.HSPTheorem.html#4941" class="Function">hom𝔽</a> <a id="5412" href="Prelude.Preliminaries.html#12622" class="Function Operator">∣</a> <a id="5414" href="Relations.Unary.html#2383" class="Function Operator">⊆</a> <a id="5416" href="Relations.Binary.html#1297" class="Function">KER-pred</a> <a id="5425" class="Symbol">(</a><a id="5426" href="Terms.Basic.html#4221" class="Function">free-lift</a> <a id="5436" href="Birkhoff.HSPTheorem.html#5271" class="Bound">𝑨</a> <a id="5438" href="Birkhoff.HSPTheorem.html#5288" class="Bound">h</a><a id="5439" class="Symbol">)</a>

<a id="5442" href="Birkhoff.HSPTheorem.html#5257" class="Function">ψlemma0-ap</a> <a id="5453" class="Symbol">{</a><a id="5454" href="Birkhoff.HSPTheorem.html#5454" class="Bound">𝑨</a><a id="5455" class="Symbol">}{</a><a id="5457" href="Birkhoff.HSPTheorem.html#5457" class="Bound">h</a><a id="5458" class="Symbol">}</a> <a id="5460" href="Birkhoff.HSPTheorem.html#5460" class="Bound">skA</a> <a id="5464" class="Symbol">{</a><a id="5465" href="Birkhoff.HSPTheorem.html#5465" class="Bound">p</a> <a id="5467" href="Prelude.Equality.html#493" class="InductiveConstructor Operator">,</a> <a id="5469" href="Birkhoff.HSPTheorem.html#5469" class="Bound">q</a><a id="5470" class="Symbol">}</a> <a id="5472" href="Birkhoff.HSPTheorem.html#5472" class="Bound">x</a> <a id="5474" class="Symbol">=</a> <a id="5476" href="Birkhoff.HSPTheorem.html#5563" class="Function">γ</a> <a id="5478" class="Keyword">where</a>

  <a id="5487" href="Birkhoff.HSPTheorem.html#5487" class="Function">ν</a> <a id="5489" class="Symbol">:</a> <a id="5491" href="Prelude.Preliminaries.html#12622" class="Function Operator">∣</a> <a id="5493" href="Birkhoff.HSPTheorem.html#4413" class="Function">homℭ</a> <a id="5498" href="Prelude.Preliminaries.html#12622" class="Function Operator">∣</a> <a id="5500" href="Birkhoff.HSPTheorem.html#5465" class="Bound">p</a> <a id="5502" href="Prelude.Inverses.html#560" class="Datatype Operator">≡</a> <a id="5504" href="Prelude.Preliminaries.html#12622" class="Function Operator">∣</a> <a id="5506" href="Birkhoff.HSPTheorem.html#4413" class="Function">homℭ</a> <a id="5511" href="Prelude.Preliminaries.html#12622" class="Function Operator">∣</a> <a id="5513" href="Birkhoff.HSPTheorem.html#5469" class="Bound">q</a>
  <a id="5517" href="Birkhoff.HSPTheorem.html#5487" class="Function">ν</a> <a id="5519" class="Symbol">=</a> <a id="5521" href="Homomorphisms.Basic.html#8035" class="Function">ker-in-con</a> <a id="5532" class="Symbol">(</a><a id="5533" href="Terms.Basic.html#3603" class="Function">𝑻</a> <a id="5535" href="Birkhoff.HSPTheorem.html#2645" class="Bound">X</a><a id="5536" class="Symbol">)</a> <a id="5538" class="Symbol">(</a><a id="5539" href="Homomorphisms.Basic.html#6021" class="Function">kercon</a> <a id="5546" href="Birkhoff.HSPTheorem.html#4224" class="Function">ℭ</a> <a id="5548" href="Birkhoff.HSPTheorem.html#4413" class="Function">homℭ</a><a id="5552" class="Symbol">)</a> <a id="5554" href="Birkhoff.HSPTheorem.html#5465" class="Bound">p</a> <a id="5556" href="Birkhoff.HSPTheorem.html#5469" class="Bound">q</a> <a id="5558" href="Birkhoff.HSPTheorem.html#5472" class="Bound">x</a>

  <a id="5563" href="Birkhoff.HSPTheorem.html#5563" class="Function">γ</a> <a id="5565" class="Symbol">:</a> <a id="5567" class="Symbol">(</a><a id="5568" href="Terms.Basic.html#4221" class="Function">free-lift</a> <a id="5578" href="Birkhoff.HSPTheorem.html#5454" class="Bound">𝑨</a> <a id="5580" href="Birkhoff.HSPTheorem.html#5457" class="Bound">h</a><a id="5581" class="Symbol">)</a> <a id="5583" href="Birkhoff.HSPTheorem.html#5465" class="Bound">p</a> <a id="5585" href="Prelude.Inverses.html#560" class="Datatype Operator">≡</a> <a id="5587" class="Symbol">(</a><a id="5588" href="Terms.Basic.html#4221" class="Function">free-lift</a> <a id="5598" href="Birkhoff.HSPTheorem.html#5454" class="Bound">𝑨</a> <a id="5600" href="Birkhoff.HSPTheorem.html#5457" class="Bound">h</a><a id="5601" class="Symbol">)</a> <a id="5603" href="Birkhoff.HSPTheorem.html#5469" class="Bound">q</a>
  <a id="5607" href="Birkhoff.HSPTheorem.html#5563" class="Function">γ</a> <a id="5609" class="Symbol">=</a> <a id="5611" class="Symbol">((</a><a id="5613" href="Birkhoff.HSPTheorem.html#5132" class="Function">ψlemma0</a> <a id="5621" href="Birkhoff.HSPTheorem.html#5465" class="Bound">p</a> <a id="5623" href="Birkhoff.HSPTheorem.html#5469" class="Bound">q</a><a id="5624" class="Symbol">)</a> <a id="5626" href="Birkhoff.HSPTheorem.html#5487" class="Function">ν</a><a id="5627" class="Symbol">)</a> <a id="5629" href="Birkhoff.HSPTheorem.html#5454" class="Bound">𝑨</a> <a id="5631" href="Birkhoff.HSPTheorem.html#5460" class="Bound">skA</a> <a id="5635" href="Birkhoff.HSPTheorem.html#5457" class="Bound">h</a>


</pre>

We now use `ψlemma0-ap` to prove that every map `h : X → ∣ 𝑨 ∣`, from `X` to a subalgebra `𝑨 ∈ S 𝒦` of `𝒦`, lifts to a homomorphism from `𝔽` to `𝑨`.

<pre class="Agda">

<a id="𝔽-lift-hom"></a><a id="5815" href="Birkhoff.HSPTheorem.html#5815" class="Function">𝔽-lift-hom</a> <a id="5826" class="Symbol">:</a> <a id="5828" class="Symbol">(</a><a id="5829" href="Birkhoff.HSPTheorem.html#5829" class="Bound">𝑨</a> <a id="5831" class="Symbol">:</a> <a id="5833" href="Algebras.Algebras.html#694" class="Function">Algebra</a> <a id="5841" href="Birkhoff.HSPTheorem.html#2630" class="Bound">𝓤</a> <a id="5843" href="Birkhoff.HSPTheorem.html#2528" class="Bound">𝑆</a><a id="5844" class="Symbol">)</a> <a id="5846" class="Symbol">→</a> <a id="5848" href="Birkhoff.HSPTheorem.html#5829" class="Bound">𝑨</a> <a id="5850" href="Relations.Unary.html#2061" class="Function Operator">∈</a> <a id="5852" href="Varieties.Varieties.html#2944" class="Datatype">S</a><a id="5853" class="Symbol">{</a><a id="5854" href="Birkhoff.HSPTheorem.html#2630" class="Bound">𝓤</a><a id="5855" class="Symbol">}{</a><a id="5857" href="Birkhoff.HSPTheorem.html#2630" class="Bound">𝓤</a><a id="5858" class="Symbol">}</a> <a id="5860" href="Birkhoff.HSPTheorem.html#2656" class="Bound">𝒦</a> <a id="5862" class="Symbol">→</a> <a id="5864" class="Symbol">(</a><a id="5865" href="Birkhoff.HSPTheorem.html#2645" class="Bound">X</a> <a id="5867" class="Symbol">→</a> <a id="5869" href="Prelude.Preliminaries.html#12622" class="Function Operator">∣</a> <a id="5871" href="Birkhoff.HSPTheorem.html#5829" class="Bound">𝑨</a> <a id="5873" href="Prelude.Preliminaries.html#12622" class="Function Operator">∣</a><a id="5874" class="Symbol">)</a> <a id="5876" class="Symbol">→</a> <a id="5878" href="Homomorphisms.Basic.html#2268" class="Function">hom</a> <a id="5882" href="Birkhoff.HSPTheorem.html#4857" class="Function">𝔽</a> <a id="5884" href="Birkhoff.HSPTheorem.html#5829" class="Bound">𝑨</a>
<a id="5886" href="Birkhoff.HSPTheorem.html#5815" class="Function">𝔽-lift-hom</a> <a id="5897" href="Birkhoff.HSPTheorem.html#5897" class="Bound">𝑨</a> <a id="5899" href="Birkhoff.HSPTheorem.html#5899" class="Bound">skA</a> <a id="5903" href="Birkhoff.HSPTheorem.html#5903" class="Bound">h</a> <a id="5905" class="Symbol">=</a> <a id="5907" href="Prelude.Preliminaries.html#12626" class="Function">fst</a><a id="5910" class="Symbol">(</a><a id="5911" href="Homomorphisms.Noether.html#8239" class="Function">HomFactor</a> <a id="5921" class="Symbol">(</a><a id="5922" href="Terms.Basic.html#3603" class="Function">𝑻</a> <a id="5924" href="Birkhoff.HSPTheorem.html#2645" class="Bound">X</a><a id="5925" class="Symbol">){</a><a id="5927" href="Birkhoff.HSPTheorem.html#5897" class="Bound">𝑨</a><a id="5928" class="Symbol">}{</a><a id="5930" href="Birkhoff.HSPTheorem.html#4857" class="Function">𝔽</a><a id="5931" class="Symbol">}(</a><a id="5933" href="Terms.Basic.html#4495" class="Function">lift-hom</a> <a id="5942" href="Birkhoff.HSPTheorem.html#5897" class="Bound">𝑨</a> <a id="5944" href="Birkhoff.HSPTheorem.html#5903" class="Bound">h</a><a id="5945" class="Symbol">)</a> <a id="5947" href="Birkhoff.HSPTheorem.html#4941" class="Function">hom𝔽</a> <a id="5952" href="Birkhoff.HSPTheorem.html#4986" class="Function">hom𝔽-is-epic</a> <a id="5965" class="Symbol">(</a><a id="5966" href="Birkhoff.HSPTheorem.html#5257" class="Function">ψlemma0-ap</a> <a id="5977" href="Birkhoff.HSPTheorem.html#5899" class="Bound">skA</a><a id="5980" class="Symbol">))</a>

</pre>


#### <a id="k-models-psi">𝒦 models ψ</a>

The goal of this subsection is to prove that `𝒦` models `ψ 𝒦`. In other terms, for all pairs `(p , q) ∈ Term X × Term X` of terms, if `(p , q) ∈ ψ 𝒦`, then `𝒦 ⊧ p ≋ q`.

Next we define the lift of the natural embedding from `X` into 𝔽. We denote this homomorphism by `𝔑 : hom (𝑻 X) 𝔽` and define it as follows.

<pre class="Agda">

<a id="X↪𝔽"></a><a id="6365" href="Birkhoff.HSPTheorem.html#6365" class="Function">X↪𝔽</a> <a id="6369" class="Symbol">:</a> <a id="6371" href="Birkhoff.HSPTheorem.html#2645" class="Bound">X</a> <a id="6373" class="Symbol">→</a> <a id="6375" href="Prelude.Preliminaries.html#12622" class="Function Operator">∣</a> <a id="6377" href="Birkhoff.HSPTheorem.html#4857" class="Function">𝔽</a> <a id="6379" href="Prelude.Preliminaries.html#12622" class="Function Operator">∣</a>
<a id="6381" href="Birkhoff.HSPTheorem.html#6365" class="Function">X↪𝔽</a> <a id="6385" href="Birkhoff.HSPTheorem.html#6385" class="Bound">x</a> <a id="6387" class="Symbol">=</a> <a id="6389" href="Relations.Quotients.html#3927" class="Function Operator">⟦</a> <a id="6391" href="Terms.Operations.html#753" class="InductiveConstructor">ℊ</a> <a id="6393" href="Birkhoff.HSPTheorem.html#6385" class="Bound">x</a> <a id="6395" href="Relations.Quotients.html#3927" class="Function Operator">⟧</a>

<a id="𝔑"></a><a id="6398" href="Birkhoff.HSPTheorem.html#6398" class="Function">𝔑</a> <a id="6400" class="Symbol">:</a> <a id="6402" href="Homomorphisms.Basic.html#2268" class="Function">hom</a> <a id="6406" class="Symbol">(</a><a id="6407" href="Terms.Basic.html#3603" class="Function">𝑻</a> <a id="6409" href="Birkhoff.HSPTheorem.html#2645" class="Bound">X</a><a id="6410" class="Symbol">)</a> <a id="6412" href="Birkhoff.HSPTheorem.html#4857" class="Function">𝔽</a>
<a id="6414" href="Birkhoff.HSPTheorem.html#6398" class="Function">𝔑</a> <a id="6416" class="Symbol">=</a> <a id="6418" href="Terms.Basic.html#4495" class="Function">lift-hom</a> <a id="6427" href="Birkhoff.HSPTheorem.html#4857" class="Function">𝔽</a> <a id="6429" href="Birkhoff.HSPTheorem.html#6365" class="Function">X↪𝔽</a>

</pre>

It turns out that the homomorphism so defined is equivalent to `hom𝔽`.

<pre class="Agda">

<a id="hom𝔽-is-lift-hom"></a><a id="6532" href="Birkhoff.HSPTheorem.html#6532" class="Function">hom𝔽-is-lift-hom</a> <a id="6549" class="Symbol">:</a> <a id="6551" class="Symbol">∀</a> <a id="6553" href="Birkhoff.HSPTheorem.html#6553" class="Bound">p</a> <a id="6555" class="Symbol">→</a> <a id="6557" href="Prelude.Preliminaries.html#12622" class="Function Operator">∣</a> <a id="6559" href="Birkhoff.HSPTheorem.html#6398" class="Function">𝔑</a> <a id="6561" href="Prelude.Preliminaries.html#12622" class="Function Operator">∣</a> <a id="6563" href="Birkhoff.HSPTheorem.html#6553" class="Bound">p</a> <a id="6565" href="Prelude.Inverses.html#560" class="Datatype Operator">≡</a> <a id="6567" href="Prelude.Preliminaries.html#12622" class="Function Operator">∣</a> <a id="6569" href="Birkhoff.HSPTheorem.html#4941" class="Function">hom𝔽</a> <a id="6574" href="Prelude.Preliminaries.html#12622" class="Function Operator">∣</a> <a id="6576" href="Birkhoff.HSPTheorem.html#6553" class="Bound">p</a>
<a id="6578" href="Birkhoff.HSPTheorem.html#6532" class="Function">hom𝔽-is-lift-hom</a> <a id="6595" class="Symbol">(</a><a id="6596" href="Terms.Operations.html#753" class="InductiveConstructor">ℊ</a> <a id="6598" href="Birkhoff.HSPTheorem.html#6598" class="Bound">x</a><a id="6599" class="Symbol">)</a> <a id="6601" class="Symbol">=</a> <a id="6603" href="Prelude.Inverses.html#574" class="InductiveConstructor">𝓇ℯ𝒻𝓁</a>
<a id="6608" href="Birkhoff.HSPTheorem.html#6532" class="Function">hom𝔽-is-lift-hom</a> <a id="6625" class="Symbol">(</a><a id="6626" href="Terms.Basic.html#2395" class="InductiveConstructor">node</a> <a id="6631" href="Birkhoff.HSPTheorem.html#6631" class="Bound">𝑓</a> <a id="6633" href="Birkhoff.HSPTheorem.html#6633" class="Bound">𝒕</a><a id="6634" class="Symbol">)</a> <a id="6636" class="Symbol">=</a> <a id="6638" href="Prelude.Preliminaries.html#12622" class="Function Operator">∣</a> <a id="6640" href="Birkhoff.HSPTheorem.html#6398" class="Function">𝔑</a> <a id="6642" href="Prelude.Preliminaries.html#12622" class="Function Operator">∣</a> <a id="6644" class="Symbol">(</a><a id="6645" href="Terms.Basic.html#2395" class="InductiveConstructor">node</a> <a id="6650" href="Birkhoff.HSPTheorem.html#6631" class="Bound">𝑓</a> <a id="6652" href="Birkhoff.HSPTheorem.html#6633" class="Bound">𝒕</a><a id="6653" class="Symbol">)</a>           <a id="6665" href="MGS-MLTT.html#5997" class="Function Operator">≡⟨</a> <a id="6668" href="Prelude.Preliminaries.html#12700" class="Function Operator">∥</a> <a id="6670" href="Birkhoff.HSPTheorem.html#6398" class="Function">𝔑</a> <a id="6672" href="Prelude.Preliminaries.html#12700" class="Function Operator">∥</a> <a id="6674" href="Birkhoff.HSPTheorem.html#6631" class="Bound">𝑓</a> <a id="6676" href="Birkhoff.HSPTheorem.html#6633" class="Bound">𝒕</a> <a id="6678" href="MGS-MLTT.html#5997" class="Function Operator">⟩</a>
                          <a id="6706" class="Symbol">(</a><a id="6707" href="Birkhoff.HSPTheorem.html#6631" class="Bound">𝑓</a> <a id="6709" href="Algebras.Algebras.html#2844" class="Function Operator">̂</a> <a id="6711" href="Birkhoff.HSPTheorem.html#4857" class="Function">𝔽</a><a id="6712" class="Symbol">)(λ</a> <a id="6716" href="Birkhoff.HSPTheorem.html#6716" class="Bound">i</a> <a id="6718" class="Symbol">→</a> <a id="6720" href="Prelude.Preliminaries.html#12622" class="Function Operator">∣</a> <a id="6722" href="Birkhoff.HSPTheorem.html#6398" class="Function">𝔑</a> <a id="6724" href="Prelude.Preliminaries.html#12622" class="Function Operator">∣</a><a id="6725" class="Symbol">(</a><a id="6726" href="Birkhoff.HSPTheorem.html#6633" class="Bound">𝒕</a> <a id="6728" href="Birkhoff.HSPTheorem.html#6716" class="Bound">i</a><a id="6729" class="Symbol">))</a>  <a id="6733" href="MGS-MLTT.html#5997" class="Function Operator">≡⟨</a> <a id="6736" href="MGS-MLTT.html#6613" class="Function">ap</a><a id="6738" class="Symbol">(</a><a id="6739" href="Birkhoff.HSPTheorem.html#6631" class="Bound">𝑓</a> <a id="6741" href="Algebras.Algebras.html#2844" class="Function Operator">̂</a> <a id="6743" href="Birkhoff.HSPTheorem.html#4857" class="Function">𝔽</a><a id="6744" class="Symbol">)(</a><a id="6746" href="Birkhoff.HSPTheorem.html#2547" class="Bound">gfe</a> <a id="6750" class="Symbol">(λ</a> <a id="6753" href="Birkhoff.HSPTheorem.html#6753" class="Bound">x</a> <a id="6755" class="Symbol">→</a> <a id="6757" href="Birkhoff.HSPTheorem.html#6532" class="Function">hom𝔽-is-lift-hom</a><a id="6773" class="Symbol">(</a><a id="6774" href="Birkhoff.HSPTheorem.html#6633" class="Bound">𝒕</a> <a id="6776" href="Birkhoff.HSPTheorem.html#6753" class="Bound">x</a><a id="6777" class="Symbol">)))</a> <a id="6781" href="MGS-MLTT.html#5997" class="Function Operator">⟩</a>
                          <a id="6809" class="Symbol">(</a><a id="6810" href="Birkhoff.HSPTheorem.html#6631" class="Bound">𝑓</a> <a id="6812" href="Algebras.Algebras.html#2844" class="Function Operator">̂</a> <a id="6814" href="Birkhoff.HSPTheorem.html#4857" class="Function">𝔽</a><a id="6815" class="Symbol">)(λ</a> <a id="6819" href="Birkhoff.HSPTheorem.html#6819" class="Bound">i</a> <a id="6821" class="Symbol">→</a> <a id="6823" href="Prelude.Preliminaries.html#12622" class="Function Operator">∣</a> <a id="6825" href="Birkhoff.HSPTheorem.html#4941" class="Function">hom𝔽</a> <a id="6830" href="Prelude.Preliminaries.html#12622" class="Function Operator">∣</a> <a id="6832" class="Symbol">(</a><a id="6833" href="Birkhoff.HSPTheorem.html#6633" class="Bound">𝒕</a> <a id="6835" href="Birkhoff.HSPTheorem.html#6819" class="Bound">i</a><a id="6836" class="Symbol">))</a>  <a id="6840" href="MGS-MLTT.html#5997" class="Function Operator">≡⟨</a> <a id="6843" class="Symbol">(</a><a id="6844" href="Prelude.Preliminaries.html#12700" class="Function Operator">∥</a> <a id="6846" href="Birkhoff.HSPTheorem.html#4941" class="Function">hom𝔽</a> <a id="6851" href="Prelude.Preliminaries.html#12700" class="Function Operator">∥</a> <a id="6853" href="Birkhoff.HSPTheorem.html#6631" class="Bound">𝑓</a> <a id="6855" href="Birkhoff.HSPTheorem.html#6633" class="Bound">𝒕</a><a id="6856" class="Symbol">)</a><a id="6857" href="MGS-MLTT.html#6125" class="Function Operator">⁻¹</a> <a id="6860" href="MGS-MLTT.html#5997" class="Function Operator">⟩</a>
                          <a id="6888" href="Prelude.Preliminaries.html#12622" class="Function Operator">∣</a> <a id="6890" href="Birkhoff.HSPTheorem.html#4941" class="Function">hom𝔽</a> <a id="6895" href="Prelude.Preliminaries.html#12622" class="Function Operator">∣</a> <a id="6897" class="Symbol">(</a><a id="6898" href="Terms.Basic.html#2395" class="InductiveConstructor">node</a> <a id="6903" href="Birkhoff.HSPTheorem.html#6631" class="Bound">𝑓</a> <a id="6905" href="Birkhoff.HSPTheorem.html#6633" class="Bound">𝒕</a><a id="6906" class="Symbol">)</a>           <a id="6918" href="MGS-MLTT.html#6079" class="Function Operator">∎</a>


</pre>

We need a three more lemmas before we are ready to tackle our main goal.

<pre class="Agda">

<a id="ψlemma1"></a><a id="7022" href="Birkhoff.HSPTheorem.html#7022" class="Function">ψlemma1</a> <a id="7030" class="Symbol">:</a> <a id="7032" href="Relations.Binary.html#1297" class="Function">KER-pred</a> <a id="7041" href="Prelude.Preliminaries.html#12622" class="Function Operator">∣</a> <a id="7043" href="Birkhoff.HSPTheorem.html#6398" class="Function">𝔑</a> <a id="7045" href="Prelude.Preliminaries.html#12622" class="Function Operator">∣</a> <a id="7047" href="Relations.Unary.html#2383" class="Function Operator">⊆</a> <a id="7049" href="Birkhoff.FreeAlgebra.html#4348" class="Function">ψ</a> <a id="7051" href="Birkhoff.HSPTheorem.html#2656" class="Bound">𝒦</a>
<a id="7053" href="Birkhoff.HSPTheorem.html#7022" class="Function">ψlemma1</a> <a id="7061" class="Symbol">{</a><a id="7062" href="Birkhoff.HSPTheorem.html#7062" class="Bound">p</a> <a id="7064" href="Prelude.Equality.html#493" class="InductiveConstructor Operator">,</a> <a id="7066" href="Birkhoff.HSPTheorem.html#7066" class="Bound">q</a><a id="7067" class="Symbol">}</a> <a id="7069" href="Birkhoff.HSPTheorem.html#7069" class="Bound">𝔑pq</a> <a id="7073" href="Birkhoff.HSPTheorem.html#7073" class="Bound">𝑨</a> <a id="7075" href="Birkhoff.HSPTheorem.html#7075" class="Bound">sA</a> <a id="7078" href="Birkhoff.HSPTheorem.html#7078" class="Bound">h</a> <a id="7080" class="Symbol">=</a> <a id="7082" href="Birkhoff.HSPTheorem.html#7354" class="Function">γ</a>
 <a id="7085" class="Keyword">where</a>
  <a id="7093" href="Birkhoff.HSPTheorem.html#7093" class="Function">f</a> <a id="7095" class="Symbol">:</a> <a id="7097" href="Homomorphisms.Basic.html#2268" class="Function">hom</a> <a id="7101" href="Birkhoff.HSPTheorem.html#4857" class="Function">𝔽</a> <a id="7103" href="Birkhoff.HSPTheorem.html#7073" class="Bound">𝑨</a>
  <a id="7107" href="Birkhoff.HSPTheorem.html#7093" class="Function">f</a> <a id="7109" class="Symbol">=</a> <a id="7111" href="Birkhoff.HSPTheorem.html#5815" class="Function">𝔽-lift-hom</a> <a id="7122" href="Birkhoff.HSPTheorem.html#7073" class="Bound">𝑨</a> <a id="7124" href="Birkhoff.HSPTheorem.html#7075" class="Bound">sA</a> <a id="7127" href="Birkhoff.HSPTheorem.html#7078" class="Bound">h</a>

  <a id="7132" href="Birkhoff.HSPTheorem.html#7132" class="Function">h&#39;</a> <a id="7135" href="Birkhoff.HSPTheorem.html#7135" class="Function">ϕ</a> <a id="7137" class="Symbol">:</a> <a id="7139" href="Homomorphisms.Basic.html#2268" class="Function">hom</a> <a id="7143" class="Symbol">(</a><a id="7144" href="Terms.Basic.html#3603" class="Function">𝑻</a> <a id="7146" href="Birkhoff.HSPTheorem.html#2645" class="Bound">X</a><a id="7147" class="Symbol">)</a> <a id="7149" href="Birkhoff.HSPTheorem.html#7073" class="Bound">𝑨</a>
  <a id="7153" href="Birkhoff.HSPTheorem.html#7132" class="Function">h&#39;</a> <a id="7156" class="Symbol">=</a> <a id="7158" href="Homomorphisms.Noether.html#4690" class="Function">HomComp</a> <a id="7166" class="Symbol">(</a><a id="7167" href="Terms.Basic.html#3603" class="Function">𝑻</a> <a id="7169" href="Birkhoff.HSPTheorem.html#2645" class="Bound">X</a><a id="7170" class="Symbol">)</a> <a id="7172" href="Birkhoff.HSPTheorem.html#7073" class="Bound">𝑨</a> <a id="7174" href="Birkhoff.HSPTheorem.html#6398" class="Function">𝔑</a> <a id="7176" href="Birkhoff.HSPTheorem.html#7093" class="Function">f</a>
  <a id="7180" href="Birkhoff.HSPTheorem.html#7135" class="Function">ϕ</a> <a id="7182" class="Symbol">=</a> <a id="7184" href="Terms.Basic.html#4495" class="Function">lift-hom</a> <a id="7193" href="Birkhoff.HSPTheorem.html#7073" class="Bound">𝑨</a> <a id="7195" href="Birkhoff.HSPTheorem.html#7078" class="Bound">h</a>

  <a id="7200" href="Birkhoff.HSPTheorem.html#7200" class="Function">f𝔑≡ϕ</a> <a id="7205" class="Symbol">:</a> <a id="7207" class="Symbol">(</a><a id="7208" href="Birkhoff.HSPTheorem.html#7208" class="Bound">x</a> <a id="7210" class="Symbol">:</a> <a id="7212" href="Birkhoff.HSPTheorem.html#2645" class="Bound">X</a><a id="7213" class="Symbol">)</a> <a id="7215" class="Symbol">→</a> <a id="7217" class="Symbol">(</a><a id="7218" href="Prelude.Preliminaries.html#12622" class="Function Operator">∣</a> <a id="7220" href="Birkhoff.HSPTheorem.html#7093" class="Function">f</a> <a id="7222" href="Prelude.Preliminaries.html#12622" class="Function Operator">∣</a> <a id="7224" href="MGS-MLTT.html#3813" class="Function Operator">∘</a> <a id="7226" href="Prelude.Preliminaries.html#12622" class="Function Operator">∣</a> <a id="7228" href="Birkhoff.HSPTheorem.html#6398" class="Function">𝔑</a> <a id="7230" href="Prelude.Preliminaries.html#12622" class="Function Operator">∣</a><a id="7231" class="Symbol">)</a> <a id="7233" class="Symbol">(</a><a id="7234" href="Terms.Operations.html#753" class="InductiveConstructor">ℊ</a> <a id="7236" href="Birkhoff.HSPTheorem.html#7208" class="Bound">x</a><a id="7237" class="Symbol">)</a> <a id="7239" href="Prelude.Inverses.html#560" class="Datatype Operator">≡</a> <a id="7241" href="Prelude.Preliminaries.html#12622" class="Function Operator">∣</a> <a id="7243" href="Birkhoff.HSPTheorem.html#7135" class="Function">ϕ</a> <a id="7245" href="Prelude.Preliminaries.html#12622" class="Function Operator">∣</a> <a id="7247" class="Symbol">(</a><a id="7248" href="Terms.Operations.html#753" class="InductiveConstructor">ℊ</a> <a id="7250" href="Birkhoff.HSPTheorem.html#7208" class="Bound">x</a><a id="7251" class="Symbol">)</a>
  <a id="7255" href="Birkhoff.HSPTheorem.html#7200" class="Function">f𝔑≡ϕ</a> <a id="7260" href="Birkhoff.HSPTheorem.html#7260" class="Bound">x</a> <a id="7262" class="Symbol">=</a> <a id="7264" href="Prelude.Inverses.html#574" class="InductiveConstructor">𝓇ℯ𝒻𝓁</a>
  <a id="7271" href="Birkhoff.HSPTheorem.html#7271" class="Function">h≡ϕ</a> <a id="7275" class="Symbol">:</a> <a id="7277" class="Symbol">∀</a> <a id="7279" href="Birkhoff.HSPTheorem.html#7279" class="Bound">t</a> <a id="7281" class="Symbol">→</a> <a id="7283" class="Symbol">(</a><a id="7284" href="Prelude.Preliminaries.html#12622" class="Function Operator">∣</a> <a id="7286" href="Birkhoff.HSPTheorem.html#7093" class="Function">f</a> <a id="7288" href="Prelude.Preliminaries.html#12622" class="Function Operator">∣</a> <a id="7290" href="MGS-MLTT.html#3813" class="Function Operator">∘</a> <a id="7292" href="Prelude.Preliminaries.html#12622" class="Function Operator">∣</a> <a id="7294" href="Birkhoff.HSPTheorem.html#6398" class="Function">𝔑</a> <a id="7296" href="Prelude.Preliminaries.html#12622" class="Function Operator">∣</a><a id="7297" class="Symbol">)</a> <a id="7299" href="Birkhoff.HSPTheorem.html#7279" class="Bound">t</a> <a id="7301" href="Prelude.Inverses.html#560" class="Datatype Operator">≡</a> <a id="7303" href="Prelude.Preliminaries.html#12622" class="Function Operator">∣</a> <a id="7305" href="Birkhoff.HSPTheorem.html#7135" class="Function">ϕ</a> <a id="7307" href="Prelude.Preliminaries.html#12622" class="Function Operator">∣</a> <a id="7309" href="Birkhoff.HSPTheorem.html#7279" class="Bound">t</a>
  <a id="7313" href="Birkhoff.HSPTheorem.html#7271" class="Function">h≡ϕ</a> <a id="7317" href="Birkhoff.HSPTheorem.html#7317" class="Bound">t</a> <a id="7319" class="Symbol">=</a> <a id="7321" href="Terms.Basic.html#4777" class="Function">free-unique</a> <a id="7333" href="Birkhoff.HSPTheorem.html#2547" class="Bound">gfe</a> <a id="7337" href="Birkhoff.HSPTheorem.html#7073" class="Bound">𝑨</a> <a id="7339" href="Birkhoff.HSPTheorem.html#7132" class="Function">h&#39;</a> <a id="7342" href="Birkhoff.HSPTheorem.html#7135" class="Function">ϕ</a> <a id="7344" href="Birkhoff.HSPTheorem.html#7200" class="Function">f𝔑≡ϕ</a> <a id="7349" href="Birkhoff.HSPTheorem.html#7317" class="Bound">t</a>

  <a id="7354" href="Birkhoff.HSPTheorem.html#7354" class="Function">γ</a> <a id="7356" class="Symbol">:</a> <a id="7358" href="Prelude.Preliminaries.html#12622" class="Function Operator">∣</a> <a id="7360" href="Birkhoff.HSPTheorem.html#7135" class="Function">ϕ</a> <a id="7362" href="Prelude.Preliminaries.html#12622" class="Function Operator">∣</a> <a id="7364" href="Birkhoff.HSPTheorem.html#7062" class="Bound">p</a> <a id="7366" href="Prelude.Inverses.html#560" class="Datatype Operator">≡</a> <a id="7368" href="Prelude.Preliminaries.html#12622" class="Function Operator">∣</a> <a id="7370" href="Birkhoff.HSPTheorem.html#7135" class="Function">ϕ</a> <a id="7372" href="Prelude.Preliminaries.html#12622" class="Function Operator">∣</a> <a id="7374" href="Birkhoff.HSPTheorem.html#7066" class="Bound">q</a>
  <a id="7378" href="Birkhoff.HSPTheorem.html#7354" class="Function">γ</a> <a id="7380" class="Symbol">=</a> <a id="7382" href="Prelude.Preliminaries.html#12622" class="Function Operator">∣</a> <a id="7384" href="Birkhoff.HSPTheorem.html#7135" class="Function">ϕ</a> <a id="7386" href="Prelude.Preliminaries.html#12622" class="Function Operator">∣</a> <a id="7388" href="Birkhoff.HSPTheorem.html#7062" class="Bound">p</a>         <a id="7398" href="MGS-MLTT.html#5997" class="Function Operator">≡⟨</a> <a id="7401" class="Symbol">(</a><a id="7402" href="Birkhoff.HSPTheorem.html#7271" class="Function">h≡ϕ</a> <a id="7406" href="Birkhoff.HSPTheorem.html#7062" class="Bound">p</a><a id="7407" class="Symbol">)</a><a id="7408" href="MGS-MLTT.html#6125" class="Function Operator">⁻¹</a> <a id="7411" href="MGS-MLTT.html#5997" class="Function Operator">⟩</a>
      <a id="7419" href="Prelude.Preliminaries.html#12622" class="Function Operator">∣</a> <a id="7421" href="Birkhoff.HSPTheorem.html#7093" class="Function">f</a> <a id="7423" href="Prelude.Preliminaries.html#12622" class="Function Operator">∣</a> <a id="7425" class="Symbol">(</a> <a id="7427" href="Prelude.Preliminaries.html#12622" class="Function Operator">∣</a> <a id="7429" href="Birkhoff.HSPTheorem.html#6398" class="Function">𝔑</a> <a id="7431" href="Prelude.Preliminaries.html#12622" class="Function Operator">∣</a> <a id="7433" href="Birkhoff.HSPTheorem.html#7062" class="Bound">p</a> <a id="7435" class="Symbol">)</a> <a id="7437" href="MGS-MLTT.html#5997" class="Function Operator">≡⟨</a> <a id="7440" href="MGS-MLTT.html#6613" class="Function">ap</a> <a id="7443" href="Prelude.Preliminaries.html#12622" class="Function Operator">∣</a> <a id="7445" href="Birkhoff.HSPTheorem.html#7093" class="Function">f</a> <a id="7447" href="Prelude.Preliminaries.html#12622" class="Function Operator">∣</a> <a id="7449" href="Birkhoff.HSPTheorem.html#7069" class="Bound">𝔑pq</a> <a id="7453" href="MGS-MLTT.html#5997" class="Function Operator">⟩</a>
      <a id="7461" href="Prelude.Preliminaries.html#12622" class="Function Operator">∣</a> <a id="7463" href="Birkhoff.HSPTheorem.html#7093" class="Function">f</a> <a id="7465" href="Prelude.Preliminaries.html#12622" class="Function Operator">∣</a> <a id="7467" class="Symbol">(</a> <a id="7469" href="Prelude.Preliminaries.html#12622" class="Function Operator">∣</a> <a id="7471" href="Birkhoff.HSPTheorem.html#6398" class="Function">𝔑</a> <a id="7473" href="Prelude.Preliminaries.html#12622" class="Function Operator">∣</a> <a id="7475" href="Birkhoff.HSPTheorem.html#7066" class="Bound">q</a> <a id="7477" class="Symbol">)</a> <a id="7479" href="MGS-MLTT.html#5997" class="Function Operator">≡⟨</a> <a id="7482" href="Birkhoff.HSPTheorem.html#7271" class="Function">h≡ϕ</a> <a id="7486" href="Birkhoff.HSPTheorem.html#7066" class="Bound">q</a> <a id="7488" href="MGS-MLTT.html#5997" class="Function Operator">⟩</a>
      <a id="7496" href="Prelude.Preliminaries.html#12622" class="Function Operator">∣</a> <a id="7498" href="Birkhoff.HSPTheorem.html#7135" class="Function">ϕ</a> <a id="7500" href="Prelude.Preliminaries.html#12622" class="Function Operator">∣</a> <a id="7502" href="Birkhoff.HSPTheorem.html#7066" class="Bound">q</a> <a id="7504" href="MGS-MLTT.html#6079" class="Function Operator">∎</a>


<a id="ψlemma2"></a><a id="7508" href="Birkhoff.HSPTheorem.html#7508" class="Function">ψlemma2</a> <a id="7516" class="Symbol">:</a> <a id="7518" href="Relations.Binary.html#1297" class="Function">KER-pred</a> <a id="7527" href="Prelude.Preliminaries.html#12622" class="Function Operator">∣</a> <a id="7529" href="Birkhoff.HSPTheorem.html#4941" class="Function">hom𝔽</a> <a id="7534" href="Prelude.Preliminaries.html#12622" class="Function Operator">∣</a> <a id="7536" href="Relations.Unary.html#2383" class="Function Operator">⊆</a> <a id="7538" href="Birkhoff.FreeAlgebra.html#4348" class="Function">ψ</a> <a id="7540" href="Birkhoff.HSPTheorem.html#2656" class="Bound">𝒦</a>
<a id="7542" href="Birkhoff.HSPTheorem.html#7508" class="Function">ψlemma2</a> <a id="7550" class="Symbol">{</a><a id="7551" href="Birkhoff.HSPTheorem.html#7551" class="Bound">p</a> <a id="7553" href="Prelude.Equality.html#493" class="InductiveConstructor Operator">,</a> <a id="7555" href="Birkhoff.HSPTheorem.html#7555" class="Bound">q</a><a id="7556" class="Symbol">}</a> <a id="7558" href="Birkhoff.HSPTheorem.html#7558" class="Bound">hyp</a> <a id="7562" class="Symbol">=</a> <a id="7564" href="Birkhoff.HSPTheorem.html#7022" class="Function">ψlemma1</a> <a id="7572" class="Symbol">{</a><a id="7573" href="Birkhoff.HSPTheorem.html#7551" class="Bound">p</a> <a id="7575" href="Prelude.Equality.html#493" class="InductiveConstructor Operator">,</a> <a id="7577" href="Birkhoff.HSPTheorem.html#7555" class="Bound">q</a><a id="7578" class="Symbol">}</a> <a id="7580" href="Birkhoff.HSPTheorem.html#7593" class="Function">γ</a>
  <a id="7584" class="Keyword">where</a>
   <a id="7593" href="Birkhoff.HSPTheorem.html#7593" class="Function">γ</a> <a id="7595" class="Symbol">:</a> <a id="7597" class="Symbol">(</a><a id="7598" href="Terms.Basic.html#4221" class="Function">free-lift</a> <a id="7608" href="Birkhoff.HSPTheorem.html#4857" class="Function">𝔽</a> <a id="7610" href="Birkhoff.HSPTheorem.html#6365" class="Function">X↪𝔽</a><a id="7613" class="Symbol">)</a> <a id="7615" href="Birkhoff.HSPTheorem.html#7551" class="Bound">p</a> <a id="7617" href="Prelude.Inverses.html#560" class="Datatype Operator">≡</a> <a id="7619" class="Symbol">(</a><a id="7620" href="Terms.Basic.html#4221" class="Function">free-lift</a> <a id="7630" href="Birkhoff.HSPTheorem.html#4857" class="Function">𝔽</a> <a id="7632" href="Birkhoff.HSPTheorem.html#6365" class="Function">X↪𝔽</a><a id="7635" class="Symbol">)</a> <a id="7637" href="Birkhoff.HSPTheorem.html#7555" class="Bound">q</a>
   <a id="7642" href="Birkhoff.HSPTheorem.html#7593" class="Function">γ</a> <a id="7644" class="Symbol">=</a> <a id="7646" class="Symbol">(</a><a id="7647" href="Birkhoff.HSPTheorem.html#6532" class="Function">hom𝔽-is-lift-hom</a> <a id="7664" href="Birkhoff.HSPTheorem.html#7551" class="Bound">p</a><a id="7665" class="Symbol">)</a> <a id="7667" href="MGS-MLTT.html#5910" class="Function Operator">∙</a> <a id="7669" href="Birkhoff.HSPTheorem.html#7558" class="Bound">hyp</a> <a id="7673" href="MGS-MLTT.html#5910" class="Function Operator">∙</a> <a id="7675" class="Symbol">(</a><a id="7676" href="Birkhoff.HSPTheorem.html#6532" class="Function">hom𝔽-is-lift-hom</a> <a id="7693" href="Birkhoff.HSPTheorem.html#7555" class="Bound">q</a><a id="7694" class="Symbol">)</a><a id="7695" href="MGS-MLTT.html#6125" class="Function Operator">⁻¹</a>


<a id="ψlemma3"></a><a id="7700" href="Birkhoff.HSPTheorem.html#7700" class="Function">ψlemma3</a> <a id="7708" class="Symbol">:</a> <a id="7710" class="Symbol">∀</a> <a id="7712" href="Birkhoff.HSPTheorem.html#7712" class="Bound">p</a> <a id="7714" href="Birkhoff.HSPTheorem.html#7714" class="Bound">q</a> <a id="7716" class="Symbol">→</a> <a id="7718" class="Symbol">(</a><a id="7719" href="Birkhoff.HSPTheorem.html#7712" class="Bound">p</a> <a id="7721" href="Prelude.Equality.html#493" class="InductiveConstructor Operator">,</a> <a id="7723" href="Birkhoff.HSPTheorem.html#7714" class="Bound">q</a><a id="7724" class="Symbol">)</a> <a id="7726" href="Relations.Unary.html#2061" class="Function Operator">∈</a> <a id="7728" href="Birkhoff.FreeAlgebra.html#4348" class="Function">ψ</a> <a id="7730" href="Birkhoff.HSPTheorem.html#2656" class="Bound">𝒦</a> <a id="7732" class="Symbol">→</a> <a id="7734" href="Birkhoff.HSPTheorem.html#2656" class="Bound">𝒦</a> <a id="7736" href="Varieties.EquationalLogic.html#2724" class="Function Operator">⊧</a> <a id="7738" href="Birkhoff.HSPTheorem.html#7712" class="Bound">p</a> <a id="7740" href="Varieties.EquationalLogic.html#2724" class="Function Operator">≋</a> <a id="7742" href="Birkhoff.HSPTheorem.html#7714" class="Bound">q</a>
<a id="7744" href="Birkhoff.HSPTheorem.html#7700" class="Function">ψlemma3</a> <a id="7752" href="Birkhoff.HSPTheorem.html#7752" class="Bound">p</a> <a id="7754" href="Birkhoff.HSPTheorem.html#7754" class="Bound">q</a> <a id="7756" href="Birkhoff.HSPTheorem.html#7756" class="Bound">pψq</a> <a id="7760" class="Symbol">{</a><a id="7761" href="Birkhoff.HSPTheorem.html#7761" class="Bound">𝑨</a><a id="7762" class="Symbol">}</a> <a id="7764" href="Birkhoff.HSPTheorem.html#7764" class="Bound">kA</a> <a id="7767" class="Symbol">=</a> <a id="7769" href="Birkhoff.HSPTheorem.html#7840" class="Function">γ</a>
 <a id="7772" class="Keyword">where</a>
  <a id="7780" href="Birkhoff.HSPTheorem.html#7780" class="Function">skA</a> <a id="7784" class="Symbol">:</a> <a id="7786" href="Birkhoff.HSPTheorem.html#7761" class="Bound">𝑨</a> <a id="7788" href="Relations.Unary.html#2061" class="Function Operator">∈</a> <a id="7790" href="Varieties.Varieties.html#2944" class="Datatype">S</a> <a id="7792" href="Birkhoff.HSPTheorem.html#2656" class="Bound">𝒦</a>
  <a id="7796" href="Birkhoff.HSPTheorem.html#7780" class="Function">skA</a> <a id="7800" class="Symbol">=</a> <a id="7802" href="Varieties.Varieties.html#3307" class="InductiveConstructor">siso</a> <a id="7807" class="Symbol">(</a><a id="7808" href="Varieties.Varieties.html#3042" class="InductiveConstructor">sbase</a> <a id="7814" href="Birkhoff.HSPTheorem.html#7764" class="Bound">kA</a><a id="7816" class="Symbol">)</a> <a id="7818" class="Symbol">(</a><a id="7819" href="Homomorphisms.Isomorphisms.html#2967" class="Function">sym-≅</a> <a id="7825" href="Homomorphisms.Isomorphisms.html#4881" class="Function">lift-alg-≅</a><a id="7835" class="Symbol">)</a>

  <a id="7840" href="Birkhoff.HSPTheorem.html#7840" class="Function">γ</a> <a id="7842" class="Symbol">:</a> <a id="7844" class="Symbol">(</a><a id="7845" href="Birkhoff.HSPTheorem.html#7752" class="Bound">p</a> <a id="7847" href="Terms.Operations.html#1695" class="Function Operator">̇</a> <a id="7849" href="Birkhoff.HSPTheorem.html#7761" class="Bound">𝑨</a><a id="7850" class="Symbol">)</a> <a id="7852" href="Prelude.Inverses.html#560" class="Datatype Operator">≡</a> <a id="7854" class="Symbol">(</a><a id="7855" href="Birkhoff.HSPTheorem.html#7754" class="Bound">q</a> <a id="7857" href="Terms.Operations.html#1695" class="Function Operator">̇</a> <a id="7859" href="Birkhoff.HSPTheorem.html#7761" class="Bound">𝑨</a><a id="7860" class="Symbol">)</a>
  <a id="7864" href="Birkhoff.HSPTheorem.html#7840" class="Function">γ</a> <a id="7866" class="Symbol">=</a> <a id="7868" href="Birkhoff.HSPTheorem.html#2547" class="Bound">gfe</a> <a id="7872" class="Symbol">λ</a> <a id="7874" href="Birkhoff.HSPTheorem.html#7874" class="Bound">h</a> <a id="7876" class="Symbol">→</a> <a id="7878" class="Symbol">(</a><a id="7879" href="Birkhoff.HSPTheorem.html#7752" class="Bound">p</a> <a id="7881" href="Terms.Operations.html#1695" class="Function Operator">̇</a> <a id="7883" href="Birkhoff.HSPTheorem.html#7761" class="Bound">𝑨</a><a id="7884" class="Symbol">)</a> <a id="7886" href="Birkhoff.HSPTheorem.html#7874" class="Bound">h</a>         <a id="7896" href="MGS-MLTT.html#5997" class="Function Operator">≡⟨</a> <a id="7899" href="Terms.Operations.html#1978" class="Function">free-lift-interp</a> <a id="7916" href="Birkhoff.HSPTheorem.html#7761" class="Bound">𝑨</a> <a id="7918" href="Birkhoff.HSPTheorem.html#7874" class="Bound">h</a> <a id="7920" href="Birkhoff.HSPTheorem.html#7752" class="Bound">p</a> <a id="7922" href="MGS-MLTT.html#5997" class="Function Operator">⟩</a>
                <a id="7940" class="Symbol">(</a><a id="7941" href="Terms.Basic.html#4221" class="Function">free-lift</a> <a id="7951" href="Birkhoff.HSPTheorem.html#7761" class="Bound">𝑨</a> <a id="7953" href="Birkhoff.HSPTheorem.html#7874" class="Bound">h</a><a id="7954" class="Symbol">)</a> <a id="7956" href="Birkhoff.HSPTheorem.html#7752" class="Bound">p</a> <a id="7958" href="MGS-MLTT.html#5997" class="Function Operator">≡⟨</a> <a id="7961" href="Birkhoff.HSPTheorem.html#7756" class="Bound">pψq</a> <a id="7965" href="Birkhoff.HSPTheorem.html#7761" class="Bound">𝑨</a> <a id="7967" href="Birkhoff.HSPTheorem.html#7780" class="Function">skA</a> <a id="7971" href="Birkhoff.HSPTheorem.html#7874" class="Bound">h</a> <a id="7973" href="MGS-MLTT.html#5997" class="Function Operator">⟩</a>
                <a id="7991" class="Symbol">(</a><a id="7992" href="Terms.Basic.html#4221" class="Function">free-lift</a> <a id="8002" href="Birkhoff.HSPTheorem.html#7761" class="Bound">𝑨</a> <a id="8004" href="Birkhoff.HSPTheorem.html#7874" class="Bound">h</a><a id="8005" class="Symbol">)</a> <a id="8007" href="Birkhoff.HSPTheorem.html#7754" class="Bound">q</a> <a id="8009" href="MGS-MLTT.html#5997" class="Function Operator">≡⟨</a> <a id="8012" class="Symbol">(</a><a id="8013" href="Terms.Operations.html#1978" class="Function">free-lift-interp</a> <a id="8030" href="Birkhoff.HSPTheorem.html#7761" class="Bound">𝑨</a> <a id="8032" href="Birkhoff.HSPTheorem.html#7874" class="Bound">h</a> <a id="8034" href="Birkhoff.HSPTheorem.html#7754" class="Bound">q</a><a id="8035" class="Symbol">)</a><a id="8036" href="MGS-MLTT.html#6125" class="Function Operator">⁻¹</a>  <a id="8040" href="MGS-MLTT.html#5997" class="Function Operator">⟩</a>
                <a id="8058" class="Symbol">(</a><a id="8059" href="Birkhoff.HSPTheorem.html#7754" class="Bound">q</a> <a id="8061" href="Terms.Operations.html#1695" class="Function Operator">̇</a> <a id="8063" href="Birkhoff.HSPTheorem.html#7761" class="Bound">𝑨</a><a id="8064" class="Symbol">)</a> <a id="8066" href="Birkhoff.HSPTheorem.html#7874" class="Bound">h</a>         <a id="8076" href="MGS-MLTT.html#6079" class="Function Operator">∎</a>


</pre>

With these results in hand, it is now trivial to prove the main theorem of this subsection.

<pre class="Agda">

<a id="class-models-kernel"></a><a id="8199" href="Birkhoff.HSPTheorem.html#8199" class="Function">class-models-kernel</a> <a id="8219" class="Symbol">:</a> <a id="8221" class="Symbol">∀</a> <a id="8223" href="Birkhoff.HSPTheorem.html#8223" class="Bound">p</a> <a id="8225" href="Birkhoff.HSPTheorem.html#8225" class="Bound">q</a> <a id="8227" class="Symbol">→</a> <a id="8229" class="Symbol">(</a><a id="8230" href="Birkhoff.HSPTheorem.html#8223" class="Bound">p</a> <a id="8232" href="Prelude.Equality.html#493" class="InductiveConstructor Operator">,</a> <a id="8234" href="Birkhoff.HSPTheorem.html#8225" class="Bound">q</a><a id="8235" class="Symbol">)</a> <a id="8237" href="Relations.Unary.html#2061" class="Function Operator">∈</a> <a id="8239" href="Relations.Binary.html#1297" class="Function">KER-pred</a> <a id="8248" href="Prelude.Preliminaries.html#12622" class="Function Operator">∣</a> <a id="8250" href="Birkhoff.HSPTheorem.html#4941" class="Function">hom𝔽</a> <a id="8255" href="Prelude.Preliminaries.html#12622" class="Function Operator">∣</a> <a id="8257" class="Symbol">→</a> <a id="8259" href="Birkhoff.HSPTheorem.html#2656" class="Bound">𝒦</a> <a id="8261" href="Varieties.EquationalLogic.html#2724" class="Function Operator">⊧</a> <a id="8263" href="Birkhoff.HSPTheorem.html#8223" class="Bound">p</a> <a id="8265" href="Varieties.EquationalLogic.html#2724" class="Function Operator">≋</a> <a id="8267" href="Birkhoff.HSPTheorem.html#8225" class="Bound">q</a>
<a id="8269" href="Birkhoff.HSPTheorem.html#8199" class="Function">class-models-kernel</a>  <a id="8290" href="Birkhoff.HSPTheorem.html#8290" class="Bound">p</a> <a id="8292" href="Birkhoff.HSPTheorem.html#8292" class="Bound">q</a> <a id="8294" href="Birkhoff.HSPTheorem.html#8294" class="Bound">hyp</a> <a id="8298" class="Symbol">=</a> <a id="8300" href="Birkhoff.HSPTheorem.html#7700" class="Function">ψlemma3</a> <a id="8308" href="Birkhoff.HSPTheorem.html#8290" class="Bound">p</a> <a id="8310" href="Birkhoff.HSPTheorem.html#8292" class="Bound">q</a> <a id="8312" class="Symbol">(</a><a id="8313" href="Birkhoff.HSPTheorem.html#7508" class="Function">ψlemma2</a> <a id="8321" href="Birkhoff.HSPTheorem.html#8294" class="Bound">hyp</a><a id="8324" class="Symbol">)</a>

</pre>


#### <a id="the-homomorphic-images-of-F">The homomorphic images of 𝔽</a>

Finally we come to one of the main theorems of this module; it asserts that every algebra in `Mod X (Th 𝕍𝒦)` is a homomorphic image of 𝔽.  We prove this below as the function (or proof object) `𝔽-ModTh-epi`.  Before that, we prove two auxiliary lemmas.

<pre class="Agda">

<a id="kernel-in-theory"></a><a id="8682" href="Birkhoff.HSPTheorem.html#8682" class="Function">kernel-in-theory</a> <a id="8699" class="Symbol">:</a> <a id="8701" href="Relations.Binary.html#1297" class="Function">KER-pred</a> <a id="8710" href="Prelude.Preliminaries.html#12622" class="Function Operator">∣</a> <a id="8712" href="Birkhoff.HSPTheorem.html#4941" class="Function">hom𝔽</a> <a id="8717" href="Prelude.Preliminaries.html#12622" class="Function Operator">∣</a> <a id="8719" href="Relations.Unary.html#2383" class="Function Operator">⊆</a> <a id="8721" href="Varieties.EquationalLogic.html#3631" class="Function">Th</a> <a id="8724" class="Symbol">(</a><a id="8725" href="Varieties.Varieties.html#4593" class="Datatype">V</a> <a id="8727" href="Birkhoff.HSPTheorem.html#2656" class="Bound">𝒦</a><a id="8728" class="Symbol">)</a>
<a id="8730" href="Birkhoff.HSPTheorem.html#8682" class="Function">kernel-in-theory</a> <a id="8747" class="Symbol">{</a><a id="8748" href="Birkhoff.HSPTheorem.html#8748" class="Bound">p</a> <a id="8750" href="Prelude.Equality.html#493" class="InductiveConstructor Operator">,</a> <a id="8752" href="Birkhoff.HSPTheorem.html#8752" class="Bound">q</a><a id="8753" class="Symbol">}</a> <a id="8755" href="Birkhoff.HSPTheorem.html#8755" class="Bound">pKq</a> <a id="8759" class="Symbol">=</a> <a id="8761" class="Symbol">(</a><a id="8762" href="Varieties.Preservation.html#10813" class="Function">class-ids-⇒</a> <a id="8774" href="Birkhoff.HSPTheorem.html#8748" class="Bound">p</a> <a id="8776" href="Birkhoff.HSPTheorem.html#8752" class="Bound">q</a> <a id="8778" class="Symbol">(</a><a id="8779" href="Birkhoff.HSPTheorem.html#8199" class="Function">class-models-kernel</a> <a id="8799" href="Birkhoff.HSPTheorem.html#8748" class="Bound">p</a> <a id="8801" href="Birkhoff.HSPTheorem.html#8752" class="Bound">q</a> <a id="8803" href="Birkhoff.HSPTheorem.html#8755" class="Bound">pKq</a><a id="8806" class="Symbol">))</a>

<a id="8810" class="Keyword">open</a> <a id="8815" href="Algebras.Congruences.html#1106" class="Module">Congruence</a>
<a id="free-quot-subalg-ℭ"></a><a id="8826" href="Birkhoff.HSPTheorem.html#8826" class="Function">free-quot-subalg-ℭ</a> <a id="8845" class="Symbol">:</a> <a id="8847" href="MGS-Basic-UF.html#1929" class="Function">is-set</a> <a id="8854" href="Prelude.Preliminaries.html#12622" class="Function Operator">∣</a> <a id="8856" href="Birkhoff.HSPTheorem.html#4224" class="Function">ℭ</a> <a id="8858" href="Prelude.Preliminaries.html#12622" class="Function Operator">∣</a>
 <a id="8861" class="Symbol">→</a>                   <a id="8881" class="Symbol">(∀</a> <a id="8884" href="Birkhoff.HSPTheorem.html#8884" class="Bound">p</a> <a id="8886" href="Birkhoff.HSPTheorem.html#8886" class="Bound">q</a> <a id="8888" class="Symbol">→</a> <a id="8890" href="MGS-Basic-UF.html#743" class="Function">is-subsingleton</a> <a id="8906" class="Symbol">(</a><a id="8907" href="Algebras.Congruences.html#1200" class="Field Operator">⟨</a> <a id="8909" href="Homomorphisms.Basic.html#6021" class="Function">kercon</a> <a id="8916" href="Birkhoff.HSPTheorem.html#4224" class="Function">ℭ</a> <a id="8918" href="Birkhoff.HSPTheorem.html#4413" class="Function">homℭ</a> <a id="8923" href="Algebras.Congruences.html#1200" class="Field Operator">⟩</a> <a id="8925" href="Birkhoff.HSPTheorem.html#8884" class="Bound">p</a> <a id="8927" href="Birkhoff.HSPTheorem.html#8886" class="Bound">q</a><a id="8928" class="Symbol">))</a>
 <a id="8932" class="Symbol">→</a>                   <a id="8952" class="Symbol">(∀</a> <a id="8955" href="Birkhoff.HSPTheorem.html#8955" class="Bound">C</a> <a id="8957" class="Symbol">→</a> <a id="8959" href="MGS-Basic-UF.html#743" class="Function">is-subsingleton</a> <a id="8975" class="Symbol">(</a><a id="8976" href="Relations.Quotients.html#3255" class="Function">𝒞</a><a id="8977" class="Symbol">{</a><a id="8978" class="Argument">A</a> <a id="8980" class="Symbol">=</a> <a id="8982" href="Prelude.Preliminaries.html#12622" class="Function Operator">∣</a> <a id="8984" href="Terms.Basic.html#3603" class="Function">𝑻</a> <a id="8986" href="Birkhoff.HSPTheorem.html#2645" class="Bound">X</a> <a id="8988" href="Prelude.Preliminaries.html#12622" class="Function Operator">∣</a><a id="8989" class="Symbol">}{</a><a id="8991" href="Algebras.Congruences.html#1200" class="Field Operator">⟨</a> <a id="8993" href="Homomorphisms.Basic.html#6021" class="Function">kercon</a> <a id="9000" href="Birkhoff.HSPTheorem.html#4224" class="Function">ℭ</a> <a id="9002" href="Birkhoff.HSPTheorem.html#4413" class="Function">homℭ</a> <a id="9007" href="Algebras.Congruences.html#1200" class="Field Operator">⟩</a><a id="9008" class="Symbol">}</a> <a id="9010" href="Birkhoff.HSPTheorem.html#8955" class="Bound">C</a><a id="9011" class="Symbol">))</a>
                     <a id="9035" class="Comment">-----------------------------------------------------------</a>
 <a id="9096" class="Symbol">→</a>                   <a id="9116" class="Symbol">((</a><a id="9118" href="Terms.Basic.html#3603" class="Function">𝑻</a> <a id="9120" href="Birkhoff.HSPTheorem.html#2645" class="Bound">X</a><a id="9121" class="Symbol">)</a> <a id="9123" href="Homomorphisms.Basic.html#6416" class="Function Operator">[</a> <a id="9125" href="Birkhoff.HSPTheorem.html#4224" class="Function">ℭ</a> <a id="9127" href="Homomorphisms.Basic.html#6416" class="Function Operator">]/ker</a> <a id="9133" href="Birkhoff.HSPTheorem.html#4413" class="Function">homℭ</a><a id="9137" class="Symbol">)</a> <a id="9139" href="Subalgebras.Subalgebras.html#3589" class="Function Operator">≤</a> <a id="9141" href="Birkhoff.HSPTheorem.html#4224" class="Function">ℭ</a>

<a id="9144" href="Birkhoff.HSPTheorem.html#8826" class="Function">free-quot-subalg-ℭ</a> <a id="9163" href="Birkhoff.HSPTheorem.html#9163" class="Bound">Cset</a> <a id="9168" href="Birkhoff.HSPTheorem.html#9168" class="Bound">ssR</a> <a id="9172" href="Birkhoff.HSPTheorem.html#9172" class="Bound">ssC</a> <a id="9176" class="Symbol">=</a> <a id="9178" href="Subalgebras.Subalgebras.html#2060" class="Function">FirstHomCorollary</a> <a id="9196" class="Symbol">(</a><a id="9197" href="Terms.Basic.html#3603" class="Function">𝑻</a> <a id="9199" href="Birkhoff.HSPTheorem.html#2645" class="Bound">X</a><a id="9200" class="Symbol">)</a> <a id="9202" href="Birkhoff.HSPTheorem.html#4224" class="Function">ℭ</a> <a id="9204" href="Birkhoff.HSPTheorem.html#4413" class="Function">homℭ</a> <a id="9209" href="Birkhoff.HSPTheorem.html#2752" class="Bound">pe&#39;</a> <a id="9213" href="Birkhoff.HSPTheorem.html#9163" class="Bound">Cset</a> <a id="9218" href="Birkhoff.HSPTheorem.html#9168" class="Bound">ssR</a> <a id="9222" href="Birkhoff.HSPTheorem.html#9172" class="Bound">ssC</a>


<a id="9228" class="Keyword">module</a> <a id="9235" href="Birkhoff.HSPTheorem.html#9235" class="Module">_</a> <a id="9237" class="Symbol">(</a><a id="9238" href="Birkhoff.HSPTheorem.html#9238" class="Bound">Cset</a> <a id="9243" class="Symbol">:</a> <a id="9245" href="MGS-Basic-UF.html#1929" class="Function">is-set</a> <a id="9252" href="Prelude.Preliminaries.html#12622" class="Function Operator">∣</a> <a id="9254" href="Birkhoff.HSPTheorem.html#4224" class="Function">ℭ</a> <a id="9256" href="Prelude.Preliminaries.html#12622" class="Function Operator">∣</a><a id="9257" class="Symbol">)</a>
         <a id="9268" class="Symbol">(</a><a id="9269" href="Birkhoff.HSPTheorem.html#9269" class="Bound">ssR</a> <a id="9273" class="Symbol">:</a> <a id="9275" class="Symbol">∀</a> <a id="9277" href="Birkhoff.HSPTheorem.html#9277" class="Bound">p</a> <a id="9279" href="Birkhoff.HSPTheorem.html#9279" class="Bound">q</a> <a id="9281" class="Symbol">→</a> <a id="9283" href="MGS-Basic-UF.html#743" class="Function">is-subsingleton</a> <a id="9299" class="Symbol">(</a><a id="9300" href="Algebras.Congruences.html#1200" class="Field Operator">⟨</a> <a id="9302" href="Homomorphisms.Basic.html#6021" class="Function">kercon</a> <a id="9309" href="Birkhoff.HSPTheorem.html#4224" class="Function">ℭ</a> <a id="9311" href="Birkhoff.HSPTheorem.html#4413" class="Function">homℭ</a> <a id="9316" href="Algebras.Congruences.html#1200" class="Field Operator">⟩</a> <a id="9318" href="Birkhoff.HSPTheorem.html#9277" class="Bound">p</a> <a id="9320" href="Birkhoff.HSPTheorem.html#9279" class="Bound">q</a><a id="9321" class="Symbol">))</a>
         <a id="9333" class="Symbol">(</a><a id="9334" href="Birkhoff.HSPTheorem.html#9334" class="Bound">ssC</a> <a id="9338" class="Symbol">:</a> <a id="9340" class="Symbol">∀</a> <a id="9342" href="Birkhoff.HSPTheorem.html#9342" class="Bound">C</a> <a id="9344" class="Symbol">→</a> <a id="9346" href="MGS-Basic-UF.html#743" class="Function">is-subsingleton</a> <a id="9362" class="Symbol">(</a><a id="9363" href="Relations.Quotients.html#3255" class="Function">𝒞</a><a id="9364" class="Symbol">{</a><a id="9365" class="Argument">A</a> <a id="9367" class="Symbol">=</a> <a id="9369" href="Prelude.Preliminaries.html#12622" class="Function Operator">∣</a> <a id="9371" href="Terms.Basic.html#3603" class="Function">𝑻</a> <a id="9373" href="Birkhoff.HSPTheorem.html#2645" class="Bound">X</a> <a id="9375" href="Prelude.Preliminaries.html#12622" class="Function Operator">∣</a><a id="9376" class="Symbol">}{</a><a id="9378" href="Algebras.Congruences.html#1200" class="Field Operator">⟨</a> <a id="9380" href="Homomorphisms.Basic.html#6021" class="Function">kercon</a> <a id="9387" href="Birkhoff.HSPTheorem.html#4224" class="Function">ℭ</a> <a id="9389" href="Birkhoff.HSPTheorem.html#4413" class="Function">homℭ</a> <a id="9394" href="Algebras.Congruences.html#1200" class="Field Operator">⟩</a><a id="9395" class="Symbol">}</a> <a id="9397" href="Birkhoff.HSPTheorem.html#9342" class="Bound">C</a><a id="9398" class="Symbol">))</a> <a id="9401" class="Keyword">where</a>

 <a id="9409" href="Birkhoff.HSPTheorem.html#9409" class="Function">𝔽≤ℭ</a> <a id="9413" class="Symbol">:</a> <a id="9415" class="Symbol">((</a><a id="9417" href="Terms.Basic.html#3603" class="Function">𝑻</a> <a id="9419" href="Birkhoff.HSPTheorem.html#2645" class="Bound">X</a><a id="9420" class="Symbol">)</a> <a id="9422" href="Homomorphisms.Basic.html#6416" class="Function Operator">[</a> <a id="9424" href="Birkhoff.HSPTheorem.html#4224" class="Function">ℭ</a> <a id="9426" href="Homomorphisms.Basic.html#6416" class="Function Operator">]/ker</a> <a id="9432" href="Birkhoff.HSPTheorem.html#4413" class="Function">homℭ</a><a id="9436" class="Symbol">)</a> <a id="9438" href="Subalgebras.Subalgebras.html#3589" class="Function Operator">≤</a> <a id="9440" href="Birkhoff.HSPTheorem.html#4224" class="Function">ℭ</a>
 <a id="9443" href="Birkhoff.HSPTheorem.html#9409" class="Function">𝔽≤ℭ</a> <a id="9447" class="Symbol">=</a> <a id="9449" href="Birkhoff.HSPTheorem.html#8826" class="Function">free-quot-subalg-ℭ</a> <a id="9468" href="Birkhoff.HSPTheorem.html#9238" class="Bound">Cset</a> <a id="9473" href="Birkhoff.HSPTheorem.html#9269" class="Bound">ssR</a> <a id="9477" href="Birkhoff.HSPTheorem.html#9334" class="Bound">ssC</a>

 <a id="9483" href="Birkhoff.HSPTheorem.html#9483" class="Function">𝕍𝒦</a> <a id="9486" class="Symbol">:</a> <a id="9488" href="Relations.Unary.html#1062" class="Function">Pred</a> <a id="9493" class="Symbol">(</a><a id="9494" href="Algebras.Algebras.html#694" class="Function">Algebra</a> <a id="9502" href="Birkhoff.FreeAlgebra.html#2752" class="Function">𝓸𝓿𝓾+</a> <a id="9507" href="Birkhoff.HSPTheorem.html#2528" class="Bound">𝑆</a><a id="9508" class="Symbol">)</a> <a id="9510" href="Birkhoff.FreeAlgebra.html#2757" class="Function">𝓸𝓿𝓾++</a>
 <a id="9517" href="Birkhoff.HSPTheorem.html#9483" class="Function">𝕍𝒦</a> <a id="9520" class="Symbol">=</a> <a id="9522" href="Varieties.Varieties.html#4593" class="Datatype">V</a><a id="9523" class="Symbol">{</a><a id="9524" href="Birkhoff.HSPTheorem.html#2630" class="Bound">𝓤</a><a id="9525" class="Symbol">}{</a><a id="9527" href="Birkhoff.FreeAlgebra.html#2752" class="Function">𝓸𝓿𝓾+</a><a id="9531" class="Symbol">}</a> <a id="9533" href="Birkhoff.HSPTheorem.html#2656" class="Bound">𝒦</a>

 <a id="9537" href="Birkhoff.HSPTheorem.html#9537" class="Function">𝔽-ModTh-epi</a> <a id="9549" class="Symbol">:</a> <a id="9551" class="Symbol">(</a><a id="9552" href="Birkhoff.HSPTheorem.html#9552" class="Bound">𝑨</a> <a id="9554" class="Symbol">:</a> <a id="9556" href="Algebras.Algebras.html#694" class="Function">Algebra</a> <a id="9564" href="Birkhoff.FreeAlgebra.html#2752" class="Function">𝓸𝓿𝓾+</a> <a id="9569" href="Birkhoff.HSPTheorem.html#2528" class="Bound">𝑆</a><a id="9570" class="Symbol">)</a> <a id="9572" class="Symbol">→</a> <a id="9574" href="Birkhoff.HSPTheorem.html#9552" class="Bound">𝑨</a> <a id="9576" href="Relations.Unary.html#2061" class="Function Operator">∈</a> <a id="9578" href="Varieties.EquationalLogic.html#3946" class="Function">Mod</a> <a id="9582" href="Birkhoff.HSPTheorem.html#2645" class="Bound">X</a> <a id="9584" class="Symbol">(</a><a id="9585" href="Varieties.EquationalLogic.html#3631" class="Function">Th</a> <a id="9588" href="Birkhoff.HSPTheorem.html#9483" class="Function">𝕍𝒦</a><a id="9590" class="Symbol">)</a> <a id="9592" class="Symbol">→</a> <a id="9594" href="Homomorphisms.Basic.html#2951" class="Function">epi</a> <a id="9598" href="Birkhoff.HSPTheorem.html#4857" class="Function">𝔽</a> <a id="9600" href="Birkhoff.HSPTheorem.html#9552" class="Bound">𝑨</a>
 <a id="9603" href="Birkhoff.HSPTheorem.html#9537" class="Function">𝔽-ModTh-epi</a> <a id="9615" href="Birkhoff.HSPTheorem.html#9615" class="Bound">𝑨</a> <a id="9617" href="Birkhoff.HSPTheorem.html#9617" class="Bound">AinMTV</a> <a id="9624" class="Symbol">=</a> <a id="9626" href="Birkhoff.HSPTheorem.html#10377" class="Function">γ</a>
  <a id="9630" class="Keyword">where</a>
   <a id="9639" href="Birkhoff.HSPTheorem.html#9639" class="Function">ϕ</a> <a id="9641" class="Symbol">:</a> <a id="9643" href="Homomorphisms.Basic.html#2268" class="Function">hom</a> <a id="9647" class="Symbol">(</a><a id="9648" href="Terms.Basic.html#3603" class="Function">𝑻</a> <a id="9650" href="Birkhoff.HSPTheorem.html#2645" class="Bound">X</a><a id="9651" class="Symbol">)</a> <a id="9653" href="Birkhoff.HSPTheorem.html#9615" class="Bound">𝑨</a>
   <a id="9658" href="Birkhoff.HSPTheorem.html#9639" class="Function">ϕ</a> <a id="9660" class="Symbol">=</a> <a id="9662" href="Terms.Basic.html#4495" class="Function">lift-hom</a> <a id="9671" href="Birkhoff.HSPTheorem.html#9615" class="Bound">𝑨</a> <a id="9673" class="Symbol">(</a><a id="9674" href="Prelude.Preliminaries.html#12626" class="Function">fst</a><a id="9677" class="Symbol">(</a><a id="9678" href="Birkhoff.HSPTheorem.html#2571" class="Bound">𝕏</a> <a id="9680" href="Birkhoff.HSPTheorem.html#9615" class="Bound">𝑨</a><a id="9681" class="Symbol">))</a>

   <a id="9688" href="Birkhoff.HSPTheorem.html#9688" class="Function">ϕE</a> <a id="9691" class="Symbol">:</a> <a id="9693" href="Prelude.Inverses.html#2322" class="Function">Epic</a> <a id="9698" href="Prelude.Preliminaries.html#12622" class="Function Operator">∣</a> <a id="9700" href="Birkhoff.HSPTheorem.html#9639" class="Function">ϕ</a> <a id="9702" href="Prelude.Preliminaries.html#12622" class="Function Operator">∣</a>
   <a id="9707" href="Birkhoff.HSPTheorem.html#9688" class="Function">ϕE</a> <a id="9710" class="Symbol">=</a> <a id="9712" href="Terms.Basic.html#5688" class="Function">lift-of-epi-is-epi</a> <a id="9731" href="Birkhoff.HSPTheorem.html#9615" class="Bound">𝑨</a> <a id="9733" class="Symbol">(</a><a id="9734" href="Prelude.Preliminaries.html#12626" class="Function">fst</a> <a id="9738" class="Symbol">(</a><a id="9739" href="Birkhoff.HSPTheorem.html#2571" class="Bound">𝕏</a> <a id="9741" href="Birkhoff.HSPTheorem.html#9615" class="Bound">𝑨</a><a id="9742" class="Symbol">))</a> <a id="9745" class="Symbol">(</a><a id="9746" href="Prelude.Preliminaries.html#12704" class="Function">snd</a> <a id="9750" class="Symbol">(</a><a id="9751" href="Birkhoff.HSPTheorem.html#2571" class="Bound">𝕏</a> <a id="9753" href="Birkhoff.HSPTheorem.html#9615" class="Bound">𝑨</a><a id="9754" class="Symbol">))</a>

   <a id="9761" href="Birkhoff.HSPTheorem.html#9761" class="Function">pqlem2</a> <a id="9768" class="Symbol">:</a> <a id="9770" class="Symbol">∀</a> <a id="9772" href="Birkhoff.HSPTheorem.html#9772" class="Bound">p</a> <a id="9774" href="Birkhoff.HSPTheorem.html#9774" class="Bound">q</a> <a id="9776" class="Symbol">→</a> <a id="9778" class="Symbol">(</a><a id="9779" href="Birkhoff.HSPTheorem.html#9772" class="Bound">p</a> <a id="9781" href="Prelude.Equality.html#493" class="InductiveConstructor Operator">,</a> <a id="9783" href="Birkhoff.HSPTheorem.html#9774" class="Bound">q</a><a id="9784" class="Symbol">)</a> <a id="9786" href="Relations.Unary.html#2061" class="Function Operator">∈</a> <a id="9788" href="Relations.Binary.html#1297" class="Function">KER-pred</a> <a id="9797" href="Prelude.Preliminaries.html#12622" class="Function Operator">∣</a> <a id="9799" href="Birkhoff.HSPTheorem.html#4941" class="Function">hom𝔽</a> <a id="9804" href="Prelude.Preliminaries.html#12622" class="Function Operator">∣</a> <a id="9806" class="Symbol">→</a> <a id="9808" href="Birkhoff.HSPTheorem.html#9615" class="Bound">𝑨</a> <a id="9810" href="Varieties.EquationalLogic.html#2615" class="Function Operator">⊧</a> <a id="9812" href="Birkhoff.HSPTheorem.html#9772" class="Bound">p</a> <a id="9814" href="Varieties.EquationalLogic.html#2615" class="Function Operator">≈</a> <a id="9816" href="Birkhoff.HSPTheorem.html#9774" class="Bound">q</a>
   <a id="9821" href="Birkhoff.HSPTheorem.html#9761" class="Function">pqlem2</a> <a id="9828" href="Birkhoff.HSPTheorem.html#9828" class="Bound">p</a> <a id="9830" href="Birkhoff.HSPTheorem.html#9830" class="Bound">q</a> <a id="9832" href="Birkhoff.HSPTheorem.html#9832" class="Bound">hyp</a> <a id="9836" class="Symbol">=</a> <a id="9838" href="Birkhoff.HSPTheorem.html#9617" class="Bound">AinMTV</a> <a id="9845" href="Birkhoff.HSPTheorem.html#9828" class="Bound">p</a> <a id="9847" href="Birkhoff.HSPTheorem.html#9830" class="Bound">q</a> <a id="9849" class="Symbol">(</a><a id="9850" href="Birkhoff.HSPTheorem.html#8682" class="Function">kernel-in-theory</a> <a id="9867" href="Birkhoff.HSPTheorem.html#9832" class="Bound">hyp</a><a id="9870" class="Symbol">)</a>

   <a id="9876" href="Birkhoff.HSPTheorem.html#9876" class="Function">kerincl</a> <a id="9884" class="Symbol">:</a> <a id="9886" href="Relations.Binary.html#1297" class="Function">KER-pred</a> <a id="9895" href="Prelude.Preliminaries.html#12622" class="Function Operator">∣</a> <a id="9897" href="Birkhoff.HSPTheorem.html#4941" class="Function">hom𝔽</a> <a id="9902" href="Prelude.Preliminaries.html#12622" class="Function Operator">∣</a> <a id="9904" href="Relations.Unary.html#2383" class="Function Operator">⊆</a> <a id="9906" href="Relations.Binary.html#1297" class="Function">KER-pred</a> <a id="9915" href="Prelude.Preliminaries.html#12622" class="Function Operator">∣</a> <a id="9917" href="Birkhoff.HSPTheorem.html#9639" class="Function">ϕ</a> <a id="9919" href="Prelude.Preliminaries.html#12622" class="Function Operator">∣</a>
   <a id="9924" href="Birkhoff.HSPTheorem.html#9876" class="Function">kerincl</a> <a id="9932" class="Symbol">{</a><a id="9933" href="Birkhoff.HSPTheorem.html#9933" class="Bound">p</a> <a id="9935" href="Prelude.Equality.html#493" class="InductiveConstructor Operator">,</a> <a id="9937" href="Birkhoff.HSPTheorem.html#9937" class="Bound">q</a><a id="9938" class="Symbol">}</a> <a id="9940" href="Birkhoff.HSPTheorem.html#9940" class="Bound">x</a> <a id="9942" class="Symbol">=</a> <a id="9944" href="Birkhoff.HSPTheorem.html#10006" class="Function">γ</a>
    <a id="9950" class="Keyword">where</a>
     <a id="9961" href="Birkhoff.HSPTheorem.html#9961" class="Function">Apq</a> <a id="9965" class="Symbol">:</a> <a id="9967" href="Birkhoff.HSPTheorem.html#9615" class="Bound">𝑨</a> <a id="9969" href="Varieties.EquationalLogic.html#2615" class="Function Operator">⊧</a> <a id="9971" href="Birkhoff.HSPTheorem.html#9933" class="Bound">p</a> <a id="9973" href="Varieties.EquationalLogic.html#2615" class="Function Operator">≈</a> <a id="9975" href="Birkhoff.HSPTheorem.html#9937" class="Bound">q</a>
     <a id="9982" href="Birkhoff.HSPTheorem.html#9961" class="Function">Apq</a> <a id="9986" class="Symbol">=</a> <a id="9988" href="Birkhoff.HSPTheorem.html#9761" class="Function">pqlem2</a> <a id="9995" href="Birkhoff.HSPTheorem.html#9933" class="Bound">p</a> <a id="9997" href="Birkhoff.HSPTheorem.html#9937" class="Bound">q</a> <a id="9999" href="Birkhoff.HSPTheorem.html#9940" class="Bound">x</a>
     <a id="10006" href="Birkhoff.HSPTheorem.html#10006" class="Function">γ</a> <a id="10008" class="Symbol">:</a> <a id="10010" href="Prelude.Preliminaries.html#12622" class="Function Operator">∣</a> <a id="10012" href="Birkhoff.HSPTheorem.html#9639" class="Function">ϕ</a> <a id="10014" href="Prelude.Preliminaries.html#12622" class="Function Operator">∣</a> <a id="10016" href="Birkhoff.HSPTheorem.html#9933" class="Bound">p</a> <a id="10018" href="Prelude.Inverses.html#560" class="Datatype Operator">≡</a> <a id="10020" href="Prelude.Preliminaries.html#12622" class="Function Operator">∣</a> <a id="10022" href="Birkhoff.HSPTheorem.html#9639" class="Function">ϕ</a> <a id="10024" href="Prelude.Preliminaries.html#12622" class="Function Operator">∣</a> <a id="10026" href="Birkhoff.HSPTheorem.html#9937" class="Bound">q</a>
     <a id="10033" href="Birkhoff.HSPTheorem.html#10006" class="Function">γ</a> <a id="10035" class="Symbol">=</a> <a id="10037" href="Prelude.Preliminaries.html#12622" class="Function Operator">∣</a> <a id="10039" href="Birkhoff.HSPTheorem.html#9639" class="Function">ϕ</a> <a id="10041" href="Prelude.Preliminaries.html#12622" class="Function Operator">∣</a> <a id="10043" href="Birkhoff.HSPTheorem.html#9933" class="Bound">p</a>                    <a id="10064" href="MGS-MLTT.html#5997" class="Function Operator">≡⟨</a> <a id="10067" href="Prelude.Inverses.html#574" class="InductiveConstructor">𝓇ℯ𝒻𝓁</a> <a id="10072" href="MGS-MLTT.html#5997" class="Function Operator">⟩</a>
         <a id="10083" href="Terms.Basic.html#4221" class="Function">free-lift</a> <a id="10093" href="Birkhoff.HSPTheorem.html#9615" class="Bound">𝑨</a> <a id="10095" class="Symbol">(</a><a id="10096" href="Prelude.Preliminaries.html#12626" class="Function">fst</a><a id="10099" class="Symbol">(</a><a id="10100" href="Birkhoff.HSPTheorem.html#2571" class="Bound">𝕏</a> <a id="10102" href="Birkhoff.HSPTheorem.html#9615" class="Bound">𝑨</a><a id="10103" class="Symbol">))</a> <a id="10106" href="Birkhoff.HSPTheorem.html#9933" class="Bound">p</a> <a id="10108" href="MGS-MLTT.html#5997" class="Function Operator">≡⟨</a> <a id="10111" class="Symbol">(</a><a id="10112" href="Terms.Operations.html#1978" class="Function">free-lift-interp</a> <a id="10129" href="Birkhoff.HSPTheorem.html#9615" class="Bound">𝑨</a> <a id="10131" class="Symbol">(</a><a id="10132" href="Prelude.Preliminaries.html#12626" class="Function">fst</a><a id="10135" class="Symbol">(</a><a id="10136" href="Birkhoff.HSPTheorem.html#2571" class="Bound">𝕏</a> <a id="10138" href="Birkhoff.HSPTheorem.html#9615" class="Bound">𝑨</a><a id="10139" class="Symbol">))</a> <a id="10142" href="Birkhoff.HSPTheorem.html#9933" class="Bound">p</a><a id="10143" class="Symbol">)</a><a id="10144" href="MGS-MLTT.html#6125" class="Function Operator">⁻¹</a> <a id="10147" href="MGS-MLTT.html#5997" class="Function Operator">⟩</a>
         <a id="10158" class="Symbol">(</a><a id="10159" href="Birkhoff.HSPTheorem.html#9933" class="Bound">p</a> <a id="10161" href="Terms.Operations.html#1695" class="Function Operator">̇</a> <a id="10163" href="Birkhoff.HSPTheorem.html#9615" class="Bound">𝑨</a><a id="10164" class="Symbol">)</a> <a id="10166" class="Symbol">(</a><a id="10167" href="Prelude.Preliminaries.html#12626" class="Function">fst</a><a id="10170" class="Symbol">(</a><a id="10171" href="Birkhoff.HSPTheorem.html#2571" class="Bound">𝕏</a> <a id="10173" href="Birkhoff.HSPTheorem.html#9615" class="Bound">𝑨</a><a id="10174" class="Symbol">))</a>       <a id="10183" href="MGS-MLTT.html#5997" class="Function Operator">≡⟨</a> <a id="10186" href="Prelude.Extensionality.html#6407" class="Function">extfun</a> <a id="10193" class="Symbol">(</a><a id="10194" href="Birkhoff.HSPTheorem.html#9761" class="Function">pqlem2</a> <a id="10201" href="Birkhoff.HSPTheorem.html#9933" class="Bound">p</a> <a id="10203" href="Birkhoff.HSPTheorem.html#9937" class="Bound">q</a> <a id="10205" href="Birkhoff.HSPTheorem.html#9940" class="Bound">x</a><a id="10206" class="Symbol">)</a> <a id="10208" class="Symbol">(</a><a id="10209" href="Prelude.Preliminaries.html#12626" class="Function">fst</a><a id="10212" class="Symbol">(</a><a id="10213" href="Birkhoff.HSPTheorem.html#2571" class="Bound">𝕏</a> <a id="10215" href="Birkhoff.HSPTheorem.html#9615" class="Bound">𝑨</a><a id="10216" class="Symbol">))</a>  <a id="10220" href="MGS-MLTT.html#5997" class="Function Operator">⟩</a>
         <a id="10231" class="Symbol">(</a><a id="10232" href="Birkhoff.HSPTheorem.html#9937" class="Bound">q</a> <a id="10234" href="Terms.Operations.html#1695" class="Function Operator">̇</a> <a id="10236" href="Birkhoff.HSPTheorem.html#9615" class="Bound">𝑨</a><a id="10237" class="Symbol">)</a> <a id="10239" class="Symbol">(</a><a id="10240" href="Prelude.Preliminaries.html#12626" class="Function">fst</a><a id="10243" class="Symbol">(</a><a id="10244" href="Birkhoff.HSPTheorem.html#2571" class="Bound">𝕏</a> <a id="10246" href="Birkhoff.HSPTheorem.html#9615" class="Bound">𝑨</a><a id="10247" class="Symbol">))</a>       <a id="10256" href="MGS-MLTT.html#5997" class="Function Operator">≡⟨</a> <a id="10259" href="Terms.Operations.html#1978" class="Function">free-lift-interp</a> <a id="10276" href="Birkhoff.HSPTheorem.html#9615" class="Bound">𝑨</a> <a id="10278" class="Symbol">(</a><a id="10279" href="Prelude.Preliminaries.html#12626" class="Function">fst</a><a id="10282" class="Symbol">(</a><a id="10283" href="Birkhoff.HSPTheorem.html#2571" class="Bound">𝕏</a> <a id="10285" href="Birkhoff.HSPTheorem.html#9615" class="Bound">𝑨</a><a id="10286" class="Symbol">))</a> <a id="10289" href="Birkhoff.HSPTheorem.html#9937" class="Bound">q</a> <a id="10291" href="MGS-MLTT.html#5997" class="Function Operator">⟩</a>
         <a id="10302" href="Terms.Basic.html#4221" class="Function">free-lift</a> <a id="10312" href="Birkhoff.HSPTheorem.html#9615" class="Bound">𝑨</a> <a id="10314" class="Symbol">(</a><a id="10315" href="Prelude.Preliminaries.html#12626" class="Function">fst</a><a id="10318" class="Symbol">(</a><a id="10319" href="Birkhoff.HSPTheorem.html#2571" class="Bound">𝕏</a> <a id="10321" href="Birkhoff.HSPTheorem.html#9615" class="Bound">𝑨</a><a id="10322" class="Symbol">))</a> <a id="10325" href="Birkhoff.HSPTheorem.html#9937" class="Bound">q</a> <a id="10327" href="MGS-MLTT.html#5997" class="Function Operator">≡⟨</a> <a id="10330" href="Prelude.Inverses.html#574" class="InductiveConstructor">𝓇ℯ𝒻𝓁</a> <a id="10335" href="MGS-MLTT.html#5997" class="Function Operator">⟩</a>
         <a id="10346" href="Prelude.Preliminaries.html#12622" class="Function Operator">∣</a> <a id="10348" href="Birkhoff.HSPTheorem.html#9639" class="Function">ϕ</a> <a id="10350" href="Prelude.Preliminaries.html#12622" class="Function Operator">∣</a> <a id="10352" href="Birkhoff.HSPTheorem.html#9937" class="Bound">q</a>                  <a id="10371" href="MGS-MLTT.html#6079" class="Function Operator">∎</a>

   <a id="10377" href="Birkhoff.HSPTheorem.html#10377" class="Function">γ</a> <a id="10379" class="Symbol">:</a> <a id="10381" href="Homomorphisms.Basic.html#2951" class="Function">epi</a> <a id="10385" href="Birkhoff.HSPTheorem.html#4857" class="Function">𝔽</a> <a id="10387" href="Birkhoff.HSPTheorem.html#9615" class="Bound">𝑨</a>
   <a id="10392" href="Birkhoff.HSPTheorem.html#10377" class="Function">γ</a> <a id="10394" class="Symbol">=</a> <a id="10396" href="Prelude.Preliminaries.html#12626" class="Function">fst</a> <a id="10400" class="Symbol">(</a><a id="10401" href="Homomorphisms.Noether.html#9914" class="Function">HomFactorEpi</a> <a id="10414" class="Symbol">(</a><a id="10415" href="Terms.Basic.html#3603" class="Function">𝑻</a> <a id="10417" href="Birkhoff.HSPTheorem.html#2645" class="Bound">X</a><a id="10418" class="Symbol">){</a><a id="10420" href="Birkhoff.HSPTheorem.html#9615" class="Bound">𝑨</a><a id="10421" class="Symbol">}{</a><a id="10423" href="Birkhoff.HSPTheorem.html#4857" class="Function">𝔽</a><a id="10424" class="Symbol">}</a> <a id="10426" href="Birkhoff.HSPTheorem.html#9639" class="Function">ϕ</a> <a id="10428" href="Birkhoff.HSPTheorem.html#9688" class="Function">ϕE</a> <a id="10431" href="Birkhoff.HSPTheorem.html#4941" class="Function">hom𝔽</a> <a id="10436" href="Birkhoff.HSPTheorem.html#4986" class="Function">hom𝔽-is-epic</a>  <a id="10450" href="Birkhoff.HSPTheorem.html#9876" class="Function">kerincl</a><a id="10457" class="Symbol">)</a>


</pre>

#### <a id="F-in-VK">𝔽 ∈ V(𝒦)</a>

With this result in hand, along with what we proved earlier---namely, PS(𝒦) ⊆ SP(𝒦) ⊆ HSP(𝒦) ≡ V 𝒦---it is not hard to show that 𝔽 belongs to V 𝒦.

<pre class="Agda">

 <a id="10671" href="Birkhoff.HSPTheorem.html#10671" class="Function">𝔽∈SP</a> <a id="10676" class="Symbol">:</a> <a id="10678" href="Birkhoff.HSPTheorem.html#4857" class="Function">𝔽</a> <a id="10680" href="Relations.Unary.html#2061" class="Function Operator">∈</a> <a id="10682" class="Symbol">(</a><a id="10683" href="Varieties.Varieties.html#2944" class="Datatype">S</a><a id="10684" class="Symbol">{</a><a id="10685" href="Birkhoff.FreeAlgebra.html#2748" class="Function">𝓸𝓿𝓾</a><a id="10688" class="Symbol">}{</a><a id="10690" href="Birkhoff.FreeAlgebra.html#2752" class="Function">𝓸𝓿𝓾+</a><a id="10694" class="Symbol">}</a> <a id="10696" class="Symbol">(</a><a id="10697" href="Varieties.Varieties.html#3644" class="Datatype">P</a><a id="10698" class="Symbol">{</a><a id="10699" href="Birkhoff.HSPTheorem.html#2630" class="Bound">𝓤</a><a id="10700" class="Symbol">}{</a><a id="10702" href="Birkhoff.FreeAlgebra.html#2748" class="Function">𝓸𝓿𝓾</a><a id="10705" class="Symbol">}</a> <a id="10707" href="Birkhoff.HSPTheorem.html#2656" class="Bound">𝒦</a><a id="10708" class="Symbol">))</a>
 <a id="10712" href="Birkhoff.HSPTheorem.html#10671" class="Function">𝔽∈SP</a> <a id="10717" class="Symbol">=</a> <a id="10719" href="Varieties.Varieties.html#3164" class="InductiveConstructor">ssub</a> <a id="10724" class="Symbol">(</a><a id="10725" href="Varieties.Varieties.html#20265" class="Function">class-prod-s-∈-sp</a> <a id="10743" href="Birkhoff.HSPTheorem.html#2786" class="Bound">hfe</a><a id="10746" class="Symbol">)</a> <a id="10748" href="Birkhoff.HSPTheorem.html#9409" class="Function">𝔽≤ℭ</a>

 <a id="10754" href="Birkhoff.HSPTheorem.html#10754" class="Function">𝔽∈𝕍</a> <a id="10758" class="Symbol">:</a> <a id="10760" href="Birkhoff.HSPTheorem.html#4857" class="Function">𝔽</a> <a id="10762" href="Relations.Unary.html#2061" class="Function Operator">∈</a> <a id="10764" href="Varieties.Varieties.html#4593" class="Datatype">V</a> <a id="10766" href="Birkhoff.HSPTheorem.html#2656" class="Bound">𝒦</a>
 <a id="10769" href="Birkhoff.HSPTheorem.html#10754" class="Function">𝔽∈𝕍</a> <a id="10773" class="Symbol">=</a> <a id="10775" href="Varieties.Varieties.html#18488" class="Function">SP⊆V&#39;</a> <a id="10781" href="Birkhoff.HSPTheorem.html#10671" class="Function">𝔽∈SP</a>

</pre>

#### <a id="the-hsp-theorem"> The HSP Theorem</a>

Now that we have all of the necessary ingredients, it is all but trivial to combine them to prove Birkhoff's HSP theorem.

<pre class="Agda">

 <a id="10988" href="Birkhoff.HSPTheorem.html#10988" class="Function">birkhoff</a> <a id="10997" class="Symbol">:</a> <a id="10999" href="Varieties.EquationalLogic.html#3946" class="Function">Mod</a> <a id="11003" href="Birkhoff.HSPTheorem.html#2645" class="Bound">X</a> <a id="11005" class="Symbol">(</a><a id="11006" href="Varieties.EquationalLogic.html#3631" class="Function">Th</a> <a id="11009" class="Symbol">(</a><a id="11010" href="Varieties.Varieties.html#4593" class="Datatype">V</a> <a id="11012" href="Birkhoff.HSPTheorem.html#2656" class="Bound">𝒦</a><a id="11013" class="Symbol">))</a> <a id="11016" href="Relations.Unary.html#2383" class="Function Operator">⊆</a> <a id="11018" href="Varieties.Varieties.html#4593" class="Datatype">V</a> <a id="11020" href="Birkhoff.HSPTheorem.html#2656" class="Bound">𝒦</a>

 <a id="11024" href="Birkhoff.HSPTheorem.html#10988" class="Function">birkhoff</a> <a id="11033" class="Symbol">{</a><a id="11034" href="Birkhoff.HSPTheorem.html#11034" class="Bound">𝑨</a><a id="11035" class="Symbol">}</a> <a id="11037" href="Birkhoff.HSPTheorem.html#11037" class="Bound">α</a> <a id="11039" class="Symbol">=</a> <a id="11041" href="Birkhoff.HSPTheorem.html#11054" class="Function">γ</a>
  <a id="11045" class="Keyword">where</a>
   <a id="11054" href="Birkhoff.HSPTheorem.html#11054" class="Function">γ</a> <a id="11056" class="Symbol">:</a> <a id="11058" href="Birkhoff.HSPTheorem.html#11034" class="Bound">𝑨</a> <a id="11060" href="Relations.Unary.html#2061" class="Function Operator">∈</a> <a id="11062" class="Symbol">(</a><a id="11063" href="Varieties.Varieties.html#4593" class="Datatype">V</a> <a id="11065" href="Birkhoff.HSPTheorem.html#2656" class="Bound">𝒦</a><a id="11066" class="Symbol">)</a>
   <a id="11071" href="Birkhoff.HSPTheorem.html#11054" class="Function">γ</a> <a id="11073" class="Symbol">=</a> <a id="11075" href="Varieties.Varieties.html#4885" class="InductiveConstructor">vhimg</a> <a id="11081" href="Birkhoff.HSPTheorem.html#10754" class="Function">𝔽∈𝕍</a> <a id="11085" class="Symbol">((</a><a id="11087" href="Birkhoff.HSPTheorem.html#11034" class="Bound">𝑨</a> <a id="11089" href="Prelude.Equality.html#493" class="InductiveConstructor Operator">,</a> <a id="11091" href="Birkhoff.HSPTheorem.html#9537" class="Function">𝔽-ModTh-epi</a> <a id="11103" href="Birkhoff.HSPTheorem.html#11034" class="Bound">𝑨</a> <a id="11105" href="Birkhoff.HSPTheorem.html#11037" class="Bound">α</a> <a id="11107" class="Symbol">)</a> <a id="11109" href="Prelude.Equality.html#493" class="InductiveConstructor Operator">,</a> <a id="11111" href="Homomorphisms.Isomorphisms.html#2876" class="Function">refl-≅</a><a id="11117" class="Symbol">)</a>

</pre>

The converse inclusion, `V 𝒦 ⊆ Mod X (Th (V 𝒦))`, is a simple consequence of the fact that `Mod Th` is a closure operator. Nonetheless, completeness demands that we formalize this inclusion as well, however trivial the proof.

<pre class="Agda">

 <a id="11374" href="Birkhoff.HSPTheorem.html#11374" class="Function">birkhoff&#39;</a> <a id="11384" class="Symbol">:</a> <a id="11386" href="Varieties.Varieties.html#4593" class="Datatype">V</a><a id="11387" class="Symbol">{</a><a id="11388" href="Birkhoff.HSPTheorem.html#2630" class="Bound">𝓤</a><a id="11389" class="Symbol">}{</a><a id="11391" href="Birkhoff.FreeAlgebra.html#2748" class="Function">𝓸𝓿𝓾</a><a id="11394" class="Symbol">}</a> <a id="11396" href="Birkhoff.HSPTheorem.html#2656" class="Bound">𝒦</a> <a id="11398" href="Relations.Unary.html#2383" class="Function Operator">⊆</a> <a id="11400" href="Varieties.EquationalLogic.html#3946" class="Function">Mod</a> <a id="11404" href="Birkhoff.HSPTheorem.html#2645" class="Bound">X</a> <a id="11406" class="Symbol">(</a><a id="11407" href="Varieties.EquationalLogic.html#3631" class="Function">Th</a> <a id="11410" class="Symbol">(</a><a id="11411" href="Varieties.Varieties.html#4593" class="Datatype">V</a> <a id="11413" href="Birkhoff.HSPTheorem.html#2656" class="Bound">𝒦</a><a id="11414" class="Symbol">))</a>

 <a id="11419" href="Birkhoff.HSPTheorem.html#11374" class="Function">birkhoff&#39;</a> <a id="11429" class="Symbol">{</a><a id="11430" href="Birkhoff.HSPTheorem.html#11430" class="Bound">𝑨</a><a id="11431" class="Symbol">}</a> <a id="11433" href="Birkhoff.HSPTheorem.html#11433" class="Bound">α</a> <a id="11435" href="Birkhoff.HSPTheorem.html#11435" class="Bound">p</a> <a id="11437" href="Birkhoff.HSPTheorem.html#11437" class="Bound">q</a> <a id="11439" href="Birkhoff.HSPTheorem.html#11439" class="Bound">pThq</a> <a id="11444" class="Symbol">=</a> <a id="11446" href="Birkhoff.HSPTheorem.html#11439" class="Bound">pThq</a> <a id="11451" href="Birkhoff.HSPTheorem.html#11433" class="Bound">α</a>

</pre>

We have thus proved that every variety is an equational class.  Readers familiar with the classical formulation of the Birkhoff HSP theorem, as an "if and only if" result, might worry that we haven't completed the proof.  But recall that in the [Varieties.Preservation][] module we proved the following identity preservation lemmas:

* [(H-id1)](https://ualib.gitlab.io/UALib.Varieties.Preservation.html#964) 𝒦 ⊧ p ≋ q → H 𝒦 ⊧ p ≋ q
* [(S-id1)](https://ualib.gitlab.io/UALib.Varieties.Preservation.html#2592) 𝒦 ⊧ p ≋ q → S 𝒦 ⊧ p ≋ q
* [(P-id1)](https://ualib.gitlab.io/UALib.Varieties.Preservation.html#4111) 𝒦 ⊧ p ≋ q → P 𝒦 ⊧ p ≋ q

From these it follows that every equational class is a variety. Thus, our formal proof of Birkhoff's theorem is complete.

----------------------------

<sup>1</sup> In the previous version of the [UALib][] this module was called HSPLemmas and the Birkhoff HSP theorem was in a separate module, while in the current version these are in the new HSPTheorem module.

<sup>2</sup> It might be an instructive exercise to prove that 𝔽 is, in fact, isomorphic to the free algebra 𝔉 that we defined in the [Birkhoff.FreeAlgebra][] module.


[← Birkhoff.FreeAlgebra](Birkhoff.FreeAlgebra.html)
<span style="float:right;">[Birkhoff ↑](Birkhoff.html)</span>

{% include UALib.Links.md %}

