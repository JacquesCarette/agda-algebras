---
layout: default
title : Birkhoff.HSPTheorem (The Agda Universal Algebra Library)
date : 2021-02-02
author: William DeMeo
---

### <a id="hsp-theorem">HSP Theorem</a>

This section presents the [Birkhoff.HSPTheorem][] module of the [Agda Universal Algebra Library][].<sup>[1](Birkhoff.HSPTheorem.html#fn1)</sup>

To complete the proof of Birkhoff's HSP theorem, it remains to show that every algebra 𝑨 that belongs to `Mod X (Th (V 𝒦))`---i.e., every algebra that models the equations in `Th (V 𝒦)`---belongs to `V 𝒦`.  This will prove that `V 𝒦` is an equational class.  (The converse, that every equational class is a variety was already proved; see the remarks at the end of this module.)

We accomplish this goal by constructing an algebra `𝔽` with the following properties:

1. `𝔽 ∈ V 𝒦` and

2. Every `𝑨 ∈ Mod X (Th (V 𝒦))` is a homomorphic image of `𝔽`.

(In earlier versions of the [Agda UALib][], the free algebra 𝔉 developed in the [Birkhoff.FreeAlgebra][] section played the role of the algebra 𝔽 with properties 1 and 2.  However, we found a more direct path to the proof using the algebra `𝔽 := (𝑻 X) [ ℭ ]/ker homℭ`.)

We denote by ℭ the product of all subalgebras of algebras in 𝒦, and by `homℭ` the homomorphism from `𝑻 X` to `ℭ` defined as follows:

`homℭ := ⨅-hom-co (𝑻 X) 𝔄s hom𝔄`.

Here, `⨅-hom-co` (defined in [Homomorphisms.Basic](Homomorphisms.Basic.html#product-homomorphisms)) takes the term algebra `𝑻 X`, a family `{𝔄s : I → Algebra 𝓤 𝑆}` of 𝑆-algebras, and a family `hom𝔄 : ∀ i → hom (𝑻 X) (𝔄s i)` of homomorphisms and constructs the natural homomorphism `homℭ` from `𝑻 X` to the product `ℭ := ⨅ 𝔄`.  The homomorphism `homℭ : hom (𝑻 X) (⨅ ℭ)` is natural in the sense that the `i`-th component of the image of `𝑡 : Term X` under `homℭ` is the image `∣ hom𝔄 i ∣ 𝑡` of 𝑡 under the i-th homomorphism `hom𝔄 i`.

<pre class="Agda">

<a id="1853" class="Symbol">{-#</a> <a id="1857" class="Keyword">OPTIONS</a> <a id="1865" class="Pragma">--without-K</a> <a id="1877" class="Pragma">--exact-split</a> <a id="1891" class="Pragma">--safe</a> <a id="1898" class="Symbol">#-}</a>

<a id="1903" class="Keyword">open</a> <a id="1908" class="Keyword">import</a> <a id="1915" href="Algebras.Algebras.html" class="Module">Algebras.Algebras</a> <a id="1933" class="Keyword">using</a> <a id="1939" class="Symbol">(</a><a id="1940" href="Algebras.Signatures.html#1299" class="Function">Signature</a><a id="1949" class="Symbol">;</a> <a id="1951" href="universes.html#613" class="Generalizable">𝓞</a><a id="1952" class="Symbol">;</a> <a id="1954" href="universes.html#617" class="Generalizable">𝓥</a><a id="1955" class="Symbol">;</a> <a id="1957" href="Algebras.Algebras.html#694" class="Function">Algebra</a><a id="1964" class="Symbol">;</a> <a id="1966" href="Algebras.Algebras.html#3395" class="Function Operator">_↠_</a><a id="1969" class="Symbol">)</a>
<a id="1971" class="Keyword">open</a> <a id="1976" class="Keyword">import</a> <a id="1983" href="MGS-Subsingleton-Theorems.html" class="Module">MGS-Subsingleton-Theorems</a> <a id="2009" class="Keyword">using</a> <a id="2015" class="Symbol">(</a><a id="2016" href="MGS-Subsingleton-Theorems.html#3468" class="Function">global-dfunext</a><a id="2030" class="Symbol">)</a>
<a id="2032" class="Keyword">open</a> <a id="2037" class="Keyword">import</a> <a id="2044" href="universes.html" class="Module">universes</a>
<a id="2054" class="Keyword">open</a> <a id="2059" class="Keyword">import</a> <a id="2066" href="Relations.Unary.html" class="Module">Relations.Unary</a> <a id="2082" class="Keyword">using</a> <a id="2088" class="Symbol">(</a><a id="2089" href="Relations.Unary.html#1062" class="Function">Pred</a><a id="2093" class="Symbol">)</a>
<a id="2095" class="Keyword">open</a> <a id="2100" class="Keyword">import</a> <a id="2107" href="MGS-Powerset.html" class="Module">MGS-Powerset</a> <a id="2120" class="Comment">-- renaming (_∈_ to _∈₀_; _⊆_ to _⊆₀_; ∈-is-subsingleton to ∈₀-is-subsingleton)</a>
 <a id="2201" class="Keyword">using</a> <a id="2207" class="Symbol">(</a><a id="2208" href="MGS-Powerset.html#382" class="Function">propext</a><a id="2215" class="Symbol">;</a> <a id="2217" href="MGS-FunExt-from-Univalence.html#2235" class="Function">hfunext</a><a id="2224" class="Symbol">)</a>

<a id="2227" class="Comment">-- open import Prelude.Preliminaries using (global-dfunext; Universe; _̇; _⊔_; _⁺; propext; hfunext)</a>

</pre>

Unlike previous modules, in this module we fix `𝓤`, `X`, and `𝒦` in advance. We also assume 𝕏, which supplies, for each algebra `𝑨`, a surjective map ∣ 𝕏 𝑨 ∣ from `X` onto 𝑨.

<pre class="Agda">

<a id="2531" class="Keyword">module</a> <a id="2538" href="Birkhoff.HSPTheorem.html" class="Module">Birkhoff.HSPTheorem</a>
 <a id="2559" class="Symbol">{</a><a id="2560" href="Birkhoff.HSPTheorem.html#2560" class="Bound">𝑆</a> <a id="2562" class="Symbol">:</a> <a id="2564" href="Algebras.Signatures.html#1299" class="Function">Signature</a> <a id="2574" href="universes.html#613" class="Generalizable">𝓞</a> <a id="2576" href="universes.html#617" class="Generalizable">𝓥</a><a id="2577" class="Symbol">}{</a><a id="2579" href="Birkhoff.HSPTheorem.html#2579" class="Bound">gfe</a> <a id="2583" class="Symbol">:</a> <a id="2585" href="MGS-Subsingleton-Theorems.html#3468" class="Function">global-dfunext</a><a id="2599" class="Symbol">}</a>
 <a id="2602" class="Symbol">{</a><a id="2603" href="Birkhoff.HSPTheorem.html#2603" class="Bound">𝕏</a> <a id="2605" class="Symbol">:</a> <a id="2607" class="Symbol">{</a><a id="2608" href="Birkhoff.HSPTheorem.html#2608" class="Bound">𝓤</a> <a id="2610" href="Birkhoff.HSPTheorem.html#2610" class="Bound">𝓧</a> <a id="2612" class="Symbol">:</a> <a id="2614" href="universes.html#551" class="Postulate">Universe</a><a id="2622" class="Symbol">}{</a><a id="2624" href="Birkhoff.HSPTheorem.html#2624" class="Bound">X</a> <a id="2626" class="Symbol">:</a> <a id="2628" href="Birkhoff.HSPTheorem.html#2610" class="Bound">𝓧</a> <a id="2630" href="universes.html#758" class="Function Operator">̇</a> <a id="2632" class="Symbol">}(</a><a id="2634" href="Birkhoff.HSPTheorem.html#2634" class="Bound">𝑨</a> <a id="2636" class="Symbol">:</a> <a id="2638" href="Algebras.Algebras.html#694" class="Function">Algebra</a> <a id="2646" href="Birkhoff.HSPTheorem.html#2608" class="Bound">𝓤</a> <a id="2648" href="Birkhoff.HSPTheorem.html#2560" class="Bound">𝑆</a><a id="2649" class="Symbol">)</a> <a id="2651" class="Symbol">→</a> <a id="2653" href="Birkhoff.HSPTheorem.html#2624" class="Bound">X</a> <a id="2655" href="Algebras.Algebras.html#3395" class="Function Operator">↠</a> <a id="2657" href="Birkhoff.HSPTheorem.html#2634" class="Bound">𝑨</a><a id="2658" class="Symbol">}</a>
 <a id="2661" class="Symbol">{</a><a id="2662" href="Birkhoff.HSPTheorem.html#2662" class="Bound">𝓤</a> <a id="2664" class="Symbol">:</a> <a id="2666" href="universes.html#551" class="Postulate">Universe</a><a id="2674" class="Symbol">}</a> <a id="2676" class="Symbol">{</a><a id="2677" href="Birkhoff.HSPTheorem.html#2677" class="Bound">X</a> <a id="2679" class="Symbol">:</a> <a id="2681" href="Birkhoff.HSPTheorem.html#2662" class="Bound">𝓤</a> <a id="2683" href="universes.html#758" class="Function Operator">̇</a><a id="2684" class="Symbol">}</a>
 <a id="2687" class="Symbol">{</a><a id="2688" href="Birkhoff.HSPTheorem.html#2688" class="Bound">𝒦</a> <a id="2690" class="Symbol">:</a> <a id="2692" href="Relations.Unary.html#1062" class="Function">Pred</a> <a id="2697" class="Symbol">(</a><a id="2698" href="Algebras.Algebras.html#694" class="Function">Algebra</a> <a id="2706" href="Birkhoff.HSPTheorem.html#2662" class="Bound">𝓤</a> <a id="2708" href="Birkhoff.HSPTheorem.html#2560" class="Bound">𝑆</a><a id="2709" class="Symbol">)</a> <a id="2711" class="Symbol">(</a><a id="2712" href="universes.html#613" class="Generalizable">𝓞</a> <a id="2714" href="Agda.Primitive.html#636" class="Primitive Operator">⊔</a> <a id="2716" href="universes.html#617" class="Generalizable">𝓥</a> <a id="2718" href="Agda.Primitive.html#636" class="Primitive Operator">⊔</a> <a id="2720" href="Birkhoff.HSPTheorem.html#2662" class="Bound">𝓤</a> <a id="2722" href="universes.html#527" class="Primitive Operator">⁺</a><a id="2723" class="Symbol">)}</a>
 <a id="2727" class="Comment">-- extensionality assumptions:</a>
    <a id="2762" class="Symbol">{</a><a id="2763" href="Birkhoff.HSPTheorem.html#2763" class="Bound">pe</a> <a id="2766" class="Symbol">:</a> <a id="2768" href="MGS-Powerset.html#382" class="Function">propext</a> <a id="2776" href="Birkhoff.HSPTheorem.html#2662" class="Bound">𝓤</a><a id="2777" class="Symbol">}</a>
    <a id="2783" class="Symbol">{</a><a id="2784" href="Birkhoff.HSPTheorem.html#2784" class="Bound">pe&#39;</a> <a id="2788" class="Symbol">:</a> <a id="2790" href="MGS-Powerset.html#382" class="Function">propext</a> <a id="2798" class="Symbol">(</a><a id="2799" href="universes.html#613" class="Generalizable">𝓞</a> <a id="2801" href="Agda.Primitive.html#636" class="Primitive Operator">⊔</a> <a id="2803" href="universes.html#617" class="Generalizable">𝓥</a> <a id="2805" href="Agda.Primitive.html#636" class="Primitive Operator">⊔</a> <a id="2807" href="Birkhoff.HSPTheorem.html#2662" class="Bound">𝓤</a> <a id="2809" href="universes.html#527" class="Primitive Operator">⁺</a><a id="2810" class="Symbol">)}</a>
    <a id="2817" class="Symbol">{</a><a id="2818" href="Birkhoff.HSPTheorem.html#2818" class="Bound">hfe</a> <a id="2822" class="Symbol">:</a> <a id="2824" href="MGS-FunExt-from-Univalence.html#2235" class="Function">hfunext</a> <a id="2832" class="Symbol">(</a><a id="2833" href="universes.html#613" class="Generalizable">𝓞</a> <a id="2835" href="Agda.Primitive.html#636" class="Primitive Operator">⊔</a> <a id="2837" href="universes.html#617" class="Generalizable">𝓥</a> <a id="2839" href="Agda.Primitive.html#636" class="Primitive Operator">⊔</a> <a id="2841" href="Birkhoff.HSPTheorem.html#2662" class="Bound">𝓤</a> <a id="2843" href="universes.html#527" class="Primitive Operator">⁺</a><a id="2844" class="Symbol">)(</a><a id="2846" href="universes.html#613" class="Generalizable">𝓞</a> <a id="2848" href="Agda.Primitive.html#636" class="Primitive Operator">⊔</a> <a id="2850" href="universes.html#617" class="Generalizable">𝓥</a> <a id="2852" href="Agda.Primitive.html#636" class="Primitive Operator">⊔</a> <a id="2854" href="Birkhoff.HSPTheorem.html#2662" class="Bound">𝓤</a> <a id="2856" href="universes.html#527" class="Primitive Operator">⁺</a><a id="2857" class="Symbol">)}</a> <a id="2860" class="Keyword">where</a>

<a id="2867" class="Keyword">open</a> <a id="2872" class="Keyword">import</a> <a id="2879" href="Birkhoff.FreeAlgebra.html" class="Module">Birkhoff.FreeAlgebra</a> <a id="2900" class="Symbol">{</a><a id="2901" class="Argument">𝑆</a> <a id="2903" class="Symbol">=</a> <a id="2905" href="Birkhoff.HSPTheorem.html#2560" class="Bound">𝑆</a><a id="2906" class="Symbol">}{</a><a id="2908" href="Birkhoff.HSPTheorem.html#2579" class="Bound">gfe</a><a id="2911" class="Symbol">}</a> <a id="2913" class="Keyword">hiding</a> <a id="2920" class="Symbol">(</a>Pred<a id="2925" class="Symbol">;</a> _⊔_<a id="2930" class="Symbol">;</a> _⁺<a id="2934" class="Symbol">;</a> Algebra<a id="2943" class="Symbol">;</a> _̇ <a id="2948" class="Symbol">)</a> <a id="2950" class="Keyword">public</a>
<a id="2957" class="Keyword">open</a> <a id="2962" href="Birkhoff.FreeAlgebra.html#2677" class="Module">the-free-algebra</a> <a id="2979" class="Symbol">{</a><a id="2980" href="Birkhoff.HSPTheorem.html#2662" class="Bound">𝓤</a><a id="2981" class="Symbol">}{</a><a id="2983" href="Birkhoff.HSPTheorem.html#2662" class="Bound">𝓤</a><a id="2984" class="Symbol">}{</a><a id="2986" href="Birkhoff.HSPTheorem.html#2677" class="Bound">X</a><a id="2987" class="Symbol">}</a>
<a id="2989" class="Keyword">open</a> <a id="2994" class="Keyword">import</a> <a id="3001" href="MGS-Embeddings.html" class="Module">MGS-Embeddings</a> <a id="3016" class="Keyword">using</a> <a id="3022" class="Symbol">(</a><a id="3023" href="MGS-Basic-UF.html#1929" class="Function">is-set</a><a id="3029" class="Symbol">)</a> <a id="3031" class="Keyword">public</a>
<a id="3038" class="Keyword">open</a> <a id="3043" class="Keyword">import</a> <a id="3050" href="MGS-Subsingleton-Theorems.html" class="Module">MGS-Subsingleton-Theorems</a> <a id="3076" class="Keyword">using</a> <a id="3082" class="Symbol">(</a><a id="3083" href="MGS-Basic-UF.html#743" class="Function">is-subsingleton</a><a id="3098" class="Symbol">)</a> <a id="3100" class="Keyword">public</a>

</pre>


#### <a id="F-in-classproduct">𝔽 ≤  ⨅ S(𝒦)</a>
Now we come to a step in the Agda formalization of Birkhoff's theorem that turns out to be surprisingly nontrivial. We must prove that the free algebra embeds in the product ℭ of all subalgebras of algebras in the class 𝒦.  This is really the only stage in the proof of Birkhoff's theorem that requires the truncation assumption that ℭ be a set.

We begin by constructing ℭ, using the techniques described in the section on <a href="https://ualib.gitlab.io/Varieties.Varieties.html#products-of-classes">products of classes</a>.

**Notation**. In this module, the type `ℑs` will index the collection of all subalgebras of algebras in the class 𝒦, and `𝔄s : ℑs → Algebra 𝓤 𝑆` will be a map from the index type to the subalgebras. 

<pre class="Agda">

<a id="3912" class="Keyword">open</a> <a id="3917" href="Birkhoff.FreeAlgebra.html#6511" class="Module">the-relatively-free-algebra</a> <a id="3945" class="Symbol">{</a><a id="3946" class="Argument">𝓤</a> <a id="3948" class="Symbol">=</a> <a id="3950" href="Birkhoff.HSPTheorem.html#2662" class="Bound">𝓤</a><a id="3951" class="Symbol">}{</a><a id="3953" class="Argument">𝓧</a> <a id="3955" class="Symbol">=</a> <a id="3957" href="Birkhoff.HSPTheorem.html#2662" class="Bound">𝓤</a><a id="3958" class="Symbol">}{</a><a id="3960" class="Argument">X</a> <a id="3962" class="Symbol">=</a> <a id="3964" href="Birkhoff.HSPTheorem.html#2677" class="Bound">X</a><a id="3965" class="Symbol">}</a> <a id="3967" class="Symbol">{</a><a id="3968" class="Argument">𝒦</a> <a id="3970" class="Symbol">=</a> <a id="3972" href="Birkhoff.HSPTheorem.html#2688" class="Bound">𝒦</a><a id="3973" class="Symbol">}</a>

<a id="3976" class="Comment">-- NOTATION.</a>
<a id="ℑs"></a><a id="3989" href="Birkhoff.HSPTheorem.html#3989" class="Function">ℑs</a> <a id="3992" class="Symbol">:</a> <a id="3994" href="Birkhoff.FreeAlgebra.html#2793" class="Function">𝓸𝓿𝓾</a> <a id="3998" href="universes.html#758" class="Function Operator">̇</a>
<a id="4000" href="Birkhoff.HSPTheorem.html#3989" class="Function">ℑs</a> <a id="4003" class="Symbol">=</a> <a id="4005" href="Algebras.Products.html#2873" class="Function">ℑ</a><a id="4006" class="Symbol">{</a><a id="4007" href="Birkhoff.HSPTheorem.html#2662" class="Bound">𝓤</a><a id="4008" class="Symbol">}{</a><a id="4010" href="Birkhoff.HSPTheorem.html#2662" class="Bound">𝓤</a><a id="4011" class="Symbol">}{</a><a id="4013" href="Birkhoff.HSPTheorem.html#2677" class="Bound">X</a><a id="4014" class="Symbol">}</a> <a id="4016" class="Symbol">(</a><a id="4017" href="Varieties.Varieties.html#2944" class="Datatype">S</a><a id="4018" class="Symbol">{</a><a id="4019" href="Birkhoff.HSPTheorem.html#2662" class="Bound">𝓤</a><a id="4020" class="Symbol">}{</a><a id="4022" href="Birkhoff.HSPTheorem.html#2662" class="Bound">𝓤</a><a id="4023" class="Symbol">}</a> <a id="4025" href="Birkhoff.HSPTheorem.html#2688" class="Bound">𝒦</a><a id="4026" class="Symbol">)</a>
<a id="𝔄s"></a><a id="4028" href="Birkhoff.HSPTheorem.html#4028" class="Function">𝔄s</a> <a id="4031" class="Symbol">:</a> <a id="4033" href="Birkhoff.HSPTheorem.html#3989" class="Function">ℑs</a> <a id="4036" class="Symbol">→</a> <a id="4038" href="Algebras.Algebras.html#694" class="Function">Algebra</a> <a id="4046" href="Birkhoff.HSPTheorem.html#2662" class="Bound">𝓤</a> <a id="4048" href="Birkhoff.HSPTheorem.html#2560" class="Bound">𝑆</a>
<a id="4050" href="Birkhoff.HSPTheorem.html#4028" class="Function">𝔄s</a> <a id="4053" class="Symbol">=</a> <a id="4055" class="Symbol">λ</a> <a id="4057" class="Symbol">(</a><a id="4058" href="Birkhoff.HSPTheorem.html#4058" class="Bound">i</a> <a id="4060" class="Symbol">:</a> <a id="4062" href="Birkhoff.HSPTheorem.html#3989" class="Function">ℑs</a><a id="4064" class="Symbol">)</a> <a id="4066" class="Symbol">→</a> <a id="4068" href="Prelude.Preliminaries.html#12622" class="Function Operator">∣</a> <a id="4070" href="Birkhoff.HSPTheorem.html#4058" class="Bound">i</a> <a id="4072" href="Prelude.Preliminaries.html#12622" class="Function Operator">∣</a>

<a id="SK𝔄"></a><a id="4075" href="Birkhoff.HSPTheorem.html#4075" class="Function">SK𝔄</a> <a id="4079" class="Symbol">:</a> <a id="4081" class="Symbol">(</a><a id="4082" href="Birkhoff.HSPTheorem.html#4082" class="Bound">i</a> <a id="4084" class="Symbol">:</a> <a id="4086" href="Birkhoff.HSPTheorem.html#3989" class="Function">ℑs</a><a id="4088" class="Symbol">)</a> <a id="4090" class="Symbol">→</a> <a id="4092" class="Symbol">(</a><a id="4093" href="Birkhoff.HSPTheorem.html#4028" class="Function">𝔄s</a> <a id="4096" href="Birkhoff.HSPTheorem.html#4082" class="Bound">i</a><a id="4097" class="Symbol">)</a> <a id="4099" href="Relations.Unary.html#2061" class="Function Operator">∈</a> <a id="4101" href="Varieties.Varieties.html#2944" class="Datatype">S</a><a id="4102" class="Symbol">{</a><a id="4103" href="Birkhoff.HSPTheorem.html#2662" class="Bound">𝓤</a><a id="4104" class="Symbol">}{</a><a id="4106" href="Birkhoff.HSPTheorem.html#2662" class="Bound">𝓤</a><a id="4107" class="Symbol">}</a> <a id="4109" href="Birkhoff.HSPTheorem.html#2688" class="Bound">𝒦</a>
<a id="4111" href="Birkhoff.HSPTheorem.html#4075" class="Function">SK𝔄</a> <a id="4115" class="Symbol">=</a> <a id="4117" class="Symbol">λ</a> <a id="4119" class="Symbol">(</a><a id="4120" href="Birkhoff.HSPTheorem.html#4120" class="Bound">i</a> <a id="4122" class="Symbol">:</a> <a id="4124" href="Birkhoff.HSPTheorem.html#3989" class="Function">ℑs</a><a id="4126" class="Symbol">)</a> <a id="4128" class="Symbol">→</a> <a id="4130" href="Prelude.Preliminaries.html#12626" class="Function">fst</a> <a id="4134" href="Prelude.Preliminaries.html#12700" class="Function Operator">∥</a> <a id="4136" href="Birkhoff.HSPTheorem.html#4120" class="Bound">i</a> <a id="4138" href="Prelude.Preliminaries.html#12700" class="Function Operator">∥</a>

<a id="𝔄h"></a><a id="4141" href="Birkhoff.HSPTheorem.html#4141" class="Function">𝔄h</a> <a id="4144" class="Symbol">:</a> <a id="4146" class="Symbol">(</a><a id="4147" href="Birkhoff.HSPTheorem.html#4147" class="Bound">i</a> <a id="4149" class="Symbol">:</a> <a id="4151" href="Birkhoff.HSPTheorem.html#3989" class="Function">ℑs</a><a id="4153" class="Symbol">)</a> <a id="4155" class="Symbol">→</a> <a id="4157" href="Birkhoff.HSPTheorem.html#2677" class="Bound">X</a> <a id="4159" class="Symbol">→</a> <a id="4161" href="Prelude.Preliminaries.html#12622" class="Function Operator">∣</a> <a id="4163" href="Birkhoff.HSPTheorem.html#4028" class="Function">𝔄s</a> <a id="4166" href="Birkhoff.HSPTheorem.html#4147" class="Bound">i</a> <a id="4168" href="Prelude.Preliminaries.html#12622" class="Function Operator">∣</a>
<a id="4170" href="Birkhoff.HSPTheorem.html#4141" class="Function">𝔄h</a> <a id="4173" class="Symbol">=</a> <a id="4175" class="Symbol">λ</a> <a id="4177" class="Symbol">(</a><a id="4178" href="Birkhoff.HSPTheorem.html#4178" class="Bound">i</a> <a id="4180" class="Symbol">:</a> <a id="4182" href="Birkhoff.HSPTheorem.html#3989" class="Function">ℑs</a><a id="4184" class="Symbol">)</a> <a id="4186" class="Symbol">→</a> <a id="4188" href="Prelude.Preliminaries.html#12704" class="Function">snd</a> <a id="4192" href="Prelude.Preliminaries.html#12700" class="Function Operator">∥</a> <a id="4194" href="Birkhoff.HSPTheorem.html#4178" class="Bound">i</a> <a id="4196" href="Prelude.Preliminaries.html#12700" class="Function Operator">∥</a>

<a id="4199" class="Comment">-- ℭ is the product of all subalgebras of algebras in 𝒦.</a>
<a id="ℭ"></a><a id="4256" href="Birkhoff.HSPTheorem.html#4256" class="Function">ℭ</a> <a id="4258" class="Symbol">:</a> <a id="4260" href="Algebras.Algebras.html#694" class="Function">Algebra</a> <a id="4268" href="Birkhoff.FreeAlgebra.html#2793" class="Function">𝓸𝓿𝓾</a> <a id="4272" href="Birkhoff.HSPTheorem.html#2560" class="Bound">𝑆</a>
<a id="4274" href="Birkhoff.HSPTheorem.html#4256" class="Function">ℭ</a> <a id="4276" class="Symbol">=</a> <a id="4278" href="Algebras.Products.html#908" class="Function">⨅</a> <a id="4280" href="Birkhoff.HSPTheorem.html#4028" class="Function">𝔄s</a>

</pre>

Observe that the inhabitants of ℭ are maps from ℑs to {𝔄s i : i ∈ ℑs}.

<pre class="Agda">

<a id="hom𝔄"></a><a id="4382" href="Birkhoff.HSPTheorem.html#4382" class="Function">hom𝔄</a> <a id="4387" class="Symbol">:</a> <a id="4389" class="Symbol">∀</a> <a id="4391" href="Birkhoff.HSPTheorem.html#4391" class="Bound">i</a> <a id="4393" class="Symbol">→</a> <a id="4395" href="Homomorphisms.Basic.html#2268" class="Function">hom</a> <a id="4399" class="Symbol">(</a><a id="4400" href="Terms.Basic.html#3603" class="Function">𝑻</a> <a id="4402" href="Birkhoff.HSPTheorem.html#2677" class="Bound">X</a><a id="4403" class="Symbol">)</a> <a id="4405" class="Symbol">(</a><a id="4406" href="Birkhoff.HSPTheorem.html#4028" class="Function">𝔄s</a> <a id="4409" href="Birkhoff.HSPTheorem.html#4391" class="Bound">i</a><a id="4410" class="Symbol">)</a>
<a id="4412" href="Birkhoff.HSPTheorem.html#4382" class="Function">hom𝔄</a> <a id="4417" href="Birkhoff.HSPTheorem.html#4417" class="Bound">i</a> <a id="4419" class="Symbol">=</a> <a id="4421" href="Terms.Basic.html#4495" class="Function">lift-hom</a> <a id="4430" class="Symbol">(</a><a id="4431" href="Birkhoff.HSPTheorem.html#4028" class="Function">𝔄s</a> <a id="4434" href="Birkhoff.HSPTheorem.html#4417" class="Bound">i</a><a id="4435" class="Symbol">)</a> <a id="4437" class="Symbol">(</a><a id="4438" href="Birkhoff.HSPTheorem.html#4141" class="Function">𝔄h</a> <a id="4441" href="Birkhoff.HSPTheorem.html#4417" class="Bound">i</a><a id="4442" class="Symbol">)</a>

<a id="homℭ"></a><a id="4445" href="Birkhoff.HSPTheorem.html#4445" class="Function">homℭ</a> <a id="4450" class="Symbol">:</a> <a id="4452" href="Homomorphisms.Basic.html#2268" class="Function">hom</a> <a id="4456" class="Symbol">(</a><a id="4457" href="Terms.Basic.html#3603" class="Function">𝑻</a> <a id="4459" href="Birkhoff.HSPTheorem.html#2677" class="Bound">X</a><a id="4460" class="Symbol">)</a> <a id="4462" href="Birkhoff.HSPTheorem.html#4256" class="Function">ℭ</a>
<a id="4464" href="Birkhoff.HSPTheorem.html#4445" class="Function">homℭ</a> <a id="4469" class="Symbol">=</a> <a id="4471" href="Homomorphisms.Basic.html#8312" class="Function">⨅-hom-co</a> <a id="4480" class="Symbol">(</a><a id="4481" href="Terms.Basic.html#3603" class="Function">𝑻</a> <a id="4483" href="Birkhoff.HSPTheorem.html#2677" class="Bound">X</a><a id="4484" class="Symbol">)</a> <a id="4486" href="Birkhoff.HSPTheorem.html#4028" class="Function">𝔄s</a> <a id="4489" href="Birkhoff.HSPTheorem.html#4382" class="Function">hom𝔄</a>

</pre>


#### <a id="the-new-free-algebra">The new free algebra</a>

As mentioned above, the initial version of the [Agda UALib][] used the free algebra `𝔉`, developed in the [Birkhoff.FreeAlgebra][] module.  However, our new, more direct proof uses the algebra `𝔽`, which we now define, along with the natural epimorphism `epi𝔽 : epi (𝑻 X) 𝔽` from `𝑻 X` to `𝔽`.<sup>[2](Birkhoff.HSPTheorem.html#fn2)</sup>

<pre class="Agda">

<a id="𝔽"></a><a id="4921" href="Birkhoff.HSPTheorem.html#4921" class="Function">𝔽</a> <a id="4923" class="Symbol">:</a> <a id="4925" href="Algebras.Algebras.html#694" class="Function">Algebra</a> <a id="4933" href="Birkhoff.FreeAlgebra.html#2797" class="Function">𝓸𝓿𝓾+</a> <a id="4938" href="Birkhoff.HSPTheorem.html#2560" class="Bound">𝑆</a>
<a id="4940" href="Birkhoff.HSPTheorem.html#4921" class="Function">𝔽</a> <a id="4942" class="Symbol">=</a> <a id="4944" class="Symbol">(</a><a id="4945" href="Terms.Basic.html#3603" class="Function">𝑻</a> <a id="4947" href="Birkhoff.HSPTheorem.html#2677" class="Bound">X</a><a id="4948" class="Symbol">)</a> <a id="4950" href="Homomorphisms.Basic.html#6416" class="Function Operator">[</a> <a id="4952" href="Birkhoff.HSPTheorem.html#4256" class="Function">ℭ</a> <a id="4954" href="Homomorphisms.Basic.html#6416" class="Function Operator">]/ker</a> <a id="4960" href="Birkhoff.HSPTheorem.html#4445" class="Function">homℭ</a>

<a id="epi𝔽"></a><a id="4966" href="Birkhoff.HSPTheorem.html#4966" class="Function">epi𝔽</a> <a id="4971" class="Symbol">:</a> <a id="4973" href="Homomorphisms.Basic.html#2951" class="Function">epi</a> <a id="4977" class="Symbol">(</a><a id="4978" href="Terms.Basic.html#3603" class="Function">𝑻</a> <a id="4980" href="Birkhoff.HSPTheorem.html#2677" class="Bound">X</a><a id="4981" class="Symbol">)</a> <a id="4983" href="Birkhoff.HSPTheorem.html#4921" class="Function">𝔽</a>
<a id="4985" href="Birkhoff.HSPTheorem.html#4966" class="Function">epi𝔽</a> <a id="4990" class="Symbol">=</a> <a id="4992" href="Homomorphisms.Basic.html#7563" class="Function">πker</a> <a id="4997" href="Birkhoff.HSPTheorem.html#4256" class="Function">ℭ</a> <a id="4999" href="Birkhoff.HSPTheorem.html#4445" class="Function">homℭ</a>

<a id="hom𝔽"></a><a id="5005" href="Birkhoff.HSPTheorem.html#5005" class="Function">hom𝔽</a> <a id="5010" class="Symbol">:</a> <a id="5012" href="Homomorphisms.Basic.html#2268" class="Function">hom</a> <a id="5016" class="Symbol">(</a><a id="5017" href="Terms.Basic.html#3603" class="Function">𝑻</a> <a id="5019" href="Birkhoff.HSPTheorem.html#2677" class="Bound">X</a><a id="5020" class="Symbol">)</a> <a id="5022" href="Birkhoff.HSPTheorem.html#4921" class="Function">𝔽</a>
<a id="5024" href="Birkhoff.HSPTheorem.html#5005" class="Function">hom𝔽</a> <a id="5029" class="Symbol">=</a> <a id="5031" href="Homomorphisms.Basic.html#3288" class="Function">epi-to-hom</a> <a id="5042" href="Birkhoff.HSPTheorem.html#4921" class="Function">𝔽</a> <a id="5044" href="Birkhoff.HSPTheorem.html#4966" class="Function">epi𝔽</a>

<a id="hom𝔽-is-epic"></a><a id="5050" href="Birkhoff.HSPTheorem.html#5050" class="Function">hom𝔽-is-epic</a> <a id="5063" class="Symbol">:</a> <a id="5065" href="Prelude.Inverses.html#2632" class="Function">Epic</a> <a id="5070" href="Prelude.Preliminaries.html#12622" class="Function Operator">∣</a> <a id="5072" href="Birkhoff.HSPTheorem.html#5005" class="Function">hom𝔽</a> <a id="5077" href="Prelude.Preliminaries.html#12622" class="Function Operator">∣</a>
<a id="5079" href="Birkhoff.HSPTheorem.html#5050" class="Function">hom𝔽-is-epic</a> <a id="5092" class="Symbol">=</a> <a id="5094" href="Prelude.Preliminaries.html#12704" class="Function">snd</a> <a id="5098" href="Prelude.Preliminaries.html#12700" class="Function Operator">∥</a> <a id="5100" href="Birkhoff.HSPTheorem.html#4966" class="Function">epi𝔽</a> <a id="5105" href="Prelude.Preliminaries.html#12700" class="Function Operator">∥</a>

</pre>

We will need the following facts relating homℭ, hom𝔽, and ψ.

<pre class="Agda">

<a id="ψlemma0"></a><a id="5196" href="Birkhoff.HSPTheorem.html#5196" class="Function">ψlemma0</a> <a id="5204" class="Symbol">:</a> <a id="5206" class="Symbol">∀</a> <a id="5208" href="Birkhoff.HSPTheorem.html#5208" class="Bound">p</a> <a id="5210" href="Birkhoff.HSPTheorem.html#5210" class="Bound">q</a> <a id="5212" class="Symbol">→</a> <a id="5214" class="Symbol">(</a><a id="5215" href="Prelude.Preliminaries.html#12622" class="Function Operator">∣</a> <a id="5217" href="Birkhoff.HSPTheorem.html#4445" class="Function">homℭ</a> <a id="5222" href="Prelude.Preliminaries.html#12622" class="Function Operator">∣</a> <a id="5224" href="Birkhoff.HSPTheorem.html#5208" class="Bound">p</a> <a id="5226" href="Prelude.Inverses.html#620" class="Datatype Operator">≡</a> <a id="5228" href="Prelude.Preliminaries.html#12622" class="Function Operator">∣</a> <a id="5230" href="Birkhoff.HSPTheorem.html#4445" class="Function">homℭ</a> <a id="5235" href="Prelude.Preliminaries.html#12622" class="Function Operator">∣</a> <a id="5237" href="Birkhoff.HSPTheorem.html#5210" class="Bound">q</a><a id="5238" class="Symbol">)</a> <a id="5240" class="Symbol">→</a> <a id="5242" class="Symbol">(</a><a id="5243" href="Birkhoff.HSPTheorem.html#5208" class="Bound">p</a> <a id="5245" href="Prelude.Equality.html#493" class="InductiveConstructor Operator">,</a> <a id="5247" href="Birkhoff.HSPTheorem.html#5210" class="Bound">q</a><a id="5248" class="Symbol">)</a> <a id="5250" href="Relations.Unary.html#2061" class="Function Operator">∈</a> <a id="5252" href="Birkhoff.FreeAlgebra.html#4393" class="Function">ψ</a> <a id="5254" href="Birkhoff.HSPTheorem.html#2688" class="Bound">𝒦</a>
<a id="5256" href="Birkhoff.HSPTheorem.html#5196" class="Function">ψlemma0</a> <a id="5264" href="Birkhoff.HSPTheorem.html#5264" class="Bound">p</a> <a id="5266" href="Birkhoff.HSPTheorem.html#5266" class="Bound">q</a> <a id="5268" href="Birkhoff.HSPTheorem.html#5268" class="Bound">phomℭq</a> <a id="5275" href="Birkhoff.HSPTheorem.html#5275" class="Bound">𝑨</a> <a id="5277" href="Birkhoff.HSPTheorem.html#5277" class="Bound">sA</a> <a id="5280" href="Birkhoff.HSPTheorem.html#5280" class="Bound">h</a> <a id="5282" class="Symbol">=</a> <a id="5284" href="MGS-MLTT.html#6613" class="Function">ap</a> <a id="5287" class="Symbol">(λ</a> <a id="5290" href="Birkhoff.HSPTheorem.html#5290" class="Bound">-</a> <a id="5292" class="Symbol">→</a> <a id="5294" href="Birkhoff.HSPTheorem.html#5290" class="Bound">-</a> <a id="5296" class="Symbol">(</a><a id="5297" href="Birkhoff.HSPTheorem.html#5275" class="Bound">𝑨</a> <a id="5299" href="Prelude.Equality.html#493" class="InductiveConstructor Operator">,</a> <a id="5301" class="Symbol">(</a><a id="5302" href="Birkhoff.HSPTheorem.html#5277" class="Bound">sA</a> <a id="5305" href="Prelude.Equality.html#493" class="InductiveConstructor Operator">,</a> <a id="5307" href="Birkhoff.HSPTheorem.html#5280" class="Bound">h</a><a id="5308" class="Symbol">)))</a> <a id="5312" href="Birkhoff.HSPTheorem.html#5268" class="Bound">phomℭq</a>


<a id="ψlemma0-ap"></a><a id="5321" href="Birkhoff.HSPTheorem.html#5321" class="Function">ψlemma0-ap</a> <a id="5332" class="Symbol">:</a> <a id="5334" class="Symbol">{</a><a id="5335" href="Birkhoff.HSPTheorem.html#5335" class="Bound">𝑨</a> <a id="5337" class="Symbol">:</a> <a id="5339" href="Algebras.Algebras.html#694" class="Function">Algebra</a> <a id="5347" href="Birkhoff.HSPTheorem.html#2662" class="Bound">𝓤</a> <a id="5349" href="Birkhoff.HSPTheorem.html#2560" class="Bound">𝑆</a><a id="5350" class="Symbol">}{</a><a id="5352" href="Birkhoff.HSPTheorem.html#5352" class="Bound">h</a> <a id="5354" class="Symbol">:</a> <a id="5356" href="Birkhoff.HSPTheorem.html#2677" class="Bound">X</a> <a id="5358" class="Symbol">→</a> <a id="5360" href="Prelude.Preliminaries.html#12622" class="Function Operator">∣</a> <a id="5362" href="Birkhoff.HSPTheorem.html#5335" class="Bound">𝑨</a> <a id="5364" href="Prelude.Preliminaries.html#12622" class="Function Operator">∣</a><a id="5365" class="Symbol">}</a>
 <a id="5368" class="Symbol">→</a>           <a id="5380" href="Birkhoff.HSPTheorem.html#5335" class="Bound">𝑨</a> <a id="5382" href="Relations.Unary.html#2061" class="Function Operator">∈</a> <a id="5384" href="Varieties.Varieties.html#2944" class="Datatype">S</a><a id="5385" class="Symbol">{</a><a id="5386" href="Birkhoff.HSPTheorem.html#2662" class="Bound">𝓤</a><a id="5387" class="Symbol">}{</a><a id="5389" href="Birkhoff.HSPTheorem.html#2662" class="Bound">𝓤</a><a id="5390" class="Symbol">}</a> <a id="5392" href="Birkhoff.HSPTheorem.html#2688" class="Bound">𝒦</a>
             <a id="5407" class="Comment">---------------------------------------</a>
 <a id="5448" class="Symbol">→</a>           <a id="5460" href="Relations.Binary.html#1297" class="Function">KER-pred</a> <a id="5469" href="Prelude.Preliminaries.html#12622" class="Function Operator">∣</a> <a id="5471" href="Birkhoff.HSPTheorem.html#5005" class="Function">hom𝔽</a> <a id="5476" href="Prelude.Preliminaries.html#12622" class="Function Operator">∣</a> <a id="5478" href="Relations.Unary.html#2383" class="Function Operator">⊆</a> <a id="5480" href="Relations.Binary.html#1297" class="Function">KER-pred</a> <a id="5489" class="Symbol">(</a><a id="5490" href="Terms.Basic.html#4221" class="Function">free-lift</a> <a id="5500" href="Birkhoff.HSPTheorem.html#5335" class="Bound">𝑨</a> <a id="5502" href="Birkhoff.HSPTheorem.html#5352" class="Bound">h</a><a id="5503" class="Symbol">)</a>

<a id="5506" href="Birkhoff.HSPTheorem.html#5321" class="Function">ψlemma0-ap</a> <a id="5517" class="Symbol">{</a><a id="5518" href="Birkhoff.HSPTheorem.html#5518" class="Bound">𝑨</a><a id="5519" class="Symbol">}{</a><a id="5521" href="Birkhoff.HSPTheorem.html#5521" class="Bound">h</a><a id="5522" class="Symbol">}</a> <a id="5524" href="Birkhoff.HSPTheorem.html#5524" class="Bound">skA</a> <a id="5528" class="Symbol">{</a><a id="5529" href="Birkhoff.HSPTheorem.html#5529" class="Bound">p</a> <a id="5531" href="Prelude.Equality.html#493" class="InductiveConstructor Operator">,</a> <a id="5533" href="Birkhoff.HSPTheorem.html#5533" class="Bound">q</a><a id="5534" class="Symbol">}</a> <a id="5536" href="Birkhoff.HSPTheorem.html#5536" class="Bound">x</a> <a id="5538" class="Symbol">=</a> <a id="5540" href="Birkhoff.HSPTheorem.html#5627" class="Function">γ</a> <a id="5542" class="Keyword">where</a>

  <a id="5551" href="Birkhoff.HSPTheorem.html#5551" class="Function">ν</a> <a id="5553" class="Symbol">:</a> <a id="5555" href="Prelude.Preliminaries.html#12622" class="Function Operator">∣</a> <a id="5557" href="Birkhoff.HSPTheorem.html#4445" class="Function">homℭ</a> <a id="5562" href="Prelude.Preliminaries.html#12622" class="Function Operator">∣</a> <a id="5564" href="Birkhoff.HSPTheorem.html#5529" class="Bound">p</a> <a id="5566" href="Prelude.Inverses.html#620" class="Datatype Operator">≡</a> <a id="5568" href="Prelude.Preliminaries.html#12622" class="Function Operator">∣</a> <a id="5570" href="Birkhoff.HSPTheorem.html#4445" class="Function">homℭ</a> <a id="5575" href="Prelude.Preliminaries.html#12622" class="Function Operator">∣</a> <a id="5577" href="Birkhoff.HSPTheorem.html#5533" class="Bound">q</a>
  <a id="5581" href="Birkhoff.HSPTheorem.html#5551" class="Function">ν</a> <a id="5583" class="Symbol">=</a> <a id="5585" href="Homomorphisms.Basic.html#8035" class="Function">ker-in-con</a> <a id="5596" class="Symbol">(</a><a id="5597" href="Terms.Basic.html#3603" class="Function">𝑻</a> <a id="5599" href="Birkhoff.HSPTheorem.html#2677" class="Bound">X</a><a id="5600" class="Symbol">)</a> <a id="5602" class="Symbol">(</a><a id="5603" href="Homomorphisms.Basic.html#6021" class="Function">kercon</a> <a id="5610" href="Birkhoff.HSPTheorem.html#4256" class="Function">ℭ</a> <a id="5612" href="Birkhoff.HSPTheorem.html#4445" class="Function">homℭ</a><a id="5616" class="Symbol">)</a> <a id="5618" href="Birkhoff.HSPTheorem.html#5529" class="Bound">p</a> <a id="5620" href="Birkhoff.HSPTheorem.html#5533" class="Bound">q</a> <a id="5622" href="Birkhoff.HSPTheorem.html#5536" class="Bound">x</a>

  <a id="5627" href="Birkhoff.HSPTheorem.html#5627" class="Function">γ</a> <a id="5629" class="Symbol">:</a> <a id="5631" class="Symbol">(</a><a id="5632" href="Terms.Basic.html#4221" class="Function">free-lift</a> <a id="5642" href="Birkhoff.HSPTheorem.html#5518" class="Bound">𝑨</a> <a id="5644" href="Birkhoff.HSPTheorem.html#5521" class="Bound">h</a><a id="5645" class="Symbol">)</a> <a id="5647" href="Birkhoff.HSPTheorem.html#5529" class="Bound">p</a> <a id="5649" href="Prelude.Inverses.html#620" class="Datatype Operator">≡</a> <a id="5651" class="Symbol">(</a><a id="5652" href="Terms.Basic.html#4221" class="Function">free-lift</a> <a id="5662" href="Birkhoff.HSPTheorem.html#5518" class="Bound">𝑨</a> <a id="5664" href="Birkhoff.HSPTheorem.html#5521" class="Bound">h</a><a id="5665" class="Symbol">)</a> <a id="5667" href="Birkhoff.HSPTheorem.html#5533" class="Bound">q</a>
  <a id="5671" href="Birkhoff.HSPTheorem.html#5627" class="Function">γ</a> <a id="5673" class="Symbol">=</a> <a id="5675" class="Symbol">((</a><a id="5677" href="Birkhoff.HSPTheorem.html#5196" class="Function">ψlemma0</a> <a id="5685" href="Birkhoff.HSPTheorem.html#5529" class="Bound">p</a> <a id="5687" href="Birkhoff.HSPTheorem.html#5533" class="Bound">q</a><a id="5688" class="Symbol">)</a> <a id="5690" href="Birkhoff.HSPTheorem.html#5551" class="Function">ν</a><a id="5691" class="Symbol">)</a> <a id="5693" href="Birkhoff.HSPTheorem.html#5518" class="Bound">𝑨</a> <a id="5695" href="Birkhoff.HSPTheorem.html#5524" class="Bound">skA</a> <a id="5699" href="Birkhoff.HSPTheorem.html#5521" class="Bound">h</a>


</pre>

We now use `ψlemma0-ap` to prove that every map `h : X → ∣ 𝑨 ∣`, from `X` to a subalgebra `𝑨 ∈ S 𝒦` of `𝒦`, lifts to a homomorphism from `𝔽` to `𝑨`.

<pre class="Agda">

<a id="𝔽-lift-hom"></a><a id="5879" href="Birkhoff.HSPTheorem.html#5879" class="Function">𝔽-lift-hom</a> <a id="5890" class="Symbol">:</a> <a id="5892" class="Symbol">(</a><a id="5893" href="Birkhoff.HSPTheorem.html#5893" class="Bound">𝑨</a> <a id="5895" class="Symbol">:</a> <a id="5897" href="Algebras.Algebras.html#694" class="Function">Algebra</a> <a id="5905" href="Birkhoff.HSPTheorem.html#2662" class="Bound">𝓤</a> <a id="5907" href="Birkhoff.HSPTheorem.html#2560" class="Bound">𝑆</a><a id="5908" class="Symbol">)</a> <a id="5910" class="Symbol">→</a> <a id="5912" href="Birkhoff.HSPTheorem.html#5893" class="Bound">𝑨</a> <a id="5914" href="Relations.Unary.html#2061" class="Function Operator">∈</a> <a id="5916" href="Varieties.Varieties.html#2944" class="Datatype">S</a><a id="5917" class="Symbol">{</a><a id="5918" href="Birkhoff.HSPTheorem.html#2662" class="Bound">𝓤</a><a id="5919" class="Symbol">}{</a><a id="5921" href="Birkhoff.HSPTheorem.html#2662" class="Bound">𝓤</a><a id="5922" class="Symbol">}</a> <a id="5924" href="Birkhoff.HSPTheorem.html#2688" class="Bound">𝒦</a> <a id="5926" class="Symbol">→</a> <a id="5928" class="Symbol">(</a><a id="5929" href="Birkhoff.HSPTheorem.html#2677" class="Bound">X</a> <a id="5931" class="Symbol">→</a> <a id="5933" href="Prelude.Preliminaries.html#12622" class="Function Operator">∣</a> <a id="5935" href="Birkhoff.HSPTheorem.html#5893" class="Bound">𝑨</a> <a id="5937" href="Prelude.Preliminaries.html#12622" class="Function Operator">∣</a><a id="5938" class="Symbol">)</a> <a id="5940" class="Symbol">→</a> <a id="5942" href="Homomorphisms.Basic.html#2268" class="Function">hom</a> <a id="5946" href="Birkhoff.HSPTheorem.html#4921" class="Function">𝔽</a> <a id="5948" href="Birkhoff.HSPTheorem.html#5893" class="Bound">𝑨</a>
<a id="5950" href="Birkhoff.HSPTheorem.html#5879" class="Function">𝔽-lift-hom</a> <a id="5961" href="Birkhoff.HSPTheorem.html#5961" class="Bound">𝑨</a> <a id="5963" href="Birkhoff.HSPTheorem.html#5963" class="Bound">skA</a> <a id="5967" href="Birkhoff.HSPTheorem.html#5967" class="Bound">h</a> <a id="5969" class="Symbol">=</a> <a id="5971" href="Prelude.Preliminaries.html#12626" class="Function">fst</a><a id="5974" class="Symbol">(</a><a id="5975" href="Homomorphisms.Noether.html#8239" class="Function">HomFactor</a> <a id="5985" class="Symbol">(</a><a id="5986" href="Terms.Basic.html#3603" class="Function">𝑻</a> <a id="5988" href="Birkhoff.HSPTheorem.html#2677" class="Bound">X</a><a id="5989" class="Symbol">){</a><a id="5991" href="Birkhoff.HSPTheorem.html#5961" class="Bound">𝑨</a><a id="5992" class="Symbol">}{</a><a id="5994" href="Birkhoff.HSPTheorem.html#4921" class="Function">𝔽</a><a id="5995" class="Symbol">}(</a><a id="5997" href="Terms.Basic.html#4495" class="Function">lift-hom</a> <a id="6006" href="Birkhoff.HSPTheorem.html#5961" class="Bound">𝑨</a> <a id="6008" href="Birkhoff.HSPTheorem.html#5967" class="Bound">h</a><a id="6009" class="Symbol">)</a> <a id="6011" href="Birkhoff.HSPTheorem.html#5005" class="Function">hom𝔽</a> <a id="6016" href="Birkhoff.HSPTheorem.html#5050" class="Function">hom𝔽-is-epic</a> <a id="6029" class="Symbol">(</a><a id="6030" href="Birkhoff.HSPTheorem.html#5321" class="Function">ψlemma0-ap</a> <a id="6041" href="Birkhoff.HSPTheorem.html#5963" class="Bound">skA</a><a id="6044" class="Symbol">))</a>

</pre>


#### <a id="k-models-psi">𝒦 models ψ</a>

The goal of this subsection is to prove that `𝒦` models `ψ 𝒦`. In other terms, for all pairs `(p , q) ∈ Term X × Term X` of terms, if `(p , q) ∈ ψ 𝒦`, then `𝒦 ⊧ p ≋ q`.

Next we define the lift of the natural embedding from `X` into 𝔽. We denote this homomorphism by `𝔑 : hom (𝑻 X) 𝔽` and define it as follows.

<pre class="Agda">

<a id="X↪𝔽"></a><a id="6429" href="Birkhoff.HSPTheorem.html#6429" class="Function">X↪𝔽</a> <a id="6433" class="Symbol">:</a> <a id="6435" href="Birkhoff.HSPTheorem.html#2677" class="Bound">X</a> <a id="6437" class="Symbol">→</a> <a id="6439" href="Prelude.Preliminaries.html#12622" class="Function Operator">∣</a> <a id="6441" href="Birkhoff.HSPTheorem.html#4921" class="Function">𝔽</a> <a id="6443" href="Prelude.Preliminaries.html#12622" class="Function Operator">∣</a>
<a id="6445" href="Birkhoff.HSPTheorem.html#6429" class="Function">X↪𝔽</a> <a id="6449" href="Birkhoff.HSPTheorem.html#6449" class="Bound">x</a> <a id="6451" class="Symbol">=</a> <a id="6453" href="Relations.Quotients.html#3927" class="Function Operator">⟦</a> <a id="6455" href="Terms.Operations.html#753" class="InductiveConstructor">ℊ</a> <a id="6457" href="Birkhoff.HSPTheorem.html#6449" class="Bound">x</a> <a id="6459" href="Relations.Quotients.html#3927" class="Function Operator">⟧</a>

<a id="𝔑"></a><a id="6462" href="Birkhoff.HSPTheorem.html#6462" class="Function">𝔑</a> <a id="6464" class="Symbol">:</a> <a id="6466" href="Homomorphisms.Basic.html#2268" class="Function">hom</a> <a id="6470" class="Symbol">(</a><a id="6471" href="Terms.Basic.html#3603" class="Function">𝑻</a> <a id="6473" href="Birkhoff.HSPTheorem.html#2677" class="Bound">X</a><a id="6474" class="Symbol">)</a> <a id="6476" href="Birkhoff.HSPTheorem.html#4921" class="Function">𝔽</a>
<a id="6478" href="Birkhoff.HSPTheorem.html#6462" class="Function">𝔑</a> <a id="6480" class="Symbol">=</a> <a id="6482" href="Terms.Basic.html#4495" class="Function">lift-hom</a> <a id="6491" href="Birkhoff.HSPTheorem.html#4921" class="Function">𝔽</a> <a id="6493" href="Birkhoff.HSPTheorem.html#6429" class="Function">X↪𝔽</a>

</pre>

It turns out that the homomorphism so defined is equivalent to `hom𝔽`.

<pre class="Agda">

<a id="hom𝔽-is-lift-hom"></a><a id="6596" href="Birkhoff.HSPTheorem.html#6596" class="Function">hom𝔽-is-lift-hom</a> <a id="6613" class="Symbol">:</a> <a id="6615" class="Symbol">∀</a> <a id="6617" href="Birkhoff.HSPTheorem.html#6617" class="Bound">p</a> <a id="6619" class="Symbol">→</a> <a id="6621" href="Prelude.Preliminaries.html#12622" class="Function Operator">∣</a> <a id="6623" href="Birkhoff.HSPTheorem.html#6462" class="Function">𝔑</a> <a id="6625" href="Prelude.Preliminaries.html#12622" class="Function Operator">∣</a> <a id="6627" href="Birkhoff.HSPTheorem.html#6617" class="Bound">p</a> <a id="6629" href="Prelude.Inverses.html#620" class="Datatype Operator">≡</a> <a id="6631" href="Prelude.Preliminaries.html#12622" class="Function Operator">∣</a> <a id="6633" href="Birkhoff.HSPTheorem.html#5005" class="Function">hom𝔽</a> <a id="6638" href="Prelude.Preliminaries.html#12622" class="Function Operator">∣</a> <a id="6640" href="Birkhoff.HSPTheorem.html#6617" class="Bound">p</a>
<a id="6642" href="Birkhoff.HSPTheorem.html#6596" class="Function">hom𝔽-is-lift-hom</a> <a id="6659" class="Symbol">(</a><a id="6660" href="Terms.Operations.html#753" class="InductiveConstructor">ℊ</a> <a id="6662" href="Birkhoff.HSPTheorem.html#6662" class="Bound">x</a><a id="6663" class="Symbol">)</a> <a id="6665" class="Symbol">=</a> <a id="6667" href="Prelude.Inverses.html#634" class="InductiveConstructor">𝓇ℯ𝒻𝓁</a>
<a id="6672" href="Birkhoff.HSPTheorem.html#6596" class="Function">hom𝔽-is-lift-hom</a> <a id="6689" class="Symbol">(</a><a id="6690" href="Terms.Basic.html#2395" class="InductiveConstructor">node</a> <a id="6695" href="Birkhoff.HSPTheorem.html#6695" class="Bound">𝑓</a> <a id="6697" href="Birkhoff.HSPTheorem.html#6697" class="Bound">𝒕</a><a id="6698" class="Symbol">)</a> <a id="6700" class="Symbol">=</a> <a id="6702" href="Prelude.Preliminaries.html#12622" class="Function Operator">∣</a> <a id="6704" href="Birkhoff.HSPTheorem.html#6462" class="Function">𝔑</a> <a id="6706" href="Prelude.Preliminaries.html#12622" class="Function Operator">∣</a> <a id="6708" class="Symbol">(</a><a id="6709" href="Terms.Basic.html#2395" class="InductiveConstructor">node</a> <a id="6714" href="Birkhoff.HSPTheorem.html#6695" class="Bound">𝑓</a> <a id="6716" href="Birkhoff.HSPTheorem.html#6697" class="Bound">𝒕</a><a id="6717" class="Symbol">)</a>           <a id="6729" href="MGS-MLTT.html#5997" class="Function Operator">≡⟨</a> <a id="6732" href="Prelude.Preliminaries.html#12700" class="Function Operator">∥</a> <a id="6734" href="Birkhoff.HSPTheorem.html#6462" class="Function">𝔑</a> <a id="6736" href="Prelude.Preliminaries.html#12700" class="Function Operator">∥</a> <a id="6738" href="Birkhoff.HSPTheorem.html#6695" class="Bound">𝑓</a> <a id="6740" href="Birkhoff.HSPTheorem.html#6697" class="Bound">𝒕</a> <a id="6742" href="MGS-MLTT.html#5997" class="Function Operator">⟩</a>
                          <a id="6770" class="Symbol">(</a><a id="6771" href="Birkhoff.HSPTheorem.html#6695" class="Bound">𝑓</a> <a id="6773" href="Algebras.Algebras.html#2844" class="Function Operator">̂</a> <a id="6775" href="Birkhoff.HSPTheorem.html#4921" class="Function">𝔽</a><a id="6776" class="Symbol">)(λ</a> <a id="6780" href="Birkhoff.HSPTheorem.html#6780" class="Bound">i</a> <a id="6782" class="Symbol">→</a> <a id="6784" href="Prelude.Preliminaries.html#12622" class="Function Operator">∣</a> <a id="6786" href="Birkhoff.HSPTheorem.html#6462" class="Function">𝔑</a> <a id="6788" href="Prelude.Preliminaries.html#12622" class="Function Operator">∣</a><a id="6789" class="Symbol">(</a><a id="6790" href="Birkhoff.HSPTheorem.html#6697" class="Bound">𝒕</a> <a id="6792" href="Birkhoff.HSPTheorem.html#6780" class="Bound">i</a><a id="6793" class="Symbol">))</a>  <a id="6797" href="MGS-MLTT.html#5997" class="Function Operator">≡⟨</a> <a id="6800" href="MGS-MLTT.html#6613" class="Function">ap</a><a id="6802" class="Symbol">(</a><a id="6803" href="Birkhoff.HSPTheorem.html#6695" class="Bound">𝑓</a> <a id="6805" href="Algebras.Algebras.html#2844" class="Function Operator">̂</a> <a id="6807" href="Birkhoff.HSPTheorem.html#4921" class="Function">𝔽</a><a id="6808" class="Symbol">)(</a><a id="6810" href="Birkhoff.HSPTheorem.html#2579" class="Bound">gfe</a> <a id="6814" class="Symbol">(λ</a> <a id="6817" href="Birkhoff.HSPTheorem.html#6817" class="Bound">x</a> <a id="6819" class="Symbol">→</a> <a id="6821" href="Birkhoff.HSPTheorem.html#6596" class="Function">hom𝔽-is-lift-hom</a><a id="6837" class="Symbol">(</a><a id="6838" href="Birkhoff.HSPTheorem.html#6697" class="Bound">𝒕</a> <a id="6840" href="Birkhoff.HSPTheorem.html#6817" class="Bound">x</a><a id="6841" class="Symbol">)))</a> <a id="6845" href="MGS-MLTT.html#5997" class="Function Operator">⟩</a>
                          <a id="6873" class="Symbol">(</a><a id="6874" href="Birkhoff.HSPTheorem.html#6695" class="Bound">𝑓</a> <a id="6876" href="Algebras.Algebras.html#2844" class="Function Operator">̂</a> <a id="6878" href="Birkhoff.HSPTheorem.html#4921" class="Function">𝔽</a><a id="6879" class="Symbol">)(λ</a> <a id="6883" href="Birkhoff.HSPTheorem.html#6883" class="Bound">i</a> <a id="6885" class="Symbol">→</a> <a id="6887" href="Prelude.Preliminaries.html#12622" class="Function Operator">∣</a> <a id="6889" href="Birkhoff.HSPTheorem.html#5005" class="Function">hom𝔽</a> <a id="6894" href="Prelude.Preliminaries.html#12622" class="Function Operator">∣</a> <a id="6896" class="Symbol">(</a><a id="6897" href="Birkhoff.HSPTheorem.html#6697" class="Bound">𝒕</a> <a id="6899" href="Birkhoff.HSPTheorem.html#6883" class="Bound">i</a><a id="6900" class="Symbol">))</a>  <a id="6904" href="MGS-MLTT.html#5997" class="Function Operator">≡⟨</a> <a id="6907" class="Symbol">(</a><a id="6908" href="Prelude.Preliminaries.html#12700" class="Function Operator">∥</a> <a id="6910" href="Birkhoff.HSPTheorem.html#5005" class="Function">hom𝔽</a> <a id="6915" href="Prelude.Preliminaries.html#12700" class="Function Operator">∥</a> <a id="6917" href="Birkhoff.HSPTheorem.html#6695" class="Bound">𝑓</a> <a id="6919" href="Birkhoff.HSPTheorem.html#6697" class="Bound">𝒕</a><a id="6920" class="Symbol">)</a><a id="6921" href="MGS-MLTT.html#6125" class="Function Operator">⁻¹</a> <a id="6924" href="MGS-MLTT.html#5997" class="Function Operator">⟩</a>
                          <a id="6952" href="Prelude.Preliminaries.html#12622" class="Function Operator">∣</a> <a id="6954" href="Birkhoff.HSPTheorem.html#5005" class="Function">hom𝔽</a> <a id="6959" href="Prelude.Preliminaries.html#12622" class="Function Operator">∣</a> <a id="6961" class="Symbol">(</a><a id="6962" href="Terms.Basic.html#2395" class="InductiveConstructor">node</a> <a id="6967" href="Birkhoff.HSPTheorem.html#6695" class="Bound">𝑓</a> <a id="6969" href="Birkhoff.HSPTheorem.html#6697" class="Bound">𝒕</a><a id="6970" class="Symbol">)</a>           <a id="6982" href="MGS-MLTT.html#6079" class="Function Operator">∎</a>


</pre>

We need a three more lemmas before we are ready to tackle our main goal.

<pre class="Agda">

<a id="ψlemma1"></a><a id="7086" href="Birkhoff.HSPTheorem.html#7086" class="Function">ψlemma1</a> <a id="7094" class="Symbol">:</a> <a id="7096" href="Relations.Binary.html#1297" class="Function">KER-pred</a> <a id="7105" href="Prelude.Preliminaries.html#12622" class="Function Operator">∣</a> <a id="7107" href="Birkhoff.HSPTheorem.html#6462" class="Function">𝔑</a> <a id="7109" href="Prelude.Preliminaries.html#12622" class="Function Operator">∣</a> <a id="7111" href="Relations.Unary.html#2383" class="Function Operator">⊆</a> <a id="7113" href="Birkhoff.FreeAlgebra.html#4393" class="Function">ψ</a> <a id="7115" href="Birkhoff.HSPTheorem.html#2688" class="Bound">𝒦</a>
<a id="7117" href="Birkhoff.HSPTheorem.html#7086" class="Function">ψlemma1</a> <a id="7125" class="Symbol">{</a><a id="7126" href="Birkhoff.HSPTheorem.html#7126" class="Bound">p</a> <a id="7128" href="Prelude.Equality.html#493" class="InductiveConstructor Operator">,</a> <a id="7130" href="Birkhoff.HSPTheorem.html#7130" class="Bound">q</a><a id="7131" class="Symbol">}</a> <a id="7133" href="Birkhoff.HSPTheorem.html#7133" class="Bound">𝔑pq</a> <a id="7137" href="Birkhoff.HSPTheorem.html#7137" class="Bound">𝑨</a> <a id="7139" href="Birkhoff.HSPTheorem.html#7139" class="Bound">sA</a> <a id="7142" href="Birkhoff.HSPTheorem.html#7142" class="Bound">h</a> <a id="7144" class="Symbol">=</a> <a id="7146" href="Birkhoff.HSPTheorem.html#7418" class="Function">γ</a>
 <a id="7149" class="Keyword">where</a>
  <a id="7157" href="Birkhoff.HSPTheorem.html#7157" class="Function">f</a> <a id="7159" class="Symbol">:</a> <a id="7161" href="Homomorphisms.Basic.html#2268" class="Function">hom</a> <a id="7165" href="Birkhoff.HSPTheorem.html#4921" class="Function">𝔽</a> <a id="7167" href="Birkhoff.HSPTheorem.html#7137" class="Bound">𝑨</a>
  <a id="7171" href="Birkhoff.HSPTheorem.html#7157" class="Function">f</a> <a id="7173" class="Symbol">=</a> <a id="7175" href="Birkhoff.HSPTheorem.html#5879" class="Function">𝔽-lift-hom</a> <a id="7186" href="Birkhoff.HSPTheorem.html#7137" class="Bound">𝑨</a> <a id="7188" href="Birkhoff.HSPTheorem.html#7139" class="Bound">sA</a> <a id="7191" href="Birkhoff.HSPTheorem.html#7142" class="Bound">h</a>

  <a id="7196" href="Birkhoff.HSPTheorem.html#7196" class="Function">h&#39;</a> <a id="7199" href="Birkhoff.HSPTheorem.html#7199" class="Function">ϕ</a> <a id="7201" class="Symbol">:</a> <a id="7203" href="Homomorphisms.Basic.html#2268" class="Function">hom</a> <a id="7207" class="Symbol">(</a><a id="7208" href="Terms.Basic.html#3603" class="Function">𝑻</a> <a id="7210" href="Birkhoff.HSPTheorem.html#2677" class="Bound">X</a><a id="7211" class="Symbol">)</a> <a id="7213" href="Birkhoff.HSPTheorem.html#7137" class="Bound">𝑨</a>
  <a id="7217" href="Birkhoff.HSPTheorem.html#7196" class="Function">h&#39;</a> <a id="7220" class="Symbol">=</a> <a id="7222" href="Homomorphisms.Noether.html#4690" class="Function">HomComp</a> <a id="7230" class="Symbol">(</a><a id="7231" href="Terms.Basic.html#3603" class="Function">𝑻</a> <a id="7233" href="Birkhoff.HSPTheorem.html#2677" class="Bound">X</a><a id="7234" class="Symbol">)</a> <a id="7236" href="Birkhoff.HSPTheorem.html#7137" class="Bound">𝑨</a> <a id="7238" href="Birkhoff.HSPTheorem.html#6462" class="Function">𝔑</a> <a id="7240" href="Birkhoff.HSPTheorem.html#7157" class="Function">f</a>
  <a id="7244" href="Birkhoff.HSPTheorem.html#7199" class="Function">ϕ</a> <a id="7246" class="Symbol">=</a> <a id="7248" href="Terms.Basic.html#4495" class="Function">lift-hom</a> <a id="7257" href="Birkhoff.HSPTheorem.html#7137" class="Bound">𝑨</a> <a id="7259" href="Birkhoff.HSPTheorem.html#7142" class="Bound">h</a>

  <a id="7264" href="Birkhoff.HSPTheorem.html#7264" class="Function">f𝔑≡ϕ</a> <a id="7269" class="Symbol">:</a> <a id="7271" class="Symbol">(</a><a id="7272" href="Birkhoff.HSPTheorem.html#7272" class="Bound">x</a> <a id="7274" class="Symbol">:</a> <a id="7276" href="Birkhoff.HSPTheorem.html#2677" class="Bound">X</a><a id="7277" class="Symbol">)</a> <a id="7279" class="Symbol">→</a> <a id="7281" class="Symbol">(</a><a id="7282" href="Prelude.Preliminaries.html#12622" class="Function Operator">∣</a> <a id="7284" href="Birkhoff.HSPTheorem.html#7157" class="Function">f</a> <a id="7286" href="Prelude.Preliminaries.html#12622" class="Function Operator">∣</a> <a id="7288" href="MGS-MLTT.html#3813" class="Function Operator">∘</a> <a id="7290" href="Prelude.Preliminaries.html#12622" class="Function Operator">∣</a> <a id="7292" href="Birkhoff.HSPTheorem.html#6462" class="Function">𝔑</a> <a id="7294" href="Prelude.Preliminaries.html#12622" class="Function Operator">∣</a><a id="7295" class="Symbol">)</a> <a id="7297" class="Symbol">(</a><a id="7298" href="Terms.Operations.html#753" class="InductiveConstructor">ℊ</a> <a id="7300" href="Birkhoff.HSPTheorem.html#7272" class="Bound">x</a><a id="7301" class="Symbol">)</a> <a id="7303" href="Prelude.Inverses.html#620" class="Datatype Operator">≡</a> <a id="7305" href="Prelude.Preliminaries.html#12622" class="Function Operator">∣</a> <a id="7307" href="Birkhoff.HSPTheorem.html#7199" class="Function">ϕ</a> <a id="7309" href="Prelude.Preliminaries.html#12622" class="Function Operator">∣</a> <a id="7311" class="Symbol">(</a><a id="7312" href="Terms.Operations.html#753" class="InductiveConstructor">ℊ</a> <a id="7314" href="Birkhoff.HSPTheorem.html#7272" class="Bound">x</a><a id="7315" class="Symbol">)</a>
  <a id="7319" href="Birkhoff.HSPTheorem.html#7264" class="Function">f𝔑≡ϕ</a> <a id="7324" href="Birkhoff.HSPTheorem.html#7324" class="Bound">x</a> <a id="7326" class="Symbol">=</a> <a id="7328" href="Prelude.Inverses.html#634" class="InductiveConstructor">𝓇ℯ𝒻𝓁</a>
  <a id="7335" href="Birkhoff.HSPTheorem.html#7335" class="Function">h≡ϕ</a> <a id="7339" class="Symbol">:</a> <a id="7341" class="Symbol">∀</a> <a id="7343" href="Birkhoff.HSPTheorem.html#7343" class="Bound">t</a> <a id="7345" class="Symbol">→</a> <a id="7347" class="Symbol">(</a><a id="7348" href="Prelude.Preliminaries.html#12622" class="Function Operator">∣</a> <a id="7350" href="Birkhoff.HSPTheorem.html#7157" class="Function">f</a> <a id="7352" href="Prelude.Preliminaries.html#12622" class="Function Operator">∣</a> <a id="7354" href="MGS-MLTT.html#3813" class="Function Operator">∘</a> <a id="7356" href="Prelude.Preliminaries.html#12622" class="Function Operator">∣</a> <a id="7358" href="Birkhoff.HSPTheorem.html#6462" class="Function">𝔑</a> <a id="7360" href="Prelude.Preliminaries.html#12622" class="Function Operator">∣</a><a id="7361" class="Symbol">)</a> <a id="7363" href="Birkhoff.HSPTheorem.html#7343" class="Bound">t</a> <a id="7365" href="Prelude.Inverses.html#620" class="Datatype Operator">≡</a> <a id="7367" href="Prelude.Preliminaries.html#12622" class="Function Operator">∣</a> <a id="7369" href="Birkhoff.HSPTheorem.html#7199" class="Function">ϕ</a> <a id="7371" href="Prelude.Preliminaries.html#12622" class="Function Operator">∣</a> <a id="7373" href="Birkhoff.HSPTheorem.html#7343" class="Bound">t</a>
  <a id="7377" href="Birkhoff.HSPTheorem.html#7335" class="Function">h≡ϕ</a> <a id="7381" href="Birkhoff.HSPTheorem.html#7381" class="Bound">t</a> <a id="7383" class="Symbol">=</a> <a id="7385" href="Terms.Basic.html#4777" class="Function">free-unique</a> <a id="7397" href="Birkhoff.HSPTheorem.html#2579" class="Bound">gfe</a> <a id="7401" href="Birkhoff.HSPTheorem.html#7137" class="Bound">𝑨</a> <a id="7403" href="Birkhoff.HSPTheorem.html#7196" class="Function">h&#39;</a> <a id="7406" href="Birkhoff.HSPTheorem.html#7199" class="Function">ϕ</a> <a id="7408" href="Birkhoff.HSPTheorem.html#7264" class="Function">f𝔑≡ϕ</a> <a id="7413" href="Birkhoff.HSPTheorem.html#7381" class="Bound">t</a>

  <a id="7418" href="Birkhoff.HSPTheorem.html#7418" class="Function">γ</a> <a id="7420" class="Symbol">:</a> <a id="7422" href="Prelude.Preliminaries.html#12622" class="Function Operator">∣</a> <a id="7424" href="Birkhoff.HSPTheorem.html#7199" class="Function">ϕ</a> <a id="7426" href="Prelude.Preliminaries.html#12622" class="Function Operator">∣</a> <a id="7428" href="Birkhoff.HSPTheorem.html#7126" class="Bound">p</a> <a id="7430" href="Prelude.Inverses.html#620" class="Datatype Operator">≡</a> <a id="7432" href="Prelude.Preliminaries.html#12622" class="Function Operator">∣</a> <a id="7434" href="Birkhoff.HSPTheorem.html#7199" class="Function">ϕ</a> <a id="7436" href="Prelude.Preliminaries.html#12622" class="Function Operator">∣</a> <a id="7438" href="Birkhoff.HSPTheorem.html#7130" class="Bound">q</a>
  <a id="7442" href="Birkhoff.HSPTheorem.html#7418" class="Function">γ</a> <a id="7444" class="Symbol">=</a> <a id="7446" href="Prelude.Preliminaries.html#12622" class="Function Operator">∣</a> <a id="7448" href="Birkhoff.HSPTheorem.html#7199" class="Function">ϕ</a> <a id="7450" href="Prelude.Preliminaries.html#12622" class="Function Operator">∣</a> <a id="7452" href="Birkhoff.HSPTheorem.html#7126" class="Bound">p</a>         <a id="7462" href="MGS-MLTT.html#5997" class="Function Operator">≡⟨</a> <a id="7465" class="Symbol">(</a><a id="7466" href="Birkhoff.HSPTheorem.html#7335" class="Function">h≡ϕ</a> <a id="7470" href="Birkhoff.HSPTheorem.html#7126" class="Bound">p</a><a id="7471" class="Symbol">)</a><a id="7472" href="MGS-MLTT.html#6125" class="Function Operator">⁻¹</a> <a id="7475" href="MGS-MLTT.html#5997" class="Function Operator">⟩</a>
      <a id="7483" href="Prelude.Preliminaries.html#12622" class="Function Operator">∣</a> <a id="7485" href="Birkhoff.HSPTheorem.html#7157" class="Function">f</a> <a id="7487" href="Prelude.Preliminaries.html#12622" class="Function Operator">∣</a> <a id="7489" class="Symbol">(</a> <a id="7491" href="Prelude.Preliminaries.html#12622" class="Function Operator">∣</a> <a id="7493" href="Birkhoff.HSPTheorem.html#6462" class="Function">𝔑</a> <a id="7495" href="Prelude.Preliminaries.html#12622" class="Function Operator">∣</a> <a id="7497" href="Birkhoff.HSPTheorem.html#7126" class="Bound">p</a> <a id="7499" class="Symbol">)</a> <a id="7501" href="MGS-MLTT.html#5997" class="Function Operator">≡⟨</a> <a id="7504" href="MGS-MLTT.html#6613" class="Function">ap</a> <a id="7507" href="Prelude.Preliminaries.html#12622" class="Function Operator">∣</a> <a id="7509" href="Birkhoff.HSPTheorem.html#7157" class="Function">f</a> <a id="7511" href="Prelude.Preliminaries.html#12622" class="Function Operator">∣</a> <a id="7513" href="Birkhoff.HSPTheorem.html#7133" class="Bound">𝔑pq</a> <a id="7517" href="MGS-MLTT.html#5997" class="Function Operator">⟩</a>
      <a id="7525" href="Prelude.Preliminaries.html#12622" class="Function Operator">∣</a> <a id="7527" href="Birkhoff.HSPTheorem.html#7157" class="Function">f</a> <a id="7529" href="Prelude.Preliminaries.html#12622" class="Function Operator">∣</a> <a id="7531" class="Symbol">(</a> <a id="7533" href="Prelude.Preliminaries.html#12622" class="Function Operator">∣</a> <a id="7535" href="Birkhoff.HSPTheorem.html#6462" class="Function">𝔑</a> <a id="7537" href="Prelude.Preliminaries.html#12622" class="Function Operator">∣</a> <a id="7539" href="Birkhoff.HSPTheorem.html#7130" class="Bound">q</a> <a id="7541" class="Symbol">)</a> <a id="7543" href="MGS-MLTT.html#5997" class="Function Operator">≡⟨</a> <a id="7546" href="Birkhoff.HSPTheorem.html#7335" class="Function">h≡ϕ</a> <a id="7550" href="Birkhoff.HSPTheorem.html#7130" class="Bound">q</a> <a id="7552" href="MGS-MLTT.html#5997" class="Function Operator">⟩</a>
      <a id="7560" href="Prelude.Preliminaries.html#12622" class="Function Operator">∣</a> <a id="7562" href="Birkhoff.HSPTheorem.html#7199" class="Function">ϕ</a> <a id="7564" href="Prelude.Preliminaries.html#12622" class="Function Operator">∣</a> <a id="7566" href="Birkhoff.HSPTheorem.html#7130" class="Bound">q</a> <a id="7568" href="MGS-MLTT.html#6079" class="Function Operator">∎</a>


<a id="ψlemma2"></a><a id="7572" href="Birkhoff.HSPTheorem.html#7572" class="Function">ψlemma2</a> <a id="7580" class="Symbol">:</a> <a id="7582" href="Relations.Binary.html#1297" class="Function">KER-pred</a> <a id="7591" href="Prelude.Preliminaries.html#12622" class="Function Operator">∣</a> <a id="7593" href="Birkhoff.HSPTheorem.html#5005" class="Function">hom𝔽</a> <a id="7598" href="Prelude.Preliminaries.html#12622" class="Function Operator">∣</a> <a id="7600" href="Relations.Unary.html#2383" class="Function Operator">⊆</a> <a id="7602" href="Birkhoff.FreeAlgebra.html#4393" class="Function">ψ</a> <a id="7604" href="Birkhoff.HSPTheorem.html#2688" class="Bound">𝒦</a>
<a id="7606" href="Birkhoff.HSPTheorem.html#7572" class="Function">ψlemma2</a> <a id="7614" class="Symbol">{</a><a id="7615" href="Birkhoff.HSPTheorem.html#7615" class="Bound">p</a> <a id="7617" href="Prelude.Equality.html#493" class="InductiveConstructor Operator">,</a> <a id="7619" href="Birkhoff.HSPTheorem.html#7619" class="Bound">q</a><a id="7620" class="Symbol">}</a> <a id="7622" href="Birkhoff.HSPTheorem.html#7622" class="Bound">hyp</a> <a id="7626" class="Symbol">=</a> <a id="7628" href="Birkhoff.HSPTheorem.html#7086" class="Function">ψlemma1</a> <a id="7636" class="Symbol">{</a><a id="7637" href="Birkhoff.HSPTheorem.html#7615" class="Bound">p</a> <a id="7639" href="Prelude.Equality.html#493" class="InductiveConstructor Operator">,</a> <a id="7641" href="Birkhoff.HSPTheorem.html#7619" class="Bound">q</a><a id="7642" class="Symbol">}</a> <a id="7644" href="Birkhoff.HSPTheorem.html#7657" class="Function">γ</a>
  <a id="7648" class="Keyword">where</a>
   <a id="7657" href="Birkhoff.HSPTheorem.html#7657" class="Function">γ</a> <a id="7659" class="Symbol">:</a> <a id="7661" class="Symbol">(</a><a id="7662" href="Terms.Basic.html#4221" class="Function">free-lift</a> <a id="7672" href="Birkhoff.HSPTheorem.html#4921" class="Function">𝔽</a> <a id="7674" href="Birkhoff.HSPTheorem.html#6429" class="Function">X↪𝔽</a><a id="7677" class="Symbol">)</a> <a id="7679" href="Birkhoff.HSPTheorem.html#7615" class="Bound">p</a> <a id="7681" href="Prelude.Inverses.html#620" class="Datatype Operator">≡</a> <a id="7683" class="Symbol">(</a><a id="7684" href="Terms.Basic.html#4221" class="Function">free-lift</a> <a id="7694" href="Birkhoff.HSPTheorem.html#4921" class="Function">𝔽</a> <a id="7696" href="Birkhoff.HSPTheorem.html#6429" class="Function">X↪𝔽</a><a id="7699" class="Symbol">)</a> <a id="7701" href="Birkhoff.HSPTheorem.html#7619" class="Bound">q</a>
   <a id="7706" href="Birkhoff.HSPTheorem.html#7657" class="Function">γ</a> <a id="7708" class="Symbol">=</a> <a id="7710" class="Symbol">(</a><a id="7711" href="Birkhoff.HSPTheorem.html#6596" class="Function">hom𝔽-is-lift-hom</a> <a id="7728" href="Birkhoff.HSPTheorem.html#7615" class="Bound">p</a><a id="7729" class="Symbol">)</a> <a id="7731" href="MGS-MLTT.html#5910" class="Function Operator">∙</a> <a id="7733" href="Birkhoff.HSPTheorem.html#7622" class="Bound">hyp</a> <a id="7737" href="MGS-MLTT.html#5910" class="Function Operator">∙</a> <a id="7739" class="Symbol">(</a><a id="7740" href="Birkhoff.HSPTheorem.html#6596" class="Function">hom𝔽-is-lift-hom</a> <a id="7757" href="Birkhoff.HSPTheorem.html#7619" class="Bound">q</a><a id="7758" class="Symbol">)</a><a id="7759" href="MGS-MLTT.html#6125" class="Function Operator">⁻¹</a>


<a id="ψlemma3"></a><a id="7764" href="Birkhoff.HSPTheorem.html#7764" class="Function">ψlemma3</a> <a id="7772" class="Symbol">:</a> <a id="7774" class="Symbol">∀</a> <a id="7776" href="Birkhoff.HSPTheorem.html#7776" class="Bound">p</a> <a id="7778" href="Birkhoff.HSPTheorem.html#7778" class="Bound">q</a> <a id="7780" class="Symbol">→</a> <a id="7782" class="Symbol">(</a><a id="7783" href="Birkhoff.HSPTheorem.html#7776" class="Bound">p</a> <a id="7785" href="Prelude.Equality.html#493" class="InductiveConstructor Operator">,</a> <a id="7787" href="Birkhoff.HSPTheorem.html#7778" class="Bound">q</a><a id="7788" class="Symbol">)</a> <a id="7790" href="Relations.Unary.html#2061" class="Function Operator">∈</a> <a id="7792" href="Birkhoff.FreeAlgebra.html#4393" class="Function">ψ</a> <a id="7794" href="Birkhoff.HSPTheorem.html#2688" class="Bound">𝒦</a> <a id="7796" class="Symbol">→</a> <a id="7798" href="Birkhoff.HSPTheorem.html#2688" class="Bound">𝒦</a> <a id="7800" href="Varieties.EquationalLogic.html#2724" class="Function Operator">⊧</a> <a id="7802" href="Birkhoff.HSPTheorem.html#7776" class="Bound">p</a> <a id="7804" href="Varieties.EquationalLogic.html#2724" class="Function Operator">≋</a> <a id="7806" href="Birkhoff.HSPTheorem.html#7778" class="Bound">q</a>
<a id="7808" href="Birkhoff.HSPTheorem.html#7764" class="Function">ψlemma3</a> <a id="7816" href="Birkhoff.HSPTheorem.html#7816" class="Bound">p</a> <a id="7818" href="Birkhoff.HSPTheorem.html#7818" class="Bound">q</a> <a id="7820" href="Birkhoff.HSPTheorem.html#7820" class="Bound">pψq</a> <a id="7824" class="Symbol">{</a><a id="7825" href="Birkhoff.HSPTheorem.html#7825" class="Bound">𝑨</a><a id="7826" class="Symbol">}</a> <a id="7828" href="Birkhoff.HSPTheorem.html#7828" class="Bound">kA</a> <a id="7831" class="Symbol">=</a> <a id="7833" href="Birkhoff.HSPTheorem.html#7904" class="Function">γ</a>
 <a id="7836" class="Keyword">where</a>
  <a id="7844" href="Birkhoff.HSPTheorem.html#7844" class="Function">skA</a> <a id="7848" class="Symbol">:</a> <a id="7850" href="Birkhoff.HSPTheorem.html#7825" class="Bound">𝑨</a> <a id="7852" href="Relations.Unary.html#2061" class="Function Operator">∈</a> <a id="7854" href="Varieties.Varieties.html#2944" class="Datatype">S</a> <a id="7856" href="Birkhoff.HSPTheorem.html#2688" class="Bound">𝒦</a>
  <a id="7860" href="Birkhoff.HSPTheorem.html#7844" class="Function">skA</a> <a id="7864" class="Symbol">=</a> <a id="7866" href="Varieties.Varieties.html#3307" class="InductiveConstructor">siso</a> <a id="7871" class="Symbol">(</a><a id="7872" href="Varieties.Varieties.html#3042" class="InductiveConstructor">sbase</a> <a id="7878" href="Birkhoff.HSPTheorem.html#7828" class="Bound">kA</a><a id="7880" class="Symbol">)</a> <a id="7882" class="Symbol">(</a><a id="7883" href="Homomorphisms.Isomorphisms.html#2967" class="Function">sym-≅</a> <a id="7889" href="Homomorphisms.Isomorphisms.html#4881" class="Function">lift-alg-≅</a><a id="7899" class="Symbol">)</a>

  <a id="7904" href="Birkhoff.HSPTheorem.html#7904" class="Function">γ</a> <a id="7906" class="Symbol">:</a> <a id="7908" class="Symbol">(</a><a id="7909" href="Birkhoff.HSPTheorem.html#7816" class="Bound">p</a> <a id="7911" href="Terms.Operations.html#1695" class="Function Operator">̇</a> <a id="7913" href="Birkhoff.HSPTheorem.html#7825" class="Bound">𝑨</a><a id="7914" class="Symbol">)</a> <a id="7916" href="Prelude.Inverses.html#620" class="Datatype Operator">≡</a> <a id="7918" class="Symbol">(</a><a id="7919" href="Birkhoff.HSPTheorem.html#7818" class="Bound">q</a> <a id="7921" href="Terms.Operations.html#1695" class="Function Operator">̇</a> <a id="7923" href="Birkhoff.HSPTheorem.html#7825" class="Bound">𝑨</a><a id="7924" class="Symbol">)</a>
  <a id="7928" href="Birkhoff.HSPTheorem.html#7904" class="Function">γ</a> <a id="7930" class="Symbol">=</a> <a id="7932" href="Birkhoff.HSPTheorem.html#2579" class="Bound">gfe</a> <a id="7936" class="Symbol">λ</a> <a id="7938" href="Birkhoff.HSPTheorem.html#7938" class="Bound">h</a> <a id="7940" class="Symbol">→</a> <a id="7942" class="Symbol">(</a><a id="7943" href="Birkhoff.HSPTheorem.html#7816" class="Bound">p</a> <a id="7945" href="Terms.Operations.html#1695" class="Function Operator">̇</a> <a id="7947" href="Birkhoff.HSPTheorem.html#7825" class="Bound">𝑨</a><a id="7948" class="Symbol">)</a> <a id="7950" href="Birkhoff.HSPTheorem.html#7938" class="Bound">h</a>         <a id="7960" href="MGS-MLTT.html#5997" class="Function Operator">≡⟨</a> <a id="7963" href="Terms.Operations.html#1978" class="Function">free-lift-interp</a> <a id="7980" href="Birkhoff.HSPTheorem.html#7825" class="Bound">𝑨</a> <a id="7982" href="Birkhoff.HSPTheorem.html#7938" class="Bound">h</a> <a id="7984" href="Birkhoff.HSPTheorem.html#7816" class="Bound">p</a> <a id="7986" href="MGS-MLTT.html#5997" class="Function Operator">⟩</a>
                <a id="8004" class="Symbol">(</a><a id="8005" href="Terms.Basic.html#4221" class="Function">free-lift</a> <a id="8015" href="Birkhoff.HSPTheorem.html#7825" class="Bound">𝑨</a> <a id="8017" href="Birkhoff.HSPTheorem.html#7938" class="Bound">h</a><a id="8018" class="Symbol">)</a> <a id="8020" href="Birkhoff.HSPTheorem.html#7816" class="Bound">p</a> <a id="8022" href="MGS-MLTT.html#5997" class="Function Operator">≡⟨</a> <a id="8025" href="Birkhoff.HSPTheorem.html#7820" class="Bound">pψq</a> <a id="8029" href="Birkhoff.HSPTheorem.html#7825" class="Bound">𝑨</a> <a id="8031" href="Birkhoff.HSPTheorem.html#7844" class="Function">skA</a> <a id="8035" href="Birkhoff.HSPTheorem.html#7938" class="Bound">h</a> <a id="8037" href="MGS-MLTT.html#5997" class="Function Operator">⟩</a>
                <a id="8055" class="Symbol">(</a><a id="8056" href="Terms.Basic.html#4221" class="Function">free-lift</a> <a id="8066" href="Birkhoff.HSPTheorem.html#7825" class="Bound">𝑨</a> <a id="8068" href="Birkhoff.HSPTheorem.html#7938" class="Bound">h</a><a id="8069" class="Symbol">)</a> <a id="8071" href="Birkhoff.HSPTheorem.html#7818" class="Bound">q</a> <a id="8073" href="MGS-MLTT.html#5997" class="Function Operator">≡⟨</a> <a id="8076" class="Symbol">(</a><a id="8077" href="Terms.Operations.html#1978" class="Function">free-lift-interp</a> <a id="8094" href="Birkhoff.HSPTheorem.html#7825" class="Bound">𝑨</a> <a id="8096" href="Birkhoff.HSPTheorem.html#7938" class="Bound">h</a> <a id="8098" href="Birkhoff.HSPTheorem.html#7818" class="Bound">q</a><a id="8099" class="Symbol">)</a><a id="8100" href="MGS-MLTT.html#6125" class="Function Operator">⁻¹</a>  <a id="8104" href="MGS-MLTT.html#5997" class="Function Operator">⟩</a>
                <a id="8122" class="Symbol">(</a><a id="8123" href="Birkhoff.HSPTheorem.html#7818" class="Bound">q</a> <a id="8125" href="Terms.Operations.html#1695" class="Function Operator">̇</a> <a id="8127" href="Birkhoff.HSPTheorem.html#7825" class="Bound">𝑨</a><a id="8128" class="Symbol">)</a> <a id="8130" href="Birkhoff.HSPTheorem.html#7938" class="Bound">h</a>         <a id="8140" href="MGS-MLTT.html#6079" class="Function Operator">∎</a>


</pre>

With these results in hand, it is now trivial to prove the main theorem of this subsection.

<pre class="Agda">

<a id="class-models-kernel"></a><a id="8263" href="Birkhoff.HSPTheorem.html#8263" class="Function">class-models-kernel</a> <a id="8283" class="Symbol">:</a> <a id="8285" class="Symbol">∀</a> <a id="8287" href="Birkhoff.HSPTheorem.html#8287" class="Bound">p</a> <a id="8289" href="Birkhoff.HSPTheorem.html#8289" class="Bound">q</a> <a id="8291" class="Symbol">→</a> <a id="8293" class="Symbol">(</a><a id="8294" href="Birkhoff.HSPTheorem.html#8287" class="Bound">p</a> <a id="8296" href="Prelude.Equality.html#493" class="InductiveConstructor Operator">,</a> <a id="8298" href="Birkhoff.HSPTheorem.html#8289" class="Bound">q</a><a id="8299" class="Symbol">)</a> <a id="8301" href="Relations.Unary.html#2061" class="Function Operator">∈</a> <a id="8303" href="Relations.Binary.html#1297" class="Function">KER-pred</a> <a id="8312" href="Prelude.Preliminaries.html#12622" class="Function Operator">∣</a> <a id="8314" href="Birkhoff.HSPTheorem.html#5005" class="Function">hom𝔽</a> <a id="8319" href="Prelude.Preliminaries.html#12622" class="Function Operator">∣</a> <a id="8321" class="Symbol">→</a> <a id="8323" href="Birkhoff.HSPTheorem.html#2688" class="Bound">𝒦</a> <a id="8325" href="Varieties.EquationalLogic.html#2724" class="Function Operator">⊧</a> <a id="8327" href="Birkhoff.HSPTheorem.html#8287" class="Bound">p</a> <a id="8329" href="Varieties.EquationalLogic.html#2724" class="Function Operator">≋</a> <a id="8331" href="Birkhoff.HSPTheorem.html#8289" class="Bound">q</a>
<a id="8333" href="Birkhoff.HSPTheorem.html#8263" class="Function">class-models-kernel</a>  <a id="8354" href="Birkhoff.HSPTheorem.html#8354" class="Bound">p</a> <a id="8356" href="Birkhoff.HSPTheorem.html#8356" class="Bound">q</a> <a id="8358" href="Birkhoff.HSPTheorem.html#8358" class="Bound">hyp</a> <a id="8362" class="Symbol">=</a> <a id="8364" href="Birkhoff.HSPTheorem.html#7764" class="Function">ψlemma3</a> <a id="8372" href="Birkhoff.HSPTheorem.html#8354" class="Bound">p</a> <a id="8374" href="Birkhoff.HSPTheorem.html#8356" class="Bound">q</a> <a id="8376" class="Symbol">(</a><a id="8377" href="Birkhoff.HSPTheorem.html#7572" class="Function">ψlemma2</a> <a id="8385" href="Birkhoff.HSPTheorem.html#8358" class="Bound">hyp</a><a id="8388" class="Symbol">)</a>

</pre>


#### <a id="the-homomorphic-images-of-F">The homomorphic images of 𝔽</a>

Finally we come to one of the main theorems of this module; it asserts that every algebra in `Mod X (Th 𝕍𝒦)` is a homomorphic image of 𝔽.  We prove this below as the function (or proof object) `𝔽-ModTh-epi`.  Before that, we prove two auxiliary lemmas.

<pre class="Agda">

<a id="kernel-in-theory"></a><a id="8746" href="Birkhoff.HSPTheorem.html#8746" class="Function">kernel-in-theory</a> <a id="8763" class="Symbol">:</a> <a id="8765" href="Relations.Binary.html#1297" class="Function">KER-pred</a> <a id="8774" href="Prelude.Preliminaries.html#12622" class="Function Operator">∣</a> <a id="8776" href="Birkhoff.HSPTheorem.html#5005" class="Function">hom𝔽</a> <a id="8781" href="Prelude.Preliminaries.html#12622" class="Function Operator">∣</a> <a id="8783" href="Relations.Unary.html#2383" class="Function Operator">⊆</a> <a id="8785" href="Varieties.EquationalLogic.html#3631" class="Function">Th</a> <a id="8788" class="Symbol">(</a><a id="8789" href="Varieties.Varieties.html#4593" class="Datatype">V</a> <a id="8791" href="Birkhoff.HSPTheorem.html#2688" class="Bound">𝒦</a><a id="8792" class="Symbol">)</a>
<a id="8794" href="Birkhoff.HSPTheorem.html#8746" class="Function">kernel-in-theory</a> <a id="8811" class="Symbol">{</a><a id="8812" href="Birkhoff.HSPTheorem.html#8812" class="Bound">p</a> <a id="8814" href="Prelude.Equality.html#493" class="InductiveConstructor Operator">,</a> <a id="8816" href="Birkhoff.HSPTheorem.html#8816" class="Bound">q</a><a id="8817" class="Symbol">}</a> <a id="8819" href="Birkhoff.HSPTheorem.html#8819" class="Bound">pKq</a> <a id="8823" class="Symbol">=</a> <a id="8825" class="Symbol">(</a><a id="8826" href="Varieties.Preservation.html#10813" class="Function">class-ids-⇒</a> <a id="8838" href="Birkhoff.HSPTheorem.html#8812" class="Bound">p</a> <a id="8840" href="Birkhoff.HSPTheorem.html#8816" class="Bound">q</a> <a id="8842" class="Symbol">(</a><a id="8843" href="Birkhoff.HSPTheorem.html#8263" class="Function">class-models-kernel</a> <a id="8863" href="Birkhoff.HSPTheorem.html#8812" class="Bound">p</a> <a id="8865" href="Birkhoff.HSPTheorem.html#8816" class="Bound">q</a> <a id="8867" href="Birkhoff.HSPTheorem.html#8819" class="Bound">pKq</a><a id="8870" class="Symbol">))</a>

<a id="8874" class="Keyword">open</a> <a id="8879" href="Algebras.Congruences.html#1106" class="Module">Congruence</a>
<a id="free-quot-subalg-ℭ"></a><a id="8890" href="Birkhoff.HSPTheorem.html#8890" class="Function">free-quot-subalg-ℭ</a> <a id="8909" class="Symbol">:</a> <a id="8911" href="MGS-Basic-UF.html#1929" class="Function">is-set</a> <a id="8918" href="Prelude.Preliminaries.html#12622" class="Function Operator">∣</a> <a id="8920" href="Birkhoff.HSPTheorem.html#4256" class="Function">ℭ</a> <a id="8922" href="Prelude.Preliminaries.html#12622" class="Function Operator">∣</a>
 <a id="8925" class="Symbol">→</a>                   <a id="8945" class="Symbol">(∀</a> <a id="8948" href="Birkhoff.HSPTheorem.html#8948" class="Bound">p</a> <a id="8950" href="Birkhoff.HSPTheorem.html#8950" class="Bound">q</a> <a id="8952" class="Symbol">→</a> <a id="8954" href="MGS-Basic-UF.html#743" class="Function">is-subsingleton</a> <a id="8970" class="Symbol">(</a><a id="8971" href="Algebras.Congruences.html#1200" class="Field Operator">⟨</a> <a id="8973" href="Homomorphisms.Basic.html#6021" class="Function">kercon</a> <a id="8980" href="Birkhoff.HSPTheorem.html#4256" class="Function">ℭ</a> <a id="8982" href="Birkhoff.HSPTheorem.html#4445" class="Function">homℭ</a> <a id="8987" href="Algebras.Congruences.html#1200" class="Field Operator">⟩</a> <a id="8989" href="Birkhoff.HSPTheorem.html#8948" class="Bound">p</a> <a id="8991" href="Birkhoff.HSPTheorem.html#8950" class="Bound">q</a><a id="8992" class="Symbol">))</a>
 <a id="8996" class="Symbol">→</a>                   <a id="9016" class="Symbol">(∀</a> <a id="9019" href="Birkhoff.HSPTheorem.html#9019" class="Bound">C</a> <a id="9021" class="Symbol">→</a> <a id="9023" href="MGS-Basic-UF.html#743" class="Function">is-subsingleton</a> <a id="9039" class="Symbol">(</a><a id="9040" href="Relations.Quotients.html#3255" class="Function">𝒞</a><a id="9041" class="Symbol">{</a><a id="9042" class="Argument">A</a> <a id="9044" class="Symbol">=</a> <a id="9046" href="Prelude.Preliminaries.html#12622" class="Function Operator">∣</a> <a id="9048" href="Terms.Basic.html#3603" class="Function">𝑻</a> <a id="9050" href="Birkhoff.HSPTheorem.html#2677" class="Bound">X</a> <a id="9052" href="Prelude.Preliminaries.html#12622" class="Function Operator">∣</a><a id="9053" class="Symbol">}{</a><a id="9055" href="Algebras.Congruences.html#1200" class="Field Operator">⟨</a> <a id="9057" href="Homomorphisms.Basic.html#6021" class="Function">kercon</a> <a id="9064" href="Birkhoff.HSPTheorem.html#4256" class="Function">ℭ</a> <a id="9066" href="Birkhoff.HSPTheorem.html#4445" class="Function">homℭ</a> <a id="9071" href="Algebras.Congruences.html#1200" class="Field Operator">⟩</a><a id="9072" class="Symbol">}</a> <a id="9074" href="Birkhoff.HSPTheorem.html#9019" class="Bound">C</a><a id="9075" class="Symbol">))</a>
                     <a id="9099" class="Comment">-----------------------------------------------------------</a>
 <a id="9160" class="Symbol">→</a>                   <a id="9180" class="Symbol">((</a><a id="9182" href="Terms.Basic.html#3603" class="Function">𝑻</a> <a id="9184" href="Birkhoff.HSPTheorem.html#2677" class="Bound">X</a><a id="9185" class="Symbol">)</a> <a id="9187" href="Homomorphisms.Basic.html#6416" class="Function Operator">[</a> <a id="9189" href="Birkhoff.HSPTheorem.html#4256" class="Function">ℭ</a> <a id="9191" href="Homomorphisms.Basic.html#6416" class="Function Operator">]/ker</a> <a id="9197" href="Birkhoff.HSPTheorem.html#4445" class="Function">homℭ</a><a id="9201" class="Symbol">)</a> <a id="9203" href="Subalgebras.Subalgebras.html#3589" class="Function Operator">≤</a> <a id="9205" href="Birkhoff.HSPTheorem.html#4256" class="Function">ℭ</a>

<a id="9208" href="Birkhoff.HSPTheorem.html#8890" class="Function">free-quot-subalg-ℭ</a> <a id="9227" href="Birkhoff.HSPTheorem.html#9227" class="Bound">Cset</a> <a id="9232" href="Birkhoff.HSPTheorem.html#9232" class="Bound">ssR</a> <a id="9236" href="Birkhoff.HSPTheorem.html#9236" class="Bound">ssC</a> <a id="9240" class="Symbol">=</a> <a id="9242" href="Subalgebras.Subalgebras.html#2060" class="Function">FirstHomCorollary</a> <a id="9260" class="Symbol">(</a><a id="9261" href="Terms.Basic.html#3603" class="Function">𝑻</a> <a id="9263" href="Birkhoff.HSPTheorem.html#2677" class="Bound">X</a><a id="9264" class="Symbol">)</a> <a id="9266" href="Birkhoff.HSPTheorem.html#4256" class="Function">ℭ</a> <a id="9268" href="Birkhoff.HSPTheorem.html#4445" class="Function">homℭ</a> <a id="9273" href="Birkhoff.HSPTheorem.html#2784" class="Bound">pe&#39;</a> <a id="9277" href="Birkhoff.HSPTheorem.html#9227" class="Bound">Cset</a> <a id="9282" href="Birkhoff.HSPTheorem.html#9232" class="Bound">ssR</a> <a id="9286" href="Birkhoff.HSPTheorem.html#9236" class="Bound">ssC</a>


<a id="9292" class="Keyword">module</a> <a id="9299" href="Birkhoff.HSPTheorem.html#9299" class="Module">_</a> <a id="9301" class="Symbol">(</a><a id="9302" href="Birkhoff.HSPTheorem.html#9302" class="Bound">Cset</a> <a id="9307" class="Symbol">:</a> <a id="9309" href="MGS-Basic-UF.html#1929" class="Function">is-set</a> <a id="9316" href="Prelude.Preliminaries.html#12622" class="Function Operator">∣</a> <a id="9318" href="Birkhoff.HSPTheorem.html#4256" class="Function">ℭ</a> <a id="9320" href="Prelude.Preliminaries.html#12622" class="Function Operator">∣</a><a id="9321" class="Symbol">)</a>
         <a id="9332" class="Symbol">(</a><a id="9333" href="Birkhoff.HSPTheorem.html#9333" class="Bound">ssR</a> <a id="9337" class="Symbol">:</a> <a id="9339" class="Symbol">∀</a> <a id="9341" href="Birkhoff.HSPTheorem.html#9341" class="Bound">p</a> <a id="9343" href="Birkhoff.HSPTheorem.html#9343" class="Bound">q</a> <a id="9345" class="Symbol">→</a> <a id="9347" href="MGS-Basic-UF.html#743" class="Function">is-subsingleton</a> <a id="9363" class="Symbol">(</a><a id="9364" href="Algebras.Congruences.html#1200" class="Field Operator">⟨</a> <a id="9366" href="Homomorphisms.Basic.html#6021" class="Function">kercon</a> <a id="9373" href="Birkhoff.HSPTheorem.html#4256" class="Function">ℭ</a> <a id="9375" href="Birkhoff.HSPTheorem.html#4445" class="Function">homℭ</a> <a id="9380" href="Algebras.Congruences.html#1200" class="Field Operator">⟩</a> <a id="9382" href="Birkhoff.HSPTheorem.html#9341" class="Bound">p</a> <a id="9384" href="Birkhoff.HSPTheorem.html#9343" class="Bound">q</a><a id="9385" class="Symbol">))</a>
         <a id="9397" class="Symbol">(</a><a id="9398" href="Birkhoff.HSPTheorem.html#9398" class="Bound">ssC</a> <a id="9402" class="Symbol">:</a> <a id="9404" class="Symbol">∀</a> <a id="9406" href="Birkhoff.HSPTheorem.html#9406" class="Bound">C</a> <a id="9408" class="Symbol">→</a> <a id="9410" href="MGS-Basic-UF.html#743" class="Function">is-subsingleton</a> <a id="9426" class="Symbol">(</a><a id="9427" href="Relations.Quotients.html#3255" class="Function">𝒞</a><a id="9428" class="Symbol">{</a><a id="9429" class="Argument">A</a> <a id="9431" class="Symbol">=</a> <a id="9433" href="Prelude.Preliminaries.html#12622" class="Function Operator">∣</a> <a id="9435" href="Terms.Basic.html#3603" class="Function">𝑻</a> <a id="9437" href="Birkhoff.HSPTheorem.html#2677" class="Bound">X</a> <a id="9439" href="Prelude.Preliminaries.html#12622" class="Function Operator">∣</a><a id="9440" class="Symbol">}{</a><a id="9442" href="Algebras.Congruences.html#1200" class="Field Operator">⟨</a> <a id="9444" href="Homomorphisms.Basic.html#6021" class="Function">kercon</a> <a id="9451" href="Birkhoff.HSPTheorem.html#4256" class="Function">ℭ</a> <a id="9453" href="Birkhoff.HSPTheorem.html#4445" class="Function">homℭ</a> <a id="9458" href="Algebras.Congruences.html#1200" class="Field Operator">⟩</a><a id="9459" class="Symbol">}</a> <a id="9461" href="Birkhoff.HSPTheorem.html#9406" class="Bound">C</a><a id="9462" class="Symbol">))</a> <a id="9465" class="Keyword">where</a>

 <a id="9473" href="Birkhoff.HSPTheorem.html#9473" class="Function">𝔽≤ℭ</a> <a id="9477" class="Symbol">:</a> <a id="9479" class="Symbol">((</a><a id="9481" href="Terms.Basic.html#3603" class="Function">𝑻</a> <a id="9483" href="Birkhoff.HSPTheorem.html#2677" class="Bound">X</a><a id="9484" class="Symbol">)</a> <a id="9486" href="Homomorphisms.Basic.html#6416" class="Function Operator">[</a> <a id="9488" href="Birkhoff.HSPTheorem.html#4256" class="Function">ℭ</a> <a id="9490" href="Homomorphisms.Basic.html#6416" class="Function Operator">]/ker</a> <a id="9496" href="Birkhoff.HSPTheorem.html#4445" class="Function">homℭ</a><a id="9500" class="Symbol">)</a> <a id="9502" href="Subalgebras.Subalgebras.html#3589" class="Function Operator">≤</a> <a id="9504" href="Birkhoff.HSPTheorem.html#4256" class="Function">ℭ</a>
 <a id="9507" href="Birkhoff.HSPTheorem.html#9473" class="Function">𝔽≤ℭ</a> <a id="9511" class="Symbol">=</a> <a id="9513" href="Birkhoff.HSPTheorem.html#8890" class="Function">free-quot-subalg-ℭ</a> <a id="9532" href="Birkhoff.HSPTheorem.html#9302" class="Bound">Cset</a> <a id="9537" href="Birkhoff.HSPTheorem.html#9333" class="Bound">ssR</a> <a id="9541" href="Birkhoff.HSPTheorem.html#9398" class="Bound">ssC</a>

 <a id="9547" href="Birkhoff.HSPTheorem.html#9547" class="Function">𝕍𝒦</a> <a id="9550" class="Symbol">:</a> <a id="9552" href="Relations.Unary.html#1062" class="Function">Pred</a> <a id="9557" class="Symbol">(</a><a id="9558" href="Algebras.Algebras.html#694" class="Function">Algebra</a> <a id="9566" href="Birkhoff.FreeAlgebra.html#2797" class="Function">𝓸𝓿𝓾+</a> <a id="9571" href="Birkhoff.HSPTheorem.html#2560" class="Bound">𝑆</a><a id="9572" class="Symbol">)</a> <a id="9574" href="Birkhoff.FreeAlgebra.html#2802" class="Function">𝓸𝓿𝓾++</a>
 <a id="9581" href="Birkhoff.HSPTheorem.html#9547" class="Function">𝕍𝒦</a> <a id="9584" class="Symbol">=</a> <a id="9586" href="Varieties.Varieties.html#4593" class="Datatype">V</a><a id="9587" class="Symbol">{</a><a id="9588" href="Birkhoff.HSPTheorem.html#2662" class="Bound">𝓤</a><a id="9589" class="Symbol">}{</a><a id="9591" href="Birkhoff.FreeAlgebra.html#2797" class="Function">𝓸𝓿𝓾+</a><a id="9595" class="Symbol">}</a> <a id="9597" href="Birkhoff.HSPTheorem.html#2688" class="Bound">𝒦</a>

 <a id="9601" href="Birkhoff.HSPTheorem.html#9601" class="Function">𝔽-ModTh-epi</a> <a id="9613" class="Symbol">:</a> <a id="9615" class="Symbol">(</a><a id="9616" href="Birkhoff.HSPTheorem.html#9616" class="Bound">𝑨</a> <a id="9618" class="Symbol">:</a> <a id="9620" href="Algebras.Algebras.html#694" class="Function">Algebra</a> <a id="9628" href="Birkhoff.FreeAlgebra.html#2797" class="Function">𝓸𝓿𝓾+</a> <a id="9633" href="Birkhoff.HSPTheorem.html#2560" class="Bound">𝑆</a><a id="9634" class="Symbol">)</a> <a id="9636" class="Symbol">→</a> <a id="9638" href="Birkhoff.HSPTheorem.html#9616" class="Bound">𝑨</a> <a id="9640" href="Relations.Unary.html#2061" class="Function Operator">∈</a> <a id="9642" href="Varieties.EquationalLogic.html#3946" class="Function">Mod</a> <a id="9646" href="Birkhoff.HSPTheorem.html#2677" class="Bound">X</a> <a id="9648" class="Symbol">(</a><a id="9649" href="Varieties.EquationalLogic.html#3631" class="Function">Th</a> <a id="9652" href="Birkhoff.HSPTheorem.html#9547" class="Function">𝕍𝒦</a><a id="9654" class="Symbol">)</a> <a id="9656" class="Symbol">→</a> <a id="9658" href="Homomorphisms.Basic.html#2951" class="Function">epi</a> <a id="9662" href="Birkhoff.HSPTheorem.html#4921" class="Function">𝔽</a> <a id="9664" href="Birkhoff.HSPTheorem.html#9616" class="Bound">𝑨</a>
 <a id="9667" href="Birkhoff.HSPTheorem.html#9601" class="Function">𝔽-ModTh-epi</a> <a id="9679" href="Birkhoff.HSPTheorem.html#9679" class="Bound">𝑨</a> <a id="9681" href="Birkhoff.HSPTheorem.html#9681" class="Bound">AinMTV</a> <a id="9688" class="Symbol">=</a> <a id="9690" href="Birkhoff.HSPTheorem.html#10441" class="Function">γ</a>
  <a id="9694" class="Keyword">where</a>
   <a id="9703" href="Birkhoff.HSPTheorem.html#9703" class="Function">ϕ</a> <a id="9705" class="Symbol">:</a> <a id="9707" href="Homomorphisms.Basic.html#2268" class="Function">hom</a> <a id="9711" class="Symbol">(</a><a id="9712" href="Terms.Basic.html#3603" class="Function">𝑻</a> <a id="9714" href="Birkhoff.HSPTheorem.html#2677" class="Bound">X</a><a id="9715" class="Symbol">)</a> <a id="9717" href="Birkhoff.HSPTheorem.html#9679" class="Bound">𝑨</a>
   <a id="9722" href="Birkhoff.HSPTheorem.html#9703" class="Function">ϕ</a> <a id="9724" class="Symbol">=</a> <a id="9726" href="Terms.Basic.html#4495" class="Function">lift-hom</a> <a id="9735" href="Birkhoff.HSPTheorem.html#9679" class="Bound">𝑨</a> <a id="9737" class="Symbol">(</a><a id="9738" href="Prelude.Preliminaries.html#12626" class="Function">fst</a><a id="9741" class="Symbol">(</a><a id="9742" href="Birkhoff.HSPTheorem.html#2603" class="Bound">𝕏</a> <a id="9744" href="Birkhoff.HSPTheorem.html#9679" class="Bound">𝑨</a><a id="9745" class="Symbol">))</a>

   <a id="9752" href="Birkhoff.HSPTheorem.html#9752" class="Function">ϕE</a> <a id="9755" class="Symbol">:</a> <a id="9757" href="Prelude.Inverses.html#2632" class="Function">Epic</a> <a id="9762" href="Prelude.Preliminaries.html#12622" class="Function Operator">∣</a> <a id="9764" href="Birkhoff.HSPTheorem.html#9703" class="Function">ϕ</a> <a id="9766" href="Prelude.Preliminaries.html#12622" class="Function Operator">∣</a>
   <a id="9771" href="Birkhoff.HSPTheorem.html#9752" class="Function">ϕE</a> <a id="9774" class="Symbol">=</a> <a id="9776" href="Terms.Basic.html#5688" class="Function">lift-of-epi-is-epi</a> <a id="9795" href="Birkhoff.HSPTheorem.html#9679" class="Bound">𝑨</a> <a id="9797" class="Symbol">(</a><a id="9798" href="Prelude.Preliminaries.html#12626" class="Function">fst</a> <a id="9802" class="Symbol">(</a><a id="9803" href="Birkhoff.HSPTheorem.html#2603" class="Bound">𝕏</a> <a id="9805" href="Birkhoff.HSPTheorem.html#9679" class="Bound">𝑨</a><a id="9806" class="Symbol">))</a> <a id="9809" class="Symbol">(</a><a id="9810" href="Prelude.Preliminaries.html#12704" class="Function">snd</a> <a id="9814" class="Symbol">(</a><a id="9815" href="Birkhoff.HSPTheorem.html#2603" class="Bound">𝕏</a> <a id="9817" href="Birkhoff.HSPTheorem.html#9679" class="Bound">𝑨</a><a id="9818" class="Symbol">))</a>

   <a id="9825" href="Birkhoff.HSPTheorem.html#9825" class="Function">pqlem2</a> <a id="9832" class="Symbol">:</a> <a id="9834" class="Symbol">∀</a> <a id="9836" href="Birkhoff.HSPTheorem.html#9836" class="Bound">p</a> <a id="9838" href="Birkhoff.HSPTheorem.html#9838" class="Bound">q</a> <a id="9840" class="Symbol">→</a> <a id="9842" class="Symbol">(</a><a id="9843" href="Birkhoff.HSPTheorem.html#9836" class="Bound">p</a> <a id="9845" href="Prelude.Equality.html#493" class="InductiveConstructor Operator">,</a> <a id="9847" href="Birkhoff.HSPTheorem.html#9838" class="Bound">q</a><a id="9848" class="Symbol">)</a> <a id="9850" href="Relations.Unary.html#2061" class="Function Operator">∈</a> <a id="9852" href="Relations.Binary.html#1297" class="Function">KER-pred</a> <a id="9861" href="Prelude.Preliminaries.html#12622" class="Function Operator">∣</a> <a id="9863" href="Birkhoff.HSPTheorem.html#5005" class="Function">hom𝔽</a> <a id="9868" href="Prelude.Preliminaries.html#12622" class="Function Operator">∣</a> <a id="9870" class="Symbol">→</a> <a id="9872" href="Birkhoff.HSPTheorem.html#9679" class="Bound">𝑨</a> <a id="9874" href="Varieties.EquationalLogic.html#2615" class="Function Operator">⊧</a> <a id="9876" href="Birkhoff.HSPTheorem.html#9836" class="Bound">p</a> <a id="9878" href="Varieties.EquationalLogic.html#2615" class="Function Operator">≈</a> <a id="9880" href="Birkhoff.HSPTheorem.html#9838" class="Bound">q</a>
   <a id="9885" href="Birkhoff.HSPTheorem.html#9825" class="Function">pqlem2</a> <a id="9892" href="Birkhoff.HSPTheorem.html#9892" class="Bound">p</a> <a id="9894" href="Birkhoff.HSPTheorem.html#9894" class="Bound">q</a> <a id="9896" href="Birkhoff.HSPTheorem.html#9896" class="Bound">hyp</a> <a id="9900" class="Symbol">=</a> <a id="9902" href="Birkhoff.HSPTheorem.html#9681" class="Bound">AinMTV</a> <a id="9909" href="Birkhoff.HSPTheorem.html#9892" class="Bound">p</a> <a id="9911" href="Birkhoff.HSPTheorem.html#9894" class="Bound">q</a> <a id="9913" class="Symbol">(</a><a id="9914" href="Birkhoff.HSPTheorem.html#8746" class="Function">kernel-in-theory</a> <a id="9931" href="Birkhoff.HSPTheorem.html#9896" class="Bound">hyp</a><a id="9934" class="Symbol">)</a>

   <a id="9940" href="Birkhoff.HSPTheorem.html#9940" class="Function">kerincl</a> <a id="9948" class="Symbol">:</a> <a id="9950" href="Relations.Binary.html#1297" class="Function">KER-pred</a> <a id="9959" href="Prelude.Preliminaries.html#12622" class="Function Operator">∣</a> <a id="9961" href="Birkhoff.HSPTheorem.html#5005" class="Function">hom𝔽</a> <a id="9966" href="Prelude.Preliminaries.html#12622" class="Function Operator">∣</a> <a id="9968" href="Relations.Unary.html#2383" class="Function Operator">⊆</a> <a id="9970" href="Relations.Binary.html#1297" class="Function">KER-pred</a> <a id="9979" href="Prelude.Preliminaries.html#12622" class="Function Operator">∣</a> <a id="9981" href="Birkhoff.HSPTheorem.html#9703" class="Function">ϕ</a> <a id="9983" href="Prelude.Preliminaries.html#12622" class="Function Operator">∣</a>
   <a id="9988" href="Birkhoff.HSPTheorem.html#9940" class="Function">kerincl</a> <a id="9996" class="Symbol">{</a><a id="9997" href="Birkhoff.HSPTheorem.html#9997" class="Bound">p</a> <a id="9999" href="Prelude.Equality.html#493" class="InductiveConstructor Operator">,</a> <a id="10001" href="Birkhoff.HSPTheorem.html#10001" class="Bound">q</a><a id="10002" class="Symbol">}</a> <a id="10004" href="Birkhoff.HSPTheorem.html#10004" class="Bound">x</a> <a id="10006" class="Symbol">=</a> <a id="10008" href="Birkhoff.HSPTheorem.html#10070" class="Function">γ</a>
    <a id="10014" class="Keyword">where</a>
     <a id="10025" href="Birkhoff.HSPTheorem.html#10025" class="Function">Apq</a> <a id="10029" class="Symbol">:</a> <a id="10031" href="Birkhoff.HSPTheorem.html#9679" class="Bound">𝑨</a> <a id="10033" href="Varieties.EquationalLogic.html#2615" class="Function Operator">⊧</a> <a id="10035" href="Birkhoff.HSPTheorem.html#9997" class="Bound">p</a> <a id="10037" href="Varieties.EquationalLogic.html#2615" class="Function Operator">≈</a> <a id="10039" href="Birkhoff.HSPTheorem.html#10001" class="Bound">q</a>
     <a id="10046" href="Birkhoff.HSPTheorem.html#10025" class="Function">Apq</a> <a id="10050" class="Symbol">=</a> <a id="10052" href="Birkhoff.HSPTheorem.html#9825" class="Function">pqlem2</a> <a id="10059" href="Birkhoff.HSPTheorem.html#9997" class="Bound">p</a> <a id="10061" href="Birkhoff.HSPTheorem.html#10001" class="Bound">q</a> <a id="10063" href="Birkhoff.HSPTheorem.html#10004" class="Bound">x</a>
     <a id="10070" href="Birkhoff.HSPTheorem.html#10070" class="Function">γ</a> <a id="10072" class="Symbol">:</a> <a id="10074" href="Prelude.Preliminaries.html#12622" class="Function Operator">∣</a> <a id="10076" href="Birkhoff.HSPTheorem.html#9703" class="Function">ϕ</a> <a id="10078" href="Prelude.Preliminaries.html#12622" class="Function Operator">∣</a> <a id="10080" href="Birkhoff.HSPTheorem.html#9997" class="Bound">p</a> <a id="10082" href="Prelude.Inverses.html#620" class="Datatype Operator">≡</a> <a id="10084" href="Prelude.Preliminaries.html#12622" class="Function Operator">∣</a> <a id="10086" href="Birkhoff.HSPTheorem.html#9703" class="Function">ϕ</a> <a id="10088" href="Prelude.Preliminaries.html#12622" class="Function Operator">∣</a> <a id="10090" href="Birkhoff.HSPTheorem.html#10001" class="Bound">q</a>
     <a id="10097" href="Birkhoff.HSPTheorem.html#10070" class="Function">γ</a> <a id="10099" class="Symbol">=</a> <a id="10101" href="Prelude.Preliminaries.html#12622" class="Function Operator">∣</a> <a id="10103" href="Birkhoff.HSPTheorem.html#9703" class="Function">ϕ</a> <a id="10105" href="Prelude.Preliminaries.html#12622" class="Function Operator">∣</a> <a id="10107" href="Birkhoff.HSPTheorem.html#9997" class="Bound">p</a>                    <a id="10128" href="MGS-MLTT.html#5997" class="Function Operator">≡⟨</a> <a id="10131" href="Prelude.Inverses.html#634" class="InductiveConstructor">𝓇ℯ𝒻𝓁</a> <a id="10136" href="MGS-MLTT.html#5997" class="Function Operator">⟩</a>
         <a id="10147" href="Terms.Basic.html#4221" class="Function">free-lift</a> <a id="10157" href="Birkhoff.HSPTheorem.html#9679" class="Bound">𝑨</a> <a id="10159" class="Symbol">(</a><a id="10160" href="Prelude.Preliminaries.html#12626" class="Function">fst</a><a id="10163" class="Symbol">(</a><a id="10164" href="Birkhoff.HSPTheorem.html#2603" class="Bound">𝕏</a> <a id="10166" href="Birkhoff.HSPTheorem.html#9679" class="Bound">𝑨</a><a id="10167" class="Symbol">))</a> <a id="10170" href="Birkhoff.HSPTheorem.html#9997" class="Bound">p</a> <a id="10172" href="MGS-MLTT.html#5997" class="Function Operator">≡⟨</a> <a id="10175" class="Symbol">(</a><a id="10176" href="Terms.Operations.html#1978" class="Function">free-lift-interp</a> <a id="10193" href="Birkhoff.HSPTheorem.html#9679" class="Bound">𝑨</a> <a id="10195" class="Symbol">(</a><a id="10196" href="Prelude.Preliminaries.html#12626" class="Function">fst</a><a id="10199" class="Symbol">(</a><a id="10200" href="Birkhoff.HSPTheorem.html#2603" class="Bound">𝕏</a> <a id="10202" href="Birkhoff.HSPTheorem.html#9679" class="Bound">𝑨</a><a id="10203" class="Symbol">))</a> <a id="10206" href="Birkhoff.HSPTheorem.html#9997" class="Bound">p</a><a id="10207" class="Symbol">)</a><a id="10208" href="MGS-MLTT.html#6125" class="Function Operator">⁻¹</a> <a id="10211" href="MGS-MLTT.html#5997" class="Function Operator">⟩</a>
         <a id="10222" class="Symbol">(</a><a id="10223" href="Birkhoff.HSPTheorem.html#9997" class="Bound">p</a> <a id="10225" href="Terms.Operations.html#1695" class="Function Operator">̇</a> <a id="10227" href="Birkhoff.HSPTheorem.html#9679" class="Bound">𝑨</a><a id="10228" class="Symbol">)</a> <a id="10230" class="Symbol">(</a><a id="10231" href="Prelude.Preliminaries.html#12626" class="Function">fst</a><a id="10234" class="Symbol">(</a><a id="10235" href="Birkhoff.HSPTheorem.html#2603" class="Bound">𝕏</a> <a id="10237" href="Birkhoff.HSPTheorem.html#9679" class="Bound">𝑨</a><a id="10238" class="Symbol">))</a>       <a id="10247" href="MGS-MLTT.html#5997" class="Function Operator">≡⟨</a> <a id="10250" href="Prelude.Extensionality.html#5920" class="Function">extfun</a> <a id="10257" class="Symbol">(</a><a id="10258" href="Birkhoff.HSPTheorem.html#9825" class="Function">pqlem2</a> <a id="10265" href="Birkhoff.HSPTheorem.html#9997" class="Bound">p</a> <a id="10267" href="Birkhoff.HSPTheorem.html#10001" class="Bound">q</a> <a id="10269" href="Birkhoff.HSPTheorem.html#10004" class="Bound">x</a><a id="10270" class="Symbol">)</a> <a id="10272" class="Symbol">(</a><a id="10273" href="Prelude.Preliminaries.html#12626" class="Function">fst</a><a id="10276" class="Symbol">(</a><a id="10277" href="Birkhoff.HSPTheorem.html#2603" class="Bound">𝕏</a> <a id="10279" href="Birkhoff.HSPTheorem.html#9679" class="Bound">𝑨</a><a id="10280" class="Symbol">))</a>  <a id="10284" href="MGS-MLTT.html#5997" class="Function Operator">⟩</a>
         <a id="10295" class="Symbol">(</a><a id="10296" href="Birkhoff.HSPTheorem.html#10001" class="Bound">q</a> <a id="10298" href="Terms.Operations.html#1695" class="Function Operator">̇</a> <a id="10300" href="Birkhoff.HSPTheorem.html#9679" class="Bound">𝑨</a><a id="10301" class="Symbol">)</a> <a id="10303" class="Symbol">(</a><a id="10304" href="Prelude.Preliminaries.html#12626" class="Function">fst</a><a id="10307" class="Symbol">(</a><a id="10308" href="Birkhoff.HSPTheorem.html#2603" class="Bound">𝕏</a> <a id="10310" href="Birkhoff.HSPTheorem.html#9679" class="Bound">𝑨</a><a id="10311" class="Symbol">))</a>       <a id="10320" href="MGS-MLTT.html#5997" class="Function Operator">≡⟨</a> <a id="10323" href="Terms.Operations.html#1978" class="Function">free-lift-interp</a> <a id="10340" href="Birkhoff.HSPTheorem.html#9679" class="Bound">𝑨</a> <a id="10342" class="Symbol">(</a><a id="10343" href="Prelude.Preliminaries.html#12626" class="Function">fst</a><a id="10346" class="Symbol">(</a><a id="10347" href="Birkhoff.HSPTheorem.html#2603" class="Bound">𝕏</a> <a id="10349" href="Birkhoff.HSPTheorem.html#9679" class="Bound">𝑨</a><a id="10350" class="Symbol">))</a> <a id="10353" href="Birkhoff.HSPTheorem.html#10001" class="Bound">q</a> <a id="10355" href="MGS-MLTT.html#5997" class="Function Operator">⟩</a>
         <a id="10366" href="Terms.Basic.html#4221" class="Function">free-lift</a> <a id="10376" href="Birkhoff.HSPTheorem.html#9679" class="Bound">𝑨</a> <a id="10378" class="Symbol">(</a><a id="10379" href="Prelude.Preliminaries.html#12626" class="Function">fst</a><a id="10382" class="Symbol">(</a><a id="10383" href="Birkhoff.HSPTheorem.html#2603" class="Bound">𝕏</a> <a id="10385" href="Birkhoff.HSPTheorem.html#9679" class="Bound">𝑨</a><a id="10386" class="Symbol">))</a> <a id="10389" href="Birkhoff.HSPTheorem.html#10001" class="Bound">q</a> <a id="10391" href="MGS-MLTT.html#5997" class="Function Operator">≡⟨</a> <a id="10394" href="Prelude.Inverses.html#634" class="InductiveConstructor">𝓇ℯ𝒻𝓁</a> <a id="10399" href="MGS-MLTT.html#5997" class="Function Operator">⟩</a>
         <a id="10410" href="Prelude.Preliminaries.html#12622" class="Function Operator">∣</a> <a id="10412" href="Birkhoff.HSPTheorem.html#9703" class="Function">ϕ</a> <a id="10414" href="Prelude.Preliminaries.html#12622" class="Function Operator">∣</a> <a id="10416" href="Birkhoff.HSPTheorem.html#10001" class="Bound">q</a>                  <a id="10435" href="MGS-MLTT.html#6079" class="Function Operator">∎</a>

   <a id="10441" href="Birkhoff.HSPTheorem.html#10441" class="Function">γ</a> <a id="10443" class="Symbol">:</a> <a id="10445" href="Homomorphisms.Basic.html#2951" class="Function">epi</a> <a id="10449" href="Birkhoff.HSPTheorem.html#4921" class="Function">𝔽</a> <a id="10451" href="Birkhoff.HSPTheorem.html#9679" class="Bound">𝑨</a>
   <a id="10456" href="Birkhoff.HSPTheorem.html#10441" class="Function">γ</a> <a id="10458" class="Symbol">=</a> <a id="10460" href="Prelude.Preliminaries.html#12626" class="Function">fst</a> <a id="10464" class="Symbol">(</a><a id="10465" href="Homomorphisms.Noether.html#9914" class="Function">HomFactorEpi</a> <a id="10478" class="Symbol">(</a><a id="10479" href="Terms.Basic.html#3603" class="Function">𝑻</a> <a id="10481" href="Birkhoff.HSPTheorem.html#2677" class="Bound">X</a><a id="10482" class="Symbol">){</a><a id="10484" href="Birkhoff.HSPTheorem.html#9679" class="Bound">𝑨</a><a id="10485" class="Symbol">}{</a><a id="10487" href="Birkhoff.HSPTheorem.html#4921" class="Function">𝔽</a><a id="10488" class="Symbol">}</a> <a id="10490" href="Birkhoff.HSPTheorem.html#9703" class="Function">ϕ</a> <a id="10492" href="Birkhoff.HSPTheorem.html#9752" class="Function">ϕE</a> <a id="10495" href="Birkhoff.HSPTheorem.html#5005" class="Function">hom𝔽</a> <a id="10500" href="Birkhoff.HSPTheorem.html#5050" class="Function">hom𝔽-is-epic</a>  <a id="10514" href="Birkhoff.HSPTheorem.html#9940" class="Function">kerincl</a><a id="10521" class="Symbol">)</a>


</pre>

#### <a id="F-in-VK">𝔽 ∈ V(𝒦)</a>

With this result in hand, along with what we proved earlier---namely, PS(𝒦) ⊆ SP(𝒦) ⊆ HSP(𝒦) ≡ V 𝒦---it is not hard to show that 𝔽 belongs to V 𝒦.

<pre class="Agda">

 <a id="10735" href="Birkhoff.HSPTheorem.html#10735" class="Function">𝔽∈SP</a> <a id="10740" class="Symbol">:</a> <a id="10742" href="Birkhoff.HSPTheorem.html#4921" class="Function">𝔽</a> <a id="10744" href="Relations.Unary.html#2061" class="Function Operator">∈</a> <a id="10746" class="Symbol">(</a><a id="10747" href="Varieties.Varieties.html#2944" class="Datatype">S</a><a id="10748" class="Symbol">{</a><a id="10749" href="Birkhoff.FreeAlgebra.html#2793" class="Function">𝓸𝓿𝓾</a><a id="10752" class="Symbol">}{</a><a id="10754" href="Birkhoff.FreeAlgebra.html#2797" class="Function">𝓸𝓿𝓾+</a><a id="10758" class="Symbol">}</a> <a id="10760" class="Symbol">(</a><a id="10761" href="Varieties.Varieties.html#3644" class="Datatype">P</a><a id="10762" class="Symbol">{</a><a id="10763" href="Birkhoff.HSPTheorem.html#2662" class="Bound">𝓤</a><a id="10764" class="Symbol">}{</a><a id="10766" href="Birkhoff.FreeAlgebra.html#2793" class="Function">𝓸𝓿𝓾</a><a id="10769" class="Symbol">}</a> <a id="10771" href="Birkhoff.HSPTheorem.html#2688" class="Bound">𝒦</a><a id="10772" class="Symbol">))</a>
 <a id="10776" href="Birkhoff.HSPTheorem.html#10735" class="Function">𝔽∈SP</a> <a id="10781" class="Symbol">=</a> <a id="10783" href="Varieties.Varieties.html#3164" class="InductiveConstructor">ssub</a> <a id="10788" class="Symbol">(</a><a id="10789" href="Varieties.Varieties.html#20265" class="Function">class-prod-s-∈-sp</a> <a id="10807" href="Birkhoff.HSPTheorem.html#2818" class="Bound">hfe</a><a id="10810" class="Symbol">)</a> <a id="10812" href="Birkhoff.HSPTheorem.html#9473" class="Function">𝔽≤ℭ</a>

 <a id="10818" href="Birkhoff.HSPTheorem.html#10818" class="Function">𝔽∈𝕍</a> <a id="10822" class="Symbol">:</a> <a id="10824" href="Birkhoff.HSPTheorem.html#4921" class="Function">𝔽</a> <a id="10826" href="Relations.Unary.html#2061" class="Function Operator">∈</a> <a id="10828" href="Varieties.Varieties.html#4593" class="Datatype">V</a> <a id="10830" href="Birkhoff.HSPTheorem.html#2688" class="Bound">𝒦</a>
 <a id="10833" href="Birkhoff.HSPTheorem.html#10818" class="Function">𝔽∈𝕍</a> <a id="10837" class="Symbol">=</a> <a id="10839" href="Varieties.Varieties.html#18488" class="Function">SP⊆V&#39;</a> <a id="10845" href="Birkhoff.HSPTheorem.html#10735" class="Function">𝔽∈SP</a>

</pre>

#### <a id="the-hsp-theorem"> The HSP Theorem</a>

Now that we have all of the necessary ingredients, it is all but trivial to combine them to prove Birkhoff's HSP theorem.

<pre class="Agda">

 <a id="11052" href="Birkhoff.HSPTheorem.html#11052" class="Function">birkhoff</a> <a id="11061" class="Symbol">:</a> <a id="11063" href="Varieties.EquationalLogic.html#3946" class="Function">Mod</a> <a id="11067" href="Birkhoff.HSPTheorem.html#2677" class="Bound">X</a> <a id="11069" class="Symbol">(</a><a id="11070" href="Varieties.EquationalLogic.html#3631" class="Function">Th</a> <a id="11073" class="Symbol">(</a><a id="11074" href="Varieties.Varieties.html#4593" class="Datatype">V</a> <a id="11076" href="Birkhoff.HSPTheorem.html#2688" class="Bound">𝒦</a><a id="11077" class="Symbol">))</a> <a id="11080" href="Relations.Unary.html#2383" class="Function Operator">⊆</a> <a id="11082" href="Varieties.Varieties.html#4593" class="Datatype">V</a> <a id="11084" href="Birkhoff.HSPTheorem.html#2688" class="Bound">𝒦</a>

 <a id="11088" href="Birkhoff.HSPTheorem.html#11052" class="Function">birkhoff</a> <a id="11097" class="Symbol">{</a><a id="11098" href="Birkhoff.HSPTheorem.html#11098" class="Bound">𝑨</a><a id="11099" class="Symbol">}</a> <a id="11101" href="Birkhoff.HSPTheorem.html#11101" class="Bound">α</a> <a id="11103" class="Symbol">=</a> <a id="11105" href="Birkhoff.HSPTheorem.html#11118" class="Function">γ</a>
  <a id="11109" class="Keyword">where</a>
   <a id="11118" href="Birkhoff.HSPTheorem.html#11118" class="Function">γ</a> <a id="11120" class="Symbol">:</a> <a id="11122" href="Birkhoff.HSPTheorem.html#11098" class="Bound">𝑨</a> <a id="11124" href="Relations.Unary.html#2061" class="Function Operator">∈</a> <a id="11126" class="Symbol">(</a><a id="11127" href="Varieties.Varieties.html#4593" class="Datatype">V</a> <a id="11129" href="Birkhoff.HSPTheorem.html#2688" class="Bound">𝒦</a><a id="11130" class="Symbol">)</a>
   <a id="11135" href="Birkhoff.HSPTheorem.html#11118" class="Function">γ</a> <a id="11137" class="Symbol">=</a> <a id="11139" href="Varieties.Varieties.html#4885" class="InductiveConstructor">vhimg</a> <a id="11145" href="Birkhoff.HSPTheorem.html#10818" class="Function">𝔽∈𝕍</a> <a id="11149" class="Symbol">((</a><a id="11151" href="Birkhoff.HSPTheorem.html#11098" class="Bound">𝑨</a> <a id="11153" href="Prelude.Equality.html#493" class="InductiveConstructor Operator">,</a> <a id="11155" href="Birkhoff.HSPTheorem.html#9601" class="Function">𝔽-ModTh-epi</a> <a id="11167" href="Birkhoff.HSPTheorem.html#11098" class="Bound">𝑨</a> <a id="11169" href="Birkhoff.HSPTheorem.html#11101" class="Bound">α</a> <a id="11171" class="Symbol">)</a> <a id="11173" href="Prelude.Equality.html#493" class="InductiveConstructor Operator">,</a> <a id="11175" href="Homomorphisms.Isomorphisms.html#2876" class="Function">refl-≅</a><a id="11181" class="Symbol">)</a>

</pre>

The converse inclusion, `V 𝒦 ⊆ Mod X (Th (V 𝒦))`, is a simple consequence of the fact that `Mod Th` is a closure operator. Nonetheless, completeness demands that we formalize this inclusion as well, however trivial the proof.

<pre class="Agda">

 <a id="11438" href="Birkhoff.HSPTheorem.html#11438" class="Function">birkhoff&#39;</a> <a id="11448" class="Symbol">:</a> <a id="11450" href="Varieties.Varieties.html#4593" class="Datatype">V</a><a id="11451" class="Symbol">{</a><a id="11452" href="Birkhoff.HSPTheorem.html#2662" class="Bound">𝓤</a><a id="11453" class="Symbol">}{</a><a id="11455" href="Birkhoff.FreeAlgebra.html#2793" class="Function">𝓸𝓿𝓾</a><a id="11458" class="Symbol">}</a> <a id="11460" href="Birkhoff.HSPTheorem.html#2688" class="Bound">𝒦</a> <a id="11462" href="Relations.Unary.html#2383" class="Function Operator">⊆</a> <a id="11464" href="Varieties.EquationalLogic.html#3946" class="Function">Mod</a> <a id="11468" href="Birkhoff.HSPTheorem.html#2677" class="Bound">X</a> <a id="11470" class="Symbol">(</a><a id="11471" href="Varieties.EquationalLogic.html#3631" class="Function">Th</a> <a id="11474" class="Symbol">(</a><a id="11475" href="Varieties.Varieties.html#4593" class="Datatype">V</a> <a id="11477" href="Birkhoff.HSPTheorem.html#2688" class="Bound">𝒦</a><a id="11478" class="Symbol">))</a>

 <a id="11483" href="Birkhoff.HSPTheorem.html#11438" class="Function">birkhoff&#39;</a> <a id="11493" class="Symbol">{</a><a id="11494" href="Birkhoff.HSPTheorem.html#11494" class="Bound">𝑨</a><a id="11495" class="Symbol">}</a> <a id="11497" href="Birkhoff.HSPTheorem.html#11497" class="Bound">α</a> <a id="11499" href="Birkhoff.HSPTheorem.html#11499" class="Bound">p</a> <a id="11501" href="Birkhoff.HSPTheorem.html#11501" class="Bound">q</a> <a id="11503" href="Birkhoff.HSPTheorem.html#11503" class="Bound">pThq</a> <a id="11508" class="Symbol">=</a> <a id="11510" href="Birkhoff.HSPTheorem.html#11503" class="Bound">pThq</a> <a id="11515" href="Birkhoff.HSPTheorem.html#11497" class="Bound">α</a>

</pre>

We have thus proved that every variety is an equational class.  Readers familiar with the classical formulation of the Birkhoff HSP theorem, as an "if and only if" result, might worry that we haven't completed the proof.  But recall that in the [Varieties.Preservation][] module we proved the following identity preservation lemmas:

* [(H-id1)](https://ualib.gitlab.io/UALib.Varieties.Preservation.html#964) 𝒦 ⊧ p ≋ q → H 𝒦 ⊧ p ≋ q
* [(S-id1)](https://ualib.gitlab.io/UALib.Varieties.Preservation.html#2592) 𝒦 ⊧ p ≋ q → S 𝒦 ⊧ p ≋ q
* [(P-id1)](https://ualib.gitlab.io/UALib.Varieties.Preservation.html#4111) 𝒦 ⊧ p ≋ q → P 𝒦 ⊧ p ≋ q

From these it follows that every equational class is a variety. Thus, our formal proof of Birkhoff's theorem is complete.

----------------------------

<span class="footnote" id="fn1"><sup>1</sup> In the previous version of the [UALib][] this module was called HSPLemmas and the Birkhoff HSP theorem was in a separate module, while in the current version these are in the new HSPTheorem module.</span>

<span class="footnote" id="fn2"><sup>2</sup> It might be an instructive exercise to prove that 𝔽 is, in fact, isomorphic to the free algebra 𝔉 that we defined in the [Birkhoff.FreeAlgebra][] module.</span>


[← Birkhoff.FreeAlgebra](Birkhoff.FreeAlgebra.html)
<span style="float:right;">[Birkhoff ↑](Birkhoff.html)</span>

{% include UALib.Links.md %}

