---
layout: default
title : Birkhoff.HSPTheorem (The Agda Universal Algebra Library)
date : 2021-02-02
author: William DeMeo
---

### <a id="hsp-theorem">HSP Theorem</a>

This section presents the [Birkhoff.HSPTheorem][] module of the [Agda Universal Algebra Library][].<sup>[1](Birkhoff.HSPTheorem.html#fn1)</sup>

To complete the proof of Birkhoff's HSP theorem, it remains to show that every algebra 𝑨 that belongs to `Mod X (Th (V 𝒦))`---i.e., every algebra that models the equations in `Th (V 𝒦)`---belongs to `V 𝒦`.  This will prove that `V 𝒦` is an equational class.  (The converse, that every equational class is a variety was already proved; see the remarks at the end of this module.)

We accomplish this goal by constructing an algebra `𝔽` with the following properties:

1. `𝔽 ∈ V 𝒦` and

2. Every `𝑨 ∈ Mod X (Th (V 𝒦))` is a homomorphic image of `𝔽`.

(In earlier versions of the [Agda UALib][], the free algebra 𝔉 developed in the [Birkhoff.FreeAlgebra][] section played the role of the algebra 𝔽 with properties 1 and 2.  However, we found a more direct path to the proof using the algebra `𝔽 := (𝑻 X) [ ℭ ]/ker homℭ`.)

We denote by ℭ the product of all subalgebras of algebras in 𝒦, and by `homℭ` the homomorphism from `𝑻 X` to `ℭ` defined as follows:

`homℭ := ⨅-hom-co (𝑻 X) 𝔄s hom𝔄`.

Here, `⨅-hom-co` (defined in [Homomorphisms.Basic](Homomorphisms.Basic.html#product-homomorphisms)) takes the term algebra `𝑻 X`, a family `{𝔄s : I → Algebra 𝓤 𝑆}` of 𝑆-algebras, and a family `hom𝔄 : ∀ i → hom (𝑻 X) (𝔄s i)` of homomorphisms and constructs the natural homomorphism `homℭ` from `𝑻 X` to the product `ℭ := ⨅ 𝔄`.  The homomorphism `homℭ : hom (𝑻 X) (⨅ ℭ)` is natural in the sense that the `i`-th component of the image of `𝑡 : Term X` under `homℭ` is the image `∣ hom𝔄 i ∣ 𝑡` of 𝑡 under the i-th homomorphism `hom𝔄 i`.

<pre class="Agda">

<a id="1853" class="Symbol">{-#</a> <a id="1857" class="Keyword">OPTIONS</a> <a id="1865" class="Pragma">--without-K</a> <a id="1877" class="Pragma">--exact-split</a> <a id="1891" class="Pragma">--safe</a> <a id="1898" class="Symbol">#-}</a>

<a id="1903" class="Keyword">open</a> <a id="1908" class="Keyword">import</a> <a id="1915" href="Algebras.Algebras.html" class="Module">Algebras.Algebras</a> <a id="1933" class="Keyword">using</a> <a id="1939" class="Symbol">(</a><a id="1940" href="Algebras.Signatures.html#1299" class="Function">Signature</a><a id="1949" class="Symbol">;</a> <a id="1951" href="Prelude.Preliminaries.html#5600" class="Generalizable">𝓞</a><a id="1952" class="Symbol">;</a> <a id="1954" href="Universes.html#262" class="Generalizable">𝓥</a><a id="1955" class="Symbol">;</a> <a id="1957" href="Algebras.Algebras.html#694" class="Function">Algebra</a><a id="1964" class="Symbol">;</a> <a id="1966" href="Algebras.Algebras.html#3747" class="Function Operator">_↠_</a><a id="1969" class="Symbol">)</a>
<a id="1971" class="Keyword">open</a> <a id="1976" class="Keyword">import</a> <a id="1983" href="MGS-Subsingleton-Theorems.html" class="Module">MGS-Subsingleton-Theorems</a> <a id="2009" class="Keyword">using</a> <a id="2015" class="Symbol">(</a><a id="2016" href="MGS-Subsingleton-Theorems.html#3468" class="Function">global-dfunext</a><a id="2030" class="Symbol">)</a>
<a id="2032" class="Keyword">open</a> <a id="2037" class="Keyword">import</a> <a id="2044" href="Universes.html" class="Module">Universes</a>
<a id="2054" class="Keyword">open</a> <a id="2059" class="Keyword">import</a> <a id="2066" href="Relations.Discrete.html" class="Module">Relations.Discrete</a> <a id="2085" class="Keyword">using</a> <a id="2091" class="Symbol">(</a><a id="2092" href="Relations.Discrete.html#1408" class="Function">Pred</a><a id="2096" class="Symbol">)</a>
<a id="2098" class="Keyword">open</a> <a id="2103" class="Keyword">import</a> <a id="2110" href="MGS-Powerset.html" class="Module">MGS-Powerset</a> <a id="2123" class="Keyword">using</a> <a id="2129" class="Symbol">(</a><a id="2130" href="MGS-FunExt-from-Univalence.html#2235" class="Function">hfunext</a><a id="2137" class="Symbol">)</a>

<a id="2140" class="Comment">-- open import Prelude.Preliminaries using (global-dfunext; Universe; _̇; _⊔_; _⁺; propext; hfunext)</a>
</pre>

Unlike previous modules, in this module we fix `𝓤`, `X`, and `𝒦` in advance. We also assume 𝕏, which supplies, for each algebra `𝑨`, a surjective map ∣ 𝕏 𝑨 ∣ from `X` onto 𝑨.

<pre class="Agda">

<a id="2443" class="Keyword">module</a> <a id="2450" href="Birkhoff.HSPTheorem.html" class="Module">Birkhoff.HSPTheorem</a>
 <a id="2471" class="Symbol">{</a><a id="2472" href="Birkhoff.HSPTheorem.html#2472" class="Bound">𝑆</a> <a id="2474" class="Symbol">:</a> <a id="2476" href="Algebras.Signatures.html#1299" class="Function">Signature</a> <a id="2486" href="Prelude.Preliminaries.html#5600" class="Generalizable">𝓞</a> <a id="2488" href="Universes.html#262" class="Generalizable">𝓥</a><a id="2489" class="Symbol">}{</a><a id="2491" href="Birkhoff.HSPTheorem.html#2491" class="Bound">gfe</a> <a id="2495" class="Symbol">:</a> <a id="2497" href="MGS-Subsingleton-Theorems.html#3468" class="Function">global-dfunext</a><a id="2511" class="Symbol">}</a>
 <a id="2514" class="Symbol">{</a><a id="2515" href="Birkhoff.HSPTheorem.html#2515" class="Bound">𝕏</a> <a id="2517" class="Symbol">:</a> <a id="2519" class="Symbol">{</a><a id="2520" href="Birkhoff.HSPTheorem.html#2520" class="Bound">𝓤</a> <a id="2522" href="Birkhoff.HSPTheorem.html#2522" class="Bound">𝓧</a> <a id="2524" class="Symbol">:</a> <a id="2526" href="Agda.Primitive.html#423" class="Postulate">Universe</a><a id="2534" class="Symbol">}{</a><a id="2536" href="Birkhoff.HSPTheorem.html#2536" class="Bound">X</a> <a id="2538" class="Symbol">:</a> <a id="2540" href="Birkhoff.HSPTheorem.html#2522" class="Bound">𝓧</a> <a id="2542" href="Universes.html#403" class="Function Operator">̇</a> <a id="2544" class="Symbol">}(</a><a id="2546" href="Birkhoff.HSPTheorem.html#2546" class="Bound">𝑨</a> <a id="2548" class="Symbol">:</a> <a id="2550" href="Algebras.Algebras.html#694" class="Function">Algebra</a> <a id="2558" href="Birkhoff.HSPTheorem.html#2520" class="Bound">𝓤</a> <a id="2560" href="Birkhoff.HSPTheorem.html#2472" class="Bound">𝑆</a><a id="2561" class="Symbol">)</a> <a id="2563" class="Symbol">→</a> <a id="2565" href="Birkhoff.HSPTheorem.html#2536" class="Bound">X</a> <a id="2567" href="Algebras.Algebras.html#3747" class="Function Operator">↠</a> <a id="2569" href="Birkhoff.HSPTheorem.html#2546" class="Bound">𝑨</a><a id="2570" class="Symbol">}</a>
 <a id="2573" class="Symbol">{</a><a id="2574" href="Birkhoff.HSPTheorem.html#2574" class="Bound">𝓤</a> <a id="2576" class="Symbol">:</a> <a id="2578" href="Agda.Primitive.html#423" class="Postulate">Universe</a><a id="2586" class="Symbol">}</a> <a id="2588" class="Symbol">{</a><a id="2589" href="Birkhoff.HSPTheorem.html#2589" class="Bound">X</a> <a id="2591" class="Symbol">:</a> <a id="2593" href="Birkhoff.HSPTheorem.html#2574" class="Bound">𝓤</a> <a id="2595" href="Universes.html#403" class="Function Operator">̇</a><a id="2596" class="Symbol">}</a>
 <a id="2599" class="Symbol">{</a><a id="2600" href="Birkhoff.HSPTheorem.html#2600" class="Bound">𝒦</a> <a id="2602" class="Symbol">:</a> <a id="2604" href="Relations.Discrete.html#1408" class="Function">Pred</a> <a id="2609" class="Symbol">(</a><a id="2610" href="Algebras.Algebras.html#694" class="Function">Algebra</a> <a id="2618" href="Birkhoff.HSPTheorem.html#2574" class="Bound">𝓤</a> <a id="2620" href="Birkhoff.HSPTheorem.html#2472" class="Bound">𝑆</a><a id="2621" class="Symbol">)</a> <a id="2623" class="Symbol">(</a><a id="2624" href="Prelude.Preliminaries.html#5600" class="Generalizable">𝓞</a> <a id="2626" href="Agda.Primitive.html#636" class="Primitive Operator">⊔</a> <a id="2628" href="Universes.html#262" class="Generalizable">𝓥</a> <a id="2630" href="Agda.Primitive.html#636" class="Primitive Operator">⊔</a> <a id="2632" href="Birkhoff.HSPTheorem.html#2574" class="Bound">𝓤</a> <a id="2634" href="Agda.Primitive.html#606" class="Primitive Operator">⁺</a><a id="2635" class="Symbol">)}</a>
 <a id="2639" class="Comment">-- extensionality assumption:</a>
    <a id="2673" class="Symbol">{</a><a id="2674" href="Birkhoff.HSPTheorem.html#2674" class="Bound">hfe</a> <a id="2678" class="Symbol">:</a> <a id="2680" href="MGS-FunExt-from-Univalence.html#2235" class="Function">hfunext</a> <a id="2688" class="Symbol">(</a><a id="2689" href="Prelude.Preliminaries.html#5600" class="Generalizable">𝓞</a> <a id="2691" href="Agda.Primitive.html#636" class="Primitive Operator">⊔</a> <a id="2693" href="Universes.html#262" class="Generalizable">𝓥</a> <a id="2695" href="Agda.Primitive.html#636" class="Primitive Operator">⊔</a> <a id="2697" href="Birkhoff.HSPTheorem.html#2574" class="Bound">𝓤</a> <a id="2699" href="Agda.Primitive.html#606" class="Primitive Operator">⁺</a><a id="2700" class="Symbol">)(</a><a id="2702" href="Prelude.Preliminaries.html#5600" class="Generalizable">𝓞</a> <a id="2704" href="Agda.Primitive.html#636" class="Primitive Operator">⊔</a> <a id="2706" href="Universes.html#262" class="Generalizable">𝓥</a> <a id="2708" href="Agda.Primitive.html#636" class="Primitive Operator">⊔</a> <a id="2710" href="Birkhoff.HSPTheorem.html#2574" class="Bound">𝓤</a> <a id="2712" href="Agda.Primitive.html#606" class="Primitive Operator">⁺</a><a id="2713" class="Symbol">)}</a> <a id="2716" class="Keyword">where</a>

<a id="2723" class="Keyword">open</a> <a id="2728" class="Keyword">import</a> <a id="2735" href="Birkhoff.FreeAlgebra.html" class="Module">Birkhoff.FreeAlgebra</a> <a id="2756" class="Symbol">{</a><a id="2757" class="Argument">𝑆</a> <a id="2759" class="Symbol">=</a> <a id="2761" href="Birkhoff.HSPTheorem.html#2472" class="Bound">𝑆</a><a id="2762" class="Symbol">}{</a><a id="2764" href="Birkhoff.HSPTheorem.html#2491" class="Bound">gfe</a><a id="2767" class="Symbol">}</a> <a id="2769" class="Keyword">hiding</a> <a id="2776" class="Symbol">(</a>Pred<a id="2781" class="Symbol">;</a> _⊔_<a id="2786" class="Symbol">;</a> _⁺<a id="2790" class="Symbol">;</a> Algebra<a id="2799" class="Symbol">;</a> _̇ <a id="2804" class="Symbol">)</a> <a id="2806" class="Keyword">public</a>
<a id="2813" class="Keyword">open</a> <a id="2818" href="Birkhoff.FreeAlgebra.html#2743" class="Module">the-free-algebra</a> <a id="2835" class="Symbol">{</a><a id="2836" href="Birkhoff.HSPTheorem.html#2574" class="Bound">𝓤</a><a id="2837" class="Symbol">}{</a><a id="2839" href="Birkhoff.HSPTheorem.html#2574" class="Bound">𝓤</a><a id="2840" class="Symbol">}{</a><a id="2842" href="Birkhoff.HSPTheorem.html#2589" class="Bound">X</a><a id="2843" class="Symbol">}</a>

</pre>


#### <a id="F-in-classproduct">𝔽 ≤  ⨅ S(𝒦)</a>
Now we come to a step in the Agda formalization of Birkhoff's theorem that turns out to be surprisingly nontrivial. We must prove that the free algebra embeds in the product ℭ of all subalgebras of algebras in the class 𝒦.  This is really the only stage in the proof of Birkhoff's theorem that requires the truncation assumption that ℭ be a set.

We begin by constructing ℭ, using the techniques described in the section on <a href="https://ualib.gitlab.io/Varieties.Varieties.html#products-of-classes">products of classes</a>.

**Notation**. In this module, the type `ℑs` will index the collection of all subalgebras of algebras in the class 𝒦, and `𝔄s : ℑs → Algebra 𝓤 𝑆` will be a map from the index type to the subalgebras. 

<pre class="Agda">

<a id="3650" class="Keyword">open</a> <a id="3655" href="Birkhoff.FreeAlgebra.html#5315" class="Module">the-relatively-free-algebra</a> <a id="3683" class="Symbol">{</a><a id="3684" class="Argument">𝓤</a> <a id="3686" class="Symbol">=</a> <a id="3688" href="Birkhoff.HSPTheorem.html#2574" class="Bound">𝓤</a><a id="3689" class="Symbol">}{</a><a id="3691" class="Argument">𝓧</a> <a id="3693" class="Symbol">=</a> <a id="3695" href="Birkhoff.HSPTheorem.html#2574" class="Bound">𝓤</a><a id="3696" class="Symbol">}{</a><a id="3698" class="Argument">X</a> <a id="3700" class="Symbol">=</a> <a id="3702" href="Birkhoff.HSPTheorem.html#2589" class="Bound">X</a><a id="3703" class="Symbol">}</a> <a id="3705" class="Symbol">{</a><a id="3706" class="Argument">𝒦</a> <a id="3708" class="Symbol">=</a> <a id="3710" href="Birkhoff.HSPTheorem.html#2600" class="Bound">𝒦</a><a id="3711" class="Symbol">}</a>

<a id="3714" class="Comment">-- NOTATION.</a>
<a id="ℑs"></a><a id="3727" href="Birkhoff.HSPTheorem.html#3727" class="Function">ℑs</a> <a id="3730" class="Symbol">:</a> <a id="3732" href="Birkhoff.FreeAlgebra.html#2859" class="Function">𝓸𝓿𝓾</a> <a id="3736" href="Universes.html#403" class="Function Operator">̇</a>
<a id="3738" href="Birkhoff.HSPTheorem.html#3727" class="Function">ℑs</a> <a id="3741" class="Symbol">=</a> <a id="3743" href="Algebras.Products.html#2792" class="Function">ℑ</a><a id="3744" class="Symbol">{</a><a id="3745" href="Birkhoff.HSPTheorem.html#2574" class="Bound">𝓤</a><a id="3746" class="Symbol">}{</a><a id="3748" href="Birkhoff.HSPTheorem.html#2574" class="Bound">𝓤</a><a id="3749" class="Symbol">}{</a><a id="3751" href="Birkhoff.HSPTheorem.html#2589" class="Bound">X</a><a id="3752" class="Symbol">}</a> <a id="3754" class="Symbol">(</a><a id="3755" href="Varieties.Varieties.html#2939" class="Datatype">S</a><a id="3756" class="Symbol">{</a><a id="3757" href="Birkhoff.HSPTheorem.html#2574" class="Bound">𝓤</a><a id="3758" class="Symbol">}{</a><a id="3760" href="Birkhoff.HSPTheorem.html#2574" class="Bound">𝓤</a><a id="3761" class="Symbol">}</a> <a id="3763" href="Birkhoff.HSPTheorem.html#2600" class="Bound">𝒦</a><a id="3764" class="Symbol">)</a>
<a id="𝔄s"></a><a id="3766" href="Birkhoff.HSPTheorem.html#3766" class="Function">𝔄s</a> <a id="3769" class="Symbol">:</a> <a id="3771" href="Birkhoff.HSPTheorem.html#3727" class="Function">ℑs</a> <a id="3774" class="Symbol">→</a> <a id="3776" href="Algebras.Algebras.html#694" class="Function">Algebra</a> <a id="3784" href="Birkhoff.HSPTheorem.html#2574" class="Bound">𝓤</a> <a id="3786" href="Birkhoff.HSPTheorem.html#2472" class="Bound">𝑆</a>
<a id="3788" href="Birkhoff.HSPTheorem.html#3766" class="Function">𝔄s</a> <a id="3791" class="Symbol">=</a> <a id="3793" class="Symbol">λ</a> <a id="3795" class="Symbol">(</a><a id="3796" href="Birkhoff.HSPTheorem.html#3796" class="Bound">i</a> <a id="3798" class="Symbol">:</a> <a id="3800" href="Birkhoff.HSPTheorem.html#3727" class="Function">ℑs</a><a id="3802" class="Symbol">)</a> <a id="3804" class="Symbol">→</a> <a id="3806" href="Prelude.Preliminaries.html#13569" class="Function Operator">∣</a> <a id="3808" href="Birkhoff.HSPTheorem.html#3796" class="Bound">i</a> <a id="3810" href="Prelude.Preliminaries.html#13569" class="Function Operator">∣</a>

<a id="SK𝔄"></a><a id="3813" href="Birkhoff.HSPTheorem.html#3813" class="Function">SK𝔄</a> <a id="3817" class="Symbol">:</a> <a id="3819" class="Symbol">(</a><a id="3820" href="Birkhoff.HSPTheorem.html#3820" class="Bound">i</a> <a id="3822" class="Symbol">:</a> <a id="3824" href="Birkhoff.HSPTheorem.html#3727" class="Function">ℑs</a><a id="3826" class="Symbol">)</a> <a id="3828" class="Symbol">→</a> <a id="3830" class="Symbol">(</a><a id="3831" href="Birkhoff.HSPTheorem.html#3766" class="Function">𝔄s</a> <a id="3834" href="Birkhoff.HSPTheorem.html#3820" class="Bound">i</a><a id="3835" class="Symbol">)</a> <a id="3837" href="Relations.Discrete.html#2407" class="Function Operator">∈</a> <a id="3839" href="Varieties.Varieties.html#2939" class="Datatype">S</a><a id="3840" class="Symbol">{</a><a id="3841" href="Birkhoff.HSPTheorem.html#2574" class="Bound">𝓤</a><a id="3842" class="Symbol">}{</a><a id="3844" href="Birkhoff.HSPTheorem.html#2574" class="Bound">𝓤</a><a id="3845" class="Symbol">}</a> <a id="3847" href="Birkhoff.HSPTheorem.html#2600" class="Bound">𝒦</a>
<a id="3849" href="Birkhoff.HSPTheorem.html#3813" class="Function">SK𝔄</a> <a id="3853" class="Symbol">=</a> <a id="3855" class="Symbol">λ</a> <a id="3857" class="Symbol">(</a><a id="3858" href="Birkhoff.HSPTheorem.html#3858" class="Bound">i</a> <a id="3860" class="Symbol">:</a> <a id="3862" href="Birkhoff.HSPTheorem.html#3727" class="Function">ℑs</a><a id="3864" class="Symbol">)</a> <a id="3866" class="Symbol">→</a> <a id="3868" href="Prelude.Preliminaries.html#13573" class="Function">fst</a> <a id="3872" href="Prelude.Preliminaries.html#13647" class="Function Operator">∥</a> <a id="3874" href="Birkhoff.HSPTheorem.html#3858" class="Bound">i</a> <a id="3876" href="Prelude.Preliminaries.html#13647" class="Function Operator">∥</a>

<a id="𝔄h"></a><a id="3879" href="Birkhoff.HSPTheorem.html#3879" class="Function">𝔄h</a> <a id="3882" class="Symbol">:</a> <a id="3884" class="Symbol">(</a><a id="3885" href="Birkhoff.HSPTheorem.html#3885" class="Bound">i</a> <a id="3887" class="Symbol">:</a> <a id="3889" href="Birkhoff.HSPTheorem.html#3727" class="Function">ℑs</a><a id="3891" class="Symbol">)</a> <a id="3893" class="Symbol">→</a> <a id="3895" href="Birkhoff.HSPTheorem.html#2589" class="Bound">X</a> <a id="3897" class="Symbol">→</a> <a id="3899" href="Prelude.Preliminaries.html#13569" class="Function Operator">∣</a> <a id="3901" href="Birkhoff.HSPTheorem.html#3766" class="Function">𝔄s</a> <a id="3904" href="Birkhoff.HSPTheorem.html#3885" class="Bound">i</a> <a id="3906" href="Prelude.Preliminaries.html#13569" class="Function Operator">∣</a>
<a id="3908" href="Birkhoff.HSPTheorem.html#3879" class="Function">𝔄h</a> <a id="3911" class="Symbol">=</a> <a id="3913" class="Symbol">λ</a> <a id="3915" class="Symbol">(</a><a id="3916" href="Birkhoff.HSPTheorem.html#3916" class="Bound">i</a> <a id="3918" class="Symbol">:</a> <a id="3920" href="Birkhoff.HSPTheorem.html#3727" class="Function">ℑs</a><a id="3922" class="Symbol">)</a> <a id="3924" class="Symbol">→</a> <a id="3926" href="Prelude.Preliminaries.html#13651" class="Function">snd</a> <a id="3930" href="Prelude.Preliminaries.html#13647" class="Function Operator">∥</a> <a id="3932" href="Birkhoff.HSPTheorem.html#3916" class="Bound">i</a> <a id="3934" href="Prelude.Preliminaries.html#13647" class="Function Operator">∥</a>

<a id="3937" class="Comment">-- ℭ is the product of all subalgebras of algebras in 𝒦.</a>
<a id="ℭ"></a><a id="3994" href="Birkhoff.HSPTheorem.html#3994" class="Function">ℭ</a> <a id="3996" class="Symbol">:</a> <a id="3998" href="Algebras.Algebras.html#694" class="Function">Algebra</a> <a id="4006" href="Birkhoff.FreeAlgebra.html#2859" class="Function">𝓸𝓿𝓾</a> <a id="4010" href="Birkhoff.HSPTheorem.html#2472" class="Bound">𝑆</a>
<a id="4012" href="Birkhoff.HSPTheorem.html#3994" class="Function">ℭ</a> <a id="4014" class="Symbol">=</a> <a id="4016" href="Algebras.Products.html#908" class="Function">⨅</a> <a id="4018" href="Birkhoff.HSPTheorem.html#3766" class="Function">𝔄s</a>

</pre>

Observe that the inhabitants of ℭ are maps from ℑs to {𝔄s i : i ∈ ℑs}.

<pre class="Agda">

<a id="hom𝔄"></a><a id="4120" href="Birkhoff.HSPTheorem.html#4120" class="Function">hom𝔄</a> <a id="4125" class="Symbol">:</a> <a id="4127" class="Symbol">∀</a> <a id="4129" href="Birkhoff.HSPTheorem.html#4129" class="Bound">i</a> <a id="4131" class="Symbol">→</a> <a id="4133" href="Homomorphisms.Basic.html#2343" class="Function">hom</a> <a id="4137" class="Symbol">(</a><a id="4138" href="Terms.Basic.html#3664" class="Function">𝑻</a> <a id="4140" href="Birkhoff.HSPTheorem.html#2589" class="Bound">X</a><a id="4141" class="Symbol">)</a> <a id="4143" class="Symbol">(</a><a id="4144" href="Birkhoff.HSPTheorem.html#3766" class="Function">𝔄s</a> <a id="4147" href="Birkhoff.HSPTheorem.html#4129" class="Bound">i</a><a id="4148" class="Symbol">)</a>
<a id="4150" href="Birkhoff.HSPTheorem.html#4120" class="Function">hom𝔄</a> <a id="4155" href="Birkhoff.HSPTheorem.html#4155" class="Bound">i</a> <a id="4157" class="Symbol">=</a> <a id="4159" href="Terms.Basic.html#4577" class="Function">lift-hom</a> <a id="4168" class="Symbol">(</a><a id="4169" href="Birkhoff.HSPTheorem.html#3766" class="Function">𝔄s</a> <a id="4172" href="Birkhoff.HSPTheorem.html#4155" class="Bound">i</a><a id="4173" class="Symbol">)</a> <a id="4175" class="Symbol">(</a><a id="4176" href="Birkhoff.HSPTheorem.html#3879" class="Function">𝔄h</a> <a id="4179" href="Birkhoff.HSPTheorem.html#4155" class="Bound">i</a><a id="4180" class="Symbol">)</a>

<a id="homℭ"></a><a id="4183" href="Birkhoff.HSPTheorem.html#4183" class="Function">homℭ</a> <a id="4188" class="Symbol">:</a> <a id="4190" href="Homomorphisms.Basic.html#2343" class="Function">hom</a> <a id="4194" class="Symbol">(</a><a id="4195" href="Terms.Basic.html#3664" class="Function">𝑻</a> <a id="4197" href="Birkhoff.HSPTheorem.html#2589" class="Bound">X</a><a id="4198" class="Symbol">)</a> <a id="4200" href="Birkhoff.HSPTheorem.html#3994" class="Function">ℭ</a>
<a id="4202" href="Birkhoff.HSPTheorem.html#4183" class="Function">homℭ</a> <a id="4207" class="Symbol">=</a> <a id="4209" href="Homomorphisms.Basic.html#8496" class="Function">⨅-hom-co</a> <a id="4218" class="Symbol">(</a><a id="4219" href="Terms.Basic.html#3664" class="Function">𝑻</a> <a id="4221" href="Birkhoff.HSPTheorem.html#2589" class="Bound">X</a><a id="4222" class="Symbol">)</a> <a id="4224" href="Birkhoff.HSPTheorem.html#3766" class="Function">𝔄s</a> <a id="4227" href="Birkhoff.HSPTheorem.html#4120" class="Function">hom𝔄</a>

</pre>


#### <a id="the-new-free-algebra">The new free algebra</a>

As mentioned above, the initial version of the [Agda UALib][] used the free algebra `𝔉`, developed in the [Birkhoff.FreeAlgebra][] module.  However, our new, more direct proof uses the algebra `𝔽`, which we now define, along with the natural epimorphism `epi𝔽 : epi (𝑻 X) 𝔽` from `𝑻 X` to `𝔽`.<sup>[2](Birkhoff.HSPTheorem.html#fn2)</sup>

<pre class="Agda">

<a id="𝔽"></a><a id="4659" href="Birkhoff.HSPTheorem.html#4659" class="Function">𝔽</a> <a id="4661" class="Symbol">:</a> <a id="4663" href="Algebras.Algebras.html#694" class="Function">Algebra</a> <a id="4671" href="Birkhoff.FreeAlgebra.html#2863" class="Function">𝓸𝓿𝓾+</a> <a id="4676" href="Birkhoff.HSPTheorem.html#2472" class="Bound">𝑆</a>
<a id="4678" href="Birkhoff.HSPTheorem.html#4659" class="Function">𝔽</a> <a id="4680" class="Symbol">=</a> <a id="4682" class="Symbol">(</a><a id="4683" href="Terms.Basic.html#3664" class="Function">𝑻</a> <a id="4685" href="Birkhoff.HSPTheorem.html#2589" class="Bound">X</a><a id="4686" class="Symbol">)</a> <a id="4688" href="Homomorphisms.Basic.html#6587" class="Function Operator">[</a> <a id="4690" href="Birkhoff.HSPTheorem.html#3994" class="Function">ℭ</a> <a id="4692" href="Homomorphisms.Basic.html#6587" class="Function Operator">]/ker</a> <a id="4698" href="Birkhoff.HSPTheorem.html#4183" class="Function">homℭ</a>

<a id="epi𝔽"></a><a id="4704" href="Birkhoff.HSPTheorem.html#4704" class="Function">epi𝔽</a> <a id="4709" class="Symbol">:</a> <a id="4711" href="Homomorphisms.Basic.html#3358" class="Function">epi</a> <a id="4715" class="Symbol">(</a><a id="4716" href="Terms.Basic.html#3664" class="Function">𝑻</a> <a id="4718" href="Birkhoff.HSPTheorem.html#2589" class="Bound">X</a><a id="4719" class="Symbol">)</a> <a id="4721" href="Birkhoff.HSPTheorem.html#4659" class="Function">𝔽</a>
<a id="4723" href="Birkhoff.HSPTheorem.html#4704" class="Function">epi𝔽</a> <a id="4728" class="Symbol">=</a> <a id="4730" href="Homomorphisms.Basic.html#7745" class="Function">πker</a> <a id="4735" href="Birkhoff.HSPTheorem.html#3994" class="Function">ℭ</a> <a id="4737" href="Birkhoff.HSPTheorem.html#4183" class="Function">homℭ</a>

<a id="hom𝔽"></a><a id="4743" href="Birkhoff.HSPTheorem.html#4743" class="Function">hom𝔽</a> <a id="4748" class="Symbol">:</a> <a id="4750" href="Homomorphisms.Basic.html#2343" class="Function">hom</a> <a id="4754" class="Symbol">(</a><a id="4755" href="Terms.Basic.html#3664" class="Function">𝑻</a> <a id="4757" href="Birkhoff.HSPTheorem.html#2589" class="Bound">X</a><a id="4758" class="Symbol">)</a> <a id="4760" href="Birkhoff.HSPTheorem.html#4659" class="Function">𝔽</a>
<a id="4762" href="Birkhoff.HSPTheorem.html#4743" class="Function">hom𝔽</a> <a id="4767" class="Symbol">=</a> <a id="4769" href="Homomorphisms.Basic.html#3714" class="Function">epi-to-hom</a> <a id="4780" href="Birkhoff.HSPTheorem.html#4659" class="Function">𝔽</a> <a id="4782" href="Birkhoff.HSPTheorem.html#4704" class="Function">epi𝔽</a>

<a id="hom𝔽-is-epic"></a><a id="4788" href="Birkhoff.HSPTheorem.html#4788" class="Function">hom𝔽-is-epic</a> <a id="4801" class="Symbol">:</a> <a id="4803" href="Prelude.Inverses.html#2632" class="Function">Epic</a> <a id="4808" href="Prelude.Preliminaries.html#13569" class="Function Operator">∣</a> <a id="4810" href="Birkhoff.HSPTheorem.html#4743" class="Function">hom𝔽</a> <a id="4815" href="Prelude.Preliminaries.html#13569" class="Function Operator">∣</a>
<a id="4817" href="Birkhoff.HSPTheorem.html#4788" class="Function">hom𝔽-is-epic</a> <a id="4830" class="Symbol">=</a> <a id="4832" href="Prelude.Preliminaries.html#13651" class="Function">snd</a> <a id="4836" href="Prelude.Preliminaries.html#13647" class="Function Operator">∥</a> <a id="4838" href="Birkhoff.HSPTheorem.html#4704" class="Function">epi𝔽</a> <a id="4843" href="Prelude.Preliminaries.html#13647" class="Function Operator">∥</a>

</pre>

We will need the following facts relating homℭ, hom𝔽, and ψ.

<pre class="Agda">

<a id="ψlemma0"></a><a id="4934" href="Birkhoff.HSPTheorem.html#4934" class="Function">ψlemma0</a> <a id="4942" class="Symbol">:</a> <a id="4944" class="Symbol">∀</a> <a id="4946" href="Birkhoff.HSPTheorem.html#4946" class="Bound">p</a> <a id="4948" href="Birkhoff.HSPTheorem.html#4948" class="Bound">q</a> <a id="4950" class="Symbol">→</a> <a id="4952" class="Symbol">(</a><a id="4953" href="Prelude.Preliminaries.html#13569" class="Function Operator">∣</a> <a id="4955" href="Birkhoff.HSPTheorem.html#4183" class="Function">homℭ</a> <a id="4960" href="Prelude.Preliminaries.html#13569" class="Function Operator">∣</a> <a id="4962" href="Birkhoff.HSPTheorem.html#4946" class="Bound">p</a> <a id="4964" href="MGS-MLTT.html#4207" class="Datatype Operator">≡</a> <a id="4966" href="Prelude.Preliminaries.html#13569" class="Function Operator">∣</a> <a id="4968" href="Birkhoff.HSPTheorem.html#4183" class="Function">homℭ</a> <a id="4973" href="Prelude.Preliminaries.html#13569" class="Function Operator">∣</a> <a id="4975" href="Birkhoff.HSPTheorem.html#4948" class="Bound">q</a><a id="4976" class="Symbol">)</a> <a id="4978" class="Symbol">→</a> <a id="4980" class="Symbol">(</a><a id="4981" href="Birkhoff.HSPTheorem.html#4946" class="Bound">p</a> <a id="4983" href="MGS-MLTT.html#2929" class="InductiveConstructor Operator">,</a> <a id="4985" href="Birkhoff.HSPTheorem.html#4948" class="Bound">q</a><a id="4986" class="Symbol">)</a> <a id="4988" href="Relations.Discrete.html#2407" class="Function Operator">∈</a> <a id="4990" href="Birkhoff.FreeAlgebra.html#3200" class="Function">ψ</a> <a id="4992" href="Birkhoff.HSPTheorem.html#2600" class="Bound">𝒦</a>
<a id="4994" href="Birkhoff.HSPTheorem.html#4934" class="Function">ψlemma0</a> <a id="5002" href="Birkhoff.HSPTheorem.html#5002" class="Bound">p</a> <a id="5004" href="Birkhoff.HSPTheorem.html#5004" class="Bound">q</a> <a id="5006" href="Birkhoff.HSPTheorem.html#5006" class="Bound">phomℭq</a> <a id="5013" href="Birkhoff.HSPTheorem.html#5013" class="Bound">𝑨</a> <a id="5015" href="Birkhoff.HSPTheorem.html#5015" class="Bound">sA</a> <a id="5018" href="Birkhoff.HSPTheorem.html#5018" class="Bound">h</a> <a id="5020" class="Symbol">=</a> <a id="5022" href="MGS-MLTT.html#6613" class="Function">ap</a> <a id="5025" class="Symbol">(λ</a> <a id="5028" href="Birkhoff.HSPTheorem.html#5028" class="Bound">-</a> <a id="5030" class="Symbol">→</a> <a id="5032" href="Birkhoff.HSPTheorem.html#5028" class="Bound">-</a> <a id="5034" class="Symbol">(</a><a id="5035" href="Birkhoff.HSPTheorem.html#5013" class="Bound">𝑨</a> <a id="5037" href="MGS-MLTT.html#2929" class="InductiveConstructor Operator">,</a> <a id="5039" class="Symbol">(</a><a id="5040" href="Birkhoff.HSPTheorem.html#5015" class="Bound">sA</a> <a id="5043" href="MGS-MLTT.html#2929" class="InductiveConstructor Operator">,</a> <a id="5045" href="Birkhoff.HSPTheorem.html#5018" class="Bound">h</a><a id="5046" class="Symbol">)))</a> <a id="5050" href="Birkhoff.HSPTheorem.html#5006" class="Bound">phomℭq</a>


<a id="ψlemma0-ap"></a><a id="5059" href="Birkhoff.HSPTheorem.html#5059" class="Function">ψlemma0-ap</a> <a id="5070" class="Symbol">:</a> <a id="5072" class="Symbol">{</a><a id="5073" href="Birkhoff.HSPTheorem.html#5073" class="Bound">𝑨</a> <a id="5075" class="Symbol">:</a> <a id="5077" href="Algebras.Algebras.html#694" class="Function">Algebra</a> <a id="5085" href="Birkhoff.HSPTheorem.html#2574" class="Bound">𝓤</a> <a id="5087" href="Birkhoff.HSPTheorem.html#2472" class="Bound">𝑆</a><a id="5088" class="Symbol">}{</a><a id="5090" href="Birkhoff.HSPTheorem.html#5090" class="Bound">h</a> <a id="5092" class="Symbol">:</a> <a id="5094" href="Birkhoff.HSPTheorem.html#2589" class="Bound">X</a> <a id="5096" class="Symbol">→</a> <a id="5098" href="Prelude.Preliminaries.html#13569" class="Function Operator">∣</a> <a id="5100" href="Birkhoff.HSPTheorem.html#5073" class="Bound">𝑨</a> <a id="5102" href="Prelude.Preliminaries.html#13569" class="Function Operator">∣</a><a id="5103" class="Symbol">}</a>
 <a id="5106" class="Symbol">→</a>           <a id="5118" href="Birkhoff.HSPTheorem.html#5073" class="Bound">𝑨</a> <a id="5120" href="Relations.Discrete.html#2407" class="Function Operator">∈</a> <a id="5122" href="Varieties.Varieties.html#2939" class="Datatype">S</a><a id="5123" class="Symbol">{</a><a id="5124" href="Birkhoff.HSPTheorem.html#2574" class="Bound">𝓤</a><a id="5125" class="Symbol">}{</a><a id="5127" href="Birkhoff.HSPTheorem.html#2574" class="Bound">𝓤</a><a id="5128" class="Symbol">}</a> <a id="5130" href="Birkhoff.HSPTheorem.html#2600" class="Bound">𝒦</a>
             <a id="5145" class="Comment">---------------------------------------</a>
 <a id="5186" class="Symbol">→</a>           <a id="5198" href="Relations.Discrete.html#6866" class="Function">KER-pred</a> <a id="5207" href="Prelude.Preliminaries.html#13569" class="Function Operator">∣</a> <a id="5209" href="Birkhoff.HSPTheorem.html#4743" class="Function">hom𝔽</a> <a id="5214" href="Prelude.Preliminaries.html#13569" class="Function Operator">∣</a> <a id="5216" href="Relations.Discrete.html#2729" class="Function Operator">⊆</a> <a id="5218" href="Relations.Discrete.html#6866" class="Function">KER-pred</a> <a id="5227" class="Symbol">(</a><a id="5228" href="Terms.Basic.html#4326" class="Function">free-lift</a> <a id="5238" href="Birkhoff.HSPTheorem.html#5073" class="Bound">𝑨</a> <a id="5240" href="Birkhoff.HSPTheorem.html#5090" class="Bound">h</a><a id="5241" class="Symbol">)</a>

<a id="5244" href="Birkhoff.HSPTheorem.html#5059" class="Function">ψlemma0-ap</a> <a id="5255" class="Symbol">{</a><a id="5256" href="Birkhoff.HSPTheorem.html#5256" class="Bound">𝑨</a><a id="5257" class="Symbol">}{</a><a id="5259" href="Birkhoff.HSPTheorem.html#5259" class="Bound">h</a><a id="5260" class="Symbol">}</a> <a id="5262" href="Birkhoff.HSPTheorem.html#5262" class="Bound">skA</a> <a id="5266" class="Symbol">{</a><a id="5267" href="Birkhoff.HSPTheorem.html#5267" class="Bound">p</a> <a id="5269" href="MGS-MLTT.html#2929" class="InductiveConstructor Operator">,</a> <a id="5271" href="Birkhoff.HSPTheorem.html#5271" class="Bound">q</a><a id="5272" class="Symbol">}</a> <a id="5274" href="Birkhoff.HSPTheorem.html#5274" class="Bound">x</a> <a id="5276" class="Symbol">=</a> <a id="5278" href="Birkhoff.HSPTheorem.html#5365" class="Function">γ</a> <a id="5280" class="Keyword">where</a>

  <a id="5289" href="Birkhoff.HSPTheorem.html#5289" class="Function">ν</a> <a id="5291" class="Symbol">:</a> <a id="5293" href="Prelude.Preliminaries.html#13569" class="Function Operator">∣</a> <a id="5295" href="Birkhoff.HSPTheorem.html#4183" class="Function">homℭ</a> <a id="5300" href="Prelude.Preliminaries.html#13569" class="Function Operator">∣</a> <a id="5302" href="Birkhoff.HSPTheorem.html#5267" class="Bound">p</a> <a id="5304" href="MGS-MLTT.html#4207" class="Datatype Operator">≡</a> <a id="5306" href="Prelude.Preliminaries.html#13569" class="Function Operator">∣</a> <a id="5308" href="Birkhoff.HSPTheorem.html#4183" class="Function">homℭ</a> <a id="5313" href="Prelude.Preliminaries.html#13569" class="Function Operator">∣</a> <a id="5315" href="Birkhoff.HSPTheorem.html#5271" class="Bound">q</a>
  <a id="5319" href="Birkhoff.HSPTheorem.html#5289" class="Function">ν</a> <a id="5321" class="Symbol">=</a> <a id="5323" href="Homomorphisms.Basic.html#8223" class="Function">ker-in-con</a> <a id="5334" class="Symbol">(</a><a id="5335" href="Terms.Basic.html#3664" class="Function">𝑻</a> <a id="5337" href="Birkhoff.HSPTheorem.html#2589" class="Bound">X</a><a id="5338" class="Symbol">)</a> <a id="5340" class="Symbol">(</a><a id="5341" href="Homomorphisms.Basic.html#6209" class="Function">kercon</a> <a id="5348" href="Birkhoff.HSPTheorem.html#3994" class="Function">ℭ</a> <a id="5350" href="Birkhoff.HSPTheorem.html#4183" class="Function">homℭ</a><a id="5354" class="Symbol">)</a> <a id="5356" href="Birkhoff.HSPTheorem.html#5267" class="Bound">p</a> <a id="5358" href="Birkhoff.HSPTheorem.html#5271" class="Bound">q</a> <a id="5360" href="Birkhoff.HSPTheorem.html#5274" class="Bound">x</a>

  <a id="5365" href="Birkhoff.HSPTheorem.html#5365" class="Function">γ</a> <a id="5367" class="Symbol">:</a> <a id="5369" class="Symbol">(</a><a id="5370" href="Terms.Basic.html#4326" class="Function">free-lift</a> <a id="5380" href="Birkhoff.HSPTheorem.html#5256" class="Bound">𝑨</a> <a id="5382" href="Birkhoff.HSPTheorem.html#5259" class="Bound">h</a><a id="5383" class="Symbol">)</a> <a id="5385" href="Birkhoff.HSPTheorem.html#5267" class="Bound">p</a> <a id="5387" href="MGS-MLTT.html#4207" class="Datatype Operator">≡</a> <a id="5389" class="Symbol">(</a><a id="5390" href="Terms.Basic.html#4326" class="Function">free-lift</a> <a id="5400" href="Birkhoff.HSPTheorem.html#5256" class="Bound">𝑨</a> <a id="5402" href="Birkhoff.HSPTheorem.html#5259" class="Bound">h</a><a id="5403" class="Symbol">)</a> <a id="5405" href="Birkhoff.HSPTheorem.html#5271" class="Bound">q</a>
  <a id="5409" href="Birkhoff.HSPTheorem.html#5365" class="Function">γ</a> <a id="5411" class="Symbol">=</a> <a id="5413" class="Symbol">((</a><a id="5415" href="Birkhoff.HSPTheorem.html#4934" class="Function">ψlemma0</a> <a id="5423" href="Birkhoff.HSPTheorem.html#5267" class="Bound">p</a> <a id="5425" href="Birkhoff.HSPTheorem.html#5271" class="Bound">q</a><a id="5426" class="Symbol">)</a> <a id="5428" href="Birkhoff.HSPTheorem.html#5289" class="Function">ν</a><a id="5429" class="Symbol">)</a> <a id="5431" href="Birkhoff.HSPTheorem.html#5256" class="Bound">𝑨</a> <a id="5433" href="Birkhoff.HSPTheorem.html#5262" class="Bound">skA</a> <a id="5437" href="Birkhoff.HSPTheorem.html#5259" class="Bound">h</a>


</pre>

We now use `ψlemma0-ap` to prove that every map `h : X → ∣ 𝑨 ∣`, from `X` to a subalgebra `𝑨 ∈ S 𝒦` of `𝒦`, lifts to a homomorphism from `𝔽` to `𝑨`.

<pre class="Agda">

<a id="𝔽-lift-hom"></a><a id="5617" href="Birkhoff.HSPTheorem.html#5617" class="Function">𝔽-lift-hom</a> <a id="5628" class="Symbol">:</a> <a id="5630" class="Symbol">(</a><a id="5631" href="Birkhoff.HSPTheorem.html#5631" class="Bound">𝑨</a> <a id="5633" class="Symbol">:</a> <a id="5635" href="Algebras.Algebras.html#694" class="Function">Algebra</a> <a id="5643" href="Birkhoff.HSPTheorem.html#2574" class="Bound">𝓤</a> <a id="5645" href="Birkhoff.HSPTheorem.html#2472" class="Bound">𝑆</a><a id="5646" class="Symbol">)</a> <a id="5648" class="Symbol">→</a> <a id="5650" href="Birkhoff.HSPTheorem.html#5631" class="Bound">𝑨</a> <a id="5652" href="Relations.Discrete.html#2407" class="Function Operator">∈</a> <a id="5654" href="Varieties.Varieties.html#2939" class="Datatype">S</a><a id="5655" class="Symbol">{</a><a id="5656" href="Birkhoff.HSPTheorem.html#2574" class="Bound">𝓤</a><a id="5657" class="Symbol">}{</a><a id="5659" href="Birkhoff.HSPTheorem.html#2574" class="Bound">𝓤</a><a id="5660" class="Symbol">}</a> <a id="5662" href="Birkhoff.HSPTheorem.html#2600" class="Bound">𝒦</a> <a id="5664" class="Symbol">→</a> <a id="5666" class="Symbol">(</a><a id="5667" href="Birkhoff.HSPTheorem.html#2589" class="Bound">X</a> <a id="5669" class="Symbol">→</a> <a id="5671" href="Prelude.Preliminaries.html#13569" class="Function Operator">∣</a> <a id="5673" href="Birkhoff.HSPTheorem.html#5631" class="Bound">𝑨</a> <a id="5675" href="Prelude.Preliminaries.html#13569" class="Function Operator">∣</a><a id="5676" class="Symbol">)</a> <a id="5678" class="Symbol">→</a> <a id="5680" href="Homomorphisms.Basic.html#2343" class="Function">hom</a> <a id="5684" href="Birkhoff.HSPTheorem.html#4659" class="Function">𝔽</a> <a id="5686" href="Birkhoff.HSPTheorem.html#5631" class="Bound">𝑨</a>
<a id="5688" href="Birkhoff.HSPTheorem.html#5617" class="Function">𝔽-lift-hom</a> <a id="5699" href="Birkhoff.HSPTheorem.html#5699" class="Bound">𝑨</a> <a id="5701" href="Birkhoff.HSPTheorem.html#5701" class="Bound">skA</a> <a id="5705" href="Birkhoff.HSPTheorem.html#5705" class="Bound">h</a> <a id="5707" class="Symbol">=</a> <a id="5709" href="Prelude.Preliminaries.html#13573" class="Function">fst</a><a id="5712" class="Symbol">(</a><a id="5713" href="Homomorphisms.Noether.html#8099" class="Function">HomFactor</a> <a id="5723" class="Symbol">(</a><a id="5724" href="Terms.Basic.html#3664" class="Function">𝑻</a> <a id="5726" href="Birkhoff.HSPTheorem.html#2589" class="Bound">X</a><a id="5727" class="Symbol">){</a><a id="5729" href="Birkhoff.HSPTheorem.html#5699" class="Bound">𝑨</a><a id="5730" class="Symbol">}{</a><a id="5732" href="Birkhoff.HSPTheorem.html#4659" class="Function">𝔽</a><a id="5733" class="Symbol">}(</a><a id="5735" href="Terms.Basic.html#4577" class="Function">lift-hom</a> <a id="5744" href="Birkhoff.HSPTheorem.html#5699" class="Bound">𝑨</a> <a id="5746" href="Birkhoff.HSPTheorem.html#5705" class="Bound">h</a><a id="5747" class="Symbol">)</a> <a id="5749" href="Birkhoff.HSPTheorem.html#4743" class="Function">hom𝔽</a> <a id="5754" href="Birkhoff.HSPTheorem.html#4788" class="Function">hom𝔽-is-epic</a> <a id="5767" class="Symbol">(</a><a id="5768" href="Birkhoff.HSPTheorem.html#5059" class="Function">ψlemma0-ap</a> <a id="5779" href="Birkhoff.HSPTheorem.html#5701" class="Bound">skA</a><a id="5782" class="Symbol">))</a>

</pre>


#### <a id="k-models-psi">𝒦 models ψ</a>

The goal of this subsection is to prove that `𝒦` models `ψ 𝒦`. In other terms, for all pairs `(p , q) ∈ Term X × Term X` of terms, if `(p , q) ∈ ψ 𝒦`, then `𝒦 ⊧ p ≋ q`.

Next we define the lift of the natural embedding from `X` into 𝔽. We denote this homomorphism by `𝔑 : hom (𝑻 X) 𝔽` and define it as follows.

<pre class="Agda">

<a id="X↪𝔽"></a><a id="6167" href="Birkhoff.HSPTheorem.html#6167" class="Function">X↪𝔽</a> <a id="6171" class="Symbol">:</a> <a id="6173" href="Birkhoff.HSPTheorem.html#2589" class="Bound">X</a> <a id="6175" class="Symbol">→</a> <a id="6177" href="Prelude.Preliminaries.html#13569" class="Function Operator">∣</a> <a id="6179" href="Birkhoff.HSPTheorem.html#4659" class="Function">𝔽</a> <a id="6181" href="Prelude.Preliminaries.html#13569" class="Function Operator">∣</a>
<a id="6183" href="Birkhoff.HSPTheorem.html#6167" class="Function">X↪𝔽</a> <a id="6187" href="Birkhoff.HSPTheorem.html#6187" class="Bound">x</a> <a id="6189" class="Symbol">=</a> <a id="6191" href="Relations.Quotients.html#3867" class="Function Operator">⟦</a> <a id="6193" href="Terms.Operations.html#753" class="InductiveConstructor">ℊ</a> <a id="6195" href="Birkhoff.HSPTheorem.html#6187" class="Bound">x</a> <a id="6197" href="Relations.Quotients.html#3867" class="Function Operator">⟧</a>

<a id="𝔑"></a><a id="6200" href="Birkhoff.HSPTheorem.html#6200" class="Function">𝔑</a> <a id="6202" class="Symbol">:</a> <a id="6204" href="Homomorphisms.Basic.html#2343" class="Function">hom</a> <a id="6208" class="Symbol">(</a><a id="6209" href="Terms.Basic.html#3664" class="Function">𝑻</a> <a id="6211" href="Birkhoff.HSPTheorem.html#2589" class="Bound">X</a><a id="6212" class="Symbol">)</a> <a id="6214" href="Birkhoff.HSPTheorem.html#4659" class="Function">𝔽</a>
<a id="6216" href="Birkhoff.HSPTheorem.html#6200" class="Function">𝔑</a> <a id="6218" class="Symbol">=</a> <a id="6220" href="Terms.Basic.html#4577" class="Function">lift-hom</a> <a id="6229" href="Birkhoff.HSPTheorem.html#4659" class="Function">𝔽</a> <a id="6231" href="Birkhoff.HSPTheorem.html#6167" class="Function">X↪𝔽</a>

</pre>

It turns out that the homomorphism so defined is equivalent to `hom𝔽`.

<pre class="Agda">

<a id="hom𝔽-is-lift-hom"></a><a id="6334" href="Birkhoff.HSPTheorem.html#6334" class="Function">hom𝔽-is-lift-hom</a> <a id="6351" class="Symbol">:</a> <a id="6353" class="Symbol">∀</a> <a id="6355" href="Birkhoff.HSPTheorem.html#6355" class="Bound">p</a> <a id="6357" class="Symbol">→</a> <a id="6359" href="Prelude.Preliminaries.html#13569" class="Function Operator">∣</a> <a id="6361" href="Birkhoff.HSPTheorem.html#6200" class="Function">𝔑</a> <a id="6363" href="Prelude.Preliminaries.html#13569" class="Function Operator">∣</a> <a id="6365" href="Birkhoff.HSPTheorem.html#6355" class="Bound">p</a> <a id="6367" href="MGS-MLTT.html#4207" class="Datatype Operator">≡</a> <a id="6369" href="Prelude.Preliminaries.html#13569" class="Function Operator">∣</a> <a id="6371" href="Birkhoff.HSPTheorem.html#4743" class="Function">hom𝔽</a> <a id="6376" href="Prelude.Preliminaries.html#13569" class="Function Operator">∣</a> <a id="6378" href="Birkhoff.HSPTheorem.html#6355" class="Bound">p</a>
<a id="6380" href="Birkhoff.HSPTheorem.html#6334" class="Function">hom𝔽-is-lift-hom</a> <a id="6397" class="Symbol">(</a><a id="6398" href="Terms.Operations.html#753" class="InductiveConstructor">ℊ</a> <a id="6400" href="Birkhoff.HSPTheorem.html#6400" class="Bound">x</a><a id="6401" class="Symbol">)</a> <a id="6403" class="Symbol">=</a> <a id="6405" href="MGS-MLTT.html#4221" class="InductiveConstructor">𝓇ℯ𝒻𝓁</a>
<a id="6410" href="Birkhoff.HSPTheorem.html#6334" class="Function">hom𝔽-is-lift-hom</a> <a id="6427" class="Symbol">(</a><a id="6428" href="Terms.Basic.html#2456" class="InductiveConstructor">node</a> <a id="6433" href="Birkhoff.HSPTheorem.html#6433" class="Bound">𝑓</a> <a id="6435" href="Birkhoff.HSPTheorem.html#6435" class="Bound">𝒕</a><a id="6436" class="Symbol">)</a> <a id="6438" class="Symbol">=</a> <a id="6440" href="Prelude.Preliminaries.html#13569" class="Function Operator">∣</a> <a id="6442" href="Birkhoff.HSPTheorem.html#6200" class="Function">𝔑</a> <a id="6444" href="Prelude.Preliminaries.html#13569" class="Function Operator">∣</a> <a id="6446" class="Symbol">(</a><a id="6447" href="Terms.Basic.html#2456" class="InductiveConstructor">node</a> <a id="6452" href="Birkhoff.HSPTheorem.html#6433" class="Bound">𝑓</a> <a id="6454" href="Birkhoff.HSPTheorem.html#6435" class="Bound">𝒕</a><a id="6455" class="Symbol">)</a>           <a id="6467" href="MGS-MLTT.html#5997" class="Function Operator">≡⟨</a> <a id="6470" href="Prelude.Preliminaries.html#13647" class="Function Operator">∥</a> <a id="6472" href="Birkhoff.HSPTheorem.html#6200" class="Function">𝔑</a> <a id="6474" href="Prelude.Preliminaries.html#13647" class="Function Operator">∥</a> <a id="6476" href="Birkhoff.HSPTheorem.html#6433" class="Bound">𝑓</a> <a id="6478" href="Birkhoff.HSPTheorem.html#6435" class="Bound">𝒕</a> <a id="6480" href="MGS-MLTT.html#5997" class="Function Operator">⟩</a>
                          <a id="6508" class="Symbol">(</a><a id="6509" href="Birkhoff.HSPTheorem.html#6433" class="Bound">𝑓</a> <a id="6511" href="Algebras.Algebras.html#2997" class="Function Operator">̂</a> <a id="6513" href="Birkhoff.HSPTheorem.html#4659" class="Function">𝔽</a><a id="6514" class="Symbol">)(λ</a> <a id="6518" href="Birkhoff.HSPTheorem.html#6518" class="Bound">i</a> <a id="6520" class="Symbol">→</a> <a id="6522" href="Prelude.Preliminaries.html#13569" class="Function Operator">∣</a> <a id="6524" href="Birkhoff.HSPTheorem.html#6200" class="Function">𝔑</a> <a id="6526" href="Prelude.Preliminaries.html#13569" class="Function Operator">∣</a><a id="6527" class="Symbol">(</a><a id="6528" href="Birkhoff.HSPTheorem.html#6435" class="Bound">𝒕</a> <a id="6530" href="Birkhoff.HSPTheorem.html#6518" class="Bound">i</a><a id="6531" class="Symbol">))</a>  <a id="6535" href="MGS-MLTT.html#5997" class="Function Operator">≡⟨</a> <a id="6538" href="MGS-MLTT.html#6613" class="Function">ap</a><a id="6540" class="Symbol">(</a><a id="6541" href="Birkhoff.HSPTheorem.html#6433" class="Bound">𝑓</a> <a id="6543" href="Algebras.Algebras.html#2997" class="Function Operator">̂</a> <a id="6545" href="Birkhoff.HSPTheorem.html#4659" class="Function">𝔽</a><a id="6546" class="Symbol">)(</a><a id="6548" href="Birkhoff.HSPTheorem.html#2491" class="Bound">gfe</a> <a id="6552" class="Symbol">(λ</a> <a id="6555" href="Birkhoff.HSPTheorem.html#6555" class="Bound">x</a> <a id="6557" class="Symbol">→</a> <a id="6559" href="Birkhoff.HSPTheorem.html#6334" class="Function">hom𝔽-is-lift-hom</a><a id="6575" class="Symbol">(</a><a id="6576" href="Birkhoff.HSPTheorem.html#6435" class="Bound">𝒕</a> <a id="6578" href="Birkhoff.HSPTheorem.html#6555" class="Bound">x</a><a id="6579" class="Symbol">)))</a> <a id="6583" href="MGS-MLTT.html#5997" class="Function Operator">⟩</a>
                          <a id="6611" class="Symbol">(</a><a id="6612" href="Birkhoff.HSPTheorem.html#6433" class="Bound">𝑓</a> <a id="6614" href="Algebras.Algebras.html#2997" class="Function Operator">̂</a> <a id="6616" href="Birkhoff.HSPTheorem.html#4659" class="Function">𝔽</a><a id="6617" class="Symbol">)(λ</a> <a id="6621" href="Birkhoff.HSPTheorem.html#6621" class="Bound">i</a> <a id="6623" class="Symbol">→</a> <a id="6625" href="Prelude.Preliminaries.html#13569" class="Function Operator">∣</a> <a id="6627" href="Birkhoff.HSPTheorem.html#4743" class="Function">hom𝔽</a> <a id="6632" href="Prelude.Preliminaries.html#13569" class="Function Operator">∣</a> <a id="6634" class="Symbol">(</a><a id="6635" href="Birkhoff.HSPTheorem.html#6435" class="Bound">𝒕</a> <a id="6637" href="Birkhoff.HSPTheorem.html#6621" class="Bound">i</a><a id="6638" class="Symbol">))</a>  <a id="6642" href="MGS-MLTT.html#5997" class="Function Operator">≡⟨</a> <a id="6645" class="Symbol">(</a><a id="6646" href="Prelude.Preliminaries.html#13647" class="Function Operator">∥</a> <a id="6648" href="Birkhoff.HSPTheorem.html#4743" class="Function">hom𝔽</a> <a id="6653" href="Prelude.Preliminaries.html#13647" class="Function Operator">∥</a> <a id="6655" href="Birkhoff.HSPTheorem.html#6433" class="Bound">𝑓</a> <a id="6657" href="Birkhoff.HSPTheorem.html#6435" class="Bound">𝒕</a><a id="6658" class="Symbol">)</a><a id="6659" href="MGS-MLTT.html#6125" class="Function Operator">⁻¹</a> <a id="6662" href="MGS-MLTT.html#5997" class="Function Operator">⟩</a>
                          <a id="6690" href="Prelude.Preliminaries.html#13569" class="Function Operator">∣</a> <a id="6692" href="Birkhoff.HSPTheorem.html#4743" class="Function">hom𝔽</a> <a id="6697" href="Prelude.Preliminaries.html#13569" class="Function Operator">∣</a> <a id="6699" class="Symbol">(</a><a id="6700" href="Terms.Basic.html#2456" class="InductiveConstructor">node</a> <a id="6705" href="Birkhoff.HSPTheorem.html#6433" class="Bound">𝑓</a> <a id="6707" href="Birkhoff.HSPTheorem.html#6435" class="Bound">𝒕</a><a id="6708" class="Symbol">)</a>           <a id="6720" href="MGS-MLTT.html#6079" class="Function Operator">∎</a>


</pre>

We need a three more lemmas before we are ready to tackle our main goal.

<pre class="Agda">

<a id="ψlemma1"></a><a id="6824" href="Birkhoff.HSPTheorem.html#6824" class="Function">ψlemma1</a> <a id="6832" class="Symbol">:</a> <a id="6834" href="Relations.Discrete.html#6866" class="Function">KER-pred</a> <a id="6843" href="Prelude.Preliminaries.html#13569" class="Function Operator">∣</a> <a id="6845" href="Birkhoff.HSPTheorem.html#6200" class="Function">𝔑</a> <a id="6847" href="Prelude.Preliminaries.html#13569" class="Function Operator">∣</a> <a id="6849" href="Relations.Discrete.html#2729" class="Function Operator">⊆</a> <a id="6851" href="Birkhoff.FreeAlgebra.html#3200" class="Function">ψ</a> <a id="6853" href="Birkhoff.HSPTheorem.html#2600" class="Bound">𝒦</a>
<a id="6855" href="Birkhoff.HSPTheorem.html#6824" class="Function">ψlemma1</a> <a id="6863" class="Symbol">{</a><a id="6864" href="Birkhoff.HSPTheorem.html#6864" class="Bound">p</a> <a id="6866" href="MGS-MLTT.html#2929" class="InductiveConstructor Operator">,</a> <a id="6868" href="Birkhoff.HSPTheorem.html#6868" class="Bound">q</a><a id="6869" class="Symbol">}</a> <a id="6871" href="Birkhoff.HSPTheorem.html#6871" class="Bound">𝔑pq</a> <a id="6875" href="Birkhoff.HSPTheorem.html#6875" class="Bound">𝑨</a> <a id="6877" href="Birkhoff.HSPTheorem.html#6877" class="Bound">sA</a> <a id="6880" href="Birkhoff.HSPTheorem.html#6880" class="Bound">h</a> <a id="6882" class="Symbol">=</a> <a id="6884" href="Birkhoff.HSPTheorem.html#7156" class="Function">γ</a>
 <a id="6887" class="Keyword">where</a>
  <a id="6895" href="Birkhoff.HSPTheorem.html#6895" class="Function">f</a> <a id="6897" class="Symbol">:</a> <a id="6899" href="Homomorphisms.Basic.html#2343" class="Function">hom</a> <a id="6903" href="Birkhoff.HSPTheorem.html#4659" class="Function">𝔽</a> <a id="6905" href="Birkhoff.HSPTheorem.html#6875" class="Bound">𝑨</a>
  <a id="6909" href="Birkhoff.HSPTheorem.html#6895" class="Function">f</a> <a id="6911" class="Symbol">=</a> <a id="6913" href="Birkhoff.HSPTheorem.html#5617" class="Function">𝔽-lift-hom</a> <a id="6924" href="Birkhoff.HSPTheorem.html#6875" class="Bound">𝑨</a> <a id="6926" href="Birkhoff.HSPTheorem.html#6877" class="Bound">sA</a> <a id="6929" href="Birkhoff.HSPTheorem.html#6880" class="Bound">h</a>

  <a id="6934" href="Birkhoff.HSPTheorem.html#6934" class="Function">h&#39;</a> <a id="6937" href="Birkhoff.HSPTheorem.html#6937" class="Function">ϕ</a> <a id="6939" class="Symbol">:</a> <a id="6941" href="Homomorphisms.Basic.html#2343" class="Function">hom</a> <a id="6945" class="Symbol">(</a><a id="6946" href="Terms.Basic.html#3664" class="Function">𝑻</a> <a id="6948" href="Birkhoff.HSPTheorem.html#2589" class="Bound">X</a><a id="6949" class="Symbol">)</a> <a id="6951" href="Birkhoff.HSPTheorem.html#6875" class="Bound">𝑨</a>
  <a id="6955" href="Birkhoff.HSPTheorem.html#6934" class="Function">h&#39;</a> <a id="6958" class="Symbol">=</a> <a id="6960" href="Homomorphisms.Noether.html#4601" class="Function">HomComp</a> <a id="6968" class="Symbol">(</a><a id="6969" href="Terms.Basic.html#3664" class="Function">𝑻</a> <a id="6971" href="Birkhoff.HSPTheorem.html#2589" class="Bound">X</a><a id="6972" class="Symbol">)</a> <a id="6974" href="Birkhoff.HSPTheorem.html#6875" class="Bound">𝑨</a> <a id="6976" href="Birkhoff.HSPTheorem.html#6200" class="Function">𝔑</a> <a id="6978" href="Birkhoff.HSPTheorem.html#6895" class="Function">f</a>
  <a id="6982" href="Birkhoff.HSPTheorem.html#6937" class="Function">ϕ</a> <a id="6984" class="Symbol">=</a> <a id="6986" href="Terms.Basic.html#4577" class="Function">lift-hom</a> <a id="6995" href="Birkhoff.HSPTheorem.html#6875" class="Bound">𝑨</a> <a id="6997" href="Birkhoff.HSPTheorem.html#6880" class="Bound">h</a>

  <a id="7002" href="Birkhoff.HSPTheorem.html#7002" class="Function">f𝔑≡ϕ</a> <a id="7007" class="Symbol">:</a> <a id="7009" class="Symbol">(</a><a id="7010" href="Birkhoff.HSPTheorem.html#7010" class="Bound">x</a> <a id="7012" class="Symbol">:</a> <a id="7014" href="Birkhoff.HSPTheorem.html#2589" class="Bound">X</a><a id="7015" class="Symbol">)</a> <a id="7017" class="Symbol">→</a> <a id="7019" class="Symbol">(</a><a id="7020" href="Prelude.Preliminaries.html#13569" class="Function Operator">∣</a> <a id="7022" href="Birkhoff.HSPTheorem.html#6895" class="Function">f</a> <a id="7024" href="Prelude.Preliminaries.html#13569" class="Function Operator">∣</a> <a id="7026" href="MGS-MLTT.html#3813" class="Function Operator">∘</a> <a id="7028" href="Prelude.Preliminaries.html#13569" class="Function Operator">∣</a> <a id="7030" href="Birkhoff.HSPTheorem.html#6200" class="Function">𝔑</a> <a id="7032" href="Prelude.Preliminaries.html#13569" class="Function Operator">∣</a><a id="7033" class="Symbol">)</a> <a id="7035" class="Symbol">(</a><a id="7036" href="Terms.Operations.html#753" class="InductiveConstructor">ℊ</a> <a id="7038" href="Birkhoff.HSPTheorem.html#7010" class="Bound">x</a><a id="7039" class="Symbol">)</a> <a id="7041" href="MGS-MLTT.html#4207" class="Datatype Operator">≡</a> <a id="7043" href="Prelude.Preliminaries.html#13569" class="Function Operator">∣</a> <a id="7045" href="Birkhoff.HSPTheorem.html#6937" class="Function">ϕ</a> <a id="7047" href="Prelude.Preliminaries.html#13569" class="Function Operator">∣</a> <a id="7049" class="Symbol">(</a><a id="7050" href="Terms.Operations.html#753" class="InductiveConstructor">ℊ</a> <a id="7052" href="Birkhoff.HSPTheorem.html#7010" class="Bound">x</a><a id="7053" class="Symbol">)</a>
  <a id="7057" href="Birkhoff.HSPTheorem.html#7002" class="Function">f𝔑≡ϕ</a> <a id="7062" href="Birkhoff.HSPTheorem.html#7062" class="Bound">x</a> <a id="7064" class="Symbol">=</a> <a id="7066" href="MGS-MLTT.html#4221" class="InductiveConstructor">𝓇ℯ𝒻𝓁</a>
  <a id="7073" href="Birkhoff.HSPTheorem.html#7073" class="Function">h≡ϕ</a> <a id="7077" class="Symbol">:</a> <a id="7079" class="Symbol">∀</a> <a id="7081" href="Birkhoff.HSPTheorem.html#7081" class="Bound">t</a> <a id="7083" class="Symbol">→</a> <a id="7085" class="Symbol">(</a><a id="7086" href="Prelude.Preliminaries.html#13569" class="Function Operator">∣</a> <a id="7088" href="Birkhoff.HSPTheorem.html#6895" class="Function">f</a> <a id="7090" href="Prelude.Preliminaries.html#13569" class="Function Operator">∣</a> <a id="7092" href="MGS-MLTT.html#3813" class="Function Operator">∘</a> <a id="7094" href="Prelude.Preliminaries.html#13569" class="Function Operator">∣</a> <a id="7096" href="Birkhoff.HSPTheorem.html#6200" class="Function">𝔑</a> <a id="7098" href="Prelude.Preliminaries.html#13569" class="Function Operator">∣</a><a id="7099" class="Symbol">)</a> <a id="7101" href="Birkhoff.HSPTheorem.html#7081" class="Bound">t</a> <a id="7103" href="MGS-MLTT.html#4207" class="Datatype Operator">≡</a> <a id="7105" href="Prelude.Preliminaries.html#13569" class="Function Operator">∣</a> <a id="7107" href="Birkhoff.HSPTheorem.html#6937" class="Function">ϕ</a> <a id="7109" href="Prelude.Preliminaries.html#13569" class="Function Operator">∣</a> <a id="7111" href="Birkhoff.HSPTheorem.html#7081" class="Bound">t</a>
  <a id="7115" href="Birkhoff.HSPTheorem.html#7073" class="Function">h≡ϕ</a> <a id="7119" href="Birkhoff.HSPTheorem.html#7119" class="Bound">t</a> <a id="7121" class="Symbol">=</a> <a id="7123" href="Terms.Basic.html#4782" class="Function">free-unique</a> <a id="7135" href="Birkhoff.HSPTheorem.html#2491" class="Bound">gfe</a> <a id="7139" href="Birkhoff.HSPTheorem.html#6875" class="Bound">𝑨</a> <a id="7141" href="Birkhoff.HSPTheorem.html#6934" class="Function">h&#39;</a> <a id="7144" href="Birkhoff.HSPTheorem.html#6937" class="Function">ϕ</a> <a id="7146" href="Birkhoff.HSPTheorem.html#7002" class="Function">f𝔑≡ϕ</a> <a id="7151" href="Birkhoff.HSPTheorem.html#7119" class="Bound">t</a>

  <a id="7156" href="Birkhoff.HSPTheorem.html#7156" class="Function">γ</a> <a id="7158" class="Symbol">:</a> <a id="7160" href="Prelude.Preliminaries.html#13569" class="Function Operator">∣</a> <a id="7162" href="Birkhoff.HSPTheorem.html#6937" class="Function">ϕ</a> <a id="7164" href="Prelude.Preliminaries.html#13569" class="Function Operator">∣</a> <a id="7166" href="Birkhoff.HSPTheorem.html#6864" class="Bound">p</a> <a id="7168" href="MGS-MLTT.html#4207" class="Datatype Operator">≡</a> <a id="7170" href="Prelude.Preliminaries.html#13569" class="Function Operator">∣</a> <a id="7172" href="Birkhoff.HSPTheorem.html#6937" class="Function">ϕ</a> <a id="7174" href="Prelude.Preliminaries.html#13569" class="Function Operator">∣</a> <a id="7176" href="Birkhoff.HSPTheorem.html#6868" class="Bound">q</a>
  <a id="7180" href="Birkhoff.HSPTheorem.html#7156" class="Function">γ</a> <a id="7182" class="Symbol">=</a> <a id="7184" href="Prelude.Preliminaries.html#13569" class="Function Operator">∣</a> <a id="7186" href="Birkhoff.HSPTheorem.html#6937" class="Function">ϕ</a> <a id="7188" href="Prelude.Preliminaries.html#13569" class="Function Operator">∣</a> <a id="7190" href="Birkhoff.HSPTheorem.html#6864" class="Bound">p</a>         <a id="7200" href="MGS-MLTT.html#5997" class="Function Operator">≡⟨</a> <a id="7203" class="Symbol">(</a><a id="7204" href="Birkhoff.HSPTheorem.html#7073" class="Function">h≡ϕ</a> <a id="7208" href="Birkhoff.HSPTheorem.html#6864" class="Bound">p</a><a id="7209" class="Symbol">)</a><a id="7210" href="MGS-MLTT.html#6125" class="Function Operator">⁻¹</a> <a id="7213" href="MGS-MLTT.html#5997" class="Function Operator">⟩</a>
      <a id="7221" href="Prelude.Preliminaries.html#13569" class="Function Operator">∣</a> <a id="7223" href="Birkhoff.HSPTheorem.html#6895" class="Function">f</a> <a id="7225" href="Prelude.Preliminaries.html#13569" class="Function Operator">∣</a> <a id="7227" class="Symbol">(</a> <a id="7229" href="Prelude.Preliminaries.html#13569" class="Function Operator">∣</a> <a id="7231" href="Birkhoff.HSPTheorem.html#6200" class="Function">𝔑</a> <a id="7233" href="Prelude.Preliminaries.html#13569" class="Function Operator">∣</a> <a id="7235" href="Birkhoff.HSPTheorem.html#6864" class="Bound">p</a> <a id="7237" class="Symbol">)</a> <a id="7239" href="MGS-MLTT.html#5997" class="Function Operator">≡⟨</a> <a id="7242" href="MGS-MLTT.html#6613" class="Function">ap</a> <a id="7245" href="Prelude.Preliminaries.html#13569" class="Function Operator">∣</a> <a id="7247" href="Birkhoff.HSPTheorem.html#6895" class="Function">f</a> <a id="7249" href="Prelude.Preliminaries.html#13569" class="Function Operator">∣</a> <a id="7251" href="Birkhoff.HSPTheorem.html#6871" class="Bound">𝔑pq</a> <a id="7255" href="MGS-MLTT.html#5997" class="Function Operator">⟩</a>
      <a id="7263" href="Prelude.Preliminaries.html#13569" class="Function Operator">∣</a> <a id="7265" href="Birkhoff.HSPTheorem.html#6895" class="Function">f</a> <a id="7267" href="Prelude.Preliminaries.html#13569" class="Function Operator">∣</a> <a id="7269" class="Symbol">(</a> <a id="7271" href="Prelude.Preliminaries.html#13569" class="Function Operator">∣</a> <a id="7273" href="Birkhoff.HSPTheorem.html#6200" class="Function">𝔑</a> <a id="7275" href="Prelude.Preliminaries.html#13569" class="Function Operator">∣</a> <a id="7277" href="Birkhoff.HSPTheorem.html#6868" class="Bound">q</a> <a id="7279" class="Symbol">)</a> <a id="7281" href="MGS-MLTT.html#5997" class="Function Operator">≡⟨</a> <a id="7284" href="Birkhoff.HSPTheorem.html#7073" class="Function">h≡ϕ</a> <a id="7288" href="Birkhoff.HSPTheorem.html#6868" class="Bound">q</a> <a id="7290" href="MGS-MLTT.html#5997" class="Function Operator">⟩</a>
      <a id="7298" href="Prelude.Preliminaries.html#13569" class="Function Operator">∣</a> <a id="7300" href="Birkhoff.HSPTheorem.html#6937" class="Function">ϕ</a> <a id="7302" href="Prelude.Preliminaries.html#13569" class="Function Operator">∣</a> <a id="7304" href="Birkhoff.HSPTheorem.html#6868" class="Bound">q</a> <a id="7306" href="MGS-MLTT.html#6079" class="Function Operator">∎</a>


<a id="ψlemma2"></a><a id="7310" href="Birkhoff.HSPTheorem.html#7310" class="Function">ψlemma2</a> <a id="7318" class="Symbol">:</a> <a id="7320" href="Relations.Discrete.html#6866" class="Function">KER-pred</a> <a id="7329" href="Prelude.Preliminaries.html#13569" class="Function Operator">∣</a> <a id="7331" href="Birkhoff.HSPTheorem.html#4743" class="Function">hom𝔽</a> <a id="7336" href="Prelude.Preliminaries.html#13569" class="Function Operator">∣</a> <a id="7338" href="Relations.Discrete.html#2729" class="Function Operator">⊆</a> <a id="7340" href="Birkhoff.FreeAlgebra.html#3200" class="Function">ψ</a> <a id="7342" href="Birkhoff.HSPTheorem.html#2600" class="Bound">𝒦</a>
<a id="7344" href="Birkhoff.HSPTheorem.html#7310" class="Function">ψlemma2</a> <a id="7352" class="Symbol">{</a><a id="7353" href="Birkhoff.HSPTheorem.html#7353" class="Bound">p</a> <a id="7355" href="MGS-MLTT.html#2929" class="InductiveConstructor Operator">,</a> <a id="7357" href="Birkhoff.HSPTheorem.html#7357" class="Bound">q</a><a id="7358" class="Symbol">}</a> <a id="7360" href="Birkhoff.HSPTheorem.html#7360" class="Bound">hyp</a> <a id="7364" class="Symbol">=</a> <a id="7366" href="Birkhoff.HSPTheorem.html#6824" class="Function">ψlemma1</a> <a id="7374" class="Symbol">{</a><a id="7375" href="Birkhoff.HSPTheorem.html#7353" class="Bound">p</a> <a id="7377" href="MGS-MLTT.html#2929" class="InductiveConstructor Operator">,</a> <a id="7379" href="Birkhoff.HSPTheorem.html#7357" class="Bound">q</a><a id="7380" class="Symbol">}</a> <a id="7382" href="Birkhoff.HSPTheorem.html#7395" class="Function">γ</a>
  <a id="7386" class="Keyword">where</a>
   <a id="7395" href="Birkhoff.HSPTheorem.html#7395" class="Function">γ</a> <a id="7397" class="Symbol">:</a> <a id="7399" class="Symbol">(</a><a id="7400" href="Terms.Basic.html#4326" class="Function">free-lift</a> <a id="7410" href="Birkhoff.HSPTheorem.html#4659" class="Function">𝔽</a> <a id="7412" href="Birkhoff.HSPTheorem.html#6167" class="Function">X↪𝔽</a><a id="7415" class="Symbol">)</a> <a id="7417" href="Birkhoff.HSPTheorem.html#7353" class="Bound">p</a> <a id="7419" href="MGS-MLTT.html#4207" class="Datatype Operator">≡</a> <a id="7421" class="Symbol">(</a><a id="7422" href="Terms.Basic.html#4326" class="Function">free-lift</a> <a id="7432" href="Birkhoff.HSPTheorem.html#4659" class="Function">𝔽</a> <a id="7434" href="Birkhoff.HSPTheorem.html#6167" class="Function">X↪𝔽</a><a id="7437" class="Symbol">)</a> <a id="7439" href="Birkhoff.HSPTheorem.html#7357" class="Bound">q</a>
   <a id="7444" href="Birkhoff.HSPTheorem.html#7395" class="Function">γ</a> <a id="7446" class="Symbol">=</a> <a id="7448" class="Symbol">(</a><a id="7449" href="Birkhoff.HSPTheorem.html#6334" class="Function">hom𝔽-is-lift-hom</a> <a id="7466" href="Birkhoff.HSPTheorem.html#7353" class="Bound">p</a><a id="7467" class="Symbol">)</a> <a id="7469" href="MGS-MLTT.html#5910" class="Function Operator">∙</a> <a id="7471" href="Birkhoff.HSPTheorem.html#7360" class="Bound">hyp</a> <a id="7475" href="MGS-MLTT.html#5910" class="Function Operator">∙</a> <a id="7477" class="Symbol">(</a><a id="7478" href="Birkhoff.HSPTheorem.html#6334" class="Function">hom𝔽-is-lift-hom</a> <a id="7495" href="Birkhoff.HSPTheorem.html#7357" class="Bound">q</a><a id="7496" class="Symbol">)</a><a id="7497" href="MGS-MLTT.html#6125" class="Function Operator">⁻¹</a>


<a id="ψlemma3"></a><a id="7502" href="Birkhoff.HSPTheorem.html#7502" class="Function">ψlemma3</a> <a id="7510" class="Symbol">:</a> <a id="7512" class="Symbol">∀</a> <a id="7514" href="Birkhoff.HSPTheorem.html#7514" class="Bound">p</a> <a id="7516" href="Birkhoff.HSPTheorem.html#7516" class="Bound">q</a> <a id="7518" class="Symbol">→</a> <a id="7520" class="Symbol">(</a><a id="7521" href="Birkhoff.HSPTheorem.html#7514" class="Bound">p</a> <a id="7523" href="MGS-MLTT.html#2929" class="InductiveConstructor Operator">,</a> <a id="7525" href="Birkhoff.HSPTheorem.html#7516" class="Bound">q</a><a id="7526" class="Symbol">)</a> <a id="7528" href="Relations.Discrete.html#2407" class="Function Operator">∈</a> <a id="7530" href="Birkhoff.FreeAlgebra.html#3200" class="Function">ψ</a> <a id="7532" href="Birkhoff.HSPTheorem.html#2600" class="Bound">𝒦</a> <a id="7534" class="Symbol">→</a> <a id="7536" href="Birkhoff.HSPTheorem.html#2600" class="Bound">𝒦</a> <a id="7538" href="Varieties.EquationalLogic.html#2741" class="Function Operator">⊧</a> <a id="7540" href="Birkhoff.HSPTheorem.html#7514" class="Bound">p</a> <a id="7542" href="Varieties.EquationalLogic.html#2741" class="Function Operator">≋</a> <a id="7544" href="Birkhoff.HSPTheorem.html#7516" class="Bound">q</a>
<a id="7546" href="Birkhoff.HSPTheorem.html#7502" class="Function">ψlemma3</a> <a id="7554" href="Birkhoff.HSPTheorem.html#7554" class="Bound">p</a> <a id="7556" href="Birkhoff.HSPTheorem.html#7556" class="Bound">q</a> <a id="7558" href="Birkhoff.HSPTheorem.html#7558" class="Bound">pψq</a> <a id="7562" class="Symbol">{</a><a id="7563" href="Birkhoff.HSPTheorem.html#7563" class="Bound">𝑨</a><a id="7564" class="Symbol">}</a> <a id="7566" href="Birkhoff.HSPTheorem.html#7566" class="Bound">kA</a> <a id="7569" class="Symbol">=</a> <a id="7571" href="Birkhoff.HSPTheorem.html#7642" class="Function">γ</a>
 <a id="7574" class="Keyword">where</a>
  <a id="7582" href="Birkhoff.HSPTheorem.html#7582" class="Function">skA</a> <a id="7586" class="Symbol">:</a> <a id="7588" href="Birkhoff.HSPTheorem.html#7563" class="Bound">𝑨</a> <a id="7590" href="Relations.Discrete.html#2407" class="Function Operator">∈</a> <a id="7592" href="Varieties.Varieties.html#2939" class="Datatype">S</a> <a id="7594" href="Birkhoff.HSPTheorem.html#2600" class="Bound">𝒦</a>
  <a id="7598" href="Birkhoff.HSPTheorem.html#7582" class="Function">skA</a> <a id="7602" class="Symbol">=</a> <a id="7604" href="Varieties.Varieties.html#3291" class="InductiveConstructor">siso</a> <a id="7609" class="Symbol">(</a><a id="7610" href="Varieties.Varieties.html#3030" class="InductiveConstructor">sbase</a> <a id="7616" href="Birkhoff.HSPTheorem.html#7566" class="Bound">kA</a><a id="7618" class="Symbol">)</a> <a id="7620" class="Symbol">(</a><a id="7621" href="Homomorphisms.Isomorphisms.html#2988" class="Function">sym-≅</a> <a id="7627" href="Homomorphisms.Isomorphisms.html#4959" class="Function">lift-alg-≅</a><a id="7637" class="Symbol">)</a>

  <a id="7642" href="Birkhoff.HSPTheorem.html#7642" class="Function">γ</a> <a id="7644" class="Symbol">:</a> <a id="7646" class="Symbol">(</a><a id="7647" href="Birkhoff.HSPTheorem.html#7554" class="Bound">p</a> <a id="7649" href="Terms.Operations.html#1739" class="Function Operator">̇</a> <a id="7651" href="Birkhoff.HSPTheorem.html#7563" class="Bound">𝑨</a><a id="7652" class="Symbol">)</a> <a id="7654" href="MGS-MLTT.html#4207" class="Datatype Operator">≡</a> <a id="7656" class="Symbol">(</a><a id="7657" href="Birkhoff.HSPTheorem.html#7556" class="Bound">q</a> <a id="7659" href="Terms.Operations.html#1739" class="Function Operator">̇</a> <a id="7661" href="Birkhoff.HSPTheorem.html#7563" class="Bound">𝑨</a><a id="7662" class="Symbol">)</a>
  <a id="7666" href="Birkhoff.HSPTheorem.html#7642" class="Function">γ</a> <a id="7668" class="Symbol">=</a> <a id="7670" href="Birkhoff.HSPTheorem.html#2491" class="Bound">gfe</a> <a id="7674" class="Symbol">λ</a> <a id="7676" href="Birkhoff.HSPTheorem.html#7676" class="Bound">h</a> <a id="7678" class="Symbol">→</a> <a id="7680" class="Symbol">(</a><a id="7681" href="Birkhoff.HSPTheorem.html#7554" class="Bound">p</a> <a id="7683" href="Terms.Operations.html#1739" class="Function Operator">̇</a> <a id="7685" href="Birkhoff.HSPTheorem.html#7563" class="Bound">𝑨</a><a id="7686" class="Symbol">)</a> <a id="7688" href="Birkhoff.HSPTheorem.html#7676" class="Bound">h</a>         <a id="7698" href="MGS-MLTT.html#5997" class="Function Operator">≡⟨</a> <a id="7701" href="Terms.Operations.html#1992" class="Function">free-lift-interp</a> <a id="7718" href="Birkhoff.HSPTheorem.html#7563" class="Bound">𝑨</a> <a id="7720" href="Birkhoff.HSPTheorem.html#7676" class="Bound">h</a> <a id="7722" href="Birkhoff.HSPTheorem.html#7554" class="Bound">p</a> <a id="7724" href="MGS-MLTT.html#5997" class="Function Operator">⟩</a>
                <a id="7742" class="Symbol">(</a><a id="7743" href="Terms.Basic.html#4326" class="Function">free-lift</a> <a id="7753" href="Birkhoff.HSPTheorem.html#7563" class="Bound">𝑨</a> <a id="7755" href="Birkhoff.HSPTheorem.html#7676" class="Bound">h</a><a id="7756" class="Symbol">)</a> <a id="7758" href="Birkhoff.HSPTheorem.html#7554" class="Bound">p</a> <a id="7760" href="MGS-MLTT.html#5997" class="Function Operator">≡⟨</a> <a id="7763" href="Birkhoff.HSPTheorem.html#7558" class="Bound">pψq</a> <a id="7767" href="Birkhoff.HSPTheorem.html#7563" class="Bound">𝑨</a> <a id="7769" href="Birkhoff.HSPTheorem.html#7582" class="Function">skA</a> <a id="7773" href="Birkhoff.HSPTheorem.html#7676" class="Bound">h</a> <a id="7775" href="MGS-MLTT.html#5997" class="Function Operator">⟩</a>
                <a id="7793" class="Symbol">(</a><a id="7794" href="Terms.Basic.html#4326" class="Function">free-lift</a> <a id="7804" href="Birkhoff.HSPTheorem.html#7563" class="Bound">𝑨</a> <a id="7806" href="Birkhoff.HSPTheorem.html#7676" class="Bound">h</a><a id="7807" class="Symbol">)</a> <a id="7809" href="Birkhoff.HSPTheorem.html#7556" class="Bound">q</a> <a id="7811" href="MGS-MLTT.html#5997" class="Function Operator">≡⟨</a> <a id="7814" class="Symbol">(</a><a id="7815" href="Terms.Operations.html#1992" class="Function">free-lift-interp</a> <a id="7832" href="Birkhoff.HSPTheorem.html#7563" class="Bound">𝑨</a> <a id="7834" href="Birkhoff.HSPTheorem.html#7676" class="Bound">h</a> <a id="7836" href="Birkhoff.HSPTheorem.html#7556" class="Bound">q</a><a id="7837" class="Symbol">)</a><a id="7838" href="MGS-MLTT.html#6125" class="Function Operator">⁻¹</a>  <a id="7842" href="MGS-MLTT.html#5997" class="Function Operator">⟩</a>
                <a id="7860" class="Symbol">(</a><a id="7861" href="Birkhoff.HSPTheorem.html#7556" class="Bound">q</a> <a id="7863" href="Terms.Operations.html#1739" class="Function Operator">̇</a> <a id="7865" href="Birkhoff.HSPTheorem.html#7563" class="Bound">𝑨</a><a id="7866" class="Symbol">)</a> <a id="7868" href="Birkhoff.HSPTheorem.html#7676" class="Bound">h</a>         <a id="7878" href="MGS-MLTT.html#6079" class="Function Operator">∎</a>


</pre>

With these results in hand, it is now trivial to prove the main theorem of this subsection.

<pre class="Agda">

<a id="class-models-kernel"></a><a id="8001" href="Birkhoff.HSPTheorem.html#8001" class="Function">class-models-kernel</a> <a id="8021" class="Symbol">:</a> <a id="8023" class="Symbol">∀</a> <a id="8025" href="Birkhoff.HSPTheorem.html#8025" class="Bound">p</a> <a id="8027" href="Birkhoff.HSPTheorem.html#8027" class="Bound">q</a> <a id="8029" class="Symbol">→</a> <a id="8031" class="Symbol">(</a><a id="8032" href="Birkhoff.HSPTheorem.html#8025" class="Bound">p</a> <a id="8034" href="MGS-MLTT.html#2929" class="InductiveConstructor Operator">,</a> <a id="8036" href="Birkhoff.HSPTheorem.html#8027" class="Bound">q</a><a id="8037" class="Symbol">)</a> <a id="8039" href="Relations.Discrete.html#2407" class="Function Operator">∈</a> <a id="8041" href="Relations.Discrete.html#6866" class="Function">KER-pred</a> <a id="8050" href="Prelude.Preliminaries.html#13569" class="Function Operator">∣</a> <a id="8052" href="Birkhoff.HSPTheorem.html#4743" class="Function">hom𝔽</a> <a id="8057" href="Prelude.Preliminaries.html#13569" class="Function Operator">∣</a> <a id="8059" class="Symbol">→</a> <a id="8061" href="Birkhoff.HSPTheorem.html#2600" class="Bound">𝒦</a> <a id="8063" href="Varieties.EquationalLogic.html#2741" class="Function Operator">⊧</a> <a id="8065" href="Birkhoff.HSPTheorem.html#8025" class="Bound">p</a> <a id="8067" href="Varieties.EquationalLogic.html#2741" class="Function Operator">≋</a> <a id="8069" href="Birkhoff.HSPTheorem.html#8027" class="Bound">q</a>
<a id="8071" href="Birkhoff.HSPTheorem.html#8001" class="Function">class-models-kernel</a>  <a id="8092" href="Birkhoff.HSPTheorem.html#8092" class="Bound">p</a> <a id="8094" href="Birkhoff.HSPTheorem.html#8094" class="Bound">q</a> <a id="8096" href="Birkhoff.HSPTheorem.html#8096" class="Bound">hyp</a> <a id="8100" class="Symbol">=</a> <a id="8102" href="Birkhoff.HSPTheorem.html#7502" class="Function">ψlemma3</a> <a id="8110" href="Birkhoff.HSPTheorem.html#8092" class="Bound">p</a> <a id="8112" href="Birkhoff.HSPTheorem.html#8094" class="Bound">q</a> <a id="8114" class="Symbol">(</a><a id="8115" href="Birkhoff.HSPTheorem.html#7310" class="Function">ψlemma2</a> <a id="8123" href="Birkhoff.HSPTheorem.html#8096" class="Bound">hyp</a><a id="8126" class="Symbol">)</a>

</pre>


#### <a id="the-homomorphic-images-of-F">The homomorphic images of 𝔽</a>

Finally we come to one of the main theorems of this module; it asserts that every algebra in `Mod X (Th 𝕍𝒦)` is a homomorphic image of 𝔽.  We prove this below as the function (or proof object) `𝔽-ModTh-epi`.  Before that, we prove two auxiliary lemmas.

<pre class="Agda">

<a id="kernel-in-theory"></a><a id="8484" href="Birkhoff.HSPTheorem.html#8484" class="Function">kernel-in-theory</a> <a id="8501" class="Symbol">:</a> <a id="8503" href="Relations.Discrete.html#6866" class="Function">KER-pred</a> <a id="8512" href="Prelude.Preliminaries.html#13569" class="Function Operator">∣</a> <a id="8514" href="Birkhoff.HSPTheorem.html#4743" class="Function">hom𝔽</a> <a id="8519" href="Prelude.Preliminaries.html#13569" class="Function Operator">∣</a> <a id="8521" href="Relations.Discrete.html#2729" class="Function Operator">⊆</a> <a id="8523" href="Varieties.EquationalLogic.html#3665" class="Function">Th</a> <a id="8526" class="Symbol">(</a><a id="8527" href="Varieties.Varieties.html#4567" class="Datatype">V</a> <a id="8529" href="Birkhoff.HSPTheorem.html#2600" class="Bound">𝒦</a><a id="8530" class="Symbol">)</a>
<a id="8532" href="Birkhoff.HSPTheorem.html#8484" class="Function">kernel-in-theory</a> <a id="8549" class="Symbol">{</a><a id="8550" href="Birkhoff.HSPTheorem.html#8550" class="Bound">p</a> <a id="8552" href="MGS-MLTT.html#2929" class="InductiveConstructor Operator">,</a> <a id="8554" href="Birkhoff.HSPTheorem.html#8554" class="Bound">q</a><a id="8555" class="Symbol">}</a> <a id="8557" href="Birkhoff.HSPTheorem.html#8557" class="Bound">pKq</a> <a id="8561" class="Symbol">=</a> <a id="8563" class="Symbol">(</a><a id="8564" href="Varieties.Preservation.html#8998" class="Function">class-ids-⇒</a> <a id="8576" href="Birkhoff.HSPTheorem.html#8550" class="Bound">p</a> <a id="8578" href="Birkhoff.HSPTheorem.html#8554" class="Bound">q</a> <a id="8580" class="Symbol">(</a><a id="8581" href="Birkhoff.HSPTheorem.html#8001" class="Function">class-models-kernel</a> <a id="8601" href="Birkhoff.HSPTheorem.html#8550" class="Bound">p</a> <a id="8603" href="Birkhoff.HSPTheorem.html#8554" class="Bound">q</a> <a id="8605" href="Birkhoff.HSPTheorem.html#8557" class="Bound">pKq</a><a id="8608" class="Symbol">))</a>

<a id="8612" class="Keyword">open</a> <a id="8617" href="Algebras.Congruences.html#1106" class="Module">Congruence</a>

<a id="free-quot-subalg-ℭ"></a><a id="8629" href="Birkhoff.HSPTheorem.html#8629" class="Function">free-quot-subalg-ℭ</a> <a id="8648" class="Symbol">:</a> <a id="8650" href="Relations.Truncation.html#5556" class="Function">prop-ext</a> <a id="8659" class="Symbol">(</a><a id="8660" href="Terms.Basic.html#2383" class="Datatype">Term</a> <a id="8665" href="Birkhoff.HSPTheorem.html#2589" class="Bound">X</a><a id="8666" class="Symbol">)</a> <a id="8668" class="Symbol">(</a><a id="8669" href="Algebras.Products.html#1918" class="Function">ov</a> <a id="8672" href="Birkhoff.HSPTheorem.html#2574" class="Bound">𝓤</a><a id="8673" class="Symbol">)</a> <a id="8675" class="Symbol">→</a> <a id="8677" href="MGS-Basic-UF.html#1929" class="Function">is-set</a> <a id="8684" href="Prelude.Preliminaries.html#13569" class="Function Operator">∣</a> <a id="8686" href="Birkhoff.HSPTheorem.html#3994" class="Function">ℭ</a> <a id="8688" href="Prelude.Preliminaries.html#13569" class="Function Operator">∣</a>
 <a id="8691" class="Symbol">→</a>                   <a id="8711" class="Symbol">(∀</a> <a id="8714" href="Birkhoff.HSPTheorem.html#8714" class="Bound">p</a> <a id="8716" href="Birkhoff.HSPTheorem.html#8716" class="Bound">q</a> <a id="8718" class="Symbol">→</a> <a id="8720" href="MGS-Basic-UF.html#743" class="Function">is-subsingleton</a> <a id="8736" class="Symbol">(</a><a id="8737" href="Algebras.Congruences.html#1200" class="Field Operator">⟨</a> <a id="8739" href="Homomorphisms.Basic.html#6209" class="Function">kercon</a> <a id="8746" href="Birkhoff.HSPTheorem.html#3994" class="Function">ℭ</a> <a id="8748" href="Birkhoff.HSPTheorem.html#4183" class="Function">homℭ</a> <a id="8753" href="Algebras.Congruences.html#1200" class="Field Operator">⟩</a> <a id="8755" href="Birkhoff.HSPTheorem.html#8714" class="Bound">p</a> <a id="8757" href="Birkhoff.HSPTheorem.html#8716" class="Bound">q</a><a id="8758" class="Symbol">))</a>
 <a id="8762" class="Symbol">→</a>                   <a id="8782" class="Symbol">(∀</a> <a id="8785" href="Birkhoff.HSPTheorem.html#8785" class="Bound">C</a> <a id="8787" class="Symbol">→</a> <a id="8789" href="MGS-Basic-UF.html#743" class="Function">is-subsingleton</a> <a id="8805" class="Symbol">(</a><a id="8806" href="Relations.Quotients.html#3195" class="Function">𝒞</a><a id="8807" class="Symbol">{</a><a id="8808" class="Argument">A</a> <a id="8810" class="Symbol">=</a> <a id="8812" href="Prelude.Preliminaries.html#13569" class="Function Operator">∣</a> <a id="8814" href="Terms.Basic.html#3664" class="Function">𝑻</a> <a id="8816" href="Birkhoff.HSPTheorem.html#2589" class="Bound">X</a> <a id="8818" href="Prelude.Preliminaries.html#13569" class="Function Operator">∣</a><a id="8819" class="Symbol">}{</a><a id="8821" href="Algebras.Congruences.html#1200" class="Field Operator">⟨</a> <a id="8823" href="Homomorphisms.Basic.html#6209" class="Function">kercon</a> <a id="8830" href="Birkhoff.HSPTheorem.html#3994" class="Function">ℭ</a> <a id="8832" href="Birkhoff.HSPTheorem.html#4183" class="Function">homℭ</a> <a id="8837" href="Algebras.Congruences.html#1200" class="Field Operator">⟩</a><a id="8838" class="Symbol">}</a> <a id="8840" href="Birkhoff.HSPTheorem.html#8785" class="Bound">C</a><a id="8841" class="Symbol">))</a>
                     <a id="8865" class="Comment">-----------------------------------------------------------</a>
 <a id="8926" class="Symbol">→</a>                   <a id="8946" class="Symbol">((</a><a id="8948" href="Terms.Basic.html#3664" class="Function">𝑻</a> <a id="8950" href="Birkhoff.HSPTheorem.html#2589" class="Bound">X</a><a id="8951" class="Symbol">)</a> <a id="8953" href="Homomorphisms.Basic.html#6587" class="Function Operator">[</a> <a id="8955" href="Birkhoff.HSPTheorem.html#3994" class="Function">ℭ</a> <a id="8957" href="Homomorphisms.Basic.html#6587" class="Function Operator">]/ker</a> <a id="8963" href="Birkhoff.HSPTheorem.html#4183" class="Function">homℭ</a><a id="8967" class="Symbol">)</a> <a id="8969" href="Subalgebras.Subalgebras.html#3954" class="Function Operator">≤</a> <a id="8971" href="Birkhoff.HSPTheorem.html#3994" class="Function">ℭ</a>

<a id="8974" href="Birkhoff.HSPTheorem.html#8629" class="Function">free-quot-subalg-ℭ</a> <a id="8993" href="Birkhoff.HSPTheorem.html#8993" class="Bound">pe</a> <a id="8996" href="Birkhoff.HSPTheorem.html#8996" class="Bound">Cset</a> <a id="9001" href="Birkhoff.HSPTheorem.html#9001" class="Bound">ssR</a> <a id="9005" href="Birkhoff.HSPTheorem.html#9005" class="Bound">ssC</a> <a id="9009" class="Symbol">=</a> <a id="9011" href="Subalgebras.Subalgebras.html#2154" class="Function">FirstHomCorollary</a> <a id="9029" class="Symbol">(</a><a id="9030" href="Terms.Basic.html#3664" class="Function">𝑻</a> <a id="9032" href="Birkhoff.HSPTheorem.html#2589" class="Bound">X</a><a id="9033" class="Symbol">)</a> <a id="9035" href="Birkhoff.HSPTheorem.html#3994" class="Function">ℭ</a> <a id="9037" href="Birkhoff.HSPTheorem.html#4183" class="Function">homℭ</a> <a id="9042" href="Birkhoff.HSPTheorem.html#8993" class="Bound">pe</a> <a id="9045" href="Birkhoff.HSPTheorem.html#8996" class="Bound">Cset</a> <a id="9050" href="Birkhoff.HSPTheorem.html#9001" class="Bound">ssR</a> <a id="9054" href="Birkhoff.HSPTheorem.html#9005" class="Bound">ssC</a>


<a id="9060" class="Keyword">module</a> <a id="9067" href="Birkhoff.HSPTheorem.html#9067" class="Module">_</a> <a id="9069" class="Symbol">(</a><a id="9070" href="Birkhoff.HSPTheorem.html#9070" class="Bound">Cset</a> <a id="9075" class="Symbol">:</a> <a id="9077" href="MGS-Basic-UF.html#1929" class="Function">is-set</a> <a id="9084" href="Prelude.Preliminaries.html#13569" class="Function Operator">∣</a> <a id="9086" href="Birkhoff.HSPTheorem.html#3994" class="Function">ℭ</a> <a id="9088" href="Prelude.Preliminaries.html#13569" class="Function Operator">∣</a><a id="9089" class="Symbol">)(</a><a id="9091" href="Birkhoff.HSPTheorem.html#9091" class="Bound">pe</a> <a id="9094" class="Symbol">:</a> <a id="9096" href="Relations.Truncation.html#5556" class="Function">prop-ext</a> <a id="9105" class="Symbol">(</a><a id="9106" href="Terms.Basic.html#2383" class="Datatype">Term</a> <a id="9111" href="Birkhoff.HSPTheorem.html#2589" class="Bound">X</a><a id="9112" class="Symbol">)</a> <a id="9114" class="Symbol">(</a><a id="9115" href="Algebras.Products.html#1918" class="Function">ov</a> <a id="9118" href="Birkhoff.HSPTheorem.html#2574" class="Bound">𝓤</a><a id="9119" class="Symbol">))</a>
         <a id="9131" class="Symbol">(</a><a id="9132" href="Birkhoff.HSPTheorem.html#9132" class="Bound">ssR</a> <a id="9136" class="Symbol">:</a> <a id="9138" class="Symbol">∀</a> <a id="9140" href="Birkhoff.HSPTheorem.html#9140" class="Bound">p</a> <a id="9142" href="Birkhoff.HSPTheorem.html#9142" class="Bound">q</a> <a id="9144" class="Symbol">→</a> <a id="9146" href="MGS-Basic-UF.html#743" class="Function">is-subsingleton</a> <a id="9162" class="Symbol">(</a><a id="9163" href="Algebras.Congruences.html#1200" class="Field Operator">⟨</a> <a id="9165" href="Homomorphisms.Basic.html#6209" class="Function">kercon</a> <a id="9172" href="Birkhoff.HSPTheorem.html#3994" class="Function">ℭ</a> <a id="9174" href="Birkhoff.HSPTheorem.html#4183" class="Function">homℭ</a> <a id="9179" href="Algebras.Congruences.html#1200" class="Field Operator">⟩</a> <a id="9181" href="Birkhoff.HSPTheorem.html#9140" class="Bound">p</a> <a id="9183" href="Birkhoff.HSPTheorem.html#9142" class="Bound">q</a><a id="9184" class="Symbol">))</a>
         <a id="9196" class="Symbol">(</a><a id="9197" href="Birkhoff.HSPTheorem.html#9197" class="Bound">ssC</a> <a id="9201" class="Symbol">:</a> <a id="9203" class="Symbol">∀</a> <a id="9205" href="Birkhoff.HSPTheorem.html#9205" class="Bound">C</a> <a id="9207" class="Symbol">→</a> <a id="9209" href="MGS-Basic-UF.html#743" class="Function">is-subsingleton</a> <a id="9225" class="Symbol">(</a><a id="9226" href="Relations.Quotients.html#3195" class="Function">𝒞</a><a id="9227" class="Symbol">{</a><a id="9228" class="Argument">A</a> <a id="9230" class="Symbol">=</a> <a id="9232" href="Prelude.Preliminaries.html#13569" class="Function Operator">∣</a> <a id="9234" href="Terms.Basic.html#3664" class="Function">𝑻</a> <a id="9236" href="Birkhoff.HSPTheorem.html#2589" class="Bound">X</a> <a id="9238" href="Prelude.Preliminaries.html#13569" class="Function Operator">∣</a><a id="9239" class="Symbol">}{</a><a id="9241" href="Algebras.Congruences.html#1200" class="Field Operator">⟨</a> <a id="9243" href="Homomorphisms.Basic.html#6209" class="Function">kercon</a> <a id="9250" href="Birkhoff.HSPTheorem.html#3994" class="Function">ℭ</a> <a id="9252" href="Birkhoff.HSPTheorem.html#4183" class="Function">homℭ</a> <a id="9257" href="Algebras.Congruences.html#1200" class="Field Operator">⟩</a><a id="9258" class="Symbol">}</a> <a id="9260" href="Birkhoff.HSPTheorem.html#9205" class="Bound">C</a><a id="9261" class="Symbol">))</a> <a id="9264" class="Keyword">where</a>

 <a id="9272" href="Birkhoff.HSPTheorem.html#9272" class="Function">𝔽≤ℭ</a> <a id="9276" class="Symbol">:</a> <a id="9278" class="Symbol">((</a><a id="9280" href="Terms.Basic.html#3664" class="Function">𝑻</a> <a id="9282" href="Birkhoff.HSPTheorem.html#2589" class="Bound">X</a><a id="9283" class="Symbol">)</a> <a id="9285" href="Homomorphisms.Basic.html#6587" class="Function Operator">[</a> <a id="9287" href="Birkhoff.HSPTheorem.html#3994" class="Function">ℭ</a> <a id="9289" href="Homomorphisms.Basic.html#6587" class="Function Operator">]/ker</a> <a id="9295" href="Birkhoff.HSPTheorem.html#4183" class="Function">homℭ</a><a id="9299" class="Symbol">)</a> <a id="9301" href="Subalgebras.Subalgebras.html#3954" class="Function Operator">≤</a> <a id="9303" href="Birkhoff.HSPTheorem.html#3994" class="Function">ℭ</a>
 <a id="9306" href="Birkhoff.HSPTheorem.html#9272" class="Function">𝔽≤ℭ</a> <a id="9310" class="Symbol">=</a> <a id="9312" href="Birkhoff.HSPTheorem.html#8629" class="Function">free-quot-subalg-ℭ</a> <a id="9331" href="Birkhoff.HSPTheorem.html#9091" class="Bound">pe</a> <a id="9334" href="Birkhoff.HSPTheorem.html#9070" class="Bound">Cset</a> <a id="9339" href="Birkhoff.HSPTheorem.html#9132" class="Bound">ssR</a> <a id="9343" href="Birkhoff.HSPTheorem.html#9197" class="Bound">ssC</a>

 <a id="9349" href="Birkhoff.HSPTheorem.html#9349" class="Function">𝕍𝒦</a> <a id="9352" class="Symbol">:</a> <a id="9354" href="Relations.Discrete.html#1408" class="Function">Pred</a> <a id="9359" class="Symbol">(</a><a id="9360" href="Algebras.Algebras.html#694" class="Function">Algebra</a> <a id="9368" href="Birkhoff.FreeAlgebra.html#2863" class="Function">𝓸𝓿𝓾+</a> <a id="9373" href="Birkhoff.HSPTheorem.html#2472" class="Bound">𝑆</a><a id="9374" class="Symbol">)</a> <a id="9376" href="Birkhoff.FreeAlgebra.html#2868" class="Function">𝓸𝓿𝓾++</a>
 <a id="9383" href="Birkhoff.HSPTheorem.html#9349" class="Function">𝕍𝒦</a> <a id="9386" class="Symbol">=</a> <a id="9388" href="Varieties.Varieties.html#4567" class="Datatype">V</a><a id="9389" class="Symbol">{</a><a id="9390" href="Birkhoff.HSPTheorem.html#2574" class="Bound">𝓤</a><a id="9391" class="Symbol">}{</a><a id="9393" href="Birkhoff.FreeAlgebra.html#2863" class="Function">𝓸𝓿𝓾+</a><a id="9397" class="Symbol">}</a> <a id="9399" href="Birkhoff.HSPTheorem.html#2600" class="Bound">𝒦</a>

 <a id="9403" href="Birkhoff.HSPTheorem.html#9403" class="Function">𝔽-ModTh-epi</a> <a id="9415" class="Symbol">:</a> <a id="9417" class="Symbol">(</a><a id="9418" href="Birkhoff.HSPTheorem.html#9418" class="Bound">𝑨</a> <a id="9420" class="Symbol">:</a> <a id="9422" href="Algebras.Algebras.html#694" class="Function">Algebra</a> <a id="9430" href="Birkhoff.FreeAlgebra.html#2863" class="Function">𝓸𝓿𝓾+</a> <a id="9435" href="Birkhoff.HSPTheorem.html#2472" class="Bound">𝑆</a><a id="9436" class="Symbol">)</a> <a id="9438" class="Symbol">→</a> <a id="9440" href="Birkhoff.HSPTheorem.html#9418" class="Bound">𝑨</a> <a id="9442" href="Relations.Discrete.html#2407" class="Function Operator">∈</a> <a id="9444" href="Varieties.EquationalLogic.html#3954" class="Function">Mod</a> <a id="9448" class="Symbol">(</a><a id="9449" href="Varieties.EquationalLogic.html#3665" class="Function">Th</a> <a id="9452" href="Birkhoff.HSPTheorem.html#9349" class="Function">𝕍𝒦</a><a id="9454" class="Symbol">)</a> <a id="9456" class="Symbol">→</a> <a id="9458" href="Homomorphisms.Basic.html#3358" class="Function">epi</a> <a id="9462" href="Birkhoff.HSPTheorem.html#4659" class="Function">𝔽</a> <a id="9464" href="Birkhoff.HSPTheorem.html#9418" class="Bound">𝑨</a>
 <a id="9467" href="Birkhoff.HSPTheorem.html#9403" class="Function">𝔽-ModTh-epi</a> <a id="9479" href="Birkhoff.HSPTheorem.html#9479" class="Bound">𝑨</a> <a id="9481" href="Birkhoff.HSPTheorem.html#9481" class="Bound">AinMTV</a> <a id="9488" class="Symbol">=</a> <a id="9490" href="Birkhoff.HSPTheorem.html#10227" class="Function">γ</a>
  <a id="9494" class="Keyword">where</a>
   <a id="9503" href="Birkhoff.HSPTheorem.html#9503" class="Function">ϕ</a> <a id="9505" class="Symbol">:</a> <a id="9507" href="Homomorphisms.Basic.html#2343" class="Function">hom</a> <a id="9511" class="Symbol">(</a><a id="9512" href="Terms.Basic.html#3664" class="Function">𝑻</a> <a id="9514" href="Birkhoff.HSPTheorem.html#2589" class="Bound">X</a><a id="9515" class="Symbol">)</a> <a id="9517" href="Birkhoff.HSPTheorem.html#9479" class="Bound">𝑨</a>
   <a id="9522" href="Birkhoff.HSPTheorem.html#9503" class="Function">ϕ</a> <a id="9524" class="Symbol">=</a> <a id="9526" href="Terms.Basic.html#4577" class="Function">lift-hom</a> <a id="9535" href="Birkhoff.HSPTheorem.html#9479" class="Bound">𝑨</a> <a id="9537" class="Symbol">(</a><a id="9538" href="Prelude.Preliminaries.html#13573" class="Function">fst</a><a id="9541" class="Symbol">(</a><a id="9542" href="Birkhoff.HSPTheorem.html#2515" class="Bound">𝕏</a> <a id="9544" href="Birkhoff.HSPTheorem.html#9479" class="Bound">𝑨</a><a id="9545" class="Symbol">))</a>

   <a id="9552" href="Birkhoff.HSPTheorem.html#9552" class="Function">ϕE</a> <a id="9555" class="Symbol">:</a> <a id="9557" href="Prelude.Inverses.html#2632" class="Function">Epic</a> <a id="9562" href="Prelude.Preliminaries.html#13569" class="Function Operator">∣</a> <a id="9564" href="Birkhoff.HSPTheorem.html#9503" class="Function">ϕ</a> <a id="9566" href="Prelude.Preliminaries.html#13569" class="Function Operator">∣</a>
   <a id="9571" href="Birkhoff.HSPTheorem.html#9552" class="Function">ϕE</a> <a id="9574" class="Symbol">=</a> <a id="9576" href="Terms.Basic.html#5788" class="Function">lift-of-epi-is-epi</a> <a id="9595" class="Symbol">(</a><a id="9596" href="Prelude.Preliminaries.html#13651" class="Function">snd</a> <a id="9600" class="Symbol">(</a><a id="9601" href="Birkhoff.HSPTheorem.html#2515" class="Bound">𝕏</a> <a id="9603" href="Birkhoff.HSPTheorem.html#9479" class="Bound">𝑨</a><a id="9604" class="Symbol">))</a>

   <a id="9611" href="Birkhoff.HSPTheorem.html#9611" class="Function">pqlem2</a> <a id="9618" class="Symbol">:</a> <a id="9620" class="Symbol">∀</a> <a id="9622" href="Birkhoff.HSPTheorem.html#9622" class="Bound">p</a> <a id="9624" href="Birkhoff.HSPTheorem.html#9624" class="Bound">q</a> <a id="9626" class="Symbol">→</a> <a id="9628" class="Symbol">(</a><a id="9629" href="Birkhoff.HSPTheorem.html#9622" class="Bound">p</a> <a id="9631" href="MGS-MLTT.html#2929" class="InductiveConstructor Operator">,</a> <a id="9633" href="Birkhoff.HSPTheorem.html#9624" class="Bound">q</a><a id="9634" class="Symbol">)</a> <a id="9636" href="Relations.Discrete.html#2407" class="Function Operator">∈</a> <a id="9638" href="Relations.Discrete.html#6866" class="Function">KER-pred</a> <a id="9647" href="Prelude.Preliminaries.html#13569" class="Function Operator">∣</a> <a id="9649" href="Birkhoff.HSPTheorem.html#4743" class="Function">hom𝔽</a> <a id="9654" href="Prelude.Preliminaries.html#13569" class="Function Operator">∣</a> <a id="9656" class="Symbol">→</a> <a id="9658" href="Birkhoff.HSPTheorem.html#9479" class="Bound">𝑨</a> <a id="9660" href="Varieties.EquationalLogic.html#2658" class="Function Operator">⊧</a> <a id="9662" href="Birkhoff.HSPTheorem.html#9622" class="Bound">p</a> <a id="9664" href="Varieties.EquationalLogic.html#2658" class="Function Operator">≈</a> <a id="9666" href="Birkhoff.HSPTheorem.html#9624" class="Bound">q</a>
   <a id="9671" href="Birkhoff.HSPTheorem.html#9611" class="Function">pqlem2</a> <a id="9678" href="Birkhoff.HSPTheorem.html#9678" class="Bound">p</a> <a id="9680" href="Birkhoff.HSPTheorem.html#9680" class="Bound">q</a> <a id="9682" href="Birkhoff.HSPTheorem.html#9682" class="Bound">hyp</a> <a id="9686" class="Symbol">=</a> <a id="9688" href="Birkhoff.HSPTheorem.html#9481" class="Bound">AinMTV</a> <a id="9695" href="Birkhoff.HSPTheorem.html#9678" class="Bound">p</a> <a id="9697" href="Birkhoff.HSPTheorem.html#9680" class="Bound">q</a> <a id="9699" class="Symbol">(</a><a id="9700" href="Birkhoff.HSPTheorem.html#8484" class="Function">kernel-in-theory</a> <a id="9717" href="Birkhoff.HSPTheorem.html#9682" class="Bound">hyp</a><a id="9720" class="Symbol">)</a>

   <a id="9726" href="Birkhoff.HSPTheorem.html#9726" class="Function">kerincl</a> <a id="9734" class="Symbol">:</a> <a id="9736" href="Relations.Discrete.html#6866" class="Function">KER-pred</a> <a id="9745" href="Prelude.Preliminaries.html#13569" class="Function Operator">∣</a> <a id="9747" href="Birkhoff.HSPTheorem.html#4743" class="Function">hom𝔽</a> <a id="9752" href="Prelude.Preliminaries.html#13569" class="Function Operator">∣</a> <a id="9754" href="Relations.Discrete.html#2729" class="Function Operator">⊆</a> <a id="9756" href="Relations.Discrete.html#6866" class="Function">KER-pred</a> <a id="9765" href="Prelude.Preliminaries.html#13569" class="Function Operator">∣</a> <a id="9767" href="Birkhoff.HSPTheorem.html#9503" class="Function">ϕ</a> <a id="9769" href="Prelude.Preliminaries.html#13569" class="Function Operator">∣</a>
   <a id="9774" href="Birkhoff.HSPTheorem.html#9726" class="Function">kerincl</a> <a id="9782" class="Symbol">{</a><a id="9783" href="Birkhoff.HSPTheorem.html#9783" class="Bound">p</a> <a id="9785" href="MGS-MLTT.html#2929" class="InductiveConstructor Operator">,</a> <a id="9787" href="Birkhoff.HSPTheorem.html#9787" class="Bound">q</a><a id="9788" class="Symbol">}</a> <a id="9790" href="Birkhoff.HSPTheorem.html#9790" class="Bound">x</a> <a id="9792" class="Symbol">=</a> <a id="9794" href="Birkhoff.HSPTheorem.html#9856" class="Function">γ</a>
    <a id="9800" class="Keyword">where</a>
     <a id="9811" href="Birkhoff.HSPTheorem.html#9811" class="Function">Apq</a> <a id="9815" class="Symbol">:</a> <a id="9817" href="Birkhoff.HSPTheorem.html#9479" class="Bound">𝑨</a> <a id="9819" href="Varieties.EquationalLogic.html#2658" class="Function Operator">⊧</a> <a id="9821" href="Birkhoff.HSPTheorem.html#9783" class="Bound">p</a> <a id="9823" href="Varieties.EquationalLogic.html#2658" class="Function Operator">≈</a> <a id="9825" href="Birkhoff.HSPTheorem.html#9787" class="Bound">q</a>
     <a id="9832" href="Birkhoff.HSPTheorem.html#9811" class="Function">Apq</a> <a id="9836" class="Symbol">=</a> <a id="9838" href="Birkhoff.HSPTheorem.html#9611" class="Function">pqlem2</a> <a id="9845" href="Birkhoff.HSPTheorem.html#9783" class="Bound">p</a> <a id="9847" href="Birkhoff.HSPTheorem.html#9787" class="Bound">q</a> <a id="9849" href="Birkhoff.HSPTheorem.html#9790" class="Bound">x</a>
     <a id="9856" href="Birkhoff.HSPTheorem.html#9856" class="Function">γ</a> <a id="9858" class="Symbol">:</a> <a id="9860" href="Prelude.Preliminaries.html#13569" class="Function Operator">∣</a> <a id="9862" href="Birkhoff.HSPTheorem.html#9503" class="Function">ϕ</a> <a id="9864" href="Prelude.Preliminaries.html#13569" class="Function Operator">∣</a> <a id="9866" href="Birkhoff.HSPTheorem.html#9783" class="Bound">p</a> <a id="9868" href="MGS-MLTT.html#4207" class="Datatype Operator">≡</a> <a id="9870" href="Prelude.Preliminaries.html#13569" class="Function Operator">∣</a> <a id="9872" href="Birkhoff.HSPTheorem.html#9503" class="Function">ϕ</a> <a id="9874" href="Prelude.Preliminaries.html#13569" class="Function Operator">∣</a> <a id="9876" href="Birkhoff.HSPTheorem.html#9787" class="Bound">q</a>
     <a id="9883" href="Birkhoff.HSPTheorem.html#9856" class="Function">γ</a> <a id="9885" class="Symbol">=</a> <a id="9887" href="Prelude.Preliminaries.html#13569" class="Function Operator">∣</a> <a id="9889" href="Birkhoff.HSPTheorem.html#9503" class="Function">ϕ</a> <a id="9891" href="Prelude.Preliminaries.html#13569" class="Function Operator">∣</a> <a id="9893" href="Birkhoff.HSPTheorem.html#9783" class="Bound">p</a>                    <a id="9914" href="MGS-MLTT.html#5997" class="Function Operator">≡⟨</a> <a id="9917" href="MGS-MLTT.html#4221" class="InductiveConstructor">𝓇ℯ𝒻𝓁</a> <a id="9922" href="MGS-MLTT.html#5997" class="Function Operator">⟩</a>
         <a id="9933" href="Terms.Basic.html#4326" class="Function">free-lift</a> <a id="9943" href="Birkhoff.HSPTheorem.html#9479" class="Bound">𝑨</a> <a id="9945" class="Symbol">(</a><a id="9946" href="Prelude.Preliminaries.html#13573" class="Function">fst</a><a id="9949" class="Symbol">(</a><a id="9950" href="Birkhoff.HSPTheorem.html#2515" class="Bound">𝕏</a> <a id="9952" href="Birkhoff.HSPTheorem.html#9479" class="Bound">𝑨</a><a id="9953" class="Symbol">))</a> <a id="9956" href="Birkhoff.HSPTheorem.html#9783" class="Bound">p</a> <a id="9958" href="MGS-MLTT.html#5997" class="Function Operator">≡⟨</a> <a id="9961" class="Symbol">(</a><a id="9962" href="Terms.Operations.html#1992" class="Function">free-lift-interp</a> <a id="9979" href="Birkhoff.HSPTheorem.html#9479" class="Bound">𝑨</a> <a id="9981" class="Symbol">(</a><a id="9982" href="Prelude.Preliminaries.html#13573" class="Function">fst</a><a id="9985" class="Symbol">(</a><a id="9986" href="Birkhoff.HSPTheorem.html#2515" class="Bound">𝕏</a> <a id="9988" href="Birkhoff.HSPTheorem.html#9479" class="Bound">𝑨</a><a id="9989" class="Symbol">))</a> <a id="9992" href="Birkhoff.HSPTheorem.html#9783" class="Bound">p</a><a id="9993" class="Symbol">)</a><a id="9994" href="MGS-MLTT.html#6125" class="Function Operator">⁻¹</a> <a id="9997" href="MGS-MLTT.html#5997" class="Function Operator">⟩</a>
         <a id="10008" class="Symbol">(</a><a id="10009" href="Birkhoff.HSPTheorem.html#9783" class="Bound">p</a> <a id="10011" href="Terms.Operations.html#1739" class="Function Operator">̇</a> <a id="10013" href="Birkhoff.HSPTheorem.html#9479" class="Bound">𝑨</a><a id="10014" class="Symbol">)</a> <a id="10016" class="Symbol">(</a><a id="10017" href="Prelude.Preliminaries.html#13573" class="Function">fst</a><a id="10020" class="Symbol">(</a><a id="10021" href="Birkhoff.HSPTheorem.html#2515" class="Bound">𝕏</a> <a id="10023" href="Birkhoff.HSPTheorem.html#9479" class="Bound">𝑨</a><a id="10024" class="Symbol">))</a>       <a id="10033" href="MGS-MLTT.html#5997" class="Function Operator">≡⟨</a> <a id="10036" href="Prelude.Extensionality.html#5763" class="Function">extfun</a> <a id="10043" class="Symbol">(</a><a id="10044" href="Birkhoff.HSPTheorem.html#9611" class="Function">pqlem2</a> <a id="10051" href="Birkhoff.HSPTheorem.html#9783" class="Bound">p</a> <a id="10053" href="Birkhoff.HSPTheorem.html#9787" class="Bound">q</a> <a id="10055" href="Birkhoff.HSPTheorem.html#9790" class="Bound">x</a><a id="10056" class="Symbol">)</a> <a id="10058" class="Symbol">(</a><a id="10059" href="Prelude.Preliminaries.html#13573" class="Function">fst</a><a id="10062" class="Symbol">(</a><a id="10063" href="Birkhoff.HSPTheorem.html#2515" class="Bound">𝕏</a> <a id="10065" href="Birkhoff.HSPTheorem.html#9479" class="Bound">𝑨</a><a id="10066" class="Symbol">))</a>  <a id="10070" href="MGS-MLTT.html#5997" class="Function Operator">⟩</a>
         <a id="10081" class="Symbol">(</a><a id="10082" href="Birkhoff.HSPTheorem.html#9787" class="Bound">q</a> <a id="10084" href="Terms.Operations.html#1739" class="Function Operator">̇</a> <a id="10086" href="Birkhoff.HSPTheorem.html#9479" class="Bound">𝑨</a><a id="10087" class="Symbol">)</a> <a id="10089" class="Symbol">(</a><a id="10090" href="Prelude.Preliminaries.html#13573" class="Function">fst</a><a id="10093" class="Symbol">(</a><a id="10094" href="Birkhoff.HSPTheorem.html#2515" class="Bound">𝕏</a> <a id="10096" href="Birkhoff.HSPTheorem.html#9479" class="Bound">𝑨</a><a id="10097" class="Symbol">))</a>       <a id="10106" href="MGS-MLTT.html#5997" class="Function Operator">≡⟨</a> <a id="10109" href="Terms.Operations.html#1992" class="Function">free-lift-interp</a> <a id="10126" href="Birkhoff.HSPTheorem.html#9479" class="Bound">𝑨</a> <a id="10128" class="Symbol">(</a><a id="10129" href="Prelude.Preliminaries.html#13573" class="Function">fst</a><a id="10132" class="Symbol">(</a><a id="10133" href="Birkhoff.HSPTheorem.html#2515" class="Bound">𝕏</a> <a id="10135" href="Birkhoff.HSPTheorem.html#9479" class="Bound">𝑨</a><a id="10136" class="Symbol">))</a> <a id="10139" href="Birkhoff.HSPTheorem.html#9787" class="Bound">q</a> <a id="10141" href="MGS-MLTT.html#5997" class="Function Operator">⟩</a>
         <a id="10152" href="Terms.Basic.html#4326" class="Function">free-lift</a> <a id="10162" href="Birkhoff.HSPTheorem.html#9479" class="Bound">𝑨</a> <a id="10164" class="Symbol">(</a><a id="10165" href="Prelude.Preliminaries.html#13573" class="Function">fst</a><a id="10168" class="Symbol">(</a><a id="10169" href="Birkhoff.HSPTheorem.html#2515" class="Bound">𝕏</a> <a id="10171" href="Birkhoff.HSPTheorem.html#9479" class="Bound">𝑨</a><a id="10172" class="Symbol">))</a> <a id="10175" href="Birkhoff.HSPTheorem.html#9787" class="Bound">q</a> <a id="10177" href="MGS-MLTT.html#5997" class="Function Operator">≡⟨</a> <a id="10180" href="MGS-MLTT.html#4221" class="InductiveConstructor">𝓇ℯ𝒻𝓁</a> <a id="10185" href="MGS-MLTT.html#5997" class="Function Operator">⟩</a>
         <a id="10196" href="Prelude.Preliminaries.html#13569" class="Function Operator">∣</a> <a id="10198" href="Birkhoff.HSPTheorem.html#9503" class="Function">ϕ</a> <a id="10200" href="Prelude.Preliminaries.html#13569" class="Function Operator">∣</a> <a id="10202" href="Birkhoff.HSPTheorem.html#9787" class="Bound">q</a>                  <a id="10221" href="MGS-MLTT.html#6079" class="Function Operator">∎</a>

   <a id="10227" href="Birkhoff.HSPTheorem.html#10227" class="Function">γ</a> <a id="10229" class="Symbol">:</a> <a id="10231" href="Homomorphisms.Basic.html#3358" class="Function">epi</a> <a id="10235" href="Birkhoff.HSPTheorem.html#4659" class="Function">𝔽</a> <a id="10237" href="Birkhoff.HSPTheorem.html#9479" class="Bound">𝑨</a>
   <a id="10242" href="Birkhoff.HSPTheorem.html#10227" class="Function">γ</a> <a id="10244" class="Symbol">=</a> <a id="10246" href="Prelude.Preliminaries.html#13573" class="Function">fst</a> <a id="10250" class="Symbol">(</a><a id="10251" href="Homomorphisms.Noether.html#9665" class="Function">HomFactorEpi</a> <a id="10264" class="Symbol">(</a><a id="10265" href="Terms.Basic.html#3664" class="Function">𝑻</a> <a id="10267" href="Birkhoff.HSPTheorem.html#2589" class="Bound">X</a><a id="10268" class="Symbol">){</a><a id="10270" href="Birkhoff.HSPTheorem.html#9479" class="Bound">𝑨</a><a id="10271" class="Symbol">}{</a><a id="10273" href="Birkhoff.HSPTheorem.html#4659" class="Function">𝔽</a><a id="10274" class="Symbol">}</a> <a id="10276" href="Birkhoff.HSPTheorem.html#9503" class="Function">ϕ</a> <a id="10278" href="Birkhoff.HSPTheorem.html#9552" class="Function">ϕE</a> <a id="10281" href="Birkhoff.HSPTheorem.html#4743" class="Function">hom𝔽</a> <a id="10286" href="Birkhoff.HSPTheorem.html#4788" class="Function">hom𝔽-is-epic</a>  <a id="10300" href="Birkhoff.HSPTheorem.html#9726" class="Function">kerincl</a><a id="10307" class="Symbol">)</a>


</pre>

#### <a id="F-in-VK">𝔽 ∈ V(𝒦)</a>

With this result in hand, along with what we proved earlier---namely, PS(𝒦) ⊆ SP(𝒦) ⊆ HSP(𝒦) ≡ V 𝒦---it is not hard to show that 𝔽 belongs to V 𝒦.

<pre class="Agda">

 <a id="10521" href="Birkhoff.HSPTheorem.html#10521" class="Function">𝔽∈SP</a> <a id="10526" class="Symbol">:</a> <a id="10528" href="Birkhoff.HSPTheorem.html#4659" class="Function">𝔽</a> <a id="10530" href="Relations.Discrete.html#2407" class="Function Operator">∈</a> <a id="10532" class="Symbol">(</a><a id="10533" href="Varieties.Varieties.html#2939" class="Datatype">S</a><a id="10534" class="Symbol">{</a><a id="10535" href="Birkhoff.FreeAlgebra.html#2859" class="Function">𝓸𝓿𝓾</a><a id="10538" class="Symbol">}{</a><a id="10540" href="Birkhoff.FreeAlgebra.html#2863" class="Function">𝓸𝓿𝓾+</a><a id="10544" class="Symbol">}</a> <a id="10546" class="Symbol">(</a><a id="10547" href="Varieties.Varieties.html#3628" class="Datatype">P</a><a id="10548" class="Symbol">{</a><a id="10549" href="Birkhoff.HSPTheorem.html#2574" class="Bound">𝓤</a><a id="10550" class="Symbol">}{</a><a id="10552" href="Birkhoff.FreeAlgebra.html#2859" class="Function">𝓸𝓿𝓾</a><a id="10555" class="Symbol">}</a> <a id="10557" href="Birkhoff.HSPTheorem.html#2600" class="Bound">𝒦</a><a id="10558" class="Symbol">))</a>
 <a id="10562" href="Birkhoff.HSPTheorem.html#10521" class="Function">𝔽∈SP</a> <a id="10567" class="Symbol">=</a> <a id="10569" href="Varieties.Varieties.html#3150" class="InductiveConstructor">ssub</a> <a id="10574" class="Symbol">(</a><a id="10575" href="Varieties.Varieties.html#20094" class="Function">class-prod-s-∈-sp</a> <a id="10593" href="Birkhoff.HSPTheorem.html#2674" class="Bound">hfe</a><a id="10596" class="Symbol">)</a> <a id="10598" href="Birkhoff.HSPTheorem.html#9272" class="Function">𝔽≤ℭ</a>

 <a id="10604" href="Birkhoff.HSPTheorem.html#10604" class="Function">𝔽∈𝕍</a> <a id="10608" class="Symbol">:</a> <a id="10610" href="Birkhoff.HSPTheorem.html#4659" class="Function">𝔽</a> <a id="10612" href="Relations.Discrete.html#2407" class="Function Operator">∈</a> <a id="10614" href="Varieties.Varieties.html#4567" class="Datatype">V</a> <a id="10616" href="Birkhoff.HSPTheorem.html#2600" class="Bound">𝒦</a>
 <a id="10619" href="Birkhoff.HSPTheorem.html#10604" class="Function">𝔽∈𝕍</a> <a id="10623" class="Symbol">=</a> <a id="10625" href="Varieties.Varieties.html#18364" class="Function">SP⊆V&#39;</a> <a id="10631" href="Birkhoff.HSPTheorem.html#10521" class="Function">𝔽∈SP</a>

</pre>

#### <a id="the-hsp-theorem"> The HSP Theorem</a>

Now that we have all of the necessary ingredients, it is all but trivial to combine them to prove Birkhoff's HSP theorem.

<pre class="Agda">

 <a id="10838" href="Birkhoff.HSPTheorem.html#10838" class="Function">birkhoff</a> <a id="10847" class="Symbol">:</a> <a id="10849" href="Varieties.EquationalLogic.html#3954" class="Function">Mod</a> <a id="10853" class="Symbol">(</a><a id="10854" href="Varieties.EquationalLogic.html#3665" class="Function">Th</a> <a id="10857" class="Symbol">(</a><a id="10858" href="Varieties.Varieties.html#4567" class="Datatype">V</a> <a id="10860" href="Birkhoff.HSPTheorem.html#2600" class="Bound">𝒦</a><a id="10861" class="Symbol">))</a> <a id="10864" href="Relations.Discrete.html#2729" class="Function Operator">⊆</a> <a id="10866" href="Varieties.Varieties.html#4567" class="Datatype">V</a> <a id="10868" href="Birkhoff.HSPTheorem.html#2600" class="Bound">𝒦</a>

 <a id="10872" href="Birkhoff.HSPTheorem.html#10838" class="Function">birkhoff</a> <a id="10881" class="Symbol">{</a><a id="10882" href="Birkhoff.HSPTheorem.html#10882" class="Bound">𝑨</a><a id="10883" class="Symbol">}</a> <a id="10885" href="Birkhoff.HSPTheorem.html#10885" class="Bound">α</a> <a id="10887" class="Symbol">=</a> <a id="10889" href="Birkhoff.HSPTheorem.html#10902" class="Function">γ</a>
  <a id="10893" class="Keyword">where</a>
   <a id="10902" href="Birkhoff.HSPTheorem.html#10902" class="Function">γ</a> <a id="10904" class="Symbol">:</a> <a id="10906" href="Birkhoff.HSPTheorem.html#10882" class="Bound">𝑨</a> <a id="10908" href="Relations.Discrete.html#2407" class="Function Operator">∈</a> <a id="10910" class="Symbol">(</a><a id="10911" href="Varieties.Varieties.html#4567" class="Datatype">V</a> <a id="10913" href="Birkhoff.HSPTheorem.html#2600" class="Bound">𝒦</a><a id="10914" class="Symbol">)</a>
   <a id="10919" href="Birkhoff.HSPTheorem.html#10902" class="Function">γ</a> <a id="10921" class="Symbol">=</a> <a id="10923" href="Varieties.Varieties.html#4851" class="InductiveConstructor">vhimg</a> <a id="10929" href="Birkhoff.HSPTheorem.html#10604" class="Function">𝔽∈𝕍</a> <a id="10933" class="Symbol">((</a><a id="10935" href="Birkhoff.HSPTheorem.html#10882" class="Bound">𝑨</a> <a id="10937" href="MGS-MLTT.html#2929" class="InductiveConstructor Operator">,</a> <a id="10939" href="Birkhoff.HSPTheorem.html#9403" class="Function">𝔽-ModTh-epi</a> <a id="10951" href="Birkhoff.HSPTheorem.html#10882" class="Bound">𝑨</a> <a id="10953" href="Birkhoff.HSPTheorem.html#10885" class="Bound">α</a> <a id="10955" class="Symbol">)</a> <a id="10957" href="MGS-MLTT.html#2929" class="InductiveConstructor Operator">,</a> <a id="10959" href="Homomorphisms.Isomorphisms.html#2897" class="Function">refl-≅</a><a id="10965" class="Symbol">)</a>

</pre>

The converse inclusion, `V 𝒦 ⊆ Mod X (Th (V 𝒦))`, is a simple consequence of the fact that `Mod Th` is a closure operator. Nonetheless, completeness demands that we formalize this inclusion as well, however trivial the proof.

<pre class="Agda">

 <a id="11222" href="Birkhoff.HSPTheorem.html#11222" class="Function">birkhoff&#39;</a> <a id="11232" class="Symbol">:</a> <a id="11234" href="Varieties.Varieties.html#4567" class="Datatype">V</a><a id="11235" class="Symbol">{</a><a id="11236" href="Birkhoff.HSPTheorem.html#2574" class="Bound">𝓤</a><a id="11237" class="Symbol">}{</a><a id="11239" href="Birkhoff.FreeAlgebra.html#2859" class="Function">𝓸𝓿𝓾</a><a id="11242" class="Symbol">}</a> <a id="11244" href="Birkhoff.HSPTheorem.html#2600" class="Bound">𝒦</a> <a id="11246" href="Relations.Discrete.html#2729" class="Function Operator">⊆</a> <a id="11248" href="Varieties.EquationalLogic.html#3954" class="Function">Mod</a> <a id="11252" class="Symbol">{</a><a id="11253" class="Argument">X</a> <a id="11255" class="Symbol">=</a> <a id="11257" href="Birkhoff.HSPTheorem.html#2589" class="Bound">X</a><a id="11258" class="Symbol">}(</a><a id="11260" href="Varieties.EquationalLogic.html#3665" class="Function">Th</a> <a id="11263" class="Symbol">(</a><a id="11264" href="Varieties.Varieties.html#4567" class="Datatype">V</a> <a id="11266" href="Birkhoff.HSPTheorem.html#2600" class="Bound">𝒦</a><a id="11267" class="Symbol">))</a>

 <a id="11272" href="Birkhoff.HSPTheorem.html#11222" class="Function">birkhoff&#39;</a> <a id="11282" class="Symbol">{</a><a id="11283" href="Birkhoff.HSPTheorem.html#11283" class="Bound">𝑨</a><a id="11284" class="Symbol">}</a> <a id="11286" href="Birkhoff.HSPTheorem.html#11286" class="Bound">α</a> <a id="11288" href="Birkhoff.HSPTheorem.html#11288" class="Bound">p</a> <a id="11290" href="Birkhoff.HSPTheorem.html#11290" class="Bound">q</a> <a id="11292" href="Birkhoff.HSPTheorem.html#11292" class="Bound">pThq</a> <a id="11297" class="Symbol">=</a> <a id="11299" href="Birkhoff.HSPTheorem.html#11292" class="Bound">pThq</a> <a id="11304" href="Birkhoff.HSPTheorem.html#11286" class="Bound">α</a>

</pre>

We have thus proved that every variety is an equational class.  Readers familiar with the classical formulation of the Birkhoff HSP theorem, as an "if and only if" result, might worry that we haven't completed the proof.  But recall that in the [Varieties.Preservation][] module we proved the following identity preservation lemmas:

* [(H-id1)](https://ualib.gitlab.io/UALib.Varieties.Preservation.html#964) 𝒦 ⊧ p ≋ q → H 𝒦 ⊧ p ≋ q
* [(S-id1)](https://ualib.gitlab.io/UALib.Varieties.Preservation.html#2592) 𝒦 ⊧ p ≋ q → S 𝒦 ⊧ p ≋ q
* [(P-id1)](https://ualib.gitlab.io/UALib.Varieties.Preservation.html#4111) 𝒦 ⊧ p ≋ q → P 𝒦 ⊧ p ≋ q

From these it follows that every equational class is a variety. Thus, our formal proof of Birkhoff's theorem is complete.

----------------------------

<span class="footnote" id="fn1"><sup>1</sup> In the previous version of the [UALib][] this module was called HSPLemmas and the Birkhoff HSP theorem was in a separate module, while in the current version these are in the new HSPTheorem module.</span>

<span class="footnote" id="fn2"><sup>2</sup> It might be an instructive exercise to prove that 𝔽 is, in fact, isomorphic to the free algebra 𝔉 that we defined in the [Birkhoff.FreeAlgebra][] module.</span>


[← Birkhoff.FreeAlgebra](Birkhoff.FreeAlgebra.html)
<span style="float:right;">[Birkhoff ↑](Birkhoff.html)</span>

{% include UALib.Links.md %}

