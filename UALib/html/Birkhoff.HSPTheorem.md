---
layout: default
title : Birkhoff.HSPTheorem (The Agda Universal Algebra Library)
date : 2021-02-02
author: William DeMeo
---

### <a id="hsp-theorem">HSP Theorem</a>

This section presents the [Birkhoff.HSPTheorem][] module of the [Agda Universal Algebra Library][].<sup>[1](Birkhoff.HSPTheorem.html#fn1)</sup>

To complete the proof of Birkhoff's HSP theorem, it remains to show that every algebra 𝑨 that belongs to `Mod X (Th (V 𝒦))`---i.e., every algebra that models the equations in `Th (V 𝒦)`---belongs to `V 𝒦`.  This will prove that `V 𝒦` is an equational class.  (The converse, that every equational class is a variety was already proved; see the remarks at the end of this module.)

We accomplish this goal by constructing an algebra `𝔽` with the following properties:

1. `𝔽 ∈ V 𝒦` and

2. Every `𝑨 ∈ Mod X (Th (V 𝒦))` is a homomorphic image of `𝔽`.

(In earlier versions of the [Agda UALib][], the free algebra 𝔉 developed in the [Birkhoff.FreeAlgebra][] section played the role of the algebra 𝔽 with properties 1 and 2.  However, we found a more direct path to the proof using the algebra `𝔽 := (𝑻 X) [ ℭ ]/ker homℭ`.)

We denote by ℭ the product of all subalgebras of algebras in 𝒦, and by `homℭ` the homomorphism from `𝑻 X` to `ℭ` defined as follows:

`homℭ := ⨅-hom-co (𝑻 X) 𝔄s hom𝔄`.

Here, `⨅-hom-co` (defined in [Homomorphisms.Basic](Homomorphisms.Basic.html#product-homomorphisms)) takes the term algebra `𝑻 X`, a family `{𝔄s : I → Algebra 𝓤 𝑆}` of 𝑆-algebras, and a family `hom𝔄 : ∀ i → hom (𝑻 X) (𝔄s i)` of homomorphisms and constructs the natural homomorphism `homℭ` from `𝑻 X` to the product `ℭ := ⨅ 𝔄`.  The homomorphism `homℭ : hom (𝑻 X) (⨅ ℭ)` is natural in the sense that the `i`-th component of the image of `𝑡 : Term X` under `homℭ` is the image `∣ hom𝔄 i ∣ 𝑡` of 𝑡 under the i-th homomorphism `hom𝔄 i`.

<pre class="Agda">

<a id="1853" class="Symbol">{-#</a> <a id="1857" class="Keyword">OPTIONS</a> <a id="1865" class="Pragma">--without-K</a> <a id="1877" class="Pragma">--exact-split</a> <a id="1891" class="Pragma">--safe</a> <a id="1898" class="Symbol">#-}</a>

<a id="1903" class="Keyword">open</a> <a id="1908" class="Keyword">import</a> <a id="1915" href="Algebras.Algebras.html" class="Module">Algebras.Algebras</a> <a id="1933" class="Keyword">using</a> <a id="1939" class="Symbol">(</a><a id="1940" href="Algebras.Signatures.html#1299" class="Function">Signature</a><a id="1949" class="Symbol">;</a> <a id="1951" href="Prelude.Preliminaries.html#5600" class="Generalizable">𝓞</a><a id="1952" class="Symbol">;</a> <a id="1954" href="Universes.html#262" class="Generalizable">𝓥</a><a id="1955" class="Symbol">;</a> <a id="1957" href="Algebras.Algebras.html#694" class="Function">Algebra</a><a id="1964" class="Symbol">;</a> <a id="1966" href="Algebras.Algebras.html#3747" class="Function Operator">_↠_</a><a id="1969" class="Symbol">)</a>
<a id="1971" class="Keyword">open</a> <a id="1976" class="Keyword">import</a> <a id="1983" href="MGS-Subsingleton-Theorems.html" class="Module">MGS-Subsingleton-Theorems</a> <a id="2009" class="Keyword">using</a> <a id="2015" class="Symbol">(</a><a id="2016" href="MGS-Subsingleton-Theorems.html#3468" class="Function">global-dfunext</a><a id="2030" class="Symbol">)</a>
<a id="2032" class="Keyword">open</a> <a id="2037" class="Keyword">import</a> <a id="2044" href="Universes.html" class="Module">Universes</a>
<a id="2054" class="Keyword">open</a> <a id="2059" class="Keyword">import</a> <a id="2066" href="Relations.Unary.html" class="Module">Relations.Unary</a> <a id="2082" class="Keyword">using</a> <a id="2088" class="Symbol">(</a><a id="2089" href="Relations.Unary.html#959" class="Function">Pred</a><a id="2093" class="Symbol">)</a>
<a id="2095" class="Keyword">open</a> <a id="2100" class="Keyword">import</a> <a id="2107" href="MGS-Powerset.html" class="Module">MGS-Powerset</a> <a id="2120" class="Keyword">using</a> <a id="2126" class="Symbol">(</a><a id="2127" href="MGS-FunExt-from-Univalence.html#2235" class="Function">hfunext</a><a id="2134" class="Symbol">)</a>

<a id="2137" class="Comment">-- open import Prelude.Preliminaries using (global-dfunext; Universe; _̇; _⊔_; _⁺; propext; hfunext)</a>
</pre>

Unlike previous modules, in this module we fix `𝓤`, `X`, and `𝒦` in advance. We also assume 𝕏, which supplies, for each algebra `𝑨`, a surjective map ∣ 𝕏 𝑨 ∣ from `X` onto 𝑨.

<pre class="Agda">

<a id="2440" class="Keyword">module</a> <a id="2447" href="Birkhoff.HSPTheorem.html" class="Module">Birkhoff.HSPTheorem</a>
 <a id="2468" class="Symbol">{</a><a id="2469" href="Birkhoff.HSPTheorem.html#2469" class="Bound">𝑆</a> <a id="2471" class="Symbol">:</a> <a id="2473" href="Algebras.Signatures.html#1299" class="Function">Signature</a> <a id="2483" href="Prelude.Preliminaries.html#5600" class="Generalizable">𝓞</a> <a id="2485" href="Universes.html#262" class="Generalizable">𝓥</a><a id="2486" class="Symbol">}{</a><a id="2488" href="Birkhoff.HSPTheorem.html#2488" class="Bound">gfe</a> <a id="2492" class="Symbol">:</a> <a id="2494" href="MGS-Subsingleton-Theorems.html#3468" class="Function">global-dfunext</a><a id="2508" class="Symbol">}</a>
 <a id="2511" class="Symbol">{</a><a id="2512" href="Birkhoff.HSPTheorem.html#2512" class="Bound">𝕏</a> <a id="2514" class="Symbol">:</a> <a id="2516" class="Symbol">{</a><a id="2517" href="Birkhoff.HSPTheorem.html#2517" class="Bound">𝓤</a> <a id="2519" href="Birkhoff.HSPTheorem.html#2519" class="Bound">𝓧</a> <a id="2521" class="Symbol">:</a> <a id="2523" href="Agda.Primitive.html#423" class="Postulate">Universe</a><a id="2531" class="Symbol">}{</a><a id="2533" href="Birkhoff.HSPTheorem.html#2533" class="Bound">X</a> <a id="2535" class="Symbol">:</a> <a id="2537" href="Birkhoff.HSPTheorem.html#2519" class="Bound">𝓧</a> <a id="2539" href="Universes.html#403" class="Function Operator">̇</a> <a id="2541" class="Symbol">}(</a><a id="2543" href="Birkhoff.HSPTheorem.html#2543" class="Bound">𝑨</a> <a id="2545" class="Symbol">:</a> <a id="2547" href="Algebras.Algebras.html#694" class="Function">Algebra</a> <a id="2555" href="Birkhoff.HSPTheorem.html#2517" class="Bound">𝓤</a> <a id="2557" href="Birkhoff.HSPTheorem.html#2469" class="Bound">𝑆</a><a id="2558" class="Symbol">)</a> <a id="2560" class="Symbol">→</a> <a id="2562" href="Birkhoff.HSPTheorem.html#2533" class="Bound">X</a> <a id="2564" href="Algebras.Algebras.html#3747" class="Function Operator">↠</a> <a id="2566" href="Birkhoff.HSPTheorem.html#2543" class="Bound">𝑨</a><a id="2567" class="Symbol">}</a>
 <a id="2570" class="Symbol">{</a><a id="2571" href="Birkhoff.HSPTheorem.html#2571" class="Bound">𝓤</a> <a id="2573" class="Symbol">:</a> <a id="2575" href="Agda.Primitive.html#423" class="Postulate">Universe</a><a id="2583" class="Symbol">}</a> <a id="2585" class="Symbol">{</a><a id="2586" href="Birkhoff.HSPTheorem.html#2586" class="Bound">X</a> <a id="2588" class="Symbol">:</a> <a id="2590" href="Birkhoff.HSPTheorem.html#2571" class="Bound">𝓤</a> <a id="2592" href="Universes.html#403" class="Function Operator">̇</a><a id="2593" class="Symbol">}</a>
 <a id="2596" class="Symbol">{</a><a id="2597" href="Birkhoff.HSPTheorem.html#2597" class="Bound">𝒦</a> <a id="2599" class="Symbol">:</a> <a id="2601" href="Relations.Unary.html#959" class="Function">Pred</a> <a id="2606" class="Symbol">(</a><a id="2607" href="Algebras.Algebras.html#694" class="Function">Algebra</a> <a id="2615" href="Birkhoff.HSPTheorem.html#2571" class="Bound">𝓤</a> <a id="2617" href="Birkhoff.HSPTheorem.html#2469" class="Bound">𝑆</a><a id="2618" class="Symbol">)</a> <a id="2620" class="Symbol">(</a><a id="2621" href="Prelude.Preliminaries.html#5600" class="Generalizable">𝓞</a> <a id="2623" href="Agda.Primitive.html#636" class="Primitive Operator">⊔</a> <a id="2625" href="Universes.html#262" class="Generalizable">𝓥</a> <a id="2627" href="Agda.Primitive.html#636" class="Primitive Operator">⊔</a> <a id="2629" href="Birkhoff.HSPTheorem.html#2571" class="Bound">𝓤</a> <a id="2631" href="Agda.Primitive.html#606" class="Primitive Operator">⁺</a><a id="2632" class="Symbol">)}</a>
 <a id="2636" class="Comment">-- extensionality assumption:</a>
    <a id="2670" class="Symbol">{</a><a id="2671" href="Birkhoff.HSPTheorem.html#2671" class="Bound">hfe</a> <a id="2675" class="Symbol">:</a> <a id="2677" href="MGS-FunExt-from-Univalence.html#2235" class="Function">hfunext</a> <a id="2685" class="Symbol">(</a><a id="2686" href="Prelude.Preliminaries.html#5600" class="Generalizable">𝓞</a> <a id="2688" href="Agda.Primitive.html#636" class="Primitive Operator">⊔</a> <a id="2690" href="Universes.html#262" class="Generalizable">𝓥</a> <a id="2692" href="Agda.Primitive.html#636" class="Primitive Operator">⊔</a> <a id="2694" href="Birkhoff.HSPTheorem.html#2571" class="Bound">𝓤</a> <a id="2696" href="Agda.Primitive.html#606" class="Primitive Operator">⁺</a><a id="2697" class="Symbol">)(</a><a id="2699" href="Prelude.Preliminaries.html#5600" class="Generalizable">𝓞</a> <a id="2701" href="Agda.Primitive.html#636" class="Primitive Operator">⊔</a> <a id="2703" href="Universes.html#262" class="Generalizable">𝓥</a> <a id="2705" href="Agda.Primitive.html#636" class="Primitive Operator">⊔</a> <a id="2707" href="Birkhoff.HSPTheorem.html#2571" class="Bound">𝓤</a> <a id="2709" href="Agda.Primitive.html#606" class="Primitive Operator">⁺</a><a id="2710" class="Symbol">)}</a> <a id="2713" class="Keyword">where</a>

<a id="2720" class="Keyword">open</a> <a id="2725" class="Keyword">import</a> <a id="2732" href="Birkhoff.FreeAlgebra.html" class="Module">Birkhoff.FreeAlgebra</a> <a id="2753" class="Symbol">{</a><a id="2754" class="Argument">𝑆</a> <a id="2756" class="Symbol">=</a> <a id="2758" href="Birkhoff.HSPTheorem.html#2469" class="Bound">𝑆</a><a id="2759" class="Symbol">}{</a><a id="2761" href="Birkhoff.HSPTheorem.html#2488" class="Bound">gfe</a><a id="2764" class="Symbol">}</a> <a id="2766" class="Keyword">hiding</a> <a id="2773" class="Symbol">(</a>Pred<a id="2778" class="Symbol">;</a> _⊔_<a id="2783" class="Symbol">;</a> _⁺<a id="2787" class="Symbol">;</a> Algebra<a id="2796" class="Symbol">;</a> _̇ <a id="2801" class="Symbol">)</a> <a id="2803" class="Keyword">public</a>
<a id="2810" class="Keyword">open</a> <a id="2815" href="Birkhoff.FreeAlgebra.html#2677" class="Module">the-free-algebra</a> <a id="2832" class="Symbol">{</a><a id="2833" href="Birkhoff.HSPTheorem.html#2571" class="Bound">𝓤</a><a id="2834" class="Symbol">}{</a><a id="2836" href="Birkhoff.HSPTheorem.html#2571" class="Bound">𝓤</a><a id="2837" class="Symbol">}{</a><a id="2839" href="Birkhoff.HSPTheorem.html#2586" class="Bound">X</a><a id="2840" class="Symbol">}</a>

</pre>


#### <a id="F-in-classproduct">𝔽 ≤  ⨅ S(𝒦)</a>
Now we come to a step in the Agda formalization of Birkhoff's theorem that turns out to be surprisingly nontrivial. We must prove that the free algebra embeds in the product ℭ of all subalgebras of algebras in the class 𝒦.  This is really the only stage in the proof of Birkhoff's theorem that requires the truncation assumption that ℭ be a set.

We begin by constructing ℭ, using the techniques described in the section on <a href="https://ualib.gitlab.io/Varieties.Varieties.html#products-of-classes">products of classes</a>.

**Notation**. In this module, the type `ℑs` will index the collection of all subalgebras of algebras in the class 𝒦, and `𝔄s : ℑs → Algebra 𝓤 𝑆` will be a map from the index type to the subalgebras. 

<pre class="Agda">

<a id="3647" class="Keyword">open</a> <a id="3652" href="Birkhoff.FreeAlgebra.html#6507" class="Module">the-relatively-free-algebra</a> <a id="3680" class="Symbol">{</a><a id="3681" class="Argument">𝓤</a> <a id="3683" class="Symbol">=</a> <a id="3685" href="Birkhoff.HSPTheorem.html#2571" class="Bound">𝓤</a><a id="3686" class="Symbol">}{</a><a id="3688" class="Argument">𝓧</a> <a id="3690" class="Symbol">=</a> <a id="3692" href="Birkhoff.HSPTheorem.html#2571" class="Bound">𝓤</a><a id="3693" class="Symbol">}{</a><a id="3695" class="Argument">X</a> <a id="3697" class="Symbol">=</a> <a id="3699" href="Birkhoff.HSPTheorem.html#2586" class="Bound">X</a><a id="3700" class="Symbol">}</a> <a id="3702" class="Symbol">{</a><a id="3703" class="Argument">𝒦</a> <a id="3705" class="Symbol">=</a> <a id="3707" href="Birkhoff.HSPTheorem.html#2597" class="Bound">𝒦</a><a id="3708" class="Symbol">}</a>

<a id="3711" class="Comment">-- NOTATION.</a>
<a id="ℑs"></a><a id="3724" href="Birkhoff.HSPTheorem.html#3724" class="Function">ℑs</a> <a id="3727" class="Symbol">:</a> <a id="3729" href="Birkhoff.FreeAlgebra.html#2793" class="Function">𝓸𝓿𝓾</a> <a id="3733" href="Universes.html#403" class="Function Operator">̇</a>
<a id="3735" href="Birkhoff.HSPTheorem.html#3724" class="Function">ℑs</a> <a id="3738" class="Symbol">=</a> <a id="3740" href="Algebras.Products.html#2792" class="Function">ℑ</a><a id="3741" class="Symbol">{</a><a id="3742" href="Birkhoff.HSPTheorem.html#2571" class="Bound">𝓤</a><a id="3743" class="Symbol">}{</a><a id="3745" href="Birkhoff.HSPTheorem.html#2571" class="Bound">𝓤</a><a id="3746" class="Symbol">}{</a><a id="3748" href="Birkhoff.HSPTheorem.html#2586" class="Bound">X</a><a id="3749" class="Symbol">}</a> <a id="3751" class="Symbol">(</a><a id="3752" href="Varieties.Varieties.html#2939" class="Datatype">S</a><a id="3753" class="Symbol">{</a><a id="3754" href="Birkhoff.HSPTheorem.html#2571" class="Bound">𝓤</a><a id="3755" class="Symbol">}{</a><a id="3757" href="Birkhoff.HSPTheorem.html#2571" class="Bound">𝓤</a><a id="3758" class="Symbol">}</a> <a id="3760" href="Birkhoff.HSPTheorem.html#2597" class="Bound">𝒦</a><a id="3761" class="Symbol">)</a>
<a id="𝔄s"></a><a id="3763" href="Birkhoff.HSPTheorem.html#3763" class="Function">𝔄s</a> <a id="3766" class="Symbol">:</a> <a id="3768" href="Birkhoff.HSPTheorem.html#3724" class="Function">ℑs</a> <a id="3771" class="Symbol">→</a> <a id="3773" href="Algebras.Algebras.html#694" class="Function">Algebra</a> <a id="3781" href="Birkhoff.HSPTheorem.html#2571" class="Bound">𝓤</a> <a id="3783" href="Birkhoff.HSPTheorem.html#2469" class="Bound">𝑆</a>
<a id="3785" href="Birkhoff.HSPTheorem.html#3763" class="Function">𝔄s</a> <a id="3788" class="Symbol">=</a> <a id="3790" class="Symbol">λ</a> <a id="3792" class="Symbol">(</a><a id="3793" href="Birkhoff.HSPTheorem.html#3793" class="Bound">i</a> <a id="3795" class="Symbol">:</a> <a id="3797" href="Birkhoff.HSPTheorem.html#3724" class="Function">ℑs</a><a id="3799" class="Symbol">)</a> <a id="3801" class="Symbol">→</a> <a id="3803" href="Prelude.Preliminaries.html#13569" class="Function Operator">∣</a> <a id="3805" href="Birkhoff.HSPTheorem.html#3793" class="Bound">i</a> <a id="3807" href="Prelude.Preliminaries.html#13569" class="Function Operator">∣</a>

<a id="SK𝔄"></a><a id="3810" href="Birkhoff.HSPTheorem.html#3810" class="Function">SK𝔄</a> <a id="3814" class="Symbol">:</a> <a id="3816" class="Symbol">(</a><a id="3817" href="Birkhoff.HSPTheorem.html#3817" class="Bound">i</a> <a id="3819" class="Symbol">:</a> <a id="3821" href="Birkhoff.HSPTheorem.html#3724" class="Function">ℑs</a><a id="3823" class="Symbol">)</a> <a id="3825" class="Symbol">→</a> <a id="3827" class="Symbol">(</a><a id="3828" href="Birkhoff.HSPTheorem.html#3763" class="Function">𝔄s</a> <a id="3831" href="Birkhoff.HSPTheorem.html#3817" class="Bound">i</a><a id="3832" class="Symbol">)</a> <a id="3834" href="Relations.Small.html#2269" class="Function Operator">∈</a> <a id="3836" href="Varieties.Varieties.html#2939" class="Datatype">S</a><a id="3837" class="Symbol">{</a><a id="3838" href="Birkhoff.HSPTheorem.html#2571" class="Bound">𝓤</a><a id="3839" class="Symbol">}{</a><a id="3841" href="Birkhoff.HSPTheorem.html#2571" class="Bound">𝓤</a><a id="3842" class="Symbol">}</a> <a id="3844" href="Birkhoff.HSPTheorem.html#2597" class="Bound">𝒦</a>
<a id="3846" href="Birkhoff.HSPTheorem.html#3810" class="Function">SK𝔄</a> <a id="3850" class="Symbol">=</a> <a id="3852" class="Symbol">λ</a> <a id="3854" class="Symbol">(</a><a id="3855" href="Birkhoff.HSPTheorem.html#3855" class="Bound">i</a> <a id="3857" class="Symbol">:</a> <a id="3859" href="Birkhoff.HSPTheorem.html#3724" class="Function">ℑs</a><a id="3861" class="Symbol">)</a> <a id="3863" class="Symbol">→</a> <a id="3865" href="Prelude.Preliminaries.html#13573" class="Function">fst</a> <a id="3869" href="Prelude.Preliminaries.html#13647" class="Function Operator">∥</a> <a id="3871" href="Birkhoff.HSPTheorem.html#3855" class="Bound">i</a> <a id="3873" href="Prelude.Preliminaries.html#13647" class="Function Operator">∥</a>

<a id="𝔄h"></a><a id="3876" href="Birkhoff.HSPTheorem.html#3876" class="Function">𝔄h</a> <a id="3879" class="Symbol">:</a> <a id="3881" class="Symbol">(</a><a id="3882" href="Birkhoff.HSPTheorem.html#3882" class="Bound">i</a> <a id="3884" class="Symbol">:</a> <a id="3886" href="Birkhoff.HSPTheorem.html#3724" class="Function">ℑs</a><a id="3888" class="Symbol">)</a> <a id="3890" class="Symbol">→</a> <a id="3892" href="Birkhoff.HSPTheorem.html#2586" class="Bound">X</a> <a id="3894" class="Symbol">→</a> <a id="3896" href="Prelude.Preliminaries.html#13569" class="Function Operator">∣</a> <a id="3898" href="Birkhoff.HSPTheorem.html#3763" class="Function">𝔄s</a> <a id="3901" href="Birkhoff.HSPTheorem.html#3882" class="Bound">i</a> <a id="3903" href="Prelude.Preliminaries.html#13569" class="Function Operator">∣</a>
<a id="3905" href="Birkhoff.HSPTheorem.html#3876" class="Function">𝔄h</a> <a id="3908" class="Symbol">=</a> <a id="3910" class="Symbol">λ</a> <a id="3912" class="Symbol">(</a><a id="3913" href="Birkhoff.HSPTheorem.html#3913" class="Bound">i</a> <a id="3915" class="Symbol">:</a> <a id="3917" href="Birkhoff.HSPTheorem.html#3724" class="Function">ℑs</a><a id="3919" class="Symbol">)</a> <a id="3921" class="Symbol">→</a> <a id="3923" href="Prelude.Preliminaries.html#13651" class="Function">snd</a> <a id="3927" href="Prelude.Preliminaries.html#13647" class="Function Operator">∥</a> <a id="3929" href="Birkhoff.HSPTheorem.html#3913" class="Bound">i</a> <a id="3931" href="Prelude.Preliminaries.html#13647" class="Function Operator">∥</a>

<a id="3934" class="Comment">-- ℭ is the product of all subalgebras of algebras in 𝒦.</a>
<a id="ℭ"></a><a id="3991" href="Birkhoff.HSPTheorem.html#3991" class="Function">ℭ</a> <a id="3993" class="Symbol">:</a> <a id="3995" href="Algebras.Algebras.html#694" class="Function">Algebra</a> <a id="4003" href="Birkhoff.FreeAlgebra.html#2793" class="Function">𝓸𝓿𝓾</a> <a id="4007" href="Birkhoff.HSPTheorem.html#2469" class="Bound">𝑆</a>
<a id="4009" href="Birkhoff.HSPTheorem.html#3991" class="Function">ℭ</a> <a id="4011" class="Symbol">=</a> <a id="4013" href="Algebras.Products.html#908" class="Function">⨅</a> <a id="4015" href="Birkhoff.HSPTheorem.html#3763" class="Function">𝔄s</a>

</pre>

Observe that the inhabitants of ℭ are maps from ℑs to {𝔄s i : i ∈ ℑs}.

<pre class="Agda">

<a id="hom𝔄"></a><a id="4117" href="Birkhoff.HSPTheorem.html#4117" class="Function">hom𝔄</a> <a id="4122" class="Symbol">:</a> <a id="4124" class="Symbol">∀</a> <a id="4126" href="Birkhoff.HSPTheorem.html#4126" class="Bound">i</a> <a id="4128" class="Symbol">→</a> <a id="4130" href="Homomorphisms.Basic.html#2343" class="Function">hom</a> <a id="4134" class="Symbol">(</a><a id="4135" href="Terms.Basic.html#3664" class="Function">𝑻</a> <a id="4137" href="Birkhoff.HSPTheorem.html#2586" class="Bound">X</a><a id="4138" class="Symbol">)</a> <a id="4140" class="Symbol">(</a><a id="4141" href="Birkhoff.HSPTheorem.html#3763" class="Function">𝔄s</a> <a id="4144" href="Birkhoff.HSPTheorem.html#4126" class="Bound">i</a><a id="4145" class="Symbol">)</a>
<a id="4147" href="Birkhoff.HSPTheorem.html#4117" class="Function">hom𝔄</a> <a id="4152" href="Birkhoff.HSPTheorem.html#4152" class="Bound">i</a> <a id="4154" class="Symbol">=</a> <a id="4156" href="Terms.Basic.html#4577" class="Function">lift-hom</a> <a id="4165" class="Symbol">(</a><a id="4166" href="Birkhoff.HSPTheorem.html#3763" class="Function">𝔄s</a> <a id="4169" href="Birkhoff.HSPTheorem.html#4152" class="Bound">i</a><a id="4170" class="Symbol">)</a> <a id="4172" class="Symbol">(</a><a id="4173" href="Birkhoff.HSPTheorem.html#3876" class="Function">𝔄h</a> <a id="4176" href="Birkhoff.HSPTheorem.html#4152" class="Bound">i</a><a id="4177" class="Symbol">)</a>

<a id="homℭ"></a><a id="4180" href="Birkhoff.HSPTheorem.html#4180" class="Function">homℭ</a> <a id="4185" class="Symbol">:</a> <a id="4187" href="Homomorphisms.Basic.html#2343" class="Function">hom</a> <a id="4191" class="Symbol">(</a><a id="4192" href="Terms.Basic.html#3664" class="Function">𝑻</a> <a id="4194" href="Birkhoff.HSPTheorem.html#2586" class="Bound">X</a><a id="4195" class="Symbol">)</a> <a id="4197" href="Birkhoff.HSPTheorem.html#3991" class="Function">ℭ</a>
<a id="4199" href="Birkhoff.HSPTheorem.html#4180" class="Function">homℭ</a> <a id="4204" class="Symbol">=</a> <a id="4206" href="Homomorphisms.Basic.html#8496" class="Function">⨅-hom-co</a> <a id="4215" class="Symbol">(</a><a id="4216" href="Terms.Basic.html#3664" class="Function">𝑻</a> <a id="4218" href="Birkhoff.HSPTheorem.html#2586" class="Bound">X</a><a id="4219" class="Symbol">)</a> <a id="4221" href="Birkhoff.HSPTheorem.html#3763" class="Function">𝔄s</a> <a id="4224" href="Birkhoff.HSPTheorem.html#4117" class="Function">hom𝔄</a>

</pre>


#### <a id="the-new-free-algebra">The new free algebra</a>

As mentioned above, the initial version of the [Agda UALib][] used the free algebra `𝔉`, developed in the [Birkhoff.FreeAlgebra][] module.  However, our new, more direct proof uses the algebra `𝔽`, which we now define, along with the natural epimorphism `epi𝔽 : epi (𝑻 X) 𝔽` from `𝑻 X` to `𝔽`.<sup>[2](Birkhoff.HSPTheorem.html#fn2)</sup>

<pre class="Agda">

<a id="𝔽"></a><a id="4656" href="Birkhoff.HSPTheorem.html#4656" class="Function">𝔽</a> <a id="4658" class="Symbol">:</a> <a id="4660" href="Algebras.Algebras.html#694" class="Function">Algebra</a> <a id="4668" href="Birkhoff.FreeAlgebra.html#2797" class="Function">𝓸𝓿𝓾+</a> <a id="4673" href="Birkhoff.HSPTheorem.html#2469" class="Bound">𝑆</a>
<a id="4675" href="Birkhoff.HSPTheorem.html#4656" class="Function">𝔽</a> <a id="4677" class="Symbol">=</a> <a id="4679" class="Symbol">(</a><a id="4680" href="Terms.Basic.html#3664" class="Function">𝑻</a> <a id="4682" href="Birkhoff.HSPTheorem.html#2586" class="Bound">X</a><a id="4683" class="Symbol">)</a> <a id="4685" href="Homomorphisms.Basic.html#6587" class="Function Operator">[</a> <a id="4687" href="Birkhoff.HSPTheorem.html#3991" class="Function">ℭ</a> <a id="4689" href="Homomorphisms.Basic.html#6587" class="Function Operator">]/ker</a> <a id="4695" href="Birkhoff.HSPTheorem.html#4180" class="Function">homℭ</a>

<a id="epi𝔽"></a><a id="4701" href="Birkhoff.HSPTheorem.html#4701" class="Function">epi𝔽</a> <a id="4706" class="Symbol">:</a> <a id="4708" href="Homomorphisms.Basic.html#3358" class="Function">epi</a> <a id="4712" class="Symbol">(</a><a id="4713" href="Terms.Basic.html#3664" class="Function">𝑻</a> <a id="4715" href="Birkhoff.HSPTheorem.html#2586" class="Bound">X</a><a id="4716" class="Symbol">)</a> <a id="4718" href="Birkhoff.HSPTheorem.html#4656" class="Function">𝔽</a>
<a id="4720" href="Birkhoff.HSPTheorem.html#4701" class="Function">epi𝔽</a> <a id="4725" class="Symbol">=</a> <a id="4727" href="Homomorphisms.Basic.html#7745" class="Function">πker</a> <a id="4732" href="Birkhoff.HSPTheorem.html#3991" class="Function">ℭ</a> <a id="4734" href="Birkhoff.HSPTheorem.html#4180" class="Function">homℭ</a>

<a id="hom𝔽"></a><a id="4740" href="Birkhoff.HSPTheorem.html#4740" class="Function">hom𝔽</a> <a id="4745" class="Symbol">:</a> <a id="4747" href="Homomorphisms.Basic.html#2343" class="Function">hom</a> <a id="4751" class="Symbol">(</a><a id="4752" href="Terms.Basic.html#3664" class="Function">𝑻</a> <a id="4754" href="Birkhoff.HSPTheorem.html#2586" class="Bound">X</a><a id="4755" class="Symbol">)</a> <a id="4757" href="Birkhoff.HSPTheorem.html#4656" class="Function">𝔽</a>
<a id="4759" href="Birkhoff.HSPTheorem.html#4740" class="Function">hom𝔽</a> <a id="4764" class="Symbol">=</a> <a id="4766" href="Homomorphisms.Basic.html#3714" class="Function">epi-to-hom</a> <a id="4777" href="Birkhoff.HSPTheorem.html#4656" class="Function">𝔽</a> <a id="4779" href="Birkhoff.HSPTheorem.html#4701" class="Function">epi𝔽</a>

<a id="hom𝔽-is-epic"></a><a id="4785" href="Birkhoff.HSPTheorem.html#4785" class="Function">hom𝔽-is-epic</a> <a id="4798" class="Symbol">:</a> <a id="4800" href="Prelude.Inverses.html#2632" class="Function">Epic</a> <a id="4805" href="Prelude.Preliminaries.html#13569" class="Function Operator">∣</a> <a id="4807" href="Birkhoff.HSPTheorem.html#4740" class="Function">hom𝔽</a> <a id="4812" href="Prelude.Preliminaries.html#13569" class="Function Operator">∣</a>
<a id="4814" href="Birkhoff.HSPTheorem.html#4785" class="Function">hom𝔽-is-epic</a> <a id="4827" class="Symbol">=</a> <a id="4829" href="Prelude.Preliminaries.html#13651" class="Function">snd</a> <a id="4833" href="Prelude.Preliminaries.html#13647" class="Function Operator">∥</a> <a id="4835" href="Birkhoff.HSPTheorem.html#4701" class="Function">epi𝔽</a> <a id="4840" href="Prelude.Preliminaries.html#13647" class="Function Operator">∥</a>

</pre>

We will need the following facts relating homℭ, hom𝔽, and ψ.

<pre class="Agda">

<a id="ψlemma0"></a><a id="4931" href="Birkhoff.HSPTheorem.html#4931" class="Function">ψlemma0</a> <a id="4939" class="Symbol">:</a> <a id="4941" class="Symbol">∀</a> <a id="4943" href="Birkhoff.HSPTheorem.html#4943" class="Bound">p</a> <a id="4945" href="Birkhoff.HSPTheorem.html#4945" class="Bound">q</a> <a id="4947" class="Symbol">→</a> <a id="4949" class="Symbol">(</a><a id="4950" href="Prelude.Preliminaries.html#13569" class="Function Operator">∣</a> <a id="4952" href="Birkhoff.HSPTheorem.html#4180" class="Function">homℭ</a> <a id="4957" href="Prelude.Preliminaries.html#13569" class="Function Operator">∣</a> <a id="4959" href="Birkhoff.HSPTheorem.html#4943" class="Bound">p</a> <a id="4961" href="Prelude.Inverses.html#620" class="Datatype Operator">≡</a> <a id="4963" href="Prelude.Preliminaries.html#13569" class="Function Operator">∣</a> <a id="4965" href="Birkhoff.HSPTheorem.html#4180" class="Function">homℭ</a> <a id="4970" href="Prelude.Preliminaries.html#13569" class="Function Operator">∣</a> <a id="4972" href="Birkhoff.HSPTheorem.html#4945" class="Bound">q</a><a id="4973" class="Symbol">)</a> <a id="4975" class="Symbol">→</a> <a id="4977" class="Symbol">(</a><a id="4978" href="Birkhoff.HSPTheorem.html#4943" class="Bound">p</a> <a id="4980" href="Prelude.Preliminaries.html#14564" class="InductiveConstructor Operator">,</a> <a id="4982" href="Birkhoff.HSPTheorem.html#4945" class="Bound">q</a><a id="4983" class="Symbol">)</a> <a id="4985" href="Relations.Small.html#2269" class="Function Operator">∈</a> <a id="4987" href="Birkhoff.FreeAlgebra.html#4389" class="Function">ψ</a> <a id="4989" href="Birkhoff.HSPTheorem.html#2597" class="Bound">𝒦</a>
<a id="4991" href="Birkhoff.HSPTheorem.html#4931" class="Function">ψlemma0</a> <a id="4999" href="Birkhoff.HSPTheorem.html#4999" class="Bound">p</a> <a id="5001" href="Birkhoff.HSPTheorem.html#5001" class="Bound">q</a> <a id="5003" href="Birkhoff.HSPTheorem.html#5003" class="Bound">phomℭq</a> <a id="5010" href="Birkhoff.HSPTheorem.html#5010" class="Bound">𝑨</a> <a id="5012" href="Birkhoff.HSPTheorem.html#5012" class="Bound">sA</a> <a id="5015" href="Birkhoff.HSPTheorem.html#5015" class="Bound">h</a> <a id="5017" class="Symbol">=</a> <a id="5019" href="MGS-MLTT.html#6613" class="Function">ap</a> <a id="5022" class="Symbol">(λ</a> <a id="5025" href="Birkhoff.HSPTheorem.html#5025" class="Bound">-</a> <a id="5027" class="Symbol">→</a> <a id="5029" href="Birkhoff.HSPTheorem.html#5025" class="Bound">-</a> <a id="5031" class="Symbol">(</a><a id="5032" href="Birkhoff.HSPTheorem.html#5010" class="Bound">𝑨</a> <a id="5034" href="Prelude.Preliminaries.html#14564" class="InductiveConstructor Operator">,</a> <a id="5036" class="Symbol">(</a><a id="5037" href="Birkhoff.HSPTheorem.html#5012" class="Bound">sA</a> <a id="5040" href="Prelude.Preliminaries.html#14564" class="InductiveConstructor Operator">,</a> <a id="5042" href="Birkhoff.HSPTheorem.html#5015" class="Bound">h</a><a id="5043" class="Symbol">)))</a> <a id="5047" href="Birkhoff.HSPTheorem.html#5003" class="Bound">phomℭq</a>


<a id="ψlemma0-ap"></a><a id="5056" href="Birkhoff.HSPTheorem.html#5056" class="Function">ψlemma0-ap</a> <a id="5067" class="Symbol">:</a> <a id="5069" class="Symbol">{</a><a id="5070" href="Birkhoff.HSPTheorem.html#5070" class="Bound">𝑨</a> <a id="5072" class="Symbol">:</a> <a id="5074" href="Algebras.Algebras.html#694" class="Function">Algebra</a> <a id="5082" href="Birkhoff.HSPTheorem.html#2571" class="Bound">𝓤</a> <a id="5084" href="Birkhoff.HSPTheorem.html#2469" class="Bound">𝑆</a><a id="5085" class="Symbol">}{</a><a id="5087" href="Birkhoff.HSPTheorem.html#5087" class="Bound">h</a> <a id="5089" class="Symbol">:</a> <a id="5091" href="Birkhoff.HSPTheorem.html#2586" class="Bound">X</a> <a id="5093" class="Symbol">→</a> <a id="5095" href="Prelude.Preliminaries.html#13569" class="Function Operator">∣</a> <a id="5097" href="Birkhoff.HSPTheorem.html#5070" class="Bound">𝑨</a> <a id="5099" href="Prelude.Preliminaries.html#13569" class="Function Operator">∣</a><a id="5100" class="Symbol">}</a>
 <a id="5103" class="Symbol">→</a>           <a id="5115" href="Birkhoff.HSPTheorem.html#5070" class="Bound">𝑨</a> <a id="5117" href="Relations.Small.html#2269" class="Function Operator">∈</a> <a id="5119" href="Varieties.Varieties.html#2939" class="Datatype">S</a><a id="5120" class="Symbol">{</a><a id="5121" href="Birkhoff.HSPTheorem.html#2571" class="Bound">𝓤</a><a id="5122" class="Symbol">}{</a><a id="5124" href="Birkhoff.HSPTheorem.html#2571" class="Bound">𝓤</a><a id="5125" class="Symbol">}</a> <a id="5127" href="Birkhoff.HSPTheorem.html#2597" class="Bound">𝒦</a>
             <a id="5142" class="Comment">---------------------------------------</a>
 <a id="5183" class="Symbol">→</a>           <a id="5195" href="Relations.Small.html#6728" class="Function">KER-pred</a> <a id="5204" href="Prelude.Preliminaries.html#13569" class="Function Operator">∣</a> <a id="5206" href="Birkhoff.HSPTheorem.html#4740" class="Function">hom𝔽</a> <a id="5211" href="Prelude.Preliminaries.html#13569" class="Function Operator">∣</a> <a id="5213" href="Relations.Small.html#2591" class="Function Operator">⊆</a> <a id="5215" href="Relations.Small.html#6728" class="Function">KER-pred</a> <a id="5224" class="Symbol">(</a><a id="5225" href="Terms.Basic.html#4326" class="Function">free-lift</a> <a id="5235" href="Birkhoff.HSPTheorem.html#5070" class="Bound">𝑨</a> <a id="5237" href="Birkhoff.HSPTheorem.html#5087" class="Bound">h</a><a id="5238" class="Symbol">)</a>

<a id="5241" href="Birkhoff.HSPTheorem.html#5056" class="Function">ψlemma0-ap</a> <a id="5252" class="Symbol">{</a><a id="5253" href="Birkhoff.HSPTheorem.html#5253" class="Bound">𝑨</a><a id="5254" class="Symbol">}{</a><a id="5256" href="Birkhoff.HSPTheorem.html#5256" class="Bound">h</a><a id="5257" class="Symbol">}</a> <a id="5259" href="Birkhoff.HSPTheorem.html#5259" class="Bound">skA</a> <a id="5263" class="Symbol">{</a><a id="5264" href="Birkhoff.HSPTheorem.html#5264" class="Bound">p</a> <a id="5266" href="Prelude.Preliminaries.html#14564" class="InductiveConstructor Operator">,</a> <a id="5268" href="Birkhoff.HSPTheorem.html#5268" class="Bound">q</a><a id="5269" class="Symbol">}</a> <a id="5271" href="Birkhoff.HSPTheorem.html#5271" class="Bound">x</a> <a id="5273" class="Symbol">=</a> <a id="5275" href="Birkhoff.HSPTheorem.html#5362" class="Function">γ</a> <a id="5277" class="Keyword">where</a>

  <a id="5286" href="Birkhoff.HSPTheorem.html#5286" class="Function">ν</a> <a id="5288" class="Symbol">:</a> <a id="5290" href="Prelude.Preliminaries.html#13569" class="Function Operator">∣</a> <a id="5292" href="Birkhoff.HSPTheorem.html#4180" class="Function">homℭ</a> <a id="5297" href="Prelude.Preliminaries.html#13569" class="Function Operator">∣</a> <a id="5299" href="Birkhoff.HSPTheorem.html#5264" class="Bound">p</a> <a id="5301" href="Prelude.Inverses.html#620" class="Datatype Operator">≡</a> <a id="5303" href="Prelude.Preliminaries.html#13569" class="Function Operator">∣</a> <a id="5305" href="Birkhoff.HSPTheorem.html#4180" class="Function">homℭ</a> <a id="5310" href="Prelude.Preliminaries.html#13569" class="Function Operator">∣</a> <a id="5312" href="Birkhoff.HSPTheorem.html#5268" class="Bound">q</a>
  <a id="5316" href="Birkhoff.HSPTheorem.html#5286" class="Function">ν</a> <a id="5318" class="Symbol">=</a> <a id="5320" href="Homomorphisms.Basic.html#8223" class="Function">ker-in-con</a> <a id="5331" class="Symbol">(</a><a id="5332" href="Terms.Basic.html#3664" class="Function">𝑻</a> <a id="5334" href="Birkhoff.HSPTheorem.html#2586" class="Bound">X</a><a id="5335" class="Symbol">)</a> <a id="5337" class="Symbol">(</a><a id="5338" href="Homomorphisms.Basic.html#6209" class="Function">kercon</a> <a id="5345" href="Birkhoff.HSPTheorem.html#3991" class="Function">ℭ</a> <a id="5347" href="Birkhoff.HSPTheorem.html#4180" class="Function">homℭ</a><a id="5351" class="Symbol">)</a> <a id="5353" href="Birkhoff.HSPTheorem.html#5264" class="Bound">p</a> <a id="5355" href="Birkhoff.HSPTheorem.html#5268" class="Bound">q</a> <a id="5357" href="Birkhoff.HSPTheorem.html#5271" class="Bound">x</a>

  <a id="5362" href="Birkhoff.HSPTheorem.html#5362" class="Function">γ</a> <a id="5364" class="Symbol">:</a> <a id="5366" class="Symbol">(</a><a id="5367" href="Terms.Basic.html#4326" class="Function">free-lift</a> <a id="5377" href="Birkhoff.HSPTheorem.html#5253" class="Bound">𝑨</a> <a id="5379" href="Birkhoff.HSPTheorem.html#5256" class="Bound">h</a><a id="5380" class="Symbol">)</a> <a id="5382" href="Birkhoff.HSPTheorem.html#5264" class="Bound">p</a> <a id="5384" href="Prelude.Inverses.html#620" class="Datatype Operator">≡</a> <a id="5386" class="Symbol">(</a><a id="5387" href="Terms.Basic.html#4326" class="Function">free-lift</a> <a id="5397" href="Birkhoff.HSPTheorem.html#5253" class="Bound">𝑨</a> <a id="5399" href="Birkhoff.HSPTheorem.html#5256" class="Bound">h</a><a id="5400" class="Symbol">)</a> <a id="5402" href="Birkhoff.HSPTheorem.html#5268" class="Bound">q</a>
  <a id="5406" href="Birkhoff.HSPTheorem.html#5362" class="Function">γ</a> <a id="5408" class="Symbol">=</a> <a id="5410" class="Symbol">((</a><a id="5412" href="Birkhoff.HSPTheorem.html#4931" class="Function">ψlemma0</a> <a id="5420" href="Birkhoff.HSPTheorem.html#5264" class="Bound">p</a> <a id="5422" href="Birkhoff.HSPTheorem.html#5268" class="Bound">q</a><a id="5423" class="Symbol">)</a> <a id="5425" href="Birkhoff.HSPTheorem.html#5286" class="Function">ν</a><a id="5426" class="Symbol">)</a> <a id="5428" href="Birkhoff.HSPTheorem.html#5253" class="Bound">𝑨</a> <a id="5430" href="Birkhoff.HSPTheorem.html#5259" class="Bound">skA</a> <a id="5434" href="Birkhoff.HSPTheorem.html#5256" class="Bound">h</a>


</pre>

We now use `ψlemma0-ap` to prove that every map `h : X → ∣ 𝑨 ∣`, from `X` to a subalgebra `𝑨 ∈ S 𝒦` of `𝒦`, lifts to a homomorphism from `𝔽` to `𝑨`.

<pre class="Agda">

<a id="𝔽-lift-hom"></a><a id="5614" href="Birkhoff.HSPTheorem.html#5614" class="Function">𝔽-lift-hom</a> <a id="5625" class="Symbol">:</a> <a id="5627" class="Symbol">(</a><a id="5628" href="Birkhoff.HSPTheorem.html#5628" class="Bound">𝑨</a> <a id="5630" class="Symbol">:</a> <a id="5632" href="Algebras.Algebras.html#694" class="Function">Algebra</a> <a id="5640" href="Birkhoff.HSPTheorem.html#2571" class="Bound">𝓤</a> <a id="5642" href="Birkhoff.HSPTheorem.html#2469" class="Bound">𝑆</a><a id="5643" class="Symbol">)</a> <a id="5645" class="Symbol">→</a> <a id="5647" href="Birkhoff.HSPTheorem.html#5628" class="Bound">𝑨</a> <a id="5649" href="Relations.Small.html#2269" class="Function Operator">∈</a> <a id="5651" href="Varieties.Varieties.html#2939" class="Datatype">S</a><a id="5652" class="Symbol">{</a><a id="5653" href="Birkhoff.HSPTheorem.html#2571" class="Bound">𝓤</a><a id="5654" class="Symbol">}{</a><a id="5656" href="Birkhoff.HSPTheorem.html#2571" class="Bound">𝓤</a><a id="5657" class="Symbol">}</a> <a id="5659" href="Birkhoff.HSPTheorem.html#2597" class="Bound">𝒦</a> <a id="5661" class="Symbol">→</a> <a id="5663" class="Symbol">(</a><a id="5664" href="Birkhoff.HSPTheorem.html#2586" class="Bound">X</a> <a id="5666" class="Symbol">→</a> <a id="5668" href="Prelude.Preliminaries.html#13569" class="Function Operator">∣</a> <a id="5670" href="Birkhoff.HSPTheorem.html#5628" class="Bound">𝑨</a> <a id="5672" href="Prelude.Preliminaries.html#13569" class="Function Operator">∣</a><a id="5673" class="Symbol">)</a> <a id="5675" class="Symbol">→</a> <a id="5677" href="Homomorphisms.Basic.html#2343" class="Function">hom</a> <a id="5681" href="Birkhoff.HSPTheorem.html#4656" class="Function">𝔽</a> <a id="5683" href="Birkhoff.HSPTheorem.html#5628" class="Bound">𝑨</a>
<a id="5685" href="Birkhoff.HSPTheorem.html#5614" class="Function">𝔽-lift-hom</a> <a id="5696" href="Birkhoff.HSPTheorem.html#5696" class="Bound">𝑨</a> <a id="5698" href="Birkhoff.HSPTheorem.html#5698" class="Bound">skA</a> <a id="5702" href="Birkhoff.HSPTheorem.html#5702" class="Bound">h</a> <a id="5704" class="Symbol">=</a> <a id="5706" href="Prelude.Preliminaries.html#13573" class="Function">fst</a><a id="5709" class="Symbol">(</a><a id="5710" href="Homomorphisms.Noether.html#8099" class="Function">HomFactor</a> <a id="5720" class="Symbol">(</a><a id="5721" href="Terms.Basic.html#3664" class="Function">𝑻</a> <a id="5723" href="Birkhoff.HSPTheorem.html#2586" class="Bound">X</a><a id="5724" class="Symbol">){</a><a id="5726" href="Birkhoff.HSPTheorem.html#5696" class="Bound">𝑨</a><a id="5727" class="Symbol">}{</a><a id="5729" href="Birkhoff.HSPTheorem.html#4656" class="Function">𝔽</a><a id="5730" class="Symbol">}(</a><a id="5732" href="Terms.Basic.html#4577" class="Function">lift-hom</a> <a id="5741" href="Birkhoff.HSPTheorem.html#5696" class="Bound">𝑨</a> <a id="5743" href="Birkhoff.HSPTheorem.html#5702" class="Bound">h</a><a id="5744" class="Symbol">)</a> <a id="5746" href="Birkhoff.HSPTheorem.html#4740" class="Function">hom𝔽</a> <a id="5751" href="Birkhoff.HSPTheorem.html#4785" class="Function">hom𝔽-is-epic</a> <a id="5764" class="Symbol">(</a><a id="5765" href="Birkhoff.HSPTheorem.html#5056" class="Function">ψlemma0-ap</a> <a id="5776" href="Birkhoff.HSPTheorem.html#5698" class="Bound">skA</a><a id="5779" class="Symbol">))</a>

</pre>


#### <a id="k-models-psi">𝒦 models ψ</a>

The goal of this subsection is to prove that `𝒦` models `ψ 𝒦`. In other terms, for all pairs `(p , q) ∈ Term X × Term X` of terms, if `(p , q) ∈ ψ 𝒦`, then `𝒦 ⊧ p ≋ q`.

Next we define the lift of the natural embedding from `X` into 𝔽. We denote this homomorphism by `𝔑 : hom (𝑻 X) 𝔽` and define it as follows.

<pre class="Agda">

<a id="X↪𝔽"></a><a id="6164" href="Birkhoff.HSPTheorem.html#6164" class="Function">X↪𝔽</a> <a id="6168" class="Symbol">:</a> <a id="6170" href="Birkhoff.HSPTheorem.html#2586" class="Bound">X</a> <a id="6172" class="Symbol">→</a> <a id="6174" href="Prelude.Preliminaries.html#13569" class="Function Operator">∣</a> <a id="6176" href="Birkhoff.HSPTheorem.html#4656" class="Function">𝔽</a> <a id="6178" href="Prelude.Preliminaries.html#13569" class="Function Operator">∣</a>
<a id="6180" href="Birkhoff.HSPTheorem.html#6164" class="Function">X↪𝔽</a> <a id="6184" href="Birkhoff.HSPTheorem.html#6184" class="Bound">x</a> <a id="6186" class="Symbol">=</a> <a id="6188" href="Relations.Quotients.html#3858" class="Function Operator">⟦</a> <a id="6190" href="Terms.Operations.html#753" class="InductiveConstructor">ℊ</a> <a id="6192" href="Birkhoff.HSPTheorem.html#6184" class="Bound">x</a> <a id="6194" href="Relations.Quotients.html#3858" class="Function Operator">⟧</a>

<a id="𝔑"></a><a id="6197" href="Birkhoff.HSPTheorem.html#6197" class="Function">𝔑</a> <a id="6199" class="Symbol">:</a> <a id="6201" href="Homomorphisms.Basic.html#2343" class="Function">hom</a> <a id="6205" class="Symbol">(</a><a id="6206" href="Terms.Basic.html#3664" class="Function">𝑻</a> <a id="6208" href="Birkhoff.HSPTheorem.html#2586" class="Bound">X</a><a id="6209" class="Symbol">)</a> <a id="6211" href="Birkhoff.HSPTheorem.html#4656" class="Function">𝔽</a>
<a id="6213" href="Birkhoff.HSPTheorem.html#6197" class="Function">𝔑</a> <a id="6215" class="Symbol">=</a> <a id="6217" href="Terms.Basic.html#4577" class="Function">lift-hom</a> <a id="6226" href="Birkhoff.HSPTheorem.html#4656" class="Function">𝔽</a> <a id="6228" href="Birkhoff.HSPTheorem.html#6164" class="Function">X↪𝔽</a>

</pre>

It turns out that the homomorphism so defined is equivalent to `hom𝔽`.

<pre class="Agda">

<a id="hom𝔽-is-lift-hom"></a><a id="6331" href="Birkhoff.HSPTheorem.html#6331" class="Function">hom𝔽-is-lift-hom</a> <a id="6348" class="Symbol">:</a> <a id="6350" class="Symbol">∀</a> <a id="6352" href="Birkhoff.HSPTheorem.html#6352" class="Bound">p</a> <a id="6354" class="Symbol">→</a> <a id="6356" href="Prelude.Preliminaries.html#13569" class="Function Operator">∣</a> <a id="6358" href="Birkhoff.HSPTheorem.html#6197" class="Function">𝔑</a> <a id="6360" href="Prelude.Preliminaries.html#13569" class="Function Operator">∣</a> <a id="6362" href="Birkhoff.HSPTheorem.html#6352" class="Bound">p</a> <a id="6364" href="Prelude.Inverses.html#620" class="Datatype Operator">≡</a> <a id="6366" href="Prelude.Preliminaries.html#13569" class="Function Operator">∣</a> <a id="6368" href="Birkhoff.HSPTheorem.html#4740" class="Function">hom𝔽</a> <a id="6373" href="Prelude.Preliminaries.html#13569" class="Function Operator">∣</a> <a id="6375" href="Birkhoff.HSPTheorem.html#6352" class="Bound">p</a>
<a id="6377" href="Birkhoff.HSPTheorem.html#6331" class="Function">hom𝔽-is-lift-hom</a> <a id="6394" class="Symbol">(</a><a id="6395" href="Terms.Operations.html#753" class="InductiveConstructor">ℊ</a> <a id="6397" href="Birkhoff.HSPTheorem.html#6397" class="Bound">x</a><a id="6398" class="Symbol">)</a> <a id="6400" class="Symbol">=</a> <a id="6402" href="Prelude.Inverses.html#634" class="InductiveConstructor">𝓇ℯ𝒻𝓁</a>
<a id="6407" href="Birkhoff.HSPTheorem.html#6331" class="Function">hom𝔽-is-lift-hom</a> <a id="6424" class="Symbol">(</a><a id="6425" href="Terms.Basic.html#2456" class="InductiveConstructor">node</a> <a id="6430" href="Birkhoff.HSPTheorem.html#6430" class="Bound">𝑓</a> <a id="6432" href="Birkhoff.HSPTheorem.html#6432" class="Bound">𝒕</a><a id="6433" class="Symbol">)</a> <a id="6435" class="Symbol">=</a> <a id="6437" href="Prelude.Preliminaries.html#13569" class="Function Operator">∣</a> <a id="6439" href="Birkhoff.HSPTheorem.html#6197" class="Function">𝔑</a> <a id="6441" href="Prelude.Preliminaries.html#13569" class="Function Operator">∣</a> <a id="6443" class="Symbol">(</a><a id="6444" href="Terms.Basic.html#2456" class="InductiveConstructor">node</a> <a id="6449" href="Birkhoff.HSPTheorem.html#6430" class="Bound">𝑓</a> <a id="6451" href="Birkhoff.HSPTheorem.html#6432" class="Bound">𝒕</a><a id="6452" class="Symbol">)</a>           <a id="6464" href="MGS-MLTT.html#5997" class="Function Operator">≡⟨</a> <a id="6467" href="Prelude.Preliminaries.html#13647" class="Function Operator">∥</a> <a id="6469" href="Birkhoff.HSPTheorem.html#6197" class="Function">𝔑</a> <a id="6471" href="Prelude.Preliminaries.html#13647" class="Function Operator">∥</a> <a id="6473" href="Birkhoff.HSPTheorem.html#6430" class="Bound">𝑓</a> <a id="6475" href="Birkhoff.HSPTheorem.html#6432" class="Bound">𝒕</a> <a id="6477" href="MGS-MLTT.html#5997" class="Function Operator">⟩</a>
                          <a id="6505" class="Symbol">(</a><a id="6506" href="Birkhoff.HSPTheorem.html#6430" class="Bound">𝑓</a> <a id="6508" href="Algebras.Algebras.html#2997" class="Function Operator">̂</a> <a id="6510" href="Birkhoff.HSPTheorem.html#4656" class="Function">𝔽</a><a id="6511" class="Symbol">)(λ</a> <a id="6515" href="Birkhoff.HSPTheorem.html#6515" class="Bound">i</a> <a id="6517" class="Symbol">→</a> <a id="6519" href="Prelude.Preliminaries.html#13569" class="Function Operator">∣</a> <a id="6521" href="Birkhoff.HSPTheorem.html#6197" class="Function">𝔑</a> <a id="6523" href="Prelude.Preliminaries.html#13569" class="Function Operator">∣</a><a id="6524" class="Symbol">(</a><a id="6525" href="Birkhoff.HSPTheorem.html#6432" class="Bound">𝒕</a> <a id="6527" href="Birkhoff.HSPTheorem.html#6515" class="Bound">i</a><a id="6528" class="Symbol">))</a>  <a id="6532" href="MGS-MLTT.html#5997" class="Function Operator">≡⟨</a> <a id="6535" href="MGS-MLTT.html#6613" class="Function">ap</a><a id="6537" class="Symbol">(</a><a id="6538" href="Birkhoff.HSPTheorem.html#6430" class="Bound">𝑓</a> <a id="6540" href="Algebras.Algebras.html#2997" class="Function Operator">̂</a> <a id="6542" href="Birkhoff.HSPTheorem.html#4656" class="Function">𝔽</a><a id="6543" class="Symbol">)(</a><a id="6545" href="Birkhoff.HSPTheorem.html#2488" class="Bound">gfe</a> <a id="6549" class="Symbol">(λ</a> <a id="6552" href="Birkhoff.HSPTheorem.html#6552" class="Bound">x</a> <a id="6554" class="Symbol">→</a> <a id="6556" href="Birkhoff.HSPTheorem.html#6331" class="Function">hom𝔽-is-lift-hom</a><a id="6572" class="Symbol">(</a><a id="6573" href="Birkhoff.HSPTheorem.html#6432" class="Bound">𝒕</a> <a id="6575" href="Birkhoff.HSPTheorem.html#6552" class="Bound">x</a><a id="6576" class="Symbol">)))</a> <a id="6580" href="MGS-MLTT.html#5997" class="Function Operator">⟩</a>
                          <a id="6608" class="Symbol">(</a><a id="6609" href="Birkhoff.HSPTheorem.html#6430" class="Bound">𝑓</a> <a id="6611" href="Algebras.Algebras.html#2997" class="Function Operator">̂</a> <a id="6613" href="Birkhoff.HSPTheorem.html#4656" class="Function">𝔽</a><a id="6614" class="Symbol">)(λ</a> <a id="6618" href="Birkhoff.HSPTheorem.html#6618" class="Bound">i</a> <a id="6620" class="Symbol">→</a> <a id="6622" href="Prelude.Preliminaries.html#13569" class="Function Operator">∣</a> <a id="6624" href="Birkhoff.HSPTheorem.html#4740" class="Function">hom𝔽</a> <a id="6629" href="Prelude.Preliminaries.html#13569" class="Function Operator">∣</a> <a id="6631" class="Symbol">(</a><a id="6632" href="Birkhoff.HSPTheorem.html#6432" class="Bound">𝒕</a> <a id="6634" href="Birkhoff.HSPTheorem.html#6618" class="Bound">i</a><a id="6635" class="Symbol">))</a>  <a id="6639" href="MGS-MLTT.html#5997" class="Function Operator">≡⟨</a> <a id="6642" class="Symbol">(</a><a id="6643" href="Prelude.Preliminaries.html#13647" class="Function Operator">∥</a> <a id="6645" href="Birkhoff.HSPTheorem.html#4740" class="Function">hom𝔽</a> <a id="6650" href="Prelude.Preliminaries.html#13647" class="Function Operator">∥</a> <a id="6652" href="Birkhoff.HSPTheorem.html#6430" class="Bound">𝑓</a> <a id="6654" href="Birkhoff.HSPTheorem.html#6432" class="Bound">𝒕</a><a id="6655" class="Symbol">)</a><a id="6656" href="MGS-MLTT.html#6125" class="Function Operator">⁻¹</a> <a id="6659" href="MGS-MLTT.html#5997" class="Function Operator">⟩</a>
                          <a id="6687" href="Prelude.Preliminaries.html#13569" class="Function Operator">∣</a> <a id="6689" href="Birkhoff.HSPTheorem.html#4740" class="Function">hom𝔽</a> <a id="6694" href="Prelude.Preliminaries.html#13569" class="Function Operator">∣</a> <a id="6696" class="Symbol">(</a><a id="6697" href="Terms.Basic.html#2456" class="InductiveConstructor">node</a> <a id="6702" href="Birkhoff.HSPTheorem.html#6430" class="Bound">𝑓</a> <a id="6704" href="Birkhoff.HSPTheorem.html#6432" class="Bound">𝒕</a><a id="6705" class="Symbol">)</a>           <a id="6717" href="MGS-MLTT.html#6079" class="Function Operator">∎</a>


</pre>

We need a three more lemmas before we are ready to tackle our main goal.

<pre class="Agda">

<a id="ψlemma1"></a><a id="6821" href="Birkhoff.HSPTheorem.html#6821" class="Function">ψlemma1</a> <a id="6829" class="Symbol">:</a> <a id="6831" href="Relations.Small.html#6728" class="Function">KER-pred</a> <a id="6840" href="Prelude.Preliminaries.html#13569" class="Function Operator">∣</a> <a id="6842" href="Birkhoff.HSPTheorem.html#6197" class="Function">𝔑</a> <a id="6844" href="Prelude.Preliminaries.html#13569" class="Function Operator">∣</a> <a id="6846" href="Relations.Small.html#2591" class="Function Operator">⊆</a> <a id="6848" href="Birkhoff.FreeAlgebra.html#4389" class="Function">ψ</a> <a id="6850" href="Birkhoff.HSPTheorem.html#2597" class="Bound">𝒦</a>
<a id="6852" href="Birkhoff.HSPTheorem.html#6821" class="Function">ψlemma1</a> <a id="6860" class="Symbol">{</a><a id="6861" href="Birkhoff.HSPTheorem.html#6861" class="Bound">p</a> <a id="6863" href="Prelude.Preliminaries.html#14564" class="InductiveConstructor Operator">,</a> <a id="6865" href="Birkhoff.HSPTheorem.html#6865" class="Bound">q</a><a id="6866" class="Symbol">}</a> <a id="6868" href="Birkhoff.HSPTheorem.html#6868" class="Bound">𝔑pq</a> <a id="6872" href="Birkhoff.HSPTheorem.html#6872" class="Bound">𝑨</a> <a id="6874" href="Birkhoff.HSPTheorem.html#6874" class="Bound">sA</a> <a id="6877" href="Birkhoff.HSPTheorem.html#6877" class="Bound">h</a> <a id="6879" class="Symbol">=</a> <a id="6881" href="Birkhoff.HSPTheorem.html#7153" class="Function">γ</a>
 <a id="6884" class="Keyword">where</a>
  <a id="6892" href="Birkhoff.HSPTheorem.html#6892" class="Function">f</a> <a id="6894" class="Symbol">:</a> <a id="6896" href="Homomorphisms.Basic.html#2343" class="Function">hom</a> <a id="6900" href="Birkhoff.HSPTheorem.html#4656" class="Function">𝔽</a> <a id="6902" href="Birkhoff.HSPTheorem.html#6872" class="Bound">𝑨</a>
  <a id="6906" href="Birkhoff.HSPTheorem.html#6892" class="Function">f</a> <a id="6908" class="Symbol">=</a> <a id="6910" href="Birkhoff.HSPTheorem.html#5614" class="Function">𝔽-lift-hom</a> <a id="6921" href="Birkhoff.HSPTheorem.html#6872" class="Bound">𝑨</a> <a id="6923" href="Birkhoff.HSPTheorem.html#6874" class="Bound">sA</a> <a id="6926" href="Birkhoff.HSPTheorem.html#6877" class="Bound">h</a>

  <a id="6931" href="Birkhoff.HSPTheorem.html#6931" class="Function">h&#39;</a> <a id="6934" href="Birkhoff.HSPTheorem.html#6934" class="Function">ϕ</a> <a id="6936" class="Symbol">:</a> <a id="6938" href="Homomorphisms.Basic.html#2343" class="Function">hom</a> <a id="6942" class="Symbol">(</a><a id="6943" href="Terms.Basic.html#3664" class="Function">𝑻</a> <a id="6945" href="Birkhoff.HSPTheorem.html#2586" class="Bound">X</a><a id="6946" class="Symbol">)</a> <a id="6948" href="Birkhoff.HSPTheorem.html#6872" class="Bound">𝑨</a>
  <a id="6952" href="Birkhoff.HSPTheorem.html#6931" class="Function">h&#39;</a> <a id="6955" class="Symbol">=</a> <a id="6957" href="Homomorphisms.Noether.html#4601" class="Function">HomComp</a> <a id="6965" class="Symbol">(</a><a id="6966" href="Terms.Basic.html#3664" class="Function">𝑻</a> <a id="6968" href="Birkhoff.HSPTheorem.html#2586" class="Bound">X</a><a id="6969" class="Symbol">)</a> <a id="6971" href="Birkhoff.HSPTheorem.html#6872" class="Bound">𝑨</a> <a id="6973" href="Birkhoff.HSPTheorem.html#6197" class="Function">𝔑</a> <a id="6975" href="Birkhoff.HSPTheorem.html#6892" class="Function">f</a>
  <a id="6979" href="Birkhoff.HSPTheorem.html#6934" class="Function">ϕ</a> <a id="6981" class="Symbol">=</a> <a id="6983" href="Terms.Basic.html#4577" class="Function">lift-hom</a> <a id="6992" href="Birkhoff.HSPTheorem.html#6872" class="Bound">𝑨</a> <a id="6994" href="Birkhoff.HSPTheorem.html#6877" class="Bound">h</a>

  <a id="6999" href="Birkhoff.HSPTheorem.html#6999" class="Function">f𝔑≡ϕ</a> <a id="7004" class="Symbol">:</a> <a id="7006" class="Symbol">(</a><a id="7007" href="Birkhoff.HSPTheorem.html#7007" class="Bound">x</a> <a id="7009" class="Symbol">:</a> <a id="7011" href="Birkhoff.HSPTheorem.html#2586" class="Bound">X</a><a id="7012" class="Symbol">)</a> <a id="7014" class="Symbol">→</a> <a id="7016" class="Symbol">(</a><a id="7017" href="Prelude.Preliminaries.html#13569" class="Function Operator">∣</a> <a id="7019" href="Birkhoff.HSPTheorem.html#6892" class="Function">f</a> <a id="7021" href="Prelude.Preliminaries.html#13569" class="Function Operator">∣</a> <a id="7023" href="MGS-MLTT.html#3813" class="Function Operator">∘</a> <a id="7025" href="Prelude.Preliminaries.html#13569" class="Function Operator">∣</a> <a id="7027" href="Birkhoff.HSPTheorem.html#6197" class="Function">𝔑</a> <a id="7029" href="Prelude.Preliminaries.html#13569" class="Function Operator">∣</a><a id="7030" class="Symbol">)</a> <a id="7032" class="Symbol">(</a><a id="7033" href="Terms.Operations.html#753" class="InductiveConstructor">ℊ</a> <a id="7035" href="Birkhoff.HSPTheorem.html#7007" class="Bound">x</a><a id="7036" class="Symbol">)</a> <a id="7038" href="Prelude.Inverses.html#620" class="Datatype Operator">≡</a> <a id="7040" href="Prelude.Preliminaries.html#13569" class="Function Operator">∣</a> <a id="7042" href="Birkhoff.HSPTheorem.html#6934" class="Function">ϕ</a> <a id="7044" href="Prelude.Preliminaries.html#13569" class="Function Operator">∣</a> <a id="7046" class="Symbol">(</a><a id="7047" href="Terms.Operations.html#753" class="InductiveConstructor">ℊ</a> <a id="7049" href="Birkhoff.HSPTheorem.html#7007" class="Bound">x</a><a id="7050" class="Symbol">)</a>
  <a id="7054" href="Birkhoff.HSPTheorem.html#6999" class="Function">f𝔑≡ϕ</a> <a id="7059" href="Birkhoff.HSPTheorem.html#7059" class="Bound">x</a> <a id="7061" class="Symbol">=</a> <a id="7063" href="Prelude.Inverses.html#634" class="InductiveConstructor">𝓇ℯ𝒻𝓁</a>
  <a id="7070" href="Birkhoff.HSPTheorem.html#7070" class="Function">h≡ϕ</a> <a id="7074" class="Symbol">:</a> <a id="7076" class="Symbol">∀</a> <a id="7078" href="Birkhoff.HSPTheorem.html#7078" class="Bound">t</a> <a id="7080" class="Symbol">→</a> <a id="7082" class="Symbol">(</a><a id="7083" href="Prelude.Preliminaries.html#13569" class="Function Operator">∣</a> <a id="7085" href="Birkhoff.HSPTheorem.html#6892" class="Function">f</a> <a id="7087" href="Prelude.Preliminaries.html#13569" class="Function Operator">∣</a> <a id="7089" href="MGS-MLTT.html#3813" class="Function Operator">∘</a> <a id="7091" href="Prelude.Preliminaries.html#13569" class="Function Operator">∣</a> <a id="7093" href="Birkhoff.HSPTheorem.html#6197" class="Function">𝔑</a> <a id="7095" href="Prelude.Preliminaries.html#13569" class="Function Operator">∣</a><a id="7096" class="Symbol">)</a> <a id="7098" href="Birkhoff.HSPTheorem.html#7078" class="Bound">t</a> <a id="7100" href="Prelude.Inverses.html#620" class="Datatype Operator">≡</a> <a id="7102" href="Prelude.Preliminaries.html#13569" class="Function Operator">∣</a> <a id="7104" href="Birkhoff.HSPTheorem.html#6934" class="Function">ϕ</a> <a id="7106" href="Prelude.Preliminaries.html#13569" class="Function Operator">∣</a> <a id="7108" href="Birkhoff.HSPTheorem.html#7078" class="Bound">t</a>
  <a id="7112" href="Birkhoff.HSPTheorem.html#7070" class="Function">h≡ϕ</a> <a id="7116" href="Birkhoff.HSPTheorem.html#7116" class="Bound">t</a> <a id="7118" class="Symbol">=</a> <a id="7120" href="Terms.Basic.html#4782" class="Function">free-unique</a> <a id="7132" href="Birkhoff.HSPTheorem.html#2488" class="Bound">gfe</a> <a id="7136" href="Birkhoff.HSPTheorem.html#6872" class="Bound">𝑨</a> <a id="7138" href="Birkhoff.HSPTheorem.html#6931" class="Function">h&#39;</a> <a id="7141" href="Birkhoff.HSPTheorem.html#6934" class="Function">ϕ</a> <a id="7143" href="Birkhoff.HSPTheorem.html#6999" class="Function">f𝔑≡ϕ</a> <a id="7148" href="Birkhoff.HSPTheorem.html#7116" class="Bound">t</a>

  <a id="7153" href="Birkhoff.HSPTheorem.html#7153" class="Function">γ</a> <a id="7155" class="Symbol">:</a> <a id="7157" href="Prelude.Preliminaries.html#13569" class="Function Operator">∣</a> <a id="7159" href="Birkhoff.HSPTheorem.html#6934" class="Function">ϕ</a> <a id="7161" href="Prelude.Preliminaries.html#13569" class="Function Operator">∣</a> <a id="7163" href="Birkhoff.HSPTheorem.html#6861" class="Bound">p</a> <a id="7165" href="Prelude.Inverses.html#620" class="Datatype Operator">≡</a> <a id="7167" href="Prelude.Preliminaries.html#13569" class="Function Operator">∣</a> <a id="7169" href="Birkhoff.HSPTheorem.html#6934" class="Function">ϕ</a> <a id="7171" href="Prelude.Preliminaries.html#13569" class="Function Operator">∣</a> <a id="7173" href="Birkhoff.HSPTheorem.html#6865" class="Bound">q</a>
  <a id="7177" href="Birkhoff.HSPTheorem.html#7153" class="Function">γ</a> <a id="7179" class="Symbol">=</a> <a id="7181" href="Prelude.Preliminaries.html#13569" class="Function Operator">∣</a> <a id="7183" href="Birkhoff.HSPTheorem.html#6934" class="Function">ϕ</a> <a id="7185" href="Prelude.Preliminaries.html#13569" class="Function Operator">∣</a> <a id="7187" href="Birkhoff.HSPTheorem.html#6861" class="Bound">p</a>         <a id="7197" href="MGS-MLTT.html#5997" class="Function Operator">≡⟨</a> <a id="7200" class="Symbol">(</a><a id="7201" href="Birkhoff.HSPTheorem.html#7070" class="Function">h≡ϕ</a> <a id="7205" href="Birkhoff.HSPTheorem.html#6861" class="Bound">p</a><a id="7206" class="Symbol">)</a><a id="7207" href="MGS-MLTT.html#6125" class="Function Operator">⁻¹</a> <a id="7210" href="MGS-MLTT.html#5997" class="Function Operator">⟩</a>
      <a id="7218" href="Prelude.Preliminaries.html#13569" class="Function Operator">∣</a> <a id="7220" href="Birkhoff.HSPTheorem.html#6892" class="Function">f</a> <a id="7222" href="Prelude.Preliminaries.html#13569" class="Function Operator">∣</a> <a id="7224" class="Symbol">(</a> <a id="7226" href="Prelude.Preliminaries.html#13569" class="Function Operator">∣</a> <a id="7228" href="Birkhoff.HSPTheorem.html#6197" class="Function">𝔑</a> <a id="7230" href="Prelude.Preliminaries.html#13569" class="Function Operator">∣</a> <a id="7232" href="Birkhoff.HSPTheorem.html#6861" class="Bound">p</a> <a id="7234" class="Symbol">)</a> <a id="7236" href="MGS-MLTT.html#5997" class="Function Operator">≡⟨</a> <a id="7239" href="MGS-MLTT.html#6613" class="Function">ap</a> <a id="7242" href="Prelude.Preliminaries.html#13569" class="Function Operator">∣</a> <a id="7244" href="Birkhoff.HSPTheorem.html#6892" class="Function">f</a> <a id="7246" href="Prelude.Preliminaries.html#13569" class="Function Operator">∣</a> <a id="7248" href="Birkhoff.HSPTheorem.html#6868" class="Bound">𝔑pq</a> <a id="7252" href="MGS-MLTT.html#5997" class="Function Operator">⟩</a>
      <a id="7260" href="Prelude.Preliminaries.html#13569" class="Function Operator">∣</a> <a id="7262" href="Birkhoff.HSPTheorem.html#6892" class="Function">f</a> <a id="7264" href="Prelude.Preliminaries.html#13569" class="Function Operator">∣</a> <a id="7266" class="Symbol">(</a> <a id="7268" href="Prelude.Preliminaries.html#13569" class="Function Operator">∣</a> <a id="7270" href="Birkhoff.HSPTheorem.html#6197" class="Function">𝔑</a> <a id="7272" href="Prelude.Preliminaries.html#13569" class="Function Operator">∣</a> <a id="7274" href="Birkhoff.HSPTheorem.html#6865" class="Bound">q</a> <a id="7276" class="Symbol">)</a> <a id="7278" href="MGS-MLTT.html#5997" class="Function Operator">≡⟨</a> <a id="7281" href="Birkhoff.HSPTheorem.html#7070" class="Function">h≡ϕ</a> <a id="7285" href="Birkhoff.HSPTheorem.html#6865" class="Bound">q</a> <a id="7287" href="MGS-MLTT.html#5997" class="Function Operator">⟩</a>
      <a id="7295" href="Prelude.Preliminaries.html#13569" class="Function Operator">∣</a> <a id="7297" href="Birkhoff.HSPTheorem.html#6934" class="Function">ϕ</a> <a id="7299" href="Prelude.Preliminaries.html#13569" class="Function Operator">∣</a> <a id="7301" href="Birkhoff.HSPTheorem.html#6865" class="Bound">q</a> <a id="7303" href="MGS-MLTT.html#6079" class="Function Operator">∎</a>


<a id="ψlemma2"></a><a id="7307" href="Birkhoff.HSPTheorem.html#7307" class="Function">ψlemma2</a> <a id="7315" class="Symbol">:</a> <a id="7317" href="Relations.Small.html#6728" class="Function">KER-pred</a> <a id="7326" href="Prelude.Preliminaries.html#13569" class="Function Operator">∣</a> <a id="7328" href="Birkhoff.HSPTheorem.html#4740" class="Function">hom𝔽</a> <a id="7333" href="Prelude.Preliminaries.html#13569" class="Function Operator">∣</a> <a id="7335" href="Relations.Small.html#2591" class="Function Operator">⊆</a> <a id="7337" href="Birkhoff.FreeAlgebra.html#4389" class="Function">ψ</a> <a id="7339" href="Birkhoff.HSPTheorem.html#2597" class="Bound">𝒦</a>
<a id="7341" href="Birkhoff.HSPTheorem.html#7307" class="Function">ψlemma2</a> <a id="7349" class="Symbol">{</a><a id="7350" href="Birkhoff.HSPTheorem.html#7350" class="Bound">p</a> <a id="7352" href="Prelude.Preliminaries.html#14564" class="InductiveConstructor Operator">,</a> <a id="7354" href="Birkhoff.HSPTheorem.html#7354" class="Bound">q</a><a id="7355" class="Symbol">}</a> <a id="7357" href="Birkhoff.HSPTheorem.html#7357" class="Bound">hyp</a> <a id="7361" class="Symbol">=</a> <a id="7363" href="Birkhoff.HSPTheorem.html#6821" class="Function">ψlemma1</a> <a id="7371" class="Symbol">{</a><a id="7372" href="Birkhoff.HSPTheorem.html#7350" class="Bound">p</a> <a id="7374" href="Prelude.Preliminaries.html#14564" class="InductiveConstructor Operator">,</a> <a id="7376" href="Birkhoff.HSPTheorem.html#7354" class="Bound">q</a><a id="7377" class="Symbol">}</a> <a id="7379" href="Birkhoff.HSPTheorem.html#7392" class="Function">γ</a>
  <a id="7383" class="Keyword">where</a>
   <a id="7392" href="Birkhoff.HSPTheorem.html#7392" class="Function">γ</a> <a id="7394" class="Symbol">:</a> <a id="7396" class="Symbol">(</a><a id="7397" href="Terms.Basic.html#4326" class="Function">free-lift</a> <a id="7407" href="Birkhoff.HSPTheorem.html#4656" class="Function">𝔽</a> <a id="7409" href="Birkhoff.HSPTheorem.html#6164" class="Function">X↪𝔽</a><a id="7412" class="Symbol">)</a> <a id="7414" href="Birkhoff.HSPTheorem.html#7350" class="Bound">p</a> <a id="7416" href="Prelude.Inverses.html#620" class="Datatype Operator">≡</a> <a id="7418" class="Symbol">(</a><a id="7419" href="Terms.Basic.html#4326" class="Function">free-lift</a> <a id="7429" href="Birkhoff.HSPTheorem.html#4656" class="Function">𝔽</a> <a id="7431" href="Birkhoff.HSPTheorem.html#6164" class="Function">X↪𝔽</a><a id="7434" class="Symbol">)</a> <a id="7436" href="Birkhoff.HSPTheorem.html#7354" class="Bound">q</a>
   <a id="7441" href="Birkhoff.HSPTheorem.html#7392" class="Function">γ</a> <a id="7443" class="Symbol">=</a> <a id="7445" class="Symbol">(</a><a id="7446" href="Birkhoff.HSPTheorem.html#6331" class="Function">hom𝔽-is-lift-hom</a> <a id="7463" href="Birkhoff.HSPTheorem.html#7350" class="Bound">p</a><a id="7464" class="Symbol">)</a> <a id="7466" href="MGS-MLTT.html#5910" class="Function Operator">∙</a> <a id="7468" href="Birkhoff.HSPTheorem.html#7357" class="Bound">hyp</a> <a id="7472" href="MGS-MLTT.html#5910" class="Function Operator">∙</a> <a id="7474" class="Symbol">(</a><a id="7475" href="Birkhoff.HSPTheorem.html#6331" class="Function">hom𝔽-is-lift-hom</a> <a id="7492" href="Birkhoff.HSPTheorem.html#7354" class="Bound">q</a><a id="7493" class="Symbol">)</a><a id="7494" href="MGS-MLTT.html#6125" class="Function Operator">⁻¹</a>


<a id="ψlemma3"></a><a id="7499" href="Birkhoff.HSPTheorem.html#7499" class="Function">ψlemma3</a> <a id="7507" class="Symbol">:</a> <a id="7509" class="Symbol">∀</a> <a id="7511" href="Birkhoff.HSPTheorem.html#7511" class="Bound">p</a> <a id="7513" href="Birkhoff.HSPTheorem.html#7513" class="Bound">q</a> <a id="7515" class="Symbol">→</a> <a id="7517" class="Symbol">(</a><a id="7518" href="Birkhoff.HSPTheorem.html#7511" class="Bound">p</a> <a id="7520" href="Prelude.Preliminaries.html#14564" class="InductiveConstructor Operator">,</a> <a id="7522" href="Birkhoff.HSPTheorem.html#7513" class="Bound">q</a><a id="7523" class="Symbol">)</a> <a id="7525" href="Relations.Small.html#2269" class="Function Operator">∈</a> <a id="7527" href="Birkhoff.FreeAlgebra.html#4389" class="Function">ψ</a> <a id="7529" href="Birkhoff.HSPTheorem.html#2597" class="Bound">𝒦</a> <a id="7531" class="Symbol">→</a> <a id="7533" href="Birkhoff.HSPTheorem.html#2597" class="Bound">𝒦</a> <a id="7535" href="Varieties.EquationalLogic.html#2741" class="Function Operator">⊧</a> <a id="7537" href="Birkhoff.HSPTheorem.html#7511" class="Bound">p</a> <a id="7539" href="Varieties.EquationalLogic.html#2741" class="Function Operator">≋</a> <a id="7541" href="Birkhoff.HSPTheorem.html#7513" class="Bound">q</a>
<a id="7543" href="Birkhoff.HSPTheorem.html#7499" class="Function">ψlemma3</a> <a id="7551" href="Birkhoff.HSPTheorem.html#7551" class="Bound">p</a> <a id="7553" href="Birkhoff.HSPTheorem.html#7553" class="Bound">q</a> <a id="7555" href="Birkhoff.HSPTheorem.html#7555" class="Bound">pψq</a> <a id="7559" class="Symbol">{</a><a id="7560" href="Birkhoff.HSPTheorem.html#7560" class="Bound">𝑨</a><a id="7561" class="Symbol">}</a> <a id="7563" href="Birkhoff.HSPTheorem.html#7563" class="Bound">kA</a> <a id="7566" class="Symbol">=</a> <a id="7568" href="Birkhoff.HSPTheorem.html#7639" class="Function">γ</a>
 <a id="7571" class="Keyword">where</a>
  <a id="7579" href="Birkhoff.HSPTheorem.html#7579" class="Function">skA</a> <a id="7583" class="Symbol">:</a> <a id="7585" href="Birkhoff.HSPTheorem.html#7560" class="Bound">𝑨</a> <a id="7587" href="Relations.Small.html#2269" class="Function Operator">∈</a> <a id="7589" href="Varieties.Varieties.html#2939" class="Datatype">S</a> <a id="7591" href="Birkhoff.HSPTheorem.html#2597" class="Bound">𝒦</a>
  <a id="7595" href="Birkhoff.HSPTheorem.html#7579" class="Function">skA</a> <a id="7599" class="Symbol">=</a> <a id="7601" href="Varieties.Varieties.html#3291" class="InductiveConstructor">siso</a> <a id="7606" class="Symbol">(</a><a id="7607" href="Varieties.Varieties.html#3030" class="InductiveConstructor">sbase</a> <a id="7613" href="Birkhoff.HSPTheorem.html#7563" class="Bound">kA</a><a id="7615" class="Symbol">)</a> <a id="7617" class="Symbol">(</a><a id="7618" href="Homomorphisms.Isomorphisms.html#2988" class="Function">sym-≅</a> <a id="7624" href="Homomorphisms.Isomorphisms.html#4959" class="Function">lift-alg-≅</a><a id="7634" class="Symbol">)</a>

  <a id="7639" href="Birkhoff.HSPTheorem.html#7639" class="Function">γ</a> <a id="7641" class="Symbol">:</a> <a id="7643" class="Symbol">(</a><a id="7644" href="Birkhoff.HSPTheorem.html#7551" class="Bound">p</a> <a id="7646" href="Terms.Operations.html#1739" class="Function Operator">̇</a> <a id="7648" href="Birkhoff.HSPTheorem.html#7560" class="Bound">𝑨</a><a id="7649" class="Symbol">)</a> <a id="7651" href="Prelude.Inverses.html#620" class="Datatype Operator">≡</a> <a id="7653" class="Symbol">(</a><a id="7654" href="Birkhoff.HSPTheorem.html#7553" class="Bound">q</a> <a id="7656" href="Terms.Operations.html#1739" class="Function Operator">̇</a> <a id="7658" href="Birkhoff.HSPTheorem.html#7560" class="Bound">𝑨</a><a id="7659" class="Symbol">)</a>
  <a id="7663" href="Birkhoff.HSPTheorem.html#7639" class="Function">γ</a> <a id="7665" class="Symbol">=</a> <a id="7667" href="Birkhoff.HSPTheorem.html#2488" class="Bound">gfe</a> <a id="7671" class="Symbol">λ</a> <a id="7673" href="Birkhoff.HSPTheorem.html#7673" class="Bound">h</a> <a id="7675" class="Symbol">→</a> <a id="7677" class="Symbol">(</a><a id="7678" href="Birkhoff.HSPTheorem.html#7551" class="Bound">p</a> <a id="7680" href="Terms.Operations.html#1739" class="Function Operator">̇</a> <a id="7682" href="Birkhoff.HSPTheorem.html#7560" class="Bound">𝑨</a><a id="7683" class="Symbol">)</a> <a id="7685" href="Birkhoff.HSPTheorem.html#7673" class="Bound">h</a>         <a id="7695" href="MGS-MLTT.html#5997" class="Function Operator">≡⟨</a> <a id="7698" href="Terms.Operations.html#1992" class="Function">free-lift-interp</a> <a id="7715" href="Birkhoff.HSPTheorem.html#7560" class="Bound">𝑨</a> <a id="7717" href="Birkhoff.HSPTheorem.html#7673" class="Bound">h</a> <a id="7719" href="Birkhoff.HSPTheorem.html#7551" class="Bound">p</a> <a id="7721" href="MGS-MLTT.html#5997" class="Function Operator">⟩</a>
                <a id="7739" class="Symbol">(</a><a id="7740" href="Terms.Basic.html#4326" class="Function">free-lift</a> <a id="7750" href="Birkhoff.HSPTheorem.html#7560" class="Bound">𝑨</a> <a id="7752" href="Birkhoff.HSPTheorem.html#7673" class="Bound">h</a><a id="7753" class="Symbol">)</a> <a id="7755" href="Birkhoff.HSPTheorem.html#7551" class="Bound">p</a> <a id="7757" href="MGS-MLTT.html#5997" class="Function Operator">≡⟨</a> <a id="7760" href="Birkhoff.HSPTheorem.html#7555" class="Bound">pψq</a> <a id="7764" href="Birkhoff.HSPTheorem.html#7560" class="Bound">𝑨</a> <a id="7766" href="Birkhoff.HSPTheorem.html#7579" class="Function">skA</a> <a id="7770" href="Birkhoff.HSPTheorem.html#7673" class="Bound">h</a> <a id="7772" href="MGS-MLTT.html#5997" class="Function Operator">⟩</a>
                <a id="7790" class="Symbol">(</a><a id="7791" href="Terms.Basic.html#4326" class="Function">free-lift</a> <a id="7801" href="Birkhoff.HSPTheorem.html#7560" class="Bound">𝑨</a> <a id="7803" href="Birkhoff.HSPTheorem.html#7673" class="Bound">h</a><a id="7804" class="Symbol">)</a> <a id="7806" href="Birkhoff.HSPTheorem.html#7553" class="Bound">q</a> <a id="7808" href="MGS-MLTT.html#5997" class="Function Operator">≡⟨</a> <a id="7811" class="Symbol">(</a><a id="7812" href="Terms.Operations.html#1992" class="Function">free-lift-interp</a> <a id="7829" href="Birkhoff.HSPTheorem.html#7560" class="Bound">𝑨</a> <a id="7831" href="Birkhoff.HSPTheorem.html#7673" class="Bound">h</a> <a id="7833" href="Birkhoff.HSPTheorem.html#7553" class="Bound">q</a><a id="7834" class="Symbol">)</a><a id="7835" href="MGS-MLTT.html#6125" class="Function Operator">⁻¹</a>  <a id="7839" href="MGS-MLTT.html#5997" class="Function Operator">⟩</a>
                <a id="7857" class="Symbol">(</a><a id="7858" href="Birkhoff.HSPTheorem.html#7553" class="Bound">q</a> <a id="7860" href="Terms.Operations.html#1739" class="Function Operator">̇</a> <a id="7862" href="Birkhoff.HSPTheorem.html#7560" class="Bound">𝑨</a><a id="7863" class="Symbol">)</a> <a id="7865" href="Birkhoff.HSPTheorem.html#7673" class="Bound">h</a>         <a id="7875" href="MGS-MLTT.html#6079" class="Function Operator">∎</a>


</pre>

With these results in hand, it is now trivial to prove the main theorem of this subsection.

<pre class="Agda">

<a id="class-models-kernel"></a><a id="7998" href="Birkhoff.HSPTheorem.html#7998" class="Function">class-models-kernel</a> <a id="8018" class="Symbol">:</a> <a id="8020" class="Symbol">∀</a> <a id="8022" href="Birkhoff.HSPTheorem.html#8022" class="Bound">p</a> <a id="8024" href="Birkhoff.HSPTheorem.html#8024" class="Bound">q</a> <a id="8026" class="Symbol">→</a> <a id="8028" class="Symbol">(</a><a id="8029" href="Birkhoff.HSPTheorem.html#8022" class="Bound">p</a> <a id="8031" href="Prelude.Preliminaries.html#14564" class="InductiveConstructor Operator">,</a> <a id="8033" href="Birkhoff.HSPTheorem.html#8024" class="Bound">q</a><a id="8034" class="Symbol">)</a> <a id="8036" href="Relations.Small.html#2269" class="Function Operator">∈</a> <a id="8038" href="Relations.Small.html#6728" class="Function">KER-pred</a> <a id="8047" href="Prelude.Preliminaries.html#13569" class="Function Operator">∣</a> <a id="8049" href="Birkhoff.HSPTheorem.html#4740" class="Function">hom𝔽</a> <a id="8054" href="Prelude.Preliminaries.html#13569" class="Function Operator">∣</a> <a id="8056" class="Symbol">→</a> <a id="8058" href="Birkhoff.HSPTheorem.html#2597" class="Bound">𝒦</a> <a id="8060" href="Varieties.EquationalLogic.html#2741" class="Function Operator">⊧</a> <a id="8062" href="Birkhoff.HSPTheorem.html#8022" class="Bound">p</a> <a id="8064" href="Varieties.EquationalLogic.html#2741" class="Function Operator">≋</a> <a id="8066" href="Birkhoff.HSPTheorem.html#8024" class="Bound">q</a>
<a id="8068" href="Birkhoff.HSPTheorem.html#7998" class="Function">class-models-kernel</a>  <a id="8089" href="Birkhoff.HSPTheorem.html#8089" class="Bound">p</a> <a id="8091" href="Birkhoff.HSPTheorem.html#8091" class="Bound">q</a> <a id="8093" href="Birkhoff.HSPTheorem.html#8093" class="Bound">hyp</a> <a id="8097" class="Symbol">=</a> <a id="8099" href="Birkhoff.HSPTheorem.html#7499" class="Function">ψlemma3</a> <a id="8107" href="Birkhoff.HSPTheorem.html#8089" class="Bound">p</a> <a id="8109" href="Birkhoff.HSPTheorem.html#8091" class="Bound">q</a> <a id="8111" class="Symbol">(</a><a id="8112" href="Birkhoff.HSPTheorem.html#7307" class="Function">ψlemma2</a> <a id="8120" href="Birkhoff.HSPTheorem.html#8093" class="Bound">hyp</a><a id="8123" class="Symbol">)</a>

</pre>


#### <a id="the-homomorphic-images-of-F">The homomorphic images of 𝔽</a>

Finally we come to one of the main theorems of this module; it asserts that every algebra in `Mod X (Th 𝕍𝒦)` is a homomorphic image of 𝔽.  We prove this below as the function (or proof object) `𝔽-ModTh-epi`.  Before that, we prove two auxiliary lemmas.

<pre class="Agda">

<a id="kernel-in-theory"></a><a id="8481" href="Birkhoff.HSPTheorem.html#8481" class="Function">kernel-in-theory</a> <a id="8498" class="Symbol">:</a> <a id="8500" href="Relations.Small.html#6728" class="Function">KER-pred</a> <a id="8509" href="Prelude.Preliminaries.html#13569" class="Function Operator">∣</a> <a id="8511" href="Birkhoff.HSPTheorem.html#4740" class="Function">hom𝔽</a> <a id="8516" href="Prelude.Preliminaries.html#13569" class="Function Operator">∣</a> <a id="8518" href="Relations.Small.html#2591" class="Function Operator">⊆</a> <a id="8520" href="Varieties.EquationalLogic.html#3665" class="Function">Th</a> <a id="8523" class="Symbol">(</a><a id="8524" href="Varieties.Varieties.html#4567" class="Datatype">V</a> <a id="8526" href="Birkhoff.HSPTheorem.html#2597" class="Bound">𝒦</a><a id="8527" class="Symbol">)</a>
<a id="8529" href="Birkhoff.HSPTheorem.html#8481" class="Function">kernel-in-theory</a> <a id="8546" class="Symbol">{</a><a id="8547" href="Birkhoff.HSPTheorem.html#8547" class="Bound">p</a> <a id="8549" href="Prelude.Preliminaries.html#14564" class="InductiveConstructor Operator">,</a> <a id="8551" href="Birkhoff.HSPTheorem.html#8551" class="Bound">q</a><a id="8552" class="Symbol">}</a> <a id="8554" href="Birkhoff.HSPTheorem.html#8554" class="Bound">pKq</a> <a id="8558" class="Symbol">=</a> <a id="8560" class="Symbol">(</a><a id="8561" href="Varieties.Preservation.html#9026" class="Function">class-ids-⇒</a> <a id="8573" href="Birkhoff.HSPTheorem.html#8547" class="Bound">p</a> <a id="8575" href="Birkhoff.HSPTheorem.html#8551" class="Bound">q</a> <a id="8577" class="Symbol">(</a><a id="8578" href="Birkhoff.HSPTheorem.html#7998" class="Function">class-models-kernel</a> <a id="8598" href="Birkhoff.HSPTheorem.html#8547" class="Bound">p</a> <a id="8600" href="Birkhoff.HSPTheorem.html#8551" class="Bound">q</a> <a id="8602" href="Birkhoff.HSPTheorem.html#8554" class="Bound">pKq</a><a id="8605" class="Symbol">))</a>

<a id="8609" class="Keyword">open</a> <a id="8614" href="Algebras.Congruences.html#1106" class="Module">Congruence</a>

<a id="free-quot-subalg-ℭ"></a><a id="8626" href="Birkhoff.HSPTheorem.html#8626" class="Function">free-quot-subalg-ℭ</a> <a id="8645" class="Symbol">:</a> <a id="8647" href="Relations.Truncation.html#5556" class="Function">prop-ext</a> <a id="8656" class="Symbol">(</a><a id="8657" href="Terms.Basic.html#2383" class="Datatype">Term</a> <a id="8662" href="Birkhoff.HSPTheorem.html#2586" class="Bound">X</a><a id="8663" class="Symbol">)</a> <a id="8665" class="Symbol">(</a><a id="8666" href="Algebras.Products.html#1918" class="Function">ov</a> <a id="8669" href="Birkhoff.HSPTheorem.html#2571" class="Bound">𝓤</a><a id="8670" class="Symbol">)</a> <a id="8672" class="Symbol">→</a> <a id="8674" href="MGS-Basic-UF.html#1929" class="Function">is-set</a> <a id="8681" href="Prelude.Preliminaries.html#13569" class="Function Operator">∣</a> <a id="8683" href="Birkhoff.HSPTheorem.html#3991" class="Function">ℭ</a> <a id="8685" href="Prelude.Preliminaries.html#13569" class="Function Operator">∣</a>
 <a id="8688" class="Symbol">→</a>                   <a id="8708" class="Symbol">(∀</a> <a id="8711" href="Birkhoff.HSPTheorem.html#8711" class="Bound">p</a> <a id="8713" href="Birkhoff.HSPTheorem.html#8713" class="Bound">q</a> <a id="8715" class="Symbol">→</a> <a id="8717" href="MGS-Basic-UF.html#743" class="Function">is-subsingleton</a> <a id="8733" class="Symbol">(</a><a id="8734" href="Algebras.Congruences.html#1200" class="Field Operator">⟨</a> <a id="8736" href="Homomorphisms.Basic.html#6209" class="Function">kercon</a> <a id="8743" href="Birkhoff.HSPTheorem.html#3991" class="Function">ℭ</a> <a id="8745" href="Birkhoff.HSPTheorem.html#4180" class="Function">homℭ</a> <a id="8750" href="Algebras.Congruences.html#1200" class="Field Operator">⟩</a> <a id="8752" href="Birkhoff.HSPTheorem.html#8711" class="Bound">p</a> <a id="8754" href="Birkhoff.HSPTheorem.html#8713" class="Bound">q</a><a id="8755" class="Symbol">))</a>
 <a id="8759" class="Symbol">→</a>                   <a id="8779" class="Symbol">(∀</a> <a id="8782" href="Birkhoff.HSPTheorem.html#8782" class="Bound">C</a> <a id="8784" class="Symbol">→</a> <a id="8786" href="MGS-Basic-UF.html#743" class="Function">is-subsingleton</a> <a id="8802" class="Symbol">(</a><a id="8803" href="Relations.Quotients.html#3186" class="Function">𝒞</a><a id="8804" class="Symbol">{</a><a id="8805" class="Argument">A</a> <a id="8807" class="Symbol">=</a> <a id="8809" href="Prelude.Preliminaries.html#13569" class="Function Operator">∣</a> <a id="8811" href="Terms.Basic.html#3664" class="Function">𝑻</a> <a id="8813" href="Birkhoff.HSPTheorem.html#2586" class="Bound">X</a> <a id="8815" href="Prelude.Preliminaries.html#13569" class="Function Operator">∣</a><a id="8816" class="Symbol">}{</a><a id="8818" href="Algebras.Congruences.html#1200" class="Field Operator">⟨</a> <a id="8820" href="Homomorphisms.Basic.html#6209" class="Function">kercon</a> <a id="8827" href="Birkhoff.HSPTheorem.html#3991" class="Function">ℭ</a> <a id="8829" href="Birkhoff.HSPTheorem.html#4180" class="Function">homℭ</a> <a id="8834" href="Algebras.Congruences.html#1200" class="Field Operator">⟩</a><a id="8835" class="Symbol">}</a> <a id="8837" href="Birkhoff.HSPTheorem.html#8782" class="Bound">C</a><a id="8838" class="Symbol">))</a>
                     <a id="8862" class="Comment">-----------------------------------------------------------</a>
 <a id="8923" class="Symbol">→</a>                   <a id="8943" class="Symbol">((</a><a id="8945" href="Terms.Basic.html#3664" class="Function">𝑻</a> <a id="8947" href="Birkhoff.HSPTheorem.html#2586" class="Bound">X</a><a id="8948" class="Symbol">)</a> <a id="8950" href="Homomorphisms.Basic.html#6587" class="Function Operator">[</a> <a id="8952" href="Birkhoff.HSPTheorem.html#3991" class="Function">ℭ</a> <a id="8954" href="Homomorphisms.Basic.html#6587" class="Function Operator">]/ker</a> <a id="8960" href="Birkhoff.HSPTheorem.html#4180" class="Function">homℭ</a><a id="8964" class="Symbol">)</a> <a id="8966" href="Subalgebras.Subalgebras.html#3954" class="Function Operator">≤</a> <a id="8968" href="Birkhoff.HSPTheorem.html#3991" class="Function">ℭ</a>

<a id="8971" href="Birkhoff.HSPTheorem.html#8626" class="Function">free-quot-subalg-ℭ</a> <a id="8990" href="Birkhoff.HSPTheorem.html#8990" class="Bound">pe</a> <a id="8993" href="Birkhoff.HSPTheorem.html#8993" class="Bound">Cset</a> <a id="8998" href="Birkhoff.HSPTheorem.html#8998" class="Bound">ssR</a> <a id="9002" href="Birkhoff.HSPTheorem.html#9002" class="Bound">ssC</a> <a id="9006" class="Symbol">=</a> <a id="9008" href="Subalgebras.Subalgebras.html#2154" class="Function">FirstHomCorollary</a> <a id="9026" class="Symbol">(</a><a id="9027" href="Terms.Basic.html#3664" class="Function">𝑻</a> <a id="9029" href="Birkhoff.HSPTheorem.html#2586" class="Bound">X</a><a id="9030" class="Symbol">)</a> <a id="9032" href="Birkhoff.HSPTheorem.html#3991" class="Function">ℭ</a> <a id="9034" href="Birkhoff.HSPTheorem.html#4180" class="Function">homℭ</a> <a id="9039" href="Birkhoff.HSPTheorem.html#8990" class="Bound">pe</a> <a id="9042" href="Birkhoff.HSPTheorem.html#8993" class="Bound">Cset</a> <a id="9047" href="Birkhoff.HSPTheorem.html#8998" class="Bound">ssR</a> <a id="9051" href="Birkhoff.HSPTheorem.html#9002" class="Bound">ssC</a>


<a id="9057" class="Keyword">module</a> <a id="9064" href="Birkhoff.HSPTheorem.html#9064" class="Module">_</a> <a id="9066" class="Symbol">(</a><a id="9067" href="Birkhoff.HSPTheorem.html#9067" class="Bound">Cset</a> <a id="9072" class="Symbol">:</a> <a id="9074" href="MGS-Basic-UF.html#1929" class="Function">is-set</a> <a id="9081" href="Prelude.Preliminaries.html#13569" class="Function Operator">∣</a> <a id="9083" href="Birkhoff.HSPTheorem.html#3991" class="Function">ℭ</a> <a id="9085" href="Prelude.Preliminaries.html#13569" class="Function Operator">∣</a><a id="9086" class="Symbol">)(</a><a id="9088" href="Birkhoff.HSPTheorem.html#9088" class="Bound">pe</a> <a id="9091" class="Symbol">:</a> <a id="9093" href="Relations.Truncation.html#5556" class="Function">prop-ext</a> <a id="9102" class="Symbol">(</a><a id="9103" href="Terms.Basic.html#2383" class="Datatype">Term</a> <a id="9108" href="Birkhoff.HSPTheorem.html#2586" class="Bound">X</a><a id="9109" class="Symbol">)</a> <a id="9111" class="Symbol">(</a><a id="9112" href="Algebras.Products.html#1918" class="Function">ov</a> <a id="9115" href="Birkhoff.HSPTheorem.html#2571" class="Bound">𝓤</a><a id="9116" class="Symbol">))</a>
         <a id="9128" class="Symbol">(</a><a id="9129" href="Birkhoff.HSPTheorem.html#9129" class="Bound">ssR</a> <a id="9133" class="Symbol">:</a> <a id="9135" class="Symbol">∀</a> <a id="9137" href="Birkhoff.HSPTheorem.html#9137" class="Bound">p</a> <a id="9139" href="Birkhoff.HSPTheorem.html#9139" class="Bound">q</a> <a id="9141" class="Symbol">→</a> <a id="9143" href="MGS-Basic-UF.html#743" class="Function">is-subsingleton</a> <a id="9159" class="Symbol">(</a><a id="9160" href="Algebras.Congruences.html#1200" class="Field Operator">⟨</a> <a id="9162" href="Homomorphisms.Basic.html#6209" class="Function">kercon</a> <a id="9169" href="Birkhoff.HSPTheorem.html#3991" class="Function">ℭ</a> <a id="9171" href="Birkhoff.HSPTheorem.html#4180" class="Function">homℭ</a> <a id="9176" href="Algebras.Congruences.html#1200" class="Field Operator">⟩</a> <a id="9178" href="Birkhoff.HSPTheorem.html#9137" class="Bound">p</a> <a id="9180" href="Birkhoff.HSPTheorem.html#9139" class="Bound">q</a><a id="9181" class="Symbol">))</a>
         <a id="9193" class="Symbol">(</a><a id="9194" href="Birkhoff.HSPTheorem.html#9194" class="Bound">ssC</a> <a id="9198" class="Symbol">:</a> <a id="9200" class="Symbol">∀</a> <a id="9202" href="Birkhoff.HSPTheorem.html#9202" class="Bound">C</a> <a id="9204" class="Symbol">→</a> <a id="9206" href="MGS-Basic-UF.html#743" class="Function">is-subsingleton</a> <a id="9222" class="Symbol">(</a><a id="9223" href="Relations.Quotients.html#3186" class="Function">𝒞</a><a id="9224" class="Symbol">{</a><a id="9225" class="Argument">A</a> <a id="9227" class="Symbol">=</a> <a id="9229" href="Prelude.Preliminaries.html#13569" class="Function Operator">∣</a> <a id="9231" href="Terms.Basic.html#3664" class="Function">𝑻</a> <a id="9233" href="Birkhoff.HSPTheorem.html#2586" class="Bound">X</a> <a id="9235" href="Prelude.Preliminaries.html#13569" class="Function Operator">∣</a><a id="9236" class="Symbol">}{</a><a id="9238" href="Algebras.Congruences.html#1200" class="Field Operator">⟨</a> <a id="9240" href="Homomorphisms.Basic.html#6209" class="Function">kercon</a> <a id="9247" href="Birkhoff.HSPTheorem.html#3991" class="Function">ℭ</a> <a id="9249" href="Birkhoff.HSPTheorem.html#4180" class="Function">homℭ</a> <a id="9254" href="Algebras.Congruences.html#1200" class="Field Operator">⟩</a><a id="9255" class="Symbol">}</a> <a id="9257" href="Birkhoff.HSPTheorem.html#9202" class="Bound">C</a><a id="9258" class="Symbol">))</a> <a id="9261" class="Keyword">where</a>

 <a id="9269" href="Birkhoff.HSPTheorem.html#9269" class="Function">𝔽≤ℭ</a> <a id="9273" class="Symbol">:</a> <a id="9275" class="Symbol">((</a><a id="9277" href="Terms.Basic.html#3664" class="Function">𝑻</a> <a id="9279" href="Birkhoff.HSPTheorem.html#2586" class="Bound">X</a><a id="9280" class="Symbol">)</a> <a id="9282" href="Homomorphisms.Basic.html#6587" class="Function Operator">[</a> <a id="9284" href="Birkhoff.HSPTheorem.html#3991" class="Function">ℭ</a> <a id="9286" href="Homomorphisms.Basic.html#6587" class="Function Operator">]/ker</a> <a id="9292" href="Birkhoff.HSPTheorem.html#4180" class="Function">homℭ</a><a id="9296" class="Symbol">)</a> <a id="9298" href="Subalgebras.Subalgebras.html#3954" class="Function Operator">≤</a> <a id="9300" href="Birkhoff.HSPTheorem.html#3991" class="Function">ℭ</a>
 <a id="9303" href="Birkhoff.HSPTheorem.html#9269" class="Function">𝔽≤ℭ</a> <a id="9307" class="Symbol">=</a> <a id="9309" href="Birkhoff.HSPTheorem.html#8626" class="Function">free-quot-subalg-ℭ</a> <a id="9328" href="Birkhoff.HSPTheorem.html#9088" class="Bound">pe</a> <a id="9331" href="Birkhoff.HSPTheorem.html#9067" class="Bound">Cset</a> <a id="9336" href="Birkhoff.HSPTheorem.html#9129" class="Bound">ssR</a> <a id="9340" href="Birkhoff.HSPTheorem.html#9194" class="Bound">ssC</a>

 <a id="9346" href="Birkhoff.HSPTheorem.html#9346" class="Function">𝕍𝒦</a> <a id="9349" class="Symbol">:</a> <a id="9351" href="Relations.Unary.html#959" class="Function">Pred</a> <a id="9356" class="Symbol">(</a><a id="9357" href="Algebras.Algebras.html#694" class="Function">Algebra</a> <a id="9365" href="Birkhoff.FreeAlgebra.html#2797" class="Function">𝓸𝓿𝓾+</a> <a id="9370" href="Birkhoff.HSPTheorem.html#2469" class="Bound">𝑆</a><a id="9371" class="Symbol">)</a> <a id="9373" href="Birkhoff.FreeAlgebra.html#2802" class="Function">𝓸𝓿𝓾++</a>
 <a id="9380" href="Birkhoff.HSPTheorem.html#9346" class="Function">𝕍𝒦</a> <a id="9383" class="Symbol">=</a> <a id="9385" href="Varieties.Varieties.html#4567" class="Datatype">V</a><a id="9386" class="Symbol">{</a><a id="9387" href="Birkhoff.HSPTheorem.html#2571" class="Bound">𝓤</a><a id="9388" class="Symbol">}{</a><a id="9390" href="Birkhoff.FreeAlgebra.html#2797" class="Function">𝓸𝓿𝓾+</a><a id="9394" class="Symbol">}</a> <a id="9396" href="Birkhoff.HSPTheorem.html#2597" class="Bound">𝒦</a>

 <a id="9400" href="Birkhoff.HSPTheorem.html#9400" class="Function">𝔽-ModTh-epi</a> <a id="9412" class="Symbol">:</a> <a id="9414" class="Symbol">(</a><a id="9415" href="Birkhoff.HSPTheorem.html#9415" class="Bound">𝑨</a> <a id="9417" class="Symbol">:</a> <a id="9419" href="Algebras.Algebras.html#694" class="Function">Algebra</a> <a id="9427" href="Birkhoff.FreeAlgebra.html#2797" class="Function">𝓸𝓿𝓾+</a> <a id="9432" href="Birkhoff.HSPTheorem.html#2469" class="Bound">𝑆</a><a id="9433" class="Symbol">)</a> <a id="9435" class="Symbol">→</a> <a id="9437" href="Birkhoff.HSPTheorem.html#9415" class="Bound">𝑨</a> <a id="9439" href="Relations.Small.html#2269" class="Function Operator">∈</a> <a id="9441" href="Varieties.EquationalLogic.html#3954" class="Function">Mod</a> <a id="9445" class="Symbol">(</a><a id="9446" href="Varieties.EquationalLogic.html#3665" class="Function">Th</a> <a id="9449" href="Birkhoff.HSPTheorem.html#9346" class="Function">𝕍𝒦</a><a id="9451" class="Symbol">)</a> <a id="9453" class="Symbol">→</a> <a id="9455" href="Homomorphisms.Basic.html#3358" class="Function">epi</a> <a id="9459" href="Birkhoff.HSPTheorem.html#4656" class="Function">𝔽</a> <a id="9461" href="Birkhoff.HSPTheorem.html#9415" class="Bound">𝑨</a>
 <a id="9464" href="Birkhoff.HSPTheorem.html#9400" class="Function">𝔽-ModTh-epi</a> <a id="9476" href="Birkhoff.HSPTheorem.html#9476" class="Bound">𝑨</a> <a id="9478" href="Birkhoff.HSPTheorem.html#9478" class="Bound">AinMTV</a> <a id="9485" class="Symbol">=</a> <a id="9487" href="Birkhoff.HSPTheorem.html#10224" class="Function">γ</a>
  <a id="9491" class="Keyword">where</a>
   <a id="9500" href="Birkhoff.HSPTheorem.html#9500" class="Function">ϕ</a> <a id="9502" class="Symbol">:</a> <a id="9504" href="Homomorphisms.Basic.html#2343" class="Function">hom</a> <a id="9508" class="Symbol">(</a><a id="9509" href="Terms.Basic.html#3664" class="Function">𝑻</a> <a id="9511" href="Birkhoff.HSPTheorem.html#2586" class="Bound">X</a><a id="9512" class="Symbol">)</a> <a id="9514" href="Birkhoff.HSPTheorem.html#9476" class="Bound">𝑨</a>
   <a id="9519" href="Birkhoff.HSPTheorem.html#9500" class="Function">ϕ</a> <a id="9521" class="Symbol">=</a> <a id="9523" href="Terms.Basic.html#4577" class="Function">lift-hom</a> <a id="9532" href="Birkhoff.HSPTheorem.html#9476" class="Bound">𝑨</a> <a id="9534" class="Symbol">(</a><a id="9535" href="Prelude.Preliminaries.html#13573" class="Function">fst</a><a id="9538" class="Symbol">(</a><a id="9539" href="Birkhoff.HSPTheorem.html#2512" class="Bound">𝕏</a> <a id="9541" href="Birkhoff.HSPTheorem.html#9476" class="Bound">𝑨</a><a id="9542" class="Symbol">))</a>

   <a id="9549" href="Birkhoff.HSPTheorem.html#9549" class="Function">ϕE</a> <a id="9552" class="Symbol">:</a> <a id="9554" href="Prelude.Inverses.html#2632" class="Function">Epic</a> <a id="9559" href="Prelude.Preliminaries.html#13569" class="Function Operator">∣</a> <a id="9561" href="Birkhoff.HSPTheorem.html#9500" class="Function">ϕ</a> <a id="9563" href="Prelude.Preliminaries.html#13569" class="Function Operator">∣</a>
   <a id="9568" href="Birkhoff.HSPTheorem.html#9549" class="Function">ϕE</a> <a id="9571" class="Symbol">=</a> <a id="9573" href="Terms.Basic.html#5788" class="Function">lift-of-epi-is-epi</a> <a id="9592" class="Symbol">(</a><a id="9593" href="Prelude.Preliminaries.html#13651" class="Function">snd</a> <a id="9597" class="Symbol">(</a><a id="9598" href="Birkhoff.HSPTheorem.html#2512" class="Bound">𝕏</a> <a id="9600" href="Birkhoff.HSPTheorem.html#9476" class="Bound">𝑨</a><a id="9601" class="Symbol">))</a>

   <a id="9608" href="Birkhoff.HSPTheorem.html#9608" class="Function">pqlem2</a> <a id="9615" class="Symbol">:</a> <a id="9617" class="Symbol">∀</a> <a id="9619" href="Birkhoff.HSPTheorem.html#9619" class="Bound">p</a> <a id="9621" href="Birkhoff.HSPTheorem.html#9621" class="Bound">q</a> <a id="9623" class="Symbol">→</a> <a id="9625" class="Symbol">(</a><a id="9626" href="Birkhoff.HSPTheorem.html#9619" class="Bound">p</a> <a id="9628" href="Prelude.Preliminaries.html#14564" class="InductiveConstructor Operator">,</a> <a id="9630" href="Birkhoff.HSPTheorem.html#9621" class="Bound">q</a><a id="9631" class="Symbol">)</a> <a id="9633" href="Relations.Small.html#2269" class="Function Operator">∈</a> <a id="9635" href="Relations.Small.html#6728" class="Function">KER-pred</a> <a id="9644" href="Prelude.Preliminaries.html#13569" class="Function Operator">∣</a> <a id="9646" href="Birkhoff.HSPTheorem.html#4740" class="Function">hom𝔽</a> <a id="9651" href="Prelude.Preliminaries.html#13569" class="Function Operator">∣</a> <a id="9653" class="Symbol">→</a> <a id="9655" href="Birkhoff.HSPTheorem.html#9476" class="Bound">𝑨</a> <a id="9657" href="Varieties.EquationalLogic.html#2658" class="Function Operator">⊧</a> <a id="9659" href="Birkhoff.HSPTheorem.html#9619" class="Bound">p</a> <a id="9661" href="Varieties.EquationalLogic.html#2658" class="Function Operator">≈</a> <a id="9663" href="Birkhoff.HSPTheorem.html#9621" class="Bound">q</a>
   <a id="9668" href="Birkhoff.HSPTheorem.html#9608" class="Function">pqlem2</a> <a id="9675" href="Birkhoff.HSPTheorem.html#9675" class="Bound">p</a> <a id="9677" href="Birkhoff.HSPTheorem.html#9677" class="Bound">q</a> <a id="9679" href="Birkhoff.HSPTheorem.html#9679" class="Bound">hyp</a> <a id="9683" class="Symbol">=</a> <a id="9685" href="Birkhoff.HSPTheorem.html#9478" class="Bound">AinMTV</a> <a id="9692" href="Birkhoff.HSPTheorem.html#9675" class="Bound">p</a> <a id="9694" href="Birkhoff.HSPTheorem.html#9677" class="Bound">q</a> <a id="9696" class="Symbol">(</a><a id="9697" href="Birkhoff.HSPTheorem.html#8481" class="Function">kernel-in-theory</a> <a id="9714" href="Birkhoff.HSPTheorem.html#9679" class="Bound">hyp</a><a id="9717" class="Symbol">)</a>

   <a id="9723" href="Birkhoff.HSPTheorem.html#9723" class="Function">kerincl</a> <a id="9731" class="Symbol">:</a> <a id="9733" href="Relations.Small.html#6728" class="Function">KER-pred</a> <a id="9742" href="Prelude.Preliminaries.html#13569" class="Function Operator">∣</a> <a id="9744" href="Birkhoff.HSPTheorem.html#4740" class="Function">hom𝔽</a> <a id="9749" href="Prelude.Preliminaries.html#13569" class="Function Operator">∣</a> <a id="9751" href="Relations.Small.html#2591" class="Function Operator">⊆</a> <a id="9753" href="Relations.Small.html#6728" class="Function">KER-pred</a> <a id="9762" href="Prelude.Preliminaries.html#13569" class="Function Operator">∣</a> <a id="9764" href="Birkhoff.HSPTheorem.html#9500" class="Function">ϕ</a> <a id="9766" href="Prelude.Preliminaries.html#13569" class="Function Operator">∣</a>
   <a id="9771" href="Birkhoff.HSPTheorem.html#9723" class="Function">kerincl</a> <a id="9779" class="Symbol">{</a><a id="9780" href="Birkhoff.HSPTheorem.html#9780" class="Bound">p</a> <a id="9782" href="Prelude.Preliminaries.html#14564" class="InductiveConstructor Operator">,</a> <a id="9784" href="Birkhoff.HSPTheorem.html#9784" class="Bound">q</a><a id="9785" class="Symbol">}</a> <a id="9787" href="Birkhoff.HSPTheorem.html#9787" class="Bound">x</a> <a id="9789" class="Symbol">=</a> <a id="9791" href="Birkhoff.HSPTheorem.html#9853" class="Function">γ</a>
    <a id="9797" class="Keyword">where</a>
     <a id="9808" href="Birkhoff.HSPTheorem.html#9808" class="Function">Apq</a> <a id="9812" class="Symbol">:</a> <a id="9814" href="Birkhoff.HSPTheorem.html#9476" class="Bound">𝑨</a> <a id="9816" href="Varieties.EquationalLogic.html#2658" class="Function Operator">⊧</a> <a id="9818" href="Birkhoff.HSPTheorem.html#9780" class="Bound">p</a> <a id="9820" href="Varieties.EquationalLogic.html#2658" class="Function Operator">≈</a> <a id="9822" href="Birkhoff.HSPTheorem.html#9784" class="Bound">q</a>
     <a id="9829" href="Birkhoff.HSPTheorem.html#9808" class="Function">Apq</a> <a id="9833" class="Symbol">=</a> <a id="9835" href="Birkhoff.HSPTheorem.html#9608" class="Function">pqlem2</a> <a id="9842" href="Birkhoff.HSPTheorem.html#9780" class="Bound">p</a> <a id="9844" href="Birkhoff.HSPTheorem.html#9784" class="Bound">q</a> <a id="9846" href="Birkhoff.HSPTheorem.html#9787" class="Bound">x</a>
     <a id="9853" href="Birkhoff.HSPTheorem.html#9853" class="Function">γ</a> <a id="9855" class="Symbol">:</a> <a id="9857" href="Prelude.Preliminaries.html#13569" class="Function Operator">∣</a> <a id="9859" href="Birkhoff.HSPTheorem.html#9500" class="Function">ϕ</a> <a id="9861" href="Prelude.Preliminaries.html#13569" class="Function Operator">∣</a> <a id="9863" href="Birkhoff.HSPTheorem.html#9780" class="Bound">p</a> <a id="9865" href="Prelude.Inverses.html#620" class="Datatype Operator">≡</a> <a id="9867" href="Prelude.Preliminaries.html#13569" class="Function Operator">∣</a> <a id="9869" href="Birkhoff.HSPTheorem.html#9500" class="Function">ϕ</a> <a id="9871" href="Prelude.Preliminaries.html#13569" class="Function Operator">∣</a> <a id="9873" href="Birkhoff.HSPTheorem.html#9784" class="Bound">q</a>
     <a id="9880" href="Birkhoff.HSPTheorem.html#9853" class="Function">γ</a> <a id="9882" class="Symbol">=</a> <a id="9884" href="Prelude.Preliminaries.html#13569" class="Function Operator">∣</a> <a id="9886" href="Birkhoff.HSPTheorem.html#9500" class="Function">ϕ</a> <a id="9888" href="Prelude.Preliminaries.html#13569" class="Function Operator">∣</a> <a id="9890" href="Birkhoff.HSPTheorem.html#9780" class="Bound">p</a>                    <a id="9911" href="MGS-MLTT.html#5997" class="Function Operator">≡⟨</a> <a id="9914" href="Prelude.Inverses.html#634" class="InductiveConstructor">𝓇ℯ𝒻𝓁</a> <a id="9919" href="MGS-MLTT.html#5997" class="Function Operator">⟩</a>
         <a id="9930" href="Terms.Basic.html#4326" class="Function">free-lift</a> <a id="9940" href="Birkhoff.HSPTheorem.html#9476" class="Bound">𝑨</a> <a id="9942" class="Symbol">(</a><a id="9943" href="Prelude.Preliminaries.html#13573" class="Function">fst</a><a id="9946" class="Symbol">(</a><a id="9947" href="Birkhoff.HSPTheorem.html#2512" class="Bound">𝕏</a> <a id="9949" href="Birkhoff.HSPTheorem.html#9476" class="Bound">𝑨</a><a id="9950" class="Symbol">))</a> <a id="9953" href="Birkhoff.HSPTheorem.html#9780" class="Bound">p</a> <a id="9955" href="MGS-MLTT.html#5997" class="Function Operator">≡⟨</a> <a id="9958" class="Symbol">(</a><a id="9959" href="Terms.Operations.html#1992" class="Function">free-lift-interp</a> <a id="9976" href="Birkhoff.HSPTheorem.html#9476" class="Bound">𝑨</a> <a id="9978" class="Symbol">(</a><a id="9979" href="Prelude.Preliminaries.html#13573" class="Function">fst</a><a id="9982" class="Symbol">(</a><a id="9983" href="Birkhoff.HSPTheorem.html#2512" class="Bound">𝕏</a> <a id="9985" href="Birkhoff.HSPTheorem.html#9476" class="Bound">𝑨</a><a id="9986" class="Symbol">))</a> <a id="9989" href="Birkhoff.HSPTheorem.html#9780" class="Bound">p</a><a id="9990" class="Symbol">)</a><a id="9991" href="MGS-MLTT.html#6125" class="Function Operator">⁻¹</a> <a id="9994" href="MGS-MLTT.html#5997" class="Function Operator">⟩</a>
         <a id="10005" class="Symbol">(</a><a id="10006" href="Birkhoff.HSPTheorem.html#9780" class="Bound">p</a> <a id="10008" href="Terms.Operations.html#1739" class="Function Operator">̇</a> <a id="10010" href="Birkhoff.HSPTheorem.html#9476" class="Bound">𝑨</a><a id="10011" class="Symbol">)</a> <a id="10013" class="Symbol">(</a><a id="10014" href="Prelude.Preliminaries.html#13573" class="Function">fst</a><a id="10017" class="Symbol">(</a><a id="10018" href="Birkhoff.HSPTheorem.html#2512" class="Bound">𝕏</a> <a id="10020" href="Birkhoff.HSPTheorem.html#9476" class="Bound">𝑨</a><a id="10021" class="Symbol">))</a>       <a id="10030" href="MGS-MLTT.html#5997" class="Function Operator">≡⟨</a> <a id="10033" href="Prelude.Extensionality.html#5763" class="Function">extfun</a> <a id="10040" class="Symbol">(</a><a id="10041" href="Birkhoff.HSPTheorem.html#9608" class="Function">pqlem2</a> <a id="10048" href="Birkhoff.HSPTheorem.html#9780" class="Bound">p</a> <a id="10050" href="Birkhoff.HSPTheorem.html#9784" class="Bound">q</a> <a id="10052" href="Birkhoff.HSPTheorem.html#9787" class="Bound">x</a><a id="10053" class="Symbol">)</a> <a id="10055" class="Symbol">(</a><a id="10056" href="Prelude.Preliminaries.html#13573" class="Function">fst</a><a id="10059" class="Symbol">(</a><a id="10060" href="Birkhoff.HSPTheorem.html#2512" class="Bound">𝕏</a> <a id="10062" href="Birkhoff.HSPTheorem.html#9476" class="Bound">𝑨</a><a id="10063" class="Symbol">))</a>  <a id="10067" href="MGS-MLTT.html#5997" class="Function Operator">⟩</a>
         <a id="10078" class="Symbol">(</a><a id="10079" href="Birkhoff.HSPTheorem.html#9784" class="Bound">q</a> <a id="10081" href="Terms.Operations.html#1739" class="Function Operator">̇</a> <a id="10083" href="Birkhoff.HSPTheorem.html#9476" class="Bound">𝑨</a><a id="10084" class="Symbol">)</a> <a id="10086" class="Symbol">(</a><a id="10087" href="Prelude.Preliminaries.html#13573" class="Function">fst</a><a id="10090" class="Symbol">(</a><a id="10091" href="Birkhoff.HSPTheorem.html#2512" class="Bound">𝕏</a> <a id="10093" href="Birkhoff.HSPTheorem.html#9476" class="Bound">𝑨</a><a id="10094" class="Symbol">))</a>       <a id="10103" href="MGS-MLTT.html#5997" class="Function Operator">≡⟨</a> <a id="10106" href="Terms.Operations.html#1992" class="Function">free-lift-interp</a> <a id="10123" href="Birkhoff.HSPTheorem.html#9476" class="Bound">𝑨</a> <a id="10125" class="Symbol">(</a><a id="10126" href="Prelude.Preliminaries.html#13573" class="Function">fst</a><a id="10129" class="Symbol">(</a><a id="10130" href="Birkhoff.HSPTheorem.html#2512" class="Bound">𝕏</a> <a id="10132" href="Birkhoff.HSPTheorem.html#9476" class="Bound">𝑨</a><a id="10133" class="Symbol">))</a> <a id="10136" href="Birkhoff.HSPTheorem.html#9784" class="Bound">q</a> <a id="10138" href="MGS-MLTT.html#5997" class="Function Operator">⟩</a>
         <a id="10149" href="Terms.Basic.html#4326" class="Function">free-lift</a> <a id="10159" href="Birkhoff.HSPTheorem.html#9476" class="Bound">𝑨</a> <a id="10161" class="Symbol">(</a><a id="10162" href="Prelude.Preliminaries.html#13573" class="Function">fst</a><a id="10165" class="Symbol">(</a><a id="10166" href="Birkhoff.HSPTheorem.html#2512" class="Bound">𝕏</a> <a id="10168" href="Birkhoff.HSPTheorem.html#9476" class="Bound">𝑨</a><a id="10169" class="Symbol">))</a> <a id="10172" href="Birkhoff.HSPTheorem.html#9784" class="Bound">q</a> <a id="10174" href="MGS-MLTT.html#5997" class="Function Operator">≡⟨</a> <a id="10177" href="Prelude.Inverses.html#634" class="InductiveConstructor">𝓇ℯ𝒻𝓁</a> <a id="10182" href="MGS-MLTT.html#5997" class="Function Operator">⟩</a>
         <a id="10193" href="Prelude.Preliminaries.html#13569" class="Function Operator">∣</a> <a id="10195" href="Birkhoff.HSPTheorem.html#9500" class="Function">ϕ</a> <a id="10197" href="Prelude.Preliminaries.html#13569" class="Function Operator">∣</a> <a id="10199" href="Birkhoff.HSPTheorem.html#9784" class="Bound">q</a>                  <a id="10218" href="MGS-MLTT.html#6079" class="Function Operator">∎</a>

   <a id="10224" href="Birkhoff.HSPTheorem.html#10224" class="Function">γ</a> <a id="10226" class="Symbol">:</a> <a id="10228" href="Homomorphisms.Basic.html#3358" class="Function">epi</a> <a id="10232" href="Birkhoff.HSPTheorem.html#4656" class="Function">𝔽</a> <a id="10234" href="Birkhoff.HSPTheorem.html#9476" class="Bound">𝑨</a>
   <a id="10239" href="Birkhoff.HSPTheorem.html#10224" class="Function">γ</a> <a id="10241" class="Symbol">=</a> <a id="10243" href="Prelude.Preliminaries.html#13573" class="Function">fst</a> <a id="10247" class="Symbol">(</a><a id="10248" href="Homomorphisms.Noether.html#9665" class="Function">HomFactorEpi</a> <a id="10261" class="Symbol">(</a><a id="10262" href="Terms.Basic.html#3664" class="Function">𝑻</a> <a id="10264" href="Birkhoff.HSPTheorem.html#2586" class="Bound">X</a><a id="10265" class="Symbol">){</a><a id="10267" href="Birkhoff.HSPTheorem.html#9476" class="Bound">𝑨</a><a id="10268" class="Symbol">}{</a><a id="10270" href="Birkhoff.HSPTheorem.html#4656" class="Function">𝔽</a><a id="10271" class="Symbol">}</a> <a id="10273" href="Birkhoff.HSPTheorem.html#9500" class="Function">ϕ</a> <a id="10275" href="Birkhoff.HSPTheorem.html#9549" class="Function">ϕE</a> <a id="10278" href="Birkhoff.HSPTheorem.html#4740" class="Function">hom𝔽</a> <a id="10283" href="Birkhoff.HSPTheorem.html#4785" class="Function">hom𝔽-is-epic</a>  <a id="10297" href="Birkhoff.HSPTheorem.html#9723" class="Function">kerincl</a><a id="10304" class="Symbol">)</a>


</pre>

#### <a id="F-in-VK">𝔽 ∈ V(𝒦)</a>

With this result in hand, along with what we proved earlier---namely, PS(𝒦) ⊆ SP(𝒦) ⊆ HSP(𝒦) ≡ V 𝒦---it is not hard to show that 𝔽 belongs to V 𝒦.

<pre class="Agda">

 <a id="10518" href="Birkhoff.HSPTheorem.html#10518" class="Function">𝔽∈SP</a> <a id="10523" class="Symbol">:</a> <a id="10525" href="Birkhoff.HSPTheorem.html#4656" class="Function">𝔽</a> <a id="10527" href="Relations.Small.html#2269" class="Function Operator">∈</a> <a id="10529" class="Symbol">(</a><a id="10530" href="Varieties.Varieties.html#2939" class="Datatype">S</a><a id="10531" class="Symbol">{</a><a id="10532" href="Birkhoff.FreeAlgebra.html#2793" class="Function">𝓸𝓿𝓾</a><a id="10535" class="Symbol">}{</a><a id="10537" href="Birkhoff.FreeAlgebra.html#2797" class="Function">𝓸𝓿𝓾+</a><a id="10541" class="Symbol">}</a> <a id="10543" class="Symbol">(</a><a id="10544" href="Varieties.Varieties.html#3628" class="Datatype">P</a><a id="10545" class="Symbol">{</a><a id="10546" href="Birkhoff.HSPTheorem.html#2571" class="Bound">𝓤</a><a id="10547" class="Symbol">}{</a><a id="10549" href="Birkhoff.FreeAlgebra.html#2793" class="Function">𝓸𝓿𝓾</a><a id="10552" class="Symbol">}</a> <a id="10554" href="Birkhoff.HSPTheorem.html#2597" class="Bound">𝒦</a><a id="10555" class="Symbol">))</a>
 <a id="10559" href="Birkhoff.HSPTheorem.html#10518" class="Function">𝔽∈SP</a> <a id="10564" class="Symbol">=</a> <a id="10566" href="Varieties.Varieties.html#3150" class="InductiveConstructor">ssub</a> <a id="10571" class="Symbol">(</a><a id="10572" href="Varieties.Varieties.html#20094" class="Function">class-prod-s-∈-sp</a> <a id="10590" href="Birkhoff.HSPTheorem.html#2671" class="Bound">hfe</a><a id="10593" class="Symbol">)</a> <a id="10595" href="Birkhoff.HSPTheorem.html#9269" class="Function">𝔽≤ℭ</a>

 <a id="10601" href="Birkhoff.HSPTheorem.html#10601" class="Function">𝔽∈𝕍</a> <a id="10605" class="Symbol">:</a> <a id="10607" href="Birkhoff.HSPTheorem.html#4656" class="Function">𝔽</a> <a id="10609" href="Relations.Small.html#2269" class="Function Operator">∈</a> <a id="10611" href="Varieties.Varieties.html#4567" class="Datatype">V</a> <a id="10613" href="Birkhoff.HSPTheorem.html#2597" class="Bound">𝒦</a>
 <a id="10616" href="Birkhoff.HSPTheorem.html#10601" class="Function">𝔽∈𝕍</a> <a id="10620" class="Symbol">=</a> <a id="10622" href="Varieties.Varieties.html#18364" class="Function">SP⊆V&#39;</a> <a id="10628" href="Birkhoff.HSPTheorem.html#10518" class="Function">𝔽∈SP</a>

</pre>

#### <a id="the-hsp-theorem"> The HSP Theorem</a>

Now that we have all of the necessary ingredients, it is all but trivial to combine them to prove Birkhoff's HSP theorem.

<pre class="Agda">

 <a id="10835" href="Birkhoff.HSPTheorem.html#10835" class="Function">birkhoff</a> <a id="10844" class="Symbol">:</a> <a id="10846" href="Varieties.EquationalLogic.html#3954" class="Function">Mod</a> <a id="10850" class="Symbol">(</a><a id="10851" href="Varieties.EquationalLogic.html#3665" class="Function">Th</a> <a id="10854" class="Symbol">(</a><a id="10855" href="Varieties.Varieties.html#4567" class="Datatype">V</a> <a id="10857" href="Birkhoff.HSPTheorem.html#2597" class="Bound">𝒦</a><a id="10858" class="Symbol">))</a> <a id="10861" href="Relations.Small.html#2591" class="Function Operator">⊆</a> <a id="10863" href="Varieties.Varieties.html#4567" class="Datatype">V</a> <a id="10865" href="Birkhoff.HSPTheorem.html#2597" class="Bound">𝒦</a>

 <a id="10869" href="Birkhoff.HSPTheorem.html#10835" class="Function">birkhoff</a> <a id="10878" class="Symbol">{</a><a id="10879" href="Birkhoff.HSPTheorem.html#10879" class="Bound">𝑨</a><a id="10880" class="Symbol">}</a> <a id="10882" href="Birkhoff.HSPTheorem.html#10882" class="Bound">α</a> <a id="10884" class="Symbol">=</a> <a id="10886" href="Birkhoff.HSPTheorem.html#10899" class="Function">γ</a>
  <a id="10890" class="Keyword">where</a>
   <a id="10899" href="Birkhoff.HSPTheorem.html#10899" class="Function">γ</a> <a id="10901" class="Symbol">:</a> <a id="10903" href="Birkhoff.HSPTheorem.html#10879" class="Bound">𝑨</a> <a id="10905" href="Relations.Small.html#2269" class="Function Operator">∈</a> <a id="10907" class="Symbol">(</a><a id="10908" href="Varieties.Varieties.html#4567" class="Datatype">V</a> <a id="10910" href="Birkhoff.HSPTheorem.html#2597" class="Bound">𝒦</a><a id="10911" class="Symbol">)</a>
   <a id="10916" href="Birkhoff.HSPTheorem.html#10899" class="Function">γ</a> <a id="10918" class="Symbol">=</a> <a id="10920" href="Varieties.Varieties.html#4851" class="InductiveConstructor">vhimg</a> <a id="10926" href="Birkhoff.HSPTheorem.html#10601" class="Function">𝔽∈𝕍</a> <a id="10930" class="Symbol">((</a><a id="10932" href="Birkhoff.HSPTheorem.html#10879" class="Bound">𝑨</a> <a id="10934" href="Prelude.Preliminaries.html#14564" class="InductiveConstructor Operator">,</a> <a id="10936" href="Birkhoff.HSPTheorem.html#9400" class="Function">𝔽-ModTh-epi</a> <a id="10948" href="Birkhoff.HSPTheorem.html#10879" class="Bound">𝑨</a> <a id="10950" href="Birkhoff.HSPTheorem.html#10882" class="Bound">α</a> <a id="10952" class="Symbol">)</a> <a id="10954" href="Prelude.Preliminaries.html#14564" class="InductiveConstructor Operator">,</a> <a id="10956" href="Homomorphisms.Isomorphisms.html#2897" class="Function">refl-≅</a><a id="10962" class="Symbol">)</a>

</pre>

The converse inclusion, `V 𝒦 ⊆ Mod X (Th (V 𝒦))`, is a simple consequence of the fact that `Mod Th` is a closure operator. Nonetheless, completeness demands that we formalize this inclusion as well, however trivial the proof.

<pre class="Agda">

 <a id="11219" href="Birkhoff.HSPTheorem.html#11219" class="Function">birkhoff&#39;</a> <a id="11229" class="Symbol">:</a> <a id="11231" href="Varieties.Varieties.html#4567" class="Datatype">V</a><a id="11232" class="Symbol">{</a><a id="11233" href="Birkhoff.HSPTheorem.html#2571" class="Bound">𝓤</a><a id="11234" class="Symbol">}{</a><a id="11236" href="Birkhoff.FreeAlgebra.html#2793" class="Function">𝓸𝓿𝓾</a><a id="11239" class="Symbol">}</a> <a id="11241" href="Birkhoff.HSPTheorem.html#2597" class="Bound">𝒦</a> <a id="11243" href="Relations.Small.html#2591" class="Function Operator">⊆</a> <a id="11245" href="Varieties.EquationalLogic.html#3954" class="Function">Mod</a> <a id="11249" class="Symbol">{</a><a id="11250" class="Argument">X</a> <a id="11252" class="Symbol">=</a> <a id="11254" href="Birkhoff.HSPTheorem.html#2586" class="Bound">X</a><a id="11255" class="Symbol">}(</a><a id="11257" href="Varieties.EquationalLogic.html#3665" class="Function">Th</a> <a id="11260" class="Symbol">(</a><a id="11261" href="Varieties.Varieties.html#4567" class="Datatype">V</a> <a id="11263" href="Birkhoff.HSPTheorem.html#2597" class="Bound">𝒦</a><a id="11264" class="Symbol">))</a>

 <a id="11269" href="Birkhoff.HSPTheorem.html#11219" class="Function">birkhoff&#39;</a> <a id="11279" class="Symbol">{</a><a id="11280" href="Birkhoff.HSPTheorem.html#11280" class="Bound">𝑨</a><a id="11281" class="Symbol">}</a> <a id="11283" href="Birkhoff.HSPTheorem.html#11283" class="Bound">α</a> <a id="11285" href="Birkhoff.HSPTheorem.html#11285" class="Bound">p</a> <a id="11287" href="Birkhoff.HSPTheorem.html#11287" class="Bound">q</a> <a id="11289" href="Birkhoff.HSPTheorem.html#11289" class="Bound">pThq</a> <a id="11294" class="Symbol">=</a> <a id="11296" href="Birkhoff.HSPTheorem.html#11289" class="Bound">pThq</a> <a id="11301" href="Birkhoff.HSPTheorem.html#11283" class="Bound">α</a>

</pre>

We have thus proved that every variety is an equational class.  Readers familiar with the classical formulation of the Birkhoff HSP theorem, as an "if and only if" result, might worry that we haven't completed the proof.  But recall that in the [Varieties.Preservation][] module we proved the following identity preservation lemmas:

* [(H-id1)](https://ualib.gitlab.io/UALib.Varieties.Preservation.html#964) 𝒦 ⊧ p ≋ q → H 𝒦 ⊧ p ≋ q
* [(S-id1)](https://ualib.gitlab.io/UALib.Varieties.Preservation.html#2592) 𝒦 ⊧ p ≋ q → S 𝒦 ⊧ p ≋ q
* [(P-id1)](https://ualib.gitlab.io/UALib.Varieties.Preservation.html#4111) 𝒦 ⊧ p ≋ q → P 𝒦 ⊧ p ≋ q

From these it follows that every equational class is a variety. Thus, our formal proof of Birkhoff's theorem is complete.

----------------------------

<span class="footnote" id="fn1"><sup>1</sup> In the previous version of the [UALib][] this module was called HSPLemmas and the Birkhoff HSP theorem was in a separate module, while in the current version these are in the new HSPTheorem module.</span>

<span class="footnote" id="fn2"><sup>2</sup> It might be an instructive exercise to prove that 𝔽 is, in fact, isomorphic to the free algebra 𝔉 that we defined in the [Birkhoff.FreeAlgebra][] module.</span>


[← Birkhoff.FreeAlgebra](Birkhoff.FreeAlgebra.html)
<span style="float:right;">[Birkhoff ↑](Birkhoff.html)</span>

{% include UALib.Links.md %}

