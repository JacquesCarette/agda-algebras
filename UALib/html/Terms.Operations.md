---
layout: default
title : Terms.Operations module (The Agda Universal Algebra Library)
date : 2021-01-14
author: William DeMeo
---

### <a id="term-operations">Term Operations</a>

This section presents the [Terms.Operations][] module of the [Agda Universal Algebra Library][].

Here we define *term operations* which are simply terms interpreted in a particular algebra, and we prove some compatibility properties of term operations.

<pre class="Agda">

<a id="453" class="Symbol">{-#</a> <a id="457" class="Keyword">OPTIONS</a> <a id="465" class="Pragma">--without-K</a> <a id="477" class="Pragma">--exact-split</a> <a id="491" class="Pragma">--safe</a> <a id="498" class="Symbol">#-}</a>

<a id="503" class="Keyword">open</a> <a id="508" class="Keyword">import</a> <a id="515" href="Algebras.Signatures.html" class="Module">Algebras.Signatures</a> <a id="535" class="Keyword">using</a> <a id="541" class="Symbol">(</a><a id="542" href="Algebras.Signatures.html#1299" class="Function">Signature</a><a id="551" class="Symbol">;</a> <a id="553" href="Prelude.Preliminaries.html#5595" class="Generalizable">𝓞</a><a id="554" class="Symbol">;</a> <a id="556" href="Universes.html#262" class="Generalizable">𝓥</a><a id="557" class="Symbol">)</a>
<a id="559" class="Keyword">open</a> <a id="564" class="Keyword">import</a> <a id="571" href="MGS-Subsingleton-Theorems.html" class="Module">MGS-Subsingleton-Theorems</a> <a id="597" class="Keyword">using</a> <a id="603" class="Symbol">(</a><a id="604" href="MGS-Subsingleton-Theorems.html#3468" class="Function">global-dfunext</a><a id="618" class="Symbol">)</a>

<a id="621" class="Keyword">module</a> <a id="628" href="Terms.Operations.html" class="Module">Terms.Operations</a> <a id="645" class="Symbol">{</a><a id="646" href="Terms.Operations.html#646" class="Bound">𝑆</a> <a id="648" class="Symbol">:</a> <a id="650" href="Algebras.Signatures.html#1299" class="Function">Signature</a> <a id="660" href="Prelude.Preliminaries.html#5595" class="Generalizable">𝓞</a> <a id="662" href="Universes.html#262" class="Generalizable">𝓥</a><a id="663" class="Symbol">}{</a><a id="665" href="Terms.Operations.html#665" class="Bound">gfe</a> <a id="669" class="Symbol">:</a> <a id="671" href="MGS-Subsingleton-Theorems.html#3468" class="Function">global-dfunext</a><a id="685" class="Symbol">}</a> <a id="687" class="Keyword">where</a>

<a id="694" class="Keyword">open</a> <a id="699" class="Keyword">import</a> <a id="706" href="Terms.Basic.html" class="Module">Terms.Basic</a><a id="717" class="Symbol">{</a><a id="718" class="Argument">𝑆</a> <a id="720" class="Symbol">=</a> <a id="722" href="Terms.Operations.html#646" class="Bound">𝑆</a><a id="723" class="Symbol">}{</a><a id="725" href="Terms.Operations.html#665" class="Bound">gfe</a><a id="728" class="Symbol">}</a> <a id="730" class="Keyword">renaming</a> <a id="739" class="Symbol">(</a>generator <a id="750" class="Symbol">to</a> ℊ<a id="754" class="Symbol">)</a> <a id="756" class="Keyword">public</a>

</pre>

**Notation**. In the line above, we renamed for notational convenience the `generator` constructor of the `Term` type, so from now on we use `ℊ` in place of `generator`.

When we interpret a term in an algebra we call the resulting function a **term operation**.  Given a term `𝑝` and an algebra `𝑨`, we denote by `𝑝 ̇ 𝑨` the **interpretation** of `𝑝` in `𝑨`.  This is defined inductively as follows.

1. If `𝑝` is a variable symbol `x : X` and if `𝑎 : X → ∣ 𝑨 ∣` is a tuple of elements of `∣ 𝑨 ∣`, then `(𝑝 ̇ 𝑨) 𝑎 := 𝑎 x`.

2. If `𝑝 = 𝑓 𝑡`, where `𝑓 : ∣ 𝑆 ∣` is an operation symbol, if `𝑡 : ∥ 𝑆 ∥ 𝑓 → 𝑻 X` is a tuple of terms, and if `𝑎 : X → ∣ 𝑨 ∣` is a tuple from `𝑨`, then we define `(𝑝 ̇ 𝑨) 𝑎 = (𝑓 𝑡 ̇ 𝑨) 𝑎 := (𝑓 ̂ 𝑨) (λ i → (𝑡 i ̇ 𝑨) 𝑎)`.

Thus the interpretation of a term is defined by induction on the structure of the term, and the definition is formally implemented in the [UALib][] as follows.

<pre class="Agda">

<a id="1697" class="Keyword">module</a> <a id="1704" href="Terms.Operations.html#1704" class="Module">_</a> <a id="1706" class="Symbol">{</a><a id="1707" href="Terms.Operations.html#1707" class="Bound">𝓤</a> <a id="1709" href="Terms.Operations.html#1709" class="Bound">𝓧</a> <a id="1711" class="Symbol">:</a> <a id="1713" href="Agda.Primitive.html#423" class="Function">Universe</a><a id="1721" class="Symbol">}{</a><a id="1723" href="Terms.Operations.html#1723" class="Bound">X</a> <a id="1725" class="Symbol">:</a> <a id="1727" href="Terms.Operations.html#1709" class="Bound">𝓧</a> <a id="1729" href="Universes.html#403" class="Function Operator">̇</a> <a id="1731" class="Symbol">}</a> <a id="1733" class="Keyword">where</a>

 <a id="1741" href="Terms.Operations.html#1741" class="Function Operator">_̇_</a> <a id="1745" class="Symbol">:</a> <a id="1747" href="Terms.Basic.html#2322" class="Datatype">Term</a> <a id="1752" href="Terms.Operations.html#1723" class="Bound">X</a> <a id="1754" class="Symbol">→</a> <a id="1756" class="Symbol">(</a><a id="1757" href="Terms.Operations.html#1757" class="Bound">𝑨</a> <a id="1759" class="Symbol">:</a> <a id="1761" href="Algebras.Algebras.html#694" class="Function">Algebra</a> <a id="1769" href="Terms.Operations.html#1707" class="Bound">𝓤</a> <a id="1771" href="Terms.Operations.html#646" class="Bound">𝑆</a><a id="1772" class="Symbol">)</a> <a id="1774" class="Symbol">→</a> <a id="1776" class="Symbol">(</a><a id="1777" href="Terms.Operations.html#1723" class="Bound">X</a> <a id="1779" class="Symbol">→</a> <a id="1781" href="Prelude.Preliminaries.html#13518" class="Function Operator">∣</a> <a id="1783" href="Terms.Operations.html#1757" class="Bound">𝑨</a> <a id="1785" href="Prelude.Preliminaries.html#13518" class="Function Operator">∣</a><a id="1786" class="Symbol">)</a> <a id="1788" class="Symbol">→</a> <a id="1790" href="Prelude.Preliminaries.html#13518" class="Function Operator">∣</a> <a id="1792" href="Terms.Operations.html#1757" class="Bound">𝑨</a> <a id="1794" href="Prelude.Preliminaries.html#13518" class="Function Operator">∣</a>

 <a id="1798" class="Symbol">(</a><a id="1799" href="Terms.Operations.html#753" class="InductiveConstructor">ℊ</a> <a id="1801" href="Terms.Operations.html#1801" class="Bound">x</a> <a id="1803" href="Terms.Operations.html#1741" class="Function Operator">̇</a> <a id="1805" href="Terms.Operations.html#1805" class="Bound">𝑨</a><a id="1806" class="Symbol">)</a> <a id="1808" href="Terms.Operations.html#1808" class="Bound">𝑎</a> <a id="1810" class="Symbol">=</a> <a id="1812" href="Terms.Operations.html#1808" class="Bound">𝑎</a> <a id="1814" href="Terms.Operations.html#1801" class="Bound">x</a>

 <a id="1818" class="Symbol">(</a><a id="1819" href="Terms.Basic.html#2395" class="InductiveConstructor">node</a> <a id="1824" href="Terms.Operations.html#1824" class="Bound">𝑓</a> <a id="1826" href="Terms.Operations.html#1826" class="Bound">𝑡</a> <a id="1828" href="Terms.Operations.html#1741" class="Function Operator">̇</a> <a id="1830" href="Terms.Operations.html#1830" class="Bound">𝑨</a><a id="1831" class="Symbol">)</a> <a id="1833" href="Terms.Operations.html#1833" class="Bound">𝑎</a> <a id="1835" class="Symbol">=</a> <a id="1837" class="Symbol">(</a><a id="1838" href="Terms.Operations.html#1824" class="Bound">𝑓</a> <a id="1840" href="Algebras.Algebras.html#2991" class="Function Operator">̂</a> <a id="1842" href="Terms.Operations.html#1830" class="Bound">𝑨</a><a id="1843" class="Symbol">)</a> <a id="1845" class="Symbol">λ</a> <a id="1847" href="Terms.Operations.html#1847" class="Bound">i</a> <a id="1849" class="Symbol">→</a> <a id="1851" class="Symbol">(</a><a id="1852" href="Terms.Operations.html#1826" class="Bound">𝑡</a> <a id="1854" href="Terms.Operations.html#1847" class="Bound">i</a> <a id="1856" href="Terms.Operations.html#1741" class="Function Operator">̇</a> <a id="1858" href="Terms.Operations.html#1830" class="Bound">𝑨</a><a id="1859" class="Symbol">)</a> <a id="1861" href="Terms.Operations.html#1833" class="Bound">𝑎</a>

</pre>

It turns out that the intepretation of a term is the same as the `free-lift` (modulo argument order and assuming function extensionality).

<pre class="Agda">

 <a id="2031" href="Terms.Operations.html#2031" class="Function">free-lift-interp</a> <a id="2048" class="Symbol">:</a> <a id="2050" href="MGS-FunExt-from-Univalence.html#2039" class="Function">dfunext</a> <a id="2058" href="Terms.Operations.html#662" class="Bound">𝓥</a> <a id="2060" href="Terms.Operations.html#1707" class="Bound">𝓤</a> <a id="2062" class="Symbol">→</a> <a id="2064" class="Symbol">(</a><a id="2065" href="Terms.Operations.html#2065" class="Bound">𝑨</a> <a id="2067" class="Symbol">:</a> <a id="2069" href="Algebras.Algebras.html#694" class="Function">Algebra</a> <a id="2077" href="Terms.Operations.html#1707" class="Bound">𝓤</a> <a id="2079" href="Terms.Operations.html#646" class="Bound">𝑆</a><a id="2080" class="Symbol">)(</a><a id="2082" href="Terms.Operations.html#2082" class="Bound">h</a> <a id="2084" class="Symbol">:</a> <a id="2086" href="Terms.Operations.html#1723" class="Bound">X</a> <a id="2088" class="Symbol">→</a> <a id="2090" href="Prelude.Preliminaries.html#13518" class="Function Operator">∣</a> <a id="2092" href="Terms.Operations.html#2065" class="Bound">𝑨</a> <a id="2094" href="Prelude.Preliminaries.html#13518" class="Function Operator">∣</a><a id="2095" class="Symbol">)(</a><a id="2097" href="Terms.Operations.html#2097" class="Bound">p</a> <a id="2099" class="Symbol">:</a> <a id="2101" href="Terms.Basic.html#2322" class="Datatype">Term</a> <a id="2106" href="Terms.Operations.html#1723" class="Bound">X</a><a id="2107" class="Symbol">)</a>
  <a id="2111" class="Symbol">→</a>                 <a id="2129" class="Symbol">(</a><a id="2130" href="Terms.Operations.html#2097" class="Bound">p</a> <a id="2132" href="Terms.Operations.html#1741" class="Function Operator">̇</a> <a id="2134" href="Terms.Operations.html#2065" class="Bound">𝑨</a><a id="2135" class="Symbol">)</a> <a id="2137" href="Terms.Operations.html#2082" class="Bound">h</a> <a id="2139" href="Prelude.Equality.html#1231" class="Datatype Operator">≡</a> <a id="2141" class="Symbol">(</a><a id="2142" href="Terms.Basic.html#4360" class="Function">free-lift</a> <a id="2152" href="Terms.Operations.html#2065" class="Bound">𝑨</a> <a id="2154" href="Terms.Operations.html#2082" class="Bound">h</a><a id="2155" class="Symbol">)</a> <a id="2157" href="Terms.Operations.html#2097" class="Bound">p</a>

 <a id="2161" href="Terms.Operations.html#2031" class="Function">free-lift-interp</a> <a id="2178" class="Symbol">_</a> <a id="2180" href="Terms.Operations.html#2180" class="Bound">𝑨</a> <a id="2182" href="Terms.Operations.html#2182" class="Bound">h</a> <a id="2184" class="Symbol">(</a><a id="2185" href="Terms.Operations.html#753" class="InductiveConstructor">ℊ</a> <a id="2187" href="Terms.Operations.html#2187" class="Bound">x</a><a id="2188" class="Symbol">)</a> <a id="2190" class="Symbol">=</a> <a id="2192" href="Prelude.Equality.html#1245" class="InductiveConstructor">𝓇ℯ𝒻𝓁</a>
 <a id="2198" href="Terms.Operations.html#2031" class="Function">free-lift-interp</a> <a id="2215" href="Terms.Operations.html#2215" class="Bound">fe</a> <a id="2218" href="Terms.Operations.html#2218" class="Bound">𝑨</a> <a id="2220" href="Terms.Operations.html#2220" class="Bound">h</a> <a id="2222" class="Symbol">(</a><a id="2223" href="Terms.Basic.html#2395" class="InductiveConstructor">node</a> <a id="2228" href="Terms.Operations.html#2228" class="Bound">𝑓</a> <a id="2230" href="Terms.Operations.html#2230" class="Bound">𝑡</a><a id="2231" class="Symbol">)</a> <a id="2233" class="Symbol">=</a> <a id="2235" href="MGS-MLTT.html#6613" class="Function">ap</a> <a id="2238" class="Symbol">(</a><a id="2239" href="Terms.Operations.html#2228" class="Bound">𝑓</a> <a id="2241" href="Algebras.Algebras.html#2991" class="Function Operator">̂</a> <a id="2243" href="Terms.Operations.html#2218" class="Bound">𝑨</a><a id="2244" class="Symbol">)</a> <a id="2246" class="Symbol">(</a><a id="2247" href="Terms.Operations.html#2215" class="Bound">fe</a> <a id="2250" class="Symbol">λ</a> <a id="2252" href="Terms.Operations.html#2252" class="Bound">i</a> <a id="2254" class="Symbol">→</a> <a id="2256" href="Terms.Operations.html#2031" class="Function">free-lift-interp</a> <a id="2273" href="Terms.Operations.html#2215" class="Bound">fe</a> <a id="2276" href="Terms.Operations.html#2218" class="Bound">𝑨</a> <a id="2278" href="Terms.Operations.html#2220" class="Bound">h</a> <a id="2280" class="Symbol">(</a><a id="2281" href="Terms.Operations.html#2230" class="Bound">𝑡</a> <a id="2283" href="Terms.Operations.html#2252" class="Bound">i</a><a id="2284" class="Symbol">))</a>

</pre>

What if the algebra 𝑨 happens to be `𝑻 X` itself?   Assume the map `h : X → ∣ 𝑻 X ∣` is the identity. We expect that `∀ 𝑠 → (p ̇ 𝑻 X) 𝑠  ≡  p 𝑠`. But what is `(𝑝 ̇ 𝑻 X) 𝑠` exactly?

By definition, it depends on the form of 𝑝 as follows:

* if `𝑝 = ℊ x`, then `(𝑝 ̇ 𝑻 X) 𝑠 := (ℊ x ̇ 𝑻 X) 𝑠 ≡ 𝑠 x`

* if `𝑝 = node 𝑓 𝑡`, then `(𝑝 ̇ 𝑻 X) 𝑠 := (node 𝑓 𝑡 ̇ 𝑻 X) 𝑠 = (𝑓 ̂ 𝑻 X) λ i → (𝑡 i ̇ 𝑻 X) 𝑠`

Now, assume `ϕ : hom 𝑻 𝑨`. Then by `comm-hom-term`, we have `∣ ϕ ∣ (p ̇ 𝑻 X) 𝑠 = (p ̇ 𝑨) ∣ ϕ ∣ ∘ 𝑠`.

* if `p = ℊ x` (and `𝑡 : X → ∣ 𝑻 X ∣`), then

  `∣ ϕ ∣ p ≡ ∣ ϕ ∣ (ℊ x) ≡ ∣ ϕ ∣ (λ 𝑡 → h 𝑡) ≡ λ 𝑡 → (∣ ϕ ∣ ∘ 𝑡) x`

* if `p = node 𝑓 𝑡`, then

   ∣ ϕ ∣ p ≡ ∣ ϕ ∣ (p ̇ 𝑻 X) 𝑠 = (node 𝑓 𝑡 ̇ 𝑻 X) 𝑠 = (𝑓 ̂ 𝑻 X) λ i → (𝑡 i ̇ 𝑻 X) 𝑠

We claim that for all `p : Term X` there exists `q : Term X` and `𝔱 : X → ∣ 𝑻 X ∣` such that `p ≡ (q ̇ 𝑻 X) 𝔱`. We prove this fact as follows.

<pre class="Agda">

<a id="term-interp"></a><a id="3179" href="Terms.Operations.html#3179" class="Function">term-interp</a> <a id="3191" class="Symbol">:</a> <a id="3193" class="Symbol">{</a><a id="3194" href="Terms.Operations.html#3194" class="Bound">𝓧</a> <a id="3196" class="Symbol">:</a> <a id="3198" href="Agda.Primitive.html#423" class="Function">Universe</a><a id="3206" class="Symbol">}{</a><a id="3208" href="Terms.Operations.html#3208" class="Bound">X</a> <a id="3210" class="Symbol">:</a> <a id="3212" href="Terms.Operations.html#3194" class="Bound">𝓧</a> <a id="3214" href="Universes.html#403" class="Function Operator">̇</a><a id="3215" class="Symbol">}</a> <a id="3217" class="Symbol">(</a><a id="3218" href="Terms.Operations.html#3218" class="Bound">𝑓</a> <a id="3220" class="Symbol">:</a> <a id="3222" href="Prelude.Preliminaries.html#13518" class="Function Operator">∣</a> <a id="3224" href="Terms.Operations.html#646" class="Bound">𝑆</a> <a id="3226" href="Prelude.Preliminaries.html#13518" class="Function Operator">∣</a><a id="3227" class="Symbol">){</a><a id="3229" href="Terms.Operations.html#3229" class="Bound">𝑠</a> <a id="3231" href="Terms.Operations.html#3231" class="Bound">𝑡</a> <a id="3233" class="Symbol">:</a> <a id="3235" href="Prelude.Preliminaries.html#13596" class="Function Operator">∥</a> <a id="3237" href="Terms.Operations.html#646" class="Bound">𝑆</a> <a id="3239" href="Prelude.Preliminaries.html#13596" class="Function Operator">∥</a> <a id="3241" href="Terms.Operations.html#3218" class="Bound">𝑓</a> <a id="3243" class="Symbol">→</a> <a id="3245" href="Terms.Basic.html#2322" class="Datatype">Term</a> <a id="3250" href="Terms.Operations.html#3208" class="Bound">X</a><a id="3251" class="Symbol">}</a> <a id="3253" class="Symbol">→</a> <a id="3255" href="Terms.Operations.html#3229" class="Bound">𝑠</a> <a id="3257" href="Prelude.Equality.html#1231" class="Datatype Operator">≡</a> <a id="3259" href="Terms.Operations.html#3231" class="Bound">𝑡</a> <a id="3261" class="Symbol">→</a> <a id="3263" href="Terms.Basic.html#2395" class="InductiveConstructor">node</a> <a id="3268" href="Terms.Operations.html#3218" class="Bound">𝑓</a> <a id="3270" href="Terms.Operations.html#3229" class="Bound">𝑠</a> <a id="3272" href="Prelude.Equality.html#1231" class="Datatype Operator">≡</a> <a id="3274" class="Symbol">(</a><a id="3275" href="Terms.Operations.html#3218" class="Bound">𝑓</a> <a id="3277" href="Algebras.Algebras.html#2991" class="Function Operator">̂</a> <a id="3279" href="Terms.Basic.html#3657" class="Function">𝑻</a> <a id="3281" href="Terms.Operations.html#3208" class="Bound">X</a><a id="3282" class="Symbol">)</a> <a id="3284" href="Terms.Operations.html#3231" class="Bound">𝑡</a>
<a id="3286" href="Terms.Operations.html#3179" class="Function">term-interp</a> <a id="3298" href="Terms.Operations.html#3298" class="Bound">𝑓</a> <a id="3300" class="Symbol">{</a><a id="3301" href="Terms.Operations.html#3301" class="Bound">𝑠</a><a id="3302" class="Symbol">}{</a><a id="3304" href="Terms.Operations.html#3304" class="Bound">𝑡</a><a id="3305" class="Symbol">}</a> <a id="3307" href="Terms.Operations.html#3307" class="Bound">st</a> <a id="3310" class="Symbol">=</a> <a id="3312" href="MGS-MLTT.html#6613" class="Function">ap</a> <a id="3315" class="Symbol">(</a><a id="3316" href="Terms.Basic.html#2395" class="InductiveConstructor">node</a> <a id="3321" href="Terms.Operations.html#3298" class="Bound">𝑓</a><a id="3322" class="Symbol">)</a> <a id="3324" href="Terms.Operations.html#3307" class="Bound">st</a>

<a id="3328" class="Keyword">module</a> <a id="3335" href="Terms.Operations.html#3335" class="Module">_</a> <a id="3337" class="Symbol">{</a><a id="3338" href="Terms.Operations.html#3338" class="Bound">𝓧</a> <a id="3340" class="Symbol">:</a> <a id="3342" href="Agda.Primitive.html#423" class="Function">Universe</a><a id="3350" class="Symbol">}{</a><a id="3352" href="Terms.Operations.html#3352" class="Bound">X</a> <a id="3354" class="Symbol">:</a> <a id="3356" href="Terms.Operations.html#3338" class="Bound">𝓧</a> <a id="3358" href="Universes.html#403" class="Function Operator">̇</a><a id="3359" class="Symbol">}{</a><a id="3361" href="Terms.Operations.html#3361" class="Bound">fe</a> <a id="3364" class="Symbol">:</a> <a id="3366" href="MGS-FunExt-from-Univalence.html#2039" class="Function">dfunext</a> <a id="3374" href="Terms.Operations.html#662" class="Bound">𝓥</a> <a id="3376" class="Symbol">(</a><a id="3377" href="Algebras.Products.html#1918" class="Function">ov</a> <a id="3380" href="Terms.Operations.html#3338" class="Bound">𝓧</a><a id="3381" class="Symbol">)}</a> <a id="3384" class="Keyword">where</a>

 <a id="3392" href="Terms.Operations.html#3392" class="Function">term-gen</a> <a id="3401" class="Symbol">:</a> <a id="3403" class="Symbol">(</a><a id="3404" href="Terms.Operations.html#3404" class="Bound">p</a> <a id="3406" class="Symbol">:</a> <a id="3408" href="Prelude.Preliminaries.html#13518" class="Function Operator">∣</a> <a id="3410" href="Terms.Basic.html#3657" class="Function">𝑻</a> <a id="3412" href="Terms.Operations.html#3352" class="Bound">X</a> <a id="3414" href="Prelude.Preliminaries.html#13518" class="Function Operator">∣</a><a id="3415" class="Symbol">)</a> <a id="3417" class="Symbol">→</a> <a id="3419" href="MGS-MLTT.html#3074" class="Function">Σ</a> <a id="3421" href="Terms.Operations.html#3421" class="Bound">q</a> <a id="3423" href="MGS-MLTT.html#3074" class="Function">꞉</a> <a id="3425" href="Prelude.Preliminaries.html#13518" class="Function Operator">∣</a> <a id="3427" href="Terms.Basic.html#3657" class="Function">𝑻</a> <a id="3429" href="Terms.Operations.html#3352" class="Bound">X</a> <a id="3431" href="Prelude.Preliminaries.html#13518" class="Function Operator">∣</a> <a id="3433" href="MGS-MLTT.html#3074" class="Function">,</a> <a id="3435" href="Terms.Operations.html#3404" class="Bound">p</a> <a id="3437" href="Prelude.Equality.html#1231" class="Datatype Operator">≡</a> <a id="3439" class="Symbol">(</a><a id="3440" href="Terms.Operations.html#3421" class="Bound">q</a> <a id="3442" href="Terms.Operations.html#1741" class="Function Operator">̇</a> <a id="3444" href="Terms.Basic.html#3657" class="Function">𝑻</a> <a id="3446" href="Terms.Operations.html#3352" class="Bound">X</a><a id="3447" class="Symbol">)</a> <a id="3449" href="Terms.Operations.html#753" class="InductiveConstructor">ℊ</a>
 <a id="3452" href="Terms.Operations.html#3392" class="Function">term-gen</a> <a id="3461" class="Symbol">(</a><a id="3462" href="Terms.Operations.html#753" class="InductiveConstructor">ℊ</a> <a id="3464" href="Terms.Operations.html#3464" class="Bound">x</a><a id="3465" class="Symbol">)</a> <a id="3467" class="Symbol">=</a> <a id="3469" class="Symbol">(</a><a id="3470" href="Terms.Operations.html#753" class="InductiveConstructor">ℊ</a> <a id="3472" href="Terms.Operations.html#3464" class="Bound">x</a><a id="3473" class="Symbol">)</a> <a id="3475" href="Prelude.Preliminaries.html#14513" class="InductiveConstructor Operator">,</a> <a id="3477" href="Prelude.Equality.html#1245" class="InductiveConstructor">𝓇ℯ𝒻𝓁</a>
 <a id="3483" href="Terms.Operations.html#3392" class="Function">term-gen</a> <a id="3492" class="Symbol">(</a><a id="3493" href="Terms.Basic.html#2395" class="InductiveConstructor">node</a> <a id="3498" href="Terms.Operations.html#3498" class="Bound">𝑓</a> <a id="3500" href="Terms.Operations.html#3500" class="Bound">𝑡</a><a id="3501" class="Symbol">)</a> <a id="3503" class="Symbol">=</a> <a id="3505" href="Terms.Basic.html#2395" class="InductiveConstructor">node</a> <a id="3510" href="Terms.Operations.html#3498" class="Bound">𝑓</a> <a id="3512" class="Symbol">(λ</a> <a id="3515" href="Terms.Operations.html#3515" class="Bound">i</a> <a id="3517" class="Symbol">→</a> <a id="3519" href="Prelude.Preliminaries.html#13518" class="Function Operator">∣</a> <a id="3521" href="Terms.Operations.html#3392" class="Function">term-gen</a> <a id="3530" class="Symbol">(</a><a id="3531" href="Terms.Operations.html#3500" class="Bound">𝑡</a> <a id="3533" href="Terms.Operations.html#3515" class="Bound">i</a><a id="3534" class="Symbol">)</a> <a id="3536" href="Prelude.Preliminaries.html#13518" class="Function Operator">∣</a><a id="3537" class="Symbol">)</a> <a id="3539" href="Prelude.Preliminaries.html#14513" class="InductiveConstructor Operator">,</a> <a id="3541" href="Terms.Operations.html#3179" class="Function">term-interp</a> <a id="3553" href="Terms.Operations.html#3498" class="Bound">𝑓</a> <a id="3555" class="Symbol">(</a><a id="3556" href="Terms.Operations.html#3361" class="Bound">fe</a> <a id="3559" class="Symbol">λ</a> <a id="3561" href="Terms.Operations.html#3561" class="Bound">i</a> <a id="3563" class="Symbol">→</a> <a id="3565" href="Prelude.Preliminaries.html#13596" class="Function Operator">∥</a> <a id="3567" href="Terms.Operations.html#3392" class="Function">term-gen</a> <a id="3576" class="Symbol">(</a><a id="3577" href="Terms.Operations.html#3500" class="Bound">𝑡</a> <a id="3579" href="Terms.Operations.html#3561" class="Bound">i</a><a id="3580" class="Symbol">)</a> <a id="3582" href="Prelude.Preliminaries.html#13596" class="Function Operator">∥</a><a id="3583" class="Symbol">)</a>


 <a id="3588" href="Terms.Operations.html#3588" class="Function">term-gen-agreement</a> <a id="3607" class="Symbol">:</a> <a id="3609" class="Symbol">(</a><a id="3610" href="Terms.Operations.html#3610" class="Bound">p</a> <a id="3612" class="Symbol">:</a> <a id="3614" href="Prelude.Preliminaries.html#13518" class="Function Operator">∣</a> <a id="3616" href="Terms.Basic.html#3657" class="Function">𝑻</a> <a id="3618" href="Terms.Operations.html#3352" class="Bound">X</a> <a id="3620" href="Prelude.Preliminaries.html#13518" class="Function Operator">∣</a><a id="3621" class="Symbol">)</a> <a id="3623" class="Symbol">→</a> <a id="3625" class="Symbol">(</a><a id="3626" href="Terms.Operations.html#3610" class="Bound">p</a> <a id="3628" href="Terms.Operations.html#1741" class="Function Operator">̇</a> <a id="3630" href="Terms.Basic.html#3657" class="Function">𝑻</a> <a id="3632" href="Terms.Operations.html#3352" class="Bound">X</a><a id="3633" class="Symbol">)</a> <a id="3635" href="Terms.Operations.html#753" class="InductiveConstructor">ℊ</a> <a id="3637" href="Prelude.Equality.html#1231" class="Datatype Operator">≡</a> <a id="3639" class="Symbol">(</a><a id="3640" href="Prelude.Preliminaries.html#13518" class="Function Operator">∣</a> <a id="3642" href="Terms.Operations.html#3392" class="Function">term-gen</a> <a id="3651" href="Terms.Operations.html#3610" class="Bound">p</a> <a id="3653" href="Prelude.Preliminaries.html#13518" class="Function Operator">∣</a> <a id="3655" href="Terms.Operations.html#1741" class="Function Operator">̇</a> <a id="3657" href="Terms.Basic.html#3657" class="Function">𝑻</a> <a id="3659" href="Terms.Operations.html#3352" class="Bound">X</a><a id="3660" class="Symbol">)</a> <a id="3662" href="Terms.Operations.html#753" class="InductiveConstructor">ℊ</a>
 <a id="3665" href="Terms.Operations.html#3588" class="Function">term-gen-agreement</a> <a id="3684" class="Symbol">(</a><a id="3685" href="Terms.Operations.html#753" class="InductiveConstructor">ℊ</a> <a id="3687" href="Terms.Operations.html#3687" class="Bound">x</a><a id="3688" class="Symbol">)</a> <a id="3690" class="Symbol">=</a> <a id="3692" href="Prelude.Equality.html#1245" class="InductiveConstructor">𝓇ℯ𝒻𝓁</a>
 <a id="3698" href="Terms.Operations.html#3588" class="Function">term-gen-agreement</a> <a id="3717" class="Symbol">(</a><a id="3718" href="Terms.Basic.html#2395" class="InductiveConstructor">node</a> <a id="3723" href="Terms.Operations.html#3723" class="Bound">f</a> <a id="3725" href="Terms.Operations.html#3725" class="Bound">𝑡</a><a id="3726" class="Symbol">)</a> <a id="3728" class="Symbol">=</a> <a id="3730" href="MGS-MLTT.html#6613" class="Function">ap</a> <a id="3733" class="Symbol">(</a><a id="3734" href="Terms.Operations.html#3723" class="Bound">f</a> <a id="3736" href="Algebras.Algebras.html#2991" class="Function Operator">̂</a> <a id="3738" href="Terms.Basic.html#3657" class="Function">𝑻</a> <a id="3740" href="Terms.Operations.html#3352" class="Bound">X</a><a id="3741" class="Symbol">)</a> <a id="3743" class="Symbol">(</a><a id="3744" href="Terms.Operations.html#3361" class="Bound">fe</a> <a id="3747" class="Symbol">λ</a> <a id="3749" href="Terms.Operations.html#3749" class="Bound">x</a> <a id="3751" class="Symbol">→</a> <a id="3753" href="Terms.Operations.html#3588" class="Function">term-gen-agreement</a> <a id="3772" class="Symbol">(</a><a id="3773" href="Terms.Operations.html#3725" class="Bound">𝑡</a> <a id="3775" href="Terms.Operations.html#3749" class="Bound">x</a><a id="3776" class="Symbol">))</a>

 <a id="3781" href="Terms.Operations.html#3781" class="Function">term-agreement</a> <a id="3796" class="Symbol">:</a> <a id="3798" class="Symbol">(</a><a id="3799" href="Terms.Operations.html#3799" class="Bound">p</a> <a id="3801" class="Symbol">:</a> <a id="3803" href="Prelude.Preliminaries.html#13518" class="Function Operator">∣</a> <a id="3805" href="Terms.Basic.html#3657" class="Function">𝑻</a> <a id="3807" href="Terms.Operations.html#3352" class="Bound">X</a> <a id="3809" href="Prelude.Preliminaries.html#13518" class="Function Operator">∣</a><a id="3810" class="Symbol">)</a> <a id="3812" class="Symbol">→</a> <a id="3814" href="Terms.Operations.html#3799" class="Bound">p</a> <a id="3816" href="Prelude.Equality.html#1231" class="Datatype Operator">≡</a> <a id="3818" class="Symbol">(</a><a id="3819" href="Terms.Operations.html#3799" class="Bound">p</a> <a id="3821" href="Terms.Operations.html#1741" class="Function Operator">̇</a> <a id="3823" href="Terms.Basic.html#3657" class="Function">𝑻</a> <a id="3825" href="Terms.Operations.html#3352" class="Bound">X</a><a id="3826" class="Symbol">)</a> <a id="3828" href="Terms.Operations.html#753" class="InductiveConstructor">ℊ</a>
 <a id="3831" href="Terms.Operations.html#3781" class="Function">term-agreement</a> <a id="3846" href="Terms.Operations.html#3846" class="Bound">p</a> <a id="3848" class="Symbol">=</a> <a id="3850" href="Prelude.Preliminaries.html#13600" class="Function">snd</a> <a id="3854" class="Symbol">(</a><a id="3855" href="Terms.Operations.html#3392" class="Function">term-gen</a> <a id="3864" href="Terms.Operations.html#3846" class="Bound">p</a><a id="3865" class="Symbol">)</a> <a id="3867" href="MGS-MLTT.html#5910" class="Function Operator">∙</a> <a id="3869" class="Symbol">(</a><a id="3870" href="Terms.Operations.html#3588" class="Function">term-gen-agreement</a> <a id="3889" href="Terms.Operations.html#3846" class="Bound">p</a><a id="3890" class="Symbol">)</a><a id="3891" href="MGS-MLTT.html#6125" class="Function Operator">⁻¹</a>

</pre>



#### <a id="interpretation-of-terms-in-product-algebras">Interpretation of terms in product algebras</a>

Note that while in the previous section it sufficed to postulate a local version of function extensionality, here we are using the global version (`global-dfunext`), though we are not sure whether this is necessary or we could remove it with some effort.<sup>[1](Terms.Operations.html#fn1)</sup>

<pre class="Agda">

<a id="4326" class="Keyword">module</a> <a id="4333" href="Terms.Operations.html#4333" class="Module">_</a> <a id="4335" class="Symbol">{</a><a id="4336" href="Terms.Operations.html#4336" class="Bound">𝓤</a> <a id="4338" href="Terms.Operations.html#4338" class="Bound">𝓧</a> <a id="4340" class="Symbol">:</a> <a id="4342" href="Agda.Primitive.html#423" class="Function">Universe</a><a id="4350" class="Symbol">}{</a><a id="4352" href="Terms.Operations.html#4352" class="Bound">X</a> <a id="4354" class="Symbol">:</a> <a id="4356" href="Terms.Operations.html#4338" class="Bound">𝓧</a> <a id="4358" href="Universes.html#403" class="Function Operator">̇</a> <a id="4360" class="Symbol">}</a> <a id="4362" class="Keyword">where</a>

 <a id="4370" href="Terms.Operations.html#4370" class="Function">interp-prod</a> <a id="4382" class="Symbol">:</a> <a id="4384" class="Symbol">{</a><a id="4385" href="Terms.Operations.html#4385" class="Bound">𝓦</a> <a id="4387" class="Symbol">:</a> <a id="4389" href="Agda.Primitive.html#423" class="Function">Universe</a><a id="4397" class="Symbol">}(</a><a id="4399" href="Terms.Operations.html#4399" class="Bound">p</a> <a id="4401" class="Symbol">:</a> <a id="4403" href="Terms.Basic.html#2322" class="Datatype">Term</a> <a id="4408" href="Terms.Operations.html#4352" class="Bound">X</a><a id="4409" class="Symbol">){</a><a id="4411" href="Terms.Operations.html#4411" class="Bound">I</a> <a id="4413" class="Symbol">:</a> <a id="4415" href="Terms.Operations.html#4385" class="Bound">𝓦</a> <a id="4417" href="Universes.html#403" class="Function Operator">̇</a><a id="4418" class="Symbol">}</a>
               <a id="4435" class="Symbol">(</a><a id="4436" href="Terms.Operations.html#4436" class="Bound">𝒜</a> <a id="4438" class="Symbol">:</a> <a id="4440" href="Terms.Operations.html#4411" class="Bound">I</a> <a id="4442" class="Symbol">→</a> <a id="4444" href="Algebras.Algebras.html#694" class="Function">Algebra</a> <a id="4452" href="Terms.Operations.html#4336" class="Bound">𝓤</a> <a id="4454" href="Terms.Operations.html#646" class="Bound">𝑆</a><a id="4455" class="Symbol">)(</a><a id="4457" href="Terms.Operations.html#4457" class="Bound">𝑎</a> <a id="4459" class="Symbol">:</a> <a id="4461" href="Terms.Operations.html#4352" class="Bound">X</a> <a id="4463" class="Symbol">→</a> <a id="4465" class="Symbol">∀</a> <a id="4467" href="Terms.Operations.html#4467" class="Bound">i</a> <a id="4469" class="Symbol">→</a> <a id="4471" href="Prelude.Preliminaries.html#13518" class="Function Operator">∣</a> <a id="4473" href="Terms.Operations.html#4436" class="Bound">𝒜</a> <a id="4475" href="Terms.Operations.html#4467" class="Bound">i</a> <a id="4477" href="Prelude.Preliminaries.html#13518" class="Function Operator">∣</a><a id="4478" class="Symbol">)</a>
               <a id="4495" class="Comment">-----------------------------------------------</a>
  <a id="4545" class="Symbol">→</a>            <a id="4558" class="Symbol">(</a><a id="4559" href="Terms.Operations.html#4399" class="Bound">p</a> <a id="4561" href="Terms.Operations.html#1741" class="Function Operator">̇</a> <a id="4563" class="Symbol">(</a><a id="4564" href="Algebras.Products.html#908" class="Function">⨅</a> <a id="4566" href="Terms.Operations.html#4436" class="Bound">𝒜</a><a id="4567" class="Symbol">))</a> <a id="4570" href="Terms.Operations.html#4457" class="Bound">𝑎</a> <a id="4572" href="Prelude.Equality.html#1231" class="Datatype Operator">≡</a> <a id="4574" class="Symbol">(λ</a> <a id="4577" href="Terms.Operations.html#4577" class="Bound">i</a> <a id="4579" class="Symbol">→</a> <a id="4581" class="Symbol">(</a><a id="4582" href="Terms.Operations.html#4399" class="Bound">p</a> <a id="4584" href="Terms.Operations.html#1741" class="Function Operator">̇</a> <a id="4586" href="Terms.Operations.html#4436" class="Bound">𝒜</a> <a id="4588" href="Terms.Operations.html#4577" class="Bound">i</a><a id="4589" class="Symbol">)</a> <a id="4591" class="Symbol">(λ</a> <a id="4594" href="Terms.Operations.html#4594" class="Bound">j</a> <a id="4596" class="Symbol">→</a> <a id="4598" href="Terms.Operations.html#4457" class="Bound">𝑎</a> <a id="4600" href="Terms.Operations.html#4594" class="Bound">j</a> <a id="4602" href="Terms.Operations.html#4577" class="Bound">i</a><a id="4603" class="Symbol">))</a>

 <a id="4608" href="Terms.Operations.html#4370" class="Function">interp-prod</a> <a id="4620" class="Symbol">(</a><a id="4621" href="Terms.Operations.html#753" class="InductiveConstructor">ℊ</a> <a id="4623" href="Terms.Operations.html#4623" class="Bound">x₁</a><a id="4625" class="Symbol">)</a> <a id="4627" href="Terms.Operations.html#4627" class="Bound">𝒜</a> <a id="4629" href="Terms.Operations.html#4629" class="Bound">𝑎</a> <a id="4631" class="Symbol">=</a> <a id="4633" href="Prelude.Equality.html#1245" class="InductiveConstructor">𝓇ℯ𝒻𝓁</a>

 <a id="4640" href="Terms.Operations.html#4370" class="Function">interp-prod</a> <a id="4652" class="Symbol">(</a><a id="4653" href="Terms.Basic.html#2395" class="InductiveConstructor">node</a> <a id="4658" href="Terms.Operations.html#4658" class="Bound">𝑓</a> <a id="4660" href="Terms.Operations.html#4660" class="Bound">𝑡</a><a id="4661" class="Symbol">)</a> <a id="4663" href="Terms.Operations.html#4663" class="Bound">𝒜</a> <a id="4665" href="Terms.Operations.html#4665" class="Bound">𝑎</a> <a id="4667" class="Symbol">=</a> <a id="4669" class="Keyword">let</a> <a id="4673" href="Terms.Operations.html#4673" class="Bound">IH</a> <a id="4676" class="Symbol">=</a> <a id="4678" class="Symbol">λ</a> <a id="4680" href="Terms.Operations.html#4680" class="Bound">x</a> <a id="4682" class="Symbol">→</a> <a id="4684" href="Terms.Operations.html#4370" class="Function">interp-prod</a> <a id="4696" class="Symbol">(</a><a id="4697" href="Terms.Operations.html#4660" class="Bound">𝑡</a> <a id="4699" href="Terms.Operations.html#4680" class="Bound">x</a><a id="4700" class="Symbol">)</a> <a id="4702" href="Terms.Operations.html#4663" class="Bound">𝒜</a> <a id="4704" href="Terms.Operations.html#4665" class="Bound">𝑎</a>
  <a id="4708" class="Keyword">in</a>
  <a id="4713" class="Symbol">(</a><a id="4714" href="Terms.Operations.html#4658" class="Bound">𝑓</a> <a id="4716" href="Algebras.Algebras.html#2991" class="Function Operator">̂</a> <a id="4718" href="Algebras.Products.html#908" class="Function">⨅</a> <a id="4720" href="Terms.Operations.html#4663" class="Bound">𝒜</a><a id="4721" class="Symbol">)(λ</a> <a id="4725" href="Terms.Operations.html#4725" class="Bound">x</a> <a id="4727" class="Symbol">→</a> <a id="4729" class="Symbol">(</a><a id="4730" href="Terms.Operations.html#4660" class="Bound">𝑡</a> <a id="4732" href="Terms.Operations.html#4725" class="Bound">x</a> <a id="4734" href="Terms.Operations.html#1741" class="Function Operator">̇</a> <a id="4736" href="Algebras.Products.html#908" class="Function">⨅</a> <a id="4738" href="Terms.Operations.html#4663" class="Bound">𝒜</a><a id="4739" class="Symbol">)</a> <a id="4741" href="Terms.Operations.html#4665" class="Bound">𝑎</a><a id="4742" class="Symbol">)</a>                      <a id="4765" href="MGS-MLTT.html#5997" class="Function Operator">≡⟨</a> <a id="4768" href="MGS-MLTT.html#6613" class="Function">ap</a> <a id="4771" class="Symbol">(</a><a id="4772" href="Terms.Operations.html#4658" class="Bound">𝑓</a> <a id="4774" href="Algebras.Algebras.html#2991" class="Function Operator">̂</a> <a id="4776" href="Algebras.Products.html#908" class="Function">⨅</a> <a id="4778" href="Terms.Operations.html#4663" class="Bound">𝒜</a><a id="4779" class="Symbol">)(</a><a id="4781" href="Terms.Operations.html#665" class="Bound">gfe</a> <a id="4785" href="Terms.Operations.html#4673" class="Bound">IH</a><a id="4787" class="Symbol">)</a> <a id="4789" href="MGS-MLTT.html#5997" class="Function Operator">⟩</a>
  <a id="4793" class="Symbol">(</a><a id="4794" href="Terms.Operations.html#4658" class="Bound">𝑓</a> <a id="4796" href="Algebras.Algebras.html#2991" class="Function Operator">̂</a> <a id="4798" href="Algebras.Products.html#908" class="Function">⨅</a> <a id="4800" href="Terms.Operations.html#4663" class="Bound">𝒜</a><a id="4801" class="Symbol">)(λ</a> <a id="4805" href="Terms.Operations.html#4805" class="Bound">x</a> <a id="4807" class="Symbol">→</a> <a id="4809" class="Symbol">(λ</a> <a id="4812" href="Terms.Operations.html#4812" class="Bound">i</a> <a id="4814" class="Symbol">→</a> <a id="4816" class="Symbol">(</a><a id="4817" href="Terms.Operations.html#4660" class="Bound">𝑡</a> <a id="4819" href="Terms.Operations.html#4805" class="Bound">x</a> <a id="4821" href="Terms.Operations.html#1741" class="Function Operator">̇</a> <a id="4823" href="Terms.Operations.html#4663" class="Bound">𝒜</a> <a id="4825" href="Terms.Operations.html#4812" class="Bound">i</a><a id="4826" class="Symbol">)(λ</a> <a id="4830" href="Terms.Operations.html#4830" class="Bound">j</a> <a id="4832" class="Symbol">→</a> <a id="4834" href="Terms.Operations.html#4665" class="Bound">𝑎</a> <a id="4836" href="Terms.Operations.html#4830" class="Bound">j</a> <a id="4838" href="Terms.Operations.html#4812" class="Bound">i</a><a id="4839" class="Symbol">)))</a>   <a id="4845" href="MGS-MLTT.html#5997" class="Function Operator">≡⟨</a> <a id="4848" href="Prelude.Equality.html#1245" class="InductiveConstructor">𝓇ℯ𝒻𝓁</a> <a id="4853" href="MGS-MLTT.html#5997" class="Function Operator">⟩</a>
  <a id="4857" class="Symbol">(λ</a> <a id="4860" href="Terms.Operations.html#4860" class="Bound">i</a> <a id="4862" class="Symbol">→</a> <a id="4864" class="Symbol">(</a><a id="4865" href="Terms.Operations.html#4658" class="Bound">𝑓</a> <a id="4867" href="Algebras.Algebras.html#2991" class="Function Operator">̂</a> <a id="4869" href="Terms.Operations.html#4663" class="Bound">𝒜</a> <a id="4871" href="Terms.Operations.html#4860" class="Bound">i</a><a id="4872" class="Symbol">)</a> <a id="4874" class="Symbol">(λ</a> <a id="4877" href="Terms.Operations.html#4877" class="Bound">x</a> <a id="4879" class="Symbol">→</a> <a id="4881" class="Symbol">(</a><a id="4882" href="Terms.Operations.html#4660" class="Bound">𝑡</a> <a id="4884" href="Terms.Operations.html#4877" class="Bound">x</a> <a id="4886" href="Terms.Operations.html#1741" class="Function Operator">̇</a> <a id="4888" href="Terms.Operations.html#4663" class="Bound">𝒜</a> <a id="4890" href="Terms.Operations.html#4860" class="Bound">i</a><a id="4891" class="Symbol">)(λ</a> <a id="4895" href="Terms.Operations.html#4895" class="Bound">j</a> <a id="4897" class="Symbol">→</a> <a id="4899" href="Terms.Operations.html#4665" class="Bound">𝑎</a> <a id="4901" href="Terms.Operations.html#4895" class="Bound">j</a> <a id="4903" href="Terms.Operations.html#4860" class="Bound">i</a><a id="4904" class="Symbol">)))</a>  <a id="4909" href="MGS-MLTT.html#6079" class="Function Operator">∎</a>


 <a id="4914" href="Terms.Operations.html#4914" class="Function">interp-prod2</a> <a id="4927" class="Symbol">:</a> <a id="4929" class="Symbol">(</a><a id="4930" href="Terms.Operations.html#4930" class="Bound">p</a> <a id="4932" class="Symbol">:</a> <a id="4934" href="Terms.Basic.html#2322" class="Datatype">Term</a> <a id="4939" href="Terms.Operations.html#4352" class="Bound">X</a><a id="4940" class="Symbol">){</a><a id="4942" href="Terms.Operations.html#4942" class="Bound">I</a> <a id="4944" class="Symbol">:</a> <a id="4946" href="Terms.Operations.html#4336" class="Bound">𝓤</a> <a id="4948" href="Universes.html#403" class="Function Operator">̇</a> <a id="4950" class="Symbol">}(</a><a id="4952" href="Terms.Operations.html#4952" class="Bound">𝒜</a> <a id="4954" class="Symbol">:</a> <a id="4956" href="Terms.Operations.html#4942" class="Bound">I</a> <a id="4958" class="Symbol">→</a> <a id="4960" href="Algebras.Algebras.html#694" class="Function">Algebra</a> <a id="4968" href="Terms.Operations.html#4336" class="Bound">𝓤</a> <a id="4970" href="Terms.Operations.html#646" class="Bound">𝑆</a><a id="4971" class="Symbol">)</a>
                <a id="4989" class="Comment">--------------------------------------------------------------</a>
  <a id="5054" class="Symbol">→</a>             <a id="5068" class="Symbol">(</a><a id="5069" href="Terms.Operations.html#4930" class="Bound">p</a> <a id="5071" href="Terms.Operations.html#1741" class="Function Operator">̇</a> <a id="5073" href="Algebras.Products.html#908" class="Function">⨅</a> <a id="5075" href="Terms.Operations.html#4952" class="Bound">𝒜</a><a id="5076" class="Symbol">)</a> <a id="5078" href="Prelude.Equality.html#1231" class="Datatype Operator">≡</a> <a id="5080" class="Symbol">λ(</a><a id="5082" href="Terms.Operations.html#5082" class="Bound">𝑡</a> <a id="5084" class="Symbol">:</a> <a id="5086" href="Terms.Operations.html#4352" class="Bound">X</a> <a id="5088" class="Symbol">→</a> <a id="5090" href="Prelude.Preliminaries.html#13518" class="Function Operator">∣</a> <a id="5092" href="Algebras.Products.html#908" class="Function">⨅</a> <a id="5094" href="Terms.Operations.html#4952" class="Bound">𝒜</a> <a id="5096" href="Prelude.Preliminaries.html#13518" class="Function Operator">∣</a><a id="5097" class="Symbol">)</a> <a id="5099" class="Symbol">→</a> <a id="5101" class="Symbol">(λ</a> <a id="5104" href="Terms.Operations.html#5104" class="Bound">i</a> <a id="5106" class="Symbol">→</a> <a id="5108" class="Symbol">(</a><a id="5109" href="Terms.Operations.html#4930" class="Bound">p</a> <a id="5111" href="Terms.Operations.html#1741" class="Function Operator">̇</a> <a id="5113" href="Terms.Operations.html#4952" class="Bound">𝒜</a> <a id="5115" href="Terms.Operations.html#5104" class="Bound">i</a><a id="5116" class="Symbol">)(λ</a> <a id="5120" href="Terms.Operations.html#5120" class="Bound">x</a> <a id="5122" class="Symbol">→</a> <a id="5124" href="Terms.Operations.html#5082" class="Bound">𝑡</a> <a id="5126" href="Terms.Operations.html#5120" class="Bound">x</a> <a id="5128" href="Terms.Operations.html#5104" class="Bound">i</a><a id="5129" class="Symbol">))</a>

 <a id="5134" href="Terms.Operations.html#4914" class="Function">interp-prod2</a> <a id="5147" class="Symbol">(</a><a id="5148" href="Terms.Operations.html#753" class="InductiveConstructor">ℊ</a> <a id="5150" href="Terms.Operations.html#5150" class="Bound">x₁</a><a id="5152" class="Symbol">)</a> <a id="5154" href="Terms.Operations.html#5154" class="Bound">𝒜</a> <a id="5156" class="Symbol">=</a> <a id="5158" href="Prelude.Equality.html#1245" class="InductiveConstructor">𝓇ℯ𝒻𝓁</a>

 <a id="5165" href="Terms.Operations.html#4914" class="Function">interp-prod2</a> <a id="5178" class="Symbol">(</a><a id="5179" href="Terms.Basic.html#2395" class="InductiveConstructor">node</a> <a id="5184" href="Terms.Operations.html#5184" class="Bound">f</a> <a id="5186" href="Terms.Operations.html#5186" class="Bound">t</a><a id="5187" class="Symbol">)</a> <a id="5189" href="Terms.Operations.html#5189" class="Bound">𝒜</a> <a id="5191" class="Symbol">=</a> <a id="5193" href="Terms.Operations.html#665" class="Bound">gfe</a> <a id="5197" class="Symbol">λ</a> <a id="5199" class="Symbol">(</a><a id="5200" href="Terms.Operations.html#5200" class="Bound">tup</a> <a id="5204" class="Symbol">:</a> <a id="5206" href="Terms.Operations.html#4352" class="Bound">X</a> <a id="5208" class="Symbol">→</a> <a id="5210" href="Prelude.Preliminaries.html#13518" class="Function Operator">∣</a> <a id="5212" href="Algebras.Products.html#908" class="Function">⨅</a> <a id="5214" href="Terms.Operations.html#5189" class="Bound">𝒜</a> <a id="5216" href="Prelude.Preliminaries.html#13518" class="Function Operator">∣</a><a id="5217" class="Symbol">)</a> <a id="5219" class="Symbol">→</a>
  <a id="5223" class="Keyword">let</a> <a id="5227" href="Terms.Operations.html#5227" class="Bound">IH</a> <a id="5230" class="Symbol">=</a> <a id="5232" class="Symbol">λ</a> <a id="5234" href="Terms.Operations.html#5234" class="Bound">x</a> <a id="5236" class="Symbol">→</a> <a id="5238" href="Terms.Operations.html#4370" class="Function">interp-prod</a> <a id="5250" class="Symbol">(</a><a id="5251" href="Terms.Operations.html#5186" class="Bound">t</a> <a id="5253" href="Terms.Operations.html#5234" class="Bound">x</a><a id="5254" class="Symbol">)</a> <a id="5256" href="Terms.Operations.html#5189" class="Bound">𝒜</a>  <a id="5259" class="Keyword">in</a>
  <a id="5264" class="Keyword">let</a> <a id="5268" href="Terms.Operations.html#5268" class="Bound">tA</a> <a id="5271" class="Symbol">=</a> <a id="5273" class="Symbol">λ</a> <a id="5275" href="Terms.Operations.html#5275" class="Bound">z</a> <a id="5277" class="Symbol">→</a> <a id="5279" href="Terms.Operations.html#5186" class="Bound">t</a> <a id="5281" href="Terms.Operations.html#5275" class="Bound">z</a> <a id="5283" href="Terms.Operations.html#1741" class="Function Operator">̇</a> <a id="5285" href="Algebras.Products.html#908" class="Function">⨅</a> <a id="5287" href="Terms.Operations.html#5189" class="Bound">𝒜</a> <a id="5289" class="Keyword">in</a>
  <a id="5294" class="Symbol">(</a><a id="5295" href="Terms.Operations.html#5184" class="Bound">f</a> <a id="5297" href="Algebras.Algebras.html#2991" class="Function Operator">̂</a> <a id="5299" href="Algebras.Products.html#908" class="Function">⨅</a> <a id="5301" href="Terms.Operations.html#5189" class="Bound">𝒜</a><a id="5302" class="Symbol">)(λ</a> <a id="5306" href="Terms.Operations.html#5306" class="Bound">s</a> <a id="5308" class="Symbol">→</a> <a id="5310" href="Terms.Operations.html#5268" class="Bound">tA</a> <a id="5313" href="Terms.Operations.html#5306" class="Bound">s</a> <a id="5315" href="Terms.Operations.html#5200" class="Bound">tup</a><a id="5318" class="Symbol">)</a>                          <a id="5345" href="MGS-MLTT.html#5997" class="Function Operator">≡⟨</a> <a id="5348" href="MGS-MLTT.html#6613" class="Function">ap</a><a id="5350" class="Symbol">(</a><a id="5351" href="Terms.Operations.html#5184" class="Bound">f</a> <a id="5353" href="Algebras.Algebras.html#2991" class="Function Operator">̂</a> <a id="5355" href="Algebras.Products.html#908" class="Function">⨅</a> <a id="5357" href="Terms.Operations.html#5189" class="Bound">𝒜</a><a id="5358" class="Symbol">)(</a><a id="5360" href="Terms.Operations.html#665" class="Bound">gfe</a> <a id="5364" class="Symbol">λ</a> <a id="5366" href="Terms.Operations.html#5366" class="Bound">x</a> <a id="5368" class="Symbol">→</a> <a id="5370" href="Terms.Operations.html#5227" class="Bound">IH</a> <a id="5373" href="Terms.Operations.html#5366" class="Bound">x</a> <a id="5375" href="Terms.Operations.html#5200" class="Bound">tup</a><a id="5378" class="Symbol">)</a><a id="5379" href="MGS-MLTT.html#5997" class="Function Operator">⟩</a>
  <a id="5383" class="Symbol">(</a><a id="5384" href="Terms.Operations.html#5184" class="Bound">f</a> <a id="5386" href="Algebras.Algebras.html#2991" class="Function Operator">̂</a> <a id="5388" href="Algebras.Products.html#908" class="Function">⨅</a> <a id="5390" href="Terms.Operations.html#5189" class="Bound">𝒜</a><a id="5391" class="Symbol">)(λ</a> <a id="5395" href="Terms.Operations.html#5395" class="Bound">s</a> <a id="5397" class="Symbol">→</a> <a id="5399" class="Symbol">λ</a> <a id="5401" href="Terms.Operations.html#5401" class="Bound">j</a> <a id="5403" class="Symbol">→</a> <a id="5405" class="Symbol">(</a><a id="5406" href="Terms.Operations.html#5186" class="Bound">t</a> <a id="5408" href="Terms.Operations.html#5395" class="Bound">s</a> <a id="5410" href="Terms.Operations.html#1741" class="Function Operator">̇</a> <a id="5412" href="Terms.Operations.html#5189" class="Bound">𝒜</a> <a id="5414" href="Terms.Operations.html#5401" class="Bound">j</a><a id="5415" class="Symbol">)(λ</a> <a id="5419" href="Terms.Operations.html#5419" class="Bound">ℓ</a> <a id="5421" class="Symbol">→</a> <a id="5423" href="Terms.Operations.html#5200" class="Bound">tup</a> <a id="5427" href="Terms.Operations.html#5419" class="Bound">ℓ</a> <a id="5429" href="Terms.Operations.html#5401" class="Bound">j</a><a id="5430" class="Symbol">))</a>   <a id="5435" href="MGS-MLTT.html#5997" class="Function Operator">≡⟨</a> <a id="5438" href="Prelude.Equality.html#1245" class="InductiveConstructor">𝓇ℯ𝒻𝓁</a> <a id="5443" href="MGS-MLTT.html#5997" class="Function Operator">⟩</a>
  <a id="5447" class="Symbol">(λ</a> <a id="5450" href="Terms.Operations.html#5450" class="Bound">i</a> <a id="5452" class="Symbol">→</a> <a id="5454" class="Symbol">(</a><a id="5455" href="Terms.Operations.html#5184" class="Bound">f</a> <a id="5457" href="Algebras.Algebras.html#2991" class="Function Operator">̂</a> <a id="5459" href="Terms.Operations.html#5189" class="Bound">𝒜</a> <a id="5461" href="Terms.Operations.html#5450" class="Bound">i</a><a id="5462" class="Symbol">)(λ</a> <a id="5466" href="Terms.Operations.html#5466" class="Bound">s</a> <a id="5468" class="Symbol">→</a> <a id="5470" class="Symbol">(</a><a id="5471" href="Terms.Operations.html#5186" class="Bound">t</a> <a id="5473" href="Terms.Operations.html#5466" class="Bound">s</a> <a id="5475" href="Terms.Operations.html#1741" class="Function Operator">̇</a> <a id="5477" href="Terms.Operations.html#5189" class="Bound">𝒜</a> <a id="5479" href="Terms.Operations.html#5450" class="Bound">i</a><a id="5480" class="Symbol">)(λ</a> <a id="5484" href="Terms.Operations.html#5484" class="Bound">ℓ</a> <a id="5486" class="Symbol">→</a> <a id="5488" href="Terms.Operations.html#5200" class="Bound">tup</a> <a id="5492" href="Terms.Operations.html#5484" class="Bound">ℓ</a> <a id="5494" href="Terms.Operations.html#5450" class="Bound">i</a><a id="5495" class="Symbol">)))</a> <a id="5499" href="MGS-MLTT.html#6079" class="Function Operator">∎</a>

</pre>




#### <a id="compatibility-of-terms">Compatibility of terms</a>

We now prove two important facts about term operations.  The first of these, which is used very often in the sequel, asserts that every term commutes with every homomorphism.

<pre class="Agda">

<a id="5771" class="Keyword">module</a> <a id="5778" href="Terms.Operations.html#5778" class="Module">_</a> <a id="5780" class="Symbol">{</a><a id="5781" href="Terms.Operations.html#5781" class="Bound">𝓤</a> <a id="5783" href="Terms.Operations.html#5783" class="Bound">𝓦</a> <a id="5785" href="Terms.Operations.html#5785" class="Bound">𝓧</a> <a id="5787" class="Symbol">:</a> <a id="5789" href="Agda.Primitive.html#423" class="Function">Universe</a><a id="5797" class="Symbol">}{</a><a id="5799" href="Terms.Operations.html#5799" class="Bound">X</a> <a id="5801" class="Symbol">:</a> <a id="5803" href="Terms.Operations.html#5785" class="Bound">𝓧</a> <a id="5805" href="Universes.html#403" class="Function Operator">̇</a><a id="5806" class="Symbol">}</a> <a id="5808" class="Keyword">where</a>

 <a id="5816" href="Terms.Operations.html#5816" class="Function">comm-hom-term</a> <a id="5830" class="Symbol">:</a> <a id="5832" class="Symbol">{</a><a id="5833" href="Terms.Operations.html#5833" class="Bound">𝑨</a> <a id="5835" class="Symbol">:</a> <a id="5837" href="Algebras.Algebras.html#694" class="Function">Algebra</a> <a id="5845" href="Terms.Operations.html#5781" class="Bound">𝓤</a> <a id="5847" href="Terms.Operations.html#646" class="Bound">𝑆</a><a id="5848" class="Symbol">}</a> <a id="5850" class="Symbol">(</a><a id="5851" href="Terms.Operations.html#5851" class="Bound">𝑩</a> <a id="5853" class="Symbol">:</a> <a id="5855" href="Algebras.Algebras.html#694" class="Function">Algebra</a> <a id="5863" href="Terms.Operations.html#5783" class="Bound">𝓦</a> <a id="5865" href="Terms.Operations.html#646" class="Bound">𝑆</a><a id="5866" class="Symbol">)</a>
                 <a id="5885" class="Symbol">(</a><a id="5886" href="Terms.Operations.html#5886" class="Bound">h</a> <a id="5888" class="Symbol">:</a> <a id="5890" href="Homomorphisms.Basic.html#2282" class="Function">hom</a> <a id="5894" href="Terms.Operations.html#5833" class="Bound">𝑨</a> <a id="5896" href="Terms.Operations.html#5851" class="Bound">𝑩</a><a id="5897" class="Symbol">)</a> <a id="5899" class="Symbol">(</a><a id="5900" href="Terms.Operations.html#5900" class="Bound">t</a> <a id="5902" class="Symbol">:</a> <a id="5904" href="Terms.Basic.html#2322" class="Datatype">Term</a> <a id="5909" href="Terms.Operations.html#5799" class="Bound">X</a><a id="5910" class="Symbol">)</a> <a id="5912" class="Symbol">(</a><a id="5913" href="Terms.Operations.html#5913" class="Bound">a</a> <a id="5915" class="Symbol">:</a> <a id="5917" href="Terms.Operations.html#5799" class="Bound">X</a> <a id="5919" class="Symbol">→</a> <a id="5921" href="Prelude.Preliminaries.html#13518" class="Function Operator">∣</a> <a id="5923" href="Terms.Operations.html#5833" class="Bound">𝑨</a> <a id="5925" href="Prelude.Preliminaries.html#13518" class="Function Operator">∣</a><a id="5926" class="Symbol">)</a>
                 <a id="5945" class="Comment">-----------------------------------------</a>
  <a id="5989" class="Symbol">→</a>              <a id="6004" href="Prelude.Preliminaries.html#13518" class="Function Operator">∣</a> <a id="6006" href="Terms.Operations.html#5886" class="Bound">h</a> <a id="6008" href="Prelude.Preliminaries.html#13518" class="Function Operator">∣</a> <a id="6010" class="Symbol">((</a><a id="6012" href="Terms.Operations.html#5900" class="Bound">t</a> <a id="6014" href="Terms.Operations.html#1741" class="Function Operator">̇</a> <a id="6016" href="Terms.Operations.html#5833" class="Bound">𝑨</a><a id="6017" class="Symbol">)</a> <a id="6019" href="Terms.Operations.html#5913" class="Bound">a</a><a id="6020" class="Symbol">)</a> <a id="6022" href="Prelude.Equality.html#1231" class="Datatype Operator">≡</a> <a id="6024" class="Symbol">(</a><a id="6025" href="Terms.Operations.html#5900" class="Bound">t</a> <a id="6027" href="Terms.Operations.html#1741" class="Function Operator">̇</a> <a id="6029" href="Terms.Operations.html#5851" class="Bound">𝑩</a><a id="6030" class="Symbol">)</a> <a id="6032" class="Symbol">(</a><a id="6033" href="Prelude.Preliminaries.html#13518" class="Function Operator">∣</a> <a id="6035" href="Terms.Operations.html#5886" class="Bound">h</a> <a id="6037" href="Prelude.Preliminaries.html#13518" class="Function Operator">∣</a> <a id="6039" href="MGS-MLTT.html#3813" class="Function Operator">∘</a> <a id="6041" href="Terms.Operations.html#5913" class="Bound">a</a><a id="6042" class="Symbol">)</a>

 <a id="6046" href="Terms.Operations.html#5816" class="Function">comm-hom-term</a>  <a id="6061" href="Terms.Operations.html#6061" class="Bound">𝑩</a> <a id="6063" href="Terms.Operations.html#6063" class="Bound">h</a> <a id="6065" class="Symbol">(</a><a id="6066" href="Terms.Operations.html#753" class="InductiveConstructor">ℊ</a> <a id="6068" href="Terms.Operations.html#6068" class="Bound">x</a><a id="6069" class="Symbol">)</a> <a id="6071" href="Terms.Operations.html#6071" class="Bound">a</a> <a id="6073" class="Symbol">=</a> <a id="6075" href="Prelude.Equality.html#1245" class="InductiveConstructor">𝓇ℯ𝒻𝓁</a>

 <a id="6082" href="Terms.Operations.html#5816" class="Function">comm-hom-term</a> <a id="6096" class="Symbol">{</a><a id="6097" href="Terms.Operations.html#6097" class="Bound">𝑨</a><a id="6098" class="Symbol">}</a> <a id="6100" href="Terms.Operations.html#6100" class="Bound">𝑩</a> <a id="6102" href="Terms.Operations.html#6102" class="Bound">h</a> <a id="6104" class="Symbol">(</a><a id="6105" href="Terms.Basic.html#2395" class="InductiveConstructor">node</a> <a id="6110" href="Terms.Operations.html#6110" class="Bound">𝑓</a> <a id="6112" href="Terms.Operations.html#6112" class="Bound">𝑡</a><a id="6113" class="Symbol">)</a> <a id="6115" href="Terms.Operations.html#6115" class="Bound">a</a> <a id="6117" class="Symbol">=</a> <a id="6119" href="Prelude.Preliminaries.html#13518" class="Function Operator">∣</a> <a id="6121" href="Terms.Operations.html#6102" class="Bound">h</a> <a id="6123" href="Prelude.Preliminaries.html#13518" class="Function Operator">∣</a><a id="6124" class="Symbol">((</a><a id="6126" href="Terms.Operations.html#6110" class="Bound">𝑓</a> <a id="6128" href="Algebras.Algebras.html#2991" class="Function Operator">̂</a> <a id="6130" href="Terms.Operations.html#6097" class="Bound">𝑨</a><a id="6131" class="Symbol">)λ</a> <a id="6134" href="Terms.Operations.html#6134" class="Bound">i</a> <a id="6136" class="Symbol">→</a> <a id="6138" class="Symbol">(</a><a id="6139" href="Terms.Operations.html#6112" class="Bound">𝑡</a> <a id="6141" href="Terms.Operations.html#6134" class="Bound">i</a> <a id="6143" href="Terms.Operations.html#1741" class="Function Operator">̇</a> <a id="6145" href="Terms.Operations.html#6097" class="Bound">𝑨</a><a id="6146" class="Symbol">)</a> <a id="6148" href="Terms.Operations.html#6115" class="Bound">a</a><a id="6149" class="Symbol">)</a>    <a id="6154" href="MGS-MLTT.html#5997" class="Function Operator">≡⟨</a> <a id="6157" href="Terms.Operations.html#6328" class="Function">i</a>  <a id="6160" href="MGS-MLTT.html#5997" class="Function Operator">⟩</a>
                                     <a id="6199" class="Symbol">(</a><a id="6200" href="Terms.Operations.html#6110" class="Bound">𝑓</a> <a id="6202" href="Algebras.Algebras.html#2991" class="Function Operator">̂</a> <a id="6204" href="Terms.Operations.html#6100" class="Bound">𝑩</a><a id="6205" class="Symbol">)(λ</a> <a id="6209" href="Terms.Operations.html#6209" class="Bound">i</a> <a id="6211" class="Symbol">→</a>  <a id="6214" href="Prelude.Preliminaries.html#13518" class="Function Operator">∣</a> <a id="6216" href="Terms.Operations.html#6102" class="Bound">h</a> <a id="6218" href="Prelude.Preliminaries.html#13518" class="Function Operator">∣</a><a id="6219" class="Symbol">((</a><a id="6221" href="Terms.Operations.html#6112" class="Bound">𝑡</a> <a id="6223" href="Terms.Operations.html#6209" class="Bound">i</a> <a id="6225" href="Terms.Operations.html#1741" class="Function Operator">̇</a> <a id="6227" href="Terms.Operations.html#6097" class="Bound">𝑨</a><a id="6228" class="Symbol">)</a> <a id="6230" href="Terms.Operations.html#6115" class="Bound">a</a><a id="6231" class="Symbol">))</a>  <a id="6235" href="MGS-MLTT.html#5997" class="Function Operator">≡⟨</a> <a id="6238" href="Terms.Operations.html#6362" class="Function">ii</a> <a id="6241" href="MGS-MLTT.html#5997" class="Function Operator">⟩</a>
                                     <a id="6280" class="Symbol">(</a><a id="6281" href="Terms.Operations.html#6110" class="Bound">𝑓</a> <a id="6283" href="Algebras.Algebras.html#2991" class="Function Operator">̂</a> <a id="6285" href="Terms.Operations.html#6100" class="Bound">𝑩</a><a id="6286" class="Symbol">)(λ</a> <a id="6290" href="Terms.Operations.html#6290" class="Bound">r</a> <a id="6292" class="Symbol">→</a> <a id="6294" class="Symbol">(</a><a id="6295" href="Terms.Operations.html#6112" class="Bound">𝑡</a> <a id="6297" href="Terms.Operations.html#6290" class="Bound">r</a> <a id="6299" href="Terms.Operations.html#1741" class="Function Operator">̇</a> <a id="6301" href="Terms.Operations.html#6100" class="Bound">𝑩</a><a id="6302" class="Symbol">)(</a><a id="6304" href="Prelude.Preliminaries.html#13518" class="Function Operator">∣</a> <a id="6306" href="Terms.Operations.html#6102" class="Bound">h</a> <a id="6308" href="Prelude.Preliminaries.html#13518" class="Function Operator">∣</a> <a id="6310" href="MGS-MLTT.html#3813" class="Function Operator">∘</a> <a id="6312" href="Terms.Operations.html#6115" class="Bound">a</a><a id="6313" class="Symbol">))</a> <a id="6316" href="MGS-MLTT.html#6079" class="Function Operator">∎</a>
  <a id="6320" class="Keyword">where</a>
  <a id="6328" href="Terms.Operations.html#6328" class="Function">i</a>  <a id="6331" class="Symbol">=</a> <a id="6333" href="Prelude.Preliminaries.html#13596" class="Function Operator">∥</a> <a id="6335" href="Terms.Operations.html#6102" class="Bound">h</a> <a id="6337" href="Prelude.Preliminaries.html#13596" class="Function Operator">∥</a> <a id="6339" href="Terms.Operations.html#6110" class="Bound">𝑓</a><a id="6340" class="Symbol">(λ</a> <a id="6343" href="Terms.Operations.html#6343" class="Bound">r</a> <a id="6345" class="Symbol">→</a> <a id="6347" class="Symbol">(</a><a id="6348" href="Terms.Operations.html#6112" class="Bound">𝑡</a> <a id="6350" href="Terms.Operations.html#6343" class="Bound">r</a> <a id="6352" href="Terms.Operations.html#1741" class="Function Operator">̇</a> <a id="6354" href="Terms.Operations.html#6097" class="Bound">𝑨</a><a id="6355" class="Symbol">)</a> <a id="6357" href="Terms.Operations.html#6115" class="Bound">a</a><a id="6358" class="Symbol">)</a>
  <a id="6362" href="Terms.Operations.html#6362" class="Function">ii</a> <a id="6365" class="Symbol">=</a> <a id="6367" href="MGS-MLTT.html#6613" class="Function">ap</a> <a id="6370" class="Symbol">(</a><a id="6371" href="Terms.Operations.html#6110" class="Bound">𝑓</a> <a id="6373" href="Algebras.Algebras.html#2991" class="Function Operator">̂</a> <a id="6375" href="Terms.Operations.html#6100" class="Bound">𝑩</a><a id="6376" class="Symbol">)(</a><a id="6378" href="Terms.Operations.html#665" class="Bound">gfe</a> <a id="6382" class="Symbol">(λ</a> <a id="6385" href="Terms.Operations.html#6385" class="Bound">i</a> <a id="6387" class="Symbol">→</a> <a id="6389" href="Terms.Operations.html#5816" class="Function">comm-hom-term</a> <a id="6403" href="Terms.Operations.html#6100" class="Bound">𝑩</a> <a id="6405" href="Terms.Operations.html#6102" class="Bound">h</a> <a id="6407" class="Symbol">(</a><a id="6408" href="Terms.Operations.html#6112" class="Bound">𝑡</a> <a id="6410" href="Terms.Operations.html#6385" class="Bound">i</a><a id="6411" class="Symbol">)</a> <a id="6413" href="Terms.Operations.html#6115" class="Bound">a</a><a id="6414" class="Symbol">))</a>

</pre>

Next we prove that every term is compatible with every congruence relation. That is, if `t : Term X` and `θ : Con 𝑨`, then `a θ b → t(a) θ t(b)`.

<pre class="Agda">

<a id="6591" class="Keyword">open</a> <a id="6596" href="Algebras.Congruences.html#1106" class="Module">Congruence</a>

<a id="6608" class="Keyword">module</a> <a id="6615" href="Terms.Operations.html#6615" class="Module">_</a> <a id="6617" class="Symbol">{</a><a id="6618" href="Terms.Operations.html#6618" class="Bound">𝓤</a> <a id="6620" class="Symbol">:</a> <a id="6622" href="Agda.Primitive.html#423" class="Function">Universe</a><a id="6630" class="Symbol">}{</a><a id="6632" href="Terms.Operations.html#6632" class="Bound">X</a> <a id="6634" class="Symbol">:</a> <a id="6636" href="Terms.Operations.html#6618" class="Bound">𝓤</a> <a id="6638" href="Universes.html#403" class="Function Operator">̇</a><a id="6639" class="Symbol">}</a> <a id="6641" class="Keyword">where</a>

 <a id="6649" href="Terms.Operations.html#6649" class="Function">compatible-term</a> <a id="6665" class="Symbol">:</a> <a id="6667" class="Symbol">{</a><a id="6668" href="Terms.Operations.html#6668" class="Bound">𝑨</a> <a id="6670" class="Symbol">:</a> <a id="6672" href="Algebras.Algebras.html#694" class="Function">Algebra</a> <a id="6680" href="Terms.Operations.html#6618" class="Bound">𝓤</a> <a id="6682" href="Terms.Operations.html#646" class="Bound">𝑆</a><a id="6683" class="Symbol">}(</a><a id="6685" href="Terms.Operations.html#6685" class="Bound">t</a> <a id="6687" class="Symbol">:</a> <a id="6689" href="Terms.Basic.html#2322" class="Datatype">Term</a> <a id="6694" href="Terms.Operations.html#6632" class="Bound">X</a><a id="6695" class="Symbol">)(</a><a id="6697" href="Terms.Operations.html#6697" class="Bound">θ</a> <a id="6699" class="Symbol">:</a> <a id="6701" href="Algebras.Congruences.html#982" class="Function">Con</a> <a id="6705" href="Terms.Operations.html#6668" class="Bound">𝑨</a><a id="6706" class="Symbol">)</a>
                   <a id="6727" class="Comment">-----------------------------------------</a>
  <a id="6771" class="Symbol">→</a>                <a id="6788" href="Relations.Discrete.html#10136" class="Function">compatible-fun</a> <a id="6803" class="Symbol">(</a><a id="6804" href="Terms.Operations.html#6685" class="Bound">t</a> <a id="6806" href="Terms.Operations.html#1741" class="Function Operator">̇</a> <a id="6808" href="Terms.Operations.html#6668" class="Bound">𝑨</a><a id="6809" class="Symbol">)</a> <a id="6811" href="Prelude.Preliminaries.html#13518" class="Function Operator">∣</a> <a id="6813" href="Terms.Operations.html#6697" class="Bound">θ</a> <a id="6815" href="Prelude.Preliminaries.html#13518" class="Function Operator">∣</a>

 <a id="6819" href="Terms.Operations.html#6649" class="Function">compatible-term</a> <a id="6835" class="Symbol">(</a><a id="6836" href="Terms.Operations.html#753" class="InductiveConstructor">ℊ</a> <a id="6838" href="Terms.Operations.html#6838" class="Bound">x</a><a id="6839" class="Symbol">)</a> <a id="6841" href="Terms.Operations.html#6841" class="Bound">θ</a> <a id="6843" href="Terms.Operations.html#6843" class="Bound">p</a> <a id="6845" class="Symbol">=</a> <a id="6847" href="Terms.Operations.html#6843" class="Bound">p</a> <a id="6849" href="Terms.Operations.html#6838" class="Bound">x</a>

 <a id="6853" href="Terms.Operations.html#6649" class="Function">compatible-term</a> <a id="6869" class="Symbol">(</a><a id="6870" href="Terms.Basic.html#2395" class="InductiveConstructor">node</a> <a id="6875" href="Terms.Operations.html#6875" class="Bound">𝑓</a> <a id="6877" href="Terms.Operations.html#6877" class="Bound">𝑡</a><a id="6878" class="Symbol">)</a> <a id="6880" href="Terms.Operations.html#6880" class="Bound">θ</a> <a id="6882" href="Terms.Operations.html#6882" class="Bound">p</a> <a id="6884" class="Symbol">=</a> <a id="6886" href="Prelude.Preliminaries.html#13600" class="Function">snd</a> <a id="6890" href="Prelude.Preliminaries.html#13596" class="Function Operator">∥</a> <a id="6892" href="Terms.Operations.html#6880" class="Bound">θ</a> <a id="6894" href="Prelude.Preliminaries.html#13596" class="Function Operator">∥</a> <a id="6896" href="Terms.Operations.html#6875" class="Bound">𝑓</a> <a id="6898" class="Symbol">λ</a> <a id="6900" href="Terms.Operations.html#6900" class="Bound">x</a> <a id="6902" class="Symbol">→</a> <a id="6904" class="Symbol">(</a><a id="6905" href="Terms.Operations.html#6649" class="Function">compatible-term</a> <a id="6921" class="Symbol">(</a><a id="6922" href="Terms.Operations.html#6877" class="Bound">𝑡</a> <a id="6924" href="Terms.Operations.html#6900" class="Bound">x</a><a id="6925" class="Symbol">)</a> <a id="6927" href="Terms.Operations.html#6880" class="Bound">θ</a><a id="6928" class="Symbol">)</a> <a id="6930" href="Terms.Operations.html#6882" class="Bound">p</a>

</pre>

For the sake of comparison, here is the analogous theorem using `compatible-fun'`.

<pre class="Agda">

 <a id="7044" href="Terms.Operations.html#7044" class="Function">compatible-term&#39;</a> <a id="7061" class="Symbol">:</a> <a id="7063" class="Symbol">{</a><a id="7064" href="Terms.Operations.html#7064" class="Bound">𝑨</a> <a id="7066" class="Symbol">:</a> <a id="7068" href="Algebras.Algebras.html#694" class="Function">Algebra</a> <a id="7076" href="Terms.Operations.html#6618" class="Bound">𝓤</a> <a id="7078" href="Terms.Operations.html#646" class="Bound">𝑆</a><a id="7079" class="Symbol">}(</a><a id="7081" href="Terms.Operations.html#7081" class="Bound">t</a> <a id="7083" class="Symbol">:</a> <a id="7085" href="Terms.Basic.html#2322" class="Datatype">Term</a> <a id="7090" href="Terms.Operations.html#6632" class="Bound">X</a><a id="7091" class="Symbol">)(</a><a id="7093" href="Terms.Operations.html#7093" class="Bound">θ</a> <a id="7095" class="Symbol">:</a> <a id="7097" href="Algebras.Congruences.html#982" class="Function">Con</a> <a id="7101" href="Terms.Operations.html#7064" class="Bound">𝑨</a><a id="7102" class="Symbol">)</a>
                    <a id="7124" class="Comment">-----------------------------------------</a>
  <a id="7168" class="Symbol">→</a>                 <a id="7186" href="Relations.Discrete.html#10406" class="Function">compatible-fun&#39;</a> <a id="7202" class="Symbol">(</a><a id="7203" href="Terms.Operations.html#7081" class="Bound">t</a> <a id="7205" href="Terms.Operations.html#1741" class="Function Operator">̇</a> <a id="7207" href="Terms.Operations.html#7064" class="Bound">𝑨</a><a id="7208" class="Symbol">)</a> <a id="7210" href="Prelude.Preliminaries.html#13518" class="Function Operator">∣</a> <a id="7212" href="Terms.Operations.html#7093" class="Bound">θ</a> <a id="7214" href="Prelude.Preliminaries.html#13518" class="Function Operator">∣</a>

 <a id="7218" href="Terms.Operations.html#7044" class="Function">compatible-term&#39;</a> <a id="7235" class="Symbol">(</a><a id="7236" href="Terms.Operations.html#753" class="InductiveConstructor">ℊ</a> <a id="7238" href="Terms.Operations.html#7238" class="Bound">x</a><a id="7239" class="Symbol">)</a> <a id="7241" href="Terms.Operations.html#7241" class="Bound">θ</a> <a id="7243" href="Terms.Operations.html#7243" class="Bound">p</a> <a id="7245" class="Symbol">=</a> <a id="7247" class="Symbol">λ</a> <a id="7249" href="Terms.Operations.html#7249" class="Bound">y</a> <a id="7251" href="Terms.Operations.html#7251" class="Bound">z</a> <a id="7253" class="Symbol">→</a> <a id="7255" href="Terms.Operations.html#7251" class="Bound">z</a> <a id="7257" href="Terms.Operations.html#7238" class="Bound">x</a>

 <a id="7261" href="Terms.Operations.html#7044" class="Function">compatible-term&#39;</a> <a id="7278" class="Symbol">(</a><a id="7279" href="Terms.Basic.html#2395" class="InductiveConstructor">node</a> <a id="7284" href="Terms.Operations.html#7284" class="Bound">𝑓</a> <a id="7286" href="Terms.Operations.html#7286" class="Bound">𝑡</a><a id="7287" class="Symbol">)</a> <a id="7289" href="Terms.Operations.html#7289" class="Bound">θ</a> <a id="7291" href="Terms.Operations.html#7291" class="Bound">𝑎</a> <a id="7293" href="Terms.Operations.html#7293" class="Bound">𝑎&#39;</a> <a id="7296" href="Terms.Operations.html#7296" class="Bound">p</a> <a id="7298" class="Symbol">=</a> <a id="7300" href="Prelude.Preliminaries.html#13600" class="Function">snd</a> <a id="7304" href="Prelude.Preliminaries.html#13596" class="Function Operator">∥</a> <a id="7306" href="Terms.Operations.html#7289" class="Bound">θ</a> <a id="7308" href="Prelude.Preliminaries.html#13596" class="Function Operator">∥</a> <a id="7310" href="Terms.Operations.html#7284" class="Bound">𝑓</a> <a id="7312" class="Symbol">λ</a> <a id="7314" href="Terms.Operations.html#7314" class="Bound">x</a> <a id="7316" class="Symbol">→</a> <a id="7318" class="Symbol">((</a><a id="7320" href="Terms.Operations.html#7044" class="Function">compatible-term&#39;</a> <a id="7337" class="Symbol">(</a><a id="7338" href="Terms.Operations.html#7286" class="Bound">𝑡</a> <a id="7340" href="Terms.Operations.html#7314" class="Bound">x</a><a id="7341" class="Symbol">)</a> <a id="7343" href="Terms.Operations.html#7289" class="Bound">θ</a><a id="7344" class="Symbol">)</a> <a id="7346" href="Terms.Operations.html#7291" class="Bound">𝑎</a> <a id="7348" href="Terms.Operations.html#7293" class="Bound">𝑎&#39;</a><a id="7350" class="Symbol">)</a> <a id="7352" href="Terms.Operations.html#7296" class="Bound">p</a>


</pre>

--------------------------------------

<sup>1</sup><span class="footnote" id="fn1">We plan to resolve this before the next major release of the \agdaualib.</span>

<br>
<br>

[← Terms.Basic](Terms.Basic.html)
<span style="float:right;">[Subalgebras →](Subalgebras.html)</span>

{% include UALib.Links.md %}



<!--
Here is an intensional version.

comm-hom-term-intensional : global-dfunext → {𝓤 𝓦 𝓧 : Universe}{X : 𝓧 ̇}
 →                          (𝑨 : Algebra 𝓤 𝑆)(𝑩 : Algebra 𝓦 𝑆)(h : hom 𝑨 𝑩)(t : Term X)
                            -------------------------------------------------------------
 →                          ∣ h ∣ ∘ (t ̇ 𝑨) ≡ (t ̇ 𝑩) ∘ (λ a → ∣ h ∣ ∘ a)

comm-hom-term-intensional gfe 𝑨 𝑩 h (ℊ x) = 𝓇ℯ𝒻𝓁

comm-hom-term-intensional gfe {X = X} 𝑨 𝑩 h (node f 𝑡) = γ
 where
  γ : ∣ h ∣ ∘ (λ a → (f ̂ 𝑨) (λ i → (𝑡 i ̇ 𝑨) a)) ≡ (λ a → (f ̂ 𝑩)(λ i → (𝑡 i ̇ 𝑩) a)) ∘ _∘_ ∣ h ∣
  γ = (λ a → ∣ h ∣ ((f ̂ 𝑨)(λ i → (𝑡 i ̇ 𝑨) a)))     ≡⟨ gfe (λ a → ∥ h ∥ f ( λ r → (𝑡 r ̇ 𝑨) a )) ⟩
      (λ a → (f ̂ 𝑩)(λ i → ∣ h ∣ ((𝑡 i ̇ 𝑨) a)))     ≡⟨ ap (λ - → (λ a → (f ̂ 𝑩)(- a))) ih ⟩
      (λ a → (f ̂ 𝑩)(λ i → (𝑡 i ̇ 𝑩) a)) ∘ _∘_ ∣ h ∣ ∎
   where
    IH : ∀ a i → (∣ h ∣ ∘ (𝑡 i ̇ 𝑨)) a ≡ ((𝑡 i ̇ 𝑩) ∘ _∘_ ∣ h ∣) a
    IH a i = extfun (comm-hom-term-intensional gfe 𝑨 𝑩 h (𝑡 i)) a

    ih : (λ a → (λ i → ∣ h ∣ ((𝑡 i ̇ 𝑨) a))) ≡ (λ a → (λ i → ((𝑡 i ̇ 𝑩) ∘ _∘_ ∣ h ∣) a))
    ih = gfe λ a → gfe λ i → IH a i

-->
