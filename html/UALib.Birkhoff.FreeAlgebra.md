---
layout: default
title : UALib.Birkhoff.FreeAlgebra (The Agda Universal Algebra Library)
date : 2021-01-14
author: William DeMeo
---

### <a id="the-free-algebra">The Free Algebra</a>

#### <a id="the-free-algebra-in-theory">The free algebra in theory</a>

Recall, we proved in [the universal property](UALib.Terms.Free.html#the-universal-property) section of the [UALib.Terms.Free][] module that the term algebra `𝑻 X` is the absolutely free algebra in the class 𝒜𝓁ℊ(𝑆) of all 𝑆-structures. In this section, we formalize, for a given class 𝒦 of 𝑆-algebras, the (relatively) free algebra in `S(P 𝒦)` over X.

We use the next definition to take a free algebra *for* a class 𝒦 and produce the free algebra *in* 𝒦.

Θ(𝒦, 𝑨) := {θ ∈ Con 𝑨 : 𝑨 / θ ∈ (S 𝒦)} &nbsp; &nbsp; and &nbsp; &nbsp; ψ(𝒦, 𝑨) := ⋂ Θ(𝒦, 𝑨).

Notice that Θ(𝒦, 𝑨) may be empty, in which case ψ(𝒦, 𝑨) = 1 and then 𝑨 / ψ(𝒦, 𝑨) is trivial.

The free algebra is constructed by applying the above definitions to the special case in which 𝑨 is the term algebra `𝑻 X` of 𝑆-terms over X.

Since `𝑻 X` is free for (and in) the class 𝒜𝓁ℊ(𝑆) of all 𝑆-algebras, it follows that `𝑻 X` is free for every subclass 𝒦 of 𝒜𝓁ℊ(𝑆). Of course, `𝑻 X` is not necessarily a member of 𝒦, but if we form the quotient of `𝑻 X` modulo the congruence ψ(𝒦, 𝑻 X), which we denote by `𝔉 = (𝑻 X) / ψ(𝒦, 𝑻 X)`, then it's not hard to see that 𝔉 is a subdirect product of the algebras in `{(𝑻 𝑋) / θ}`, where θ ranges over Θ(𝒦, 𝑻 X), so 𝔉 belongs to `S(P 𝒦)`, and it follows that 𝔉 satisfies all the identities satisfied by all members of 𝒦.  Indeed, for each pair `p q : 𝑻 X`, if `𝒦 ⊧ p ≈ q`, then p and q must belong to the same ψ(𝒦, 𝑻 X)-class, so p and q are identified in the quotient 𝔉.

The 𝔉 that we have just defined is called the **free algebra over** 𝒦 **generated by** `X` and (because of what we just observed) we may say that 𝔉 is free *in* `S(P 𝒦)`.


#### <a id="the-free-algebra-in-agda">The free algebra in Agda</a>

This section presents the [UALib.Birkhoff.FreeAlgebra][] module of the [Agda Universal Algebra Library][].  Here we represent 𝔉 as a type in Agda by first constructing the congruence ψ(𝒦, 𝑻 𝑋) described above.

<pre class="Agda">

<a id="2191" class="Symbol">{-#</a> <a id="2195" class="Keyword">OPTIONS</a> <a id="2203" class="Pragma">--without-K</a> <a id="2215" class="Pragma">--exact-split</a> <a id="2229" class="Pragma">--safe</a> <a id="2236" class="Symbol">#-}</a>

<a id="2241" class="Keyword">open</a> <a id="2246" class="Keyword">import</a> <a id="2253" href="UALib.Algebras.html" class="Module">UALib.Algebras</a> <a id="2268" class="Keyword">using</a> <a id="2274" class="Symbol">(</a><a id="2275" href="UALib.Algebras.Signatures.html#1377" class="Function">Signature</a><a id="2284" class="Symbol">;</a> <a id="2286" href="universes.html#613" class="Generalizable">𝓞</a><a id="2287" class="Symbol">;</a> <a id="2289" href="universes.html#617" class="Generalizable">𝓥</a><a id="2290" class="Symbol">;</a> <a id="2292" href="UALib.Algebras.Algebras.html#771" class="Function">Algebra</a><a id="2299" class="Symbol">;</a> <a id="2301" href="UALib.Algebras.Algebras.html#3472" class="Function Operator">_↠_</a><a id="2304" class="Symbol">)</a>
<a id="2306" class="Keyword">open</a> <a id="2311" class="Keyword">import</a> <a id="2318" href="UALib.Prelude.Preliminaries.html" class="Module">UALib.Prelude.Preliminaries</a> <a id="2346" class="Keyword">using</a> <a id="2352" class="Symbol">(</a><a id="2353" href="MGS-Subsingleton-Theorems.html#3468" class="Function">global-dfunext</a><a id="2367" class="Symbol">;</a> <a id="2369" href="universes.html#551" class="Postulate">Universe</a><a id="2377" class="Symbol">;</a> <a id="2379" href="universes.html#758" class="Function Operator">_̇</a><a id="2381" class="Symbol">)</a>

<a id="2384" class="Keyword">module</a> <a id="2391" href="UALib.Birkhoff.FreeAlgebra.html" class="Module">UALib.Birkhoff.FreeAlgebra</a> <a id="2418" class="Symbol">{</a><a id="2419" href="UALib.Birkhoff.FreeAlgebra.html#2419" class="Bound">𝑆</a> <a id="2421" class="Symbol">:</a> <a id="2423" href="UALib.Algebras.Signatures.html#1377" class="Function">Signature</a> <a id="2433" href="universes.html#613" class="Generalizable">𝓞</a> <a id="2435" href="universes.html#617" class="Generalizable">𝓥</a><a id="2436" class="Symbol">}{</a><a id="2438" href="UALib.Birkhoff.FreeAlgebra.html#2438" class="Bound">gfe</a> <a id="2442" class="Symbol">:</a> <a id="2444" href="MGS-Subsingleton-Theorems.html#3468" class="Function">global-dfunext</a><a id="2458" class="Symbol">}</a> <a id="2460" class="Keyword">where</a>

<a id="2467" class="Keyword">open</a> <a id="2472" class="Keyword">import</a> <a id="2479" href="UALib.Varieties.Preservation.html" class="Module">UALib.Varieties.Preservation</a> <a id="2508" class="Symbol">{</a><a id="2509" class="Argument">𝑆</a> <a id="2511" class="Symbol">=</a> <a id="2513" href="UALib.Birkhoff.FreeAlgebra.html#2419" class="Bound">𝑆</a><a id="2514" class="Symbol">}{</a><a id="2516" href="UALib.Birkhoff.FreeAlgebra.html#2438" class="Bound">gfe</a><a id="2519" class="Symbol">}</a> <a id="2521" class="Keyword">public</a>

</pre>

We assume two ambient universes 𝓤 and 𝓧, as well as a type `X : 𝓧 ̇`. As usual, this is accomplished with the `module` directive.

<pre class="Agda">

<a id="2686" class="Keyword">module</a> <a id="the-free-algebra"></a><a id="2693" href="UALib.Birkhoff.FreeAlgebra.html#2693" class="Module">the-free-algebra</a> <a id="2710" class="Symbol">{</a><a id="2711" href="UALib.Birkhoff.FreeAlgebra.html#2711" class="Bound">𝓤</a> <a id="2713" href="UALib.Birkhoff.FreeAlgebra.html#2713" class="Bound">𝓧</a> <a id="2715" class="Symbol">:</a> <a id="2717" href="universes.html#551" class="Postulate">Universe</a><a id="2725" class="Symbol">}{</a><a id="2727" href="UALib.Birkhoff.FreeAlgebra.html#2727" class="Bound">X</a> <a id="2729" class="Symbol">:</a> <a id="2731" href="UALib.Birkhoff.FreeAlgebra.html#2713" class="Bound">𝓧</a> <a id="2733" href="universes.html#758" class="Function Operator">̇</a><a id="2734" class="Symbol">}</a> <a id="2736" class="Keyword">where</a>

 <a id="2744" class="Comment">-- NOTATION (universe aliases for convenience and readability).</a>
 <a id="the-free-algebra.𝓸𝓿𝓾"></a><a id="2809" href="UALib.Birkhoff.FreeAlgebra.html#2809" class="Function">𝓸𝓿𝓾</a> <a id="the-free-algebra.𝓸𝓿𝓾+"></a><a id="2813" href="UALib.Birkhoff.FreeAlgebra.html#2813" class="Function">𝓸𝓿𝓾+</a> <a id="the-free-algebra.𝓸𝓿𝓾++"></a><a id="2818" href="UALib.Birkhoff.FreeAlgebra.html#2818" class="Function">𝓸𝓿𝓾++</a> <a id="2824" class="Symbol">:</a> <a id="2826" href="universes.html#551" class="Postulate">Universe</a>
 <a id="2836" href="UALib.Birkhoff.FreeAlgebra.html#2809" class="Function">𝓸𝓿𝓾</a> <a id="2840" class="Symbol">=</a> <a id="2842" href="UALib.Algebras.Products.html#2030" class="Function">ov</a> <a id="2845" href="UALib.Birkhoff.FreeAlgebra.html#2711" class="Bound">𝓤</a>
 <a id="2848" href="UALib.Birkhoff.FreeAlgebra.html#2813" class="Function">𝓸𝓿𝓾+</a> <a id="2853" class="Symbol">=</a> <a id="2855" href="UALib.Birkhoff.FreeAlgebra.html#2809" class="Function">𝓸𝓿𝓾</a> <a id="2859" href="universes.html#527" class="Function Operator">⁺</a>
 <a id="2862" href="UALib.Birkhoff.FreeAlgebra.html#2818" class="Function">𝓸𝓿𝓾++</a> <a id="2868" class="Symbol">=</a> <a id="2870" href="UALib.Birkhoff.FreeAlgebra.html#2809" class="Function">𝓸𝓿𝓾</a> <a id="2874" href="universes.html#527" class="Function Operator">⁺</a> <a id="2876" href="universes.html#527" class="Function Operator">⁺</a>
</pre>

One could define the collection `𝑻img` of all homomorphic images of the term algebra that belong to a given class 𝒦 as follows.

<pre class="Agda">

 <a id="3034" class="Comment">-- H (𝑻 X)  (hom images of 𝑻 X)</a>
 <a id="the-free-algebra.𝑻img"></a><a id="3067" href="UALib.Birkhoff.FreeAlgebra.html#3067" class="Function">𝑻img</a> <a id="3072" class="Symbol">:</a> <a id="3074" href="UALib.Relations.Unary.html#1078" class="Function">Pred</a> <a id="3079" class="Symbol">(</a><a id="3080" href="UALib.Algebras.Algebras.html#771" class="Function">Algebra</a> <a id="3088" href="UALib.Birkhoff.FreeAlgebra.html#2711" class="Bound">𝓤</a> <a id="3090" href="UALib.Birkhoff.FreeAlgebra.html#2419" class="Bound">𝑆</a><a id="3091" class="Symbol">)</a> <a id="3093" href="UALib.Birkhoff.FreeAlgebra.html#2809" class="Function">𝓸𝓿𝓾</a> <a id="3097" class="Symbol">→</a> <a id="3099" href="UALib.Birkhoff.FreeAlgebra.html#2809" class="Function">𝓸𝓿𝓾</a> <a id="3103" href="Agda.Primitive.html#636" class="Function Operator">⊔</a> <a id="3105" href="UALib.Birkhoff.FreeAlgebra.html#2713" class="Bound">𝓧</a> <a id="3107" href="universes.html#527" class="Function Operator">⁺</a> <a id="3109" href="universes.html#758" class="Function Operator">̇</a>
 <a id="3112" href="UALib.Birkhoff.FreeAlgebra.html#3067" class="Function">𝑻img</a> <a id="3117" href="UALib.Birkhoff.FreeAlgebra.html#3117" class="Bound">𝒦</a> <a id="3119" class="Symbol">=</a> <a id="3121" href="MGS-MLTT.html#3074" class="Function">Σ</a> <a id="3123" href="UALib.Birkhoff.FreeAlgebra.html#3123" class="Bound">𝑨</a> <a id="3125" href="MGS-MLTT.html#3074" class="Function">꞉</a> <a id="3127" class="Symbol">(</a><a id="3128" href="UALib.Algebras.Algebras.html#771" class="Function">Algebra</a> <a id="3136" href="UALib.Birkhoff.FreeAlgebra.html#2711" class="Bound">𝓤</a> <a id="3138" href="UALib.Birkhoff.FreeAlgebra.html#2419" class="Bound">𝑆</a><a id="3139" class="Symbol">)</a> <a id="3141" href="MGS-MLTT.html#3074" class="Function">,</a> <a id="3143" href="MGS-MLTT.html#3074" class="Function">Σ</a> <a id="3145" href="UALib.Birkhoff.FreeAlgebra.html#3145" class="Bound">ϕ</a> <a id="3147" href="MGS-MLTT.html#3074" class="Function">꞉</a> <a id="3149" href="UALib.Homomorphisms.Basic.html#1984" class="Function">hom</a> <a id="3153" class="Symbol">(</a><a id="3154" href="UALib.Terms.Basic.html#3406" class="Function">𝑻</a> <a id="3156" href="UALib.Birkhoff.FreeAlgebra.html#2727" class="Bound">X</a><a id="3157" class="Symbol">)</a> <a id="3159" href="UALib.Birkhoff.FreeAlgebra.html#3123" class="Bound">𝑨</a> <a id="3161" href="MGS-MLTT.html#3074" class="Function">,</a> <a id="3163" class="Symbol">(</a><a id="3164" href="UALib.Birkhoff.FreeAlgebra.html#3123" class="Bound">𝑨</a> <a id="3166" href="UALib.Relations.Unary.html#2739" class="Function Operator">∈</a> <a id="3168" href="UALib.Birkhoff.FreeAlgebra.html#3117" class="Bound">𝒦</a><a id="3169" class="Symbol">)</a> <a id="3171" href="MGS-MLTT.html#3515" class="Function Operator">×</a> <a id="3173" href="UALib.Prelude.Inverses.html#2353" class="Function">Epic</a> <a id="3178" href="UALib.Prelude.Preliminaries.html#11659" class="Function Operator">∣</a> <a id="3180" href="UALib.Birkhoff.FreeAlgebra.html#3145" class="Bound">ϕ</a> <a id="3182" href="UALib.Prelude.Preliminaries.html#11659" class="Function Operator">∣</a>

</pre>

The inhabitants of this Sigma type represent algebras 𝑨 ∈ 𝒦 such that there exists a surjective homomorphism ϕ : hom (𝑻 X) 𝑨. Thus, 𝑻img represents the collection of all homomorphic images of 𝑻 X that belong to 𝒦.  Of course, this is the entire class 𝒦, since the term algebra is absolutely free. Nonetheless, this representation of 𝒦 is useful since it endows each element with extra information.  Indeed, each inhabitant of 𝑻img 𝒦 is a quadruple, (𝑨 , ϕ , ka, p), where 𝑨 is an 𝑆-algebra, ϕ is a homomorphism from 𝑻 X to 𝑨, ka is a proof that 𝑨 belongs to 𝒦, and p is a proof that the underlying map ∣ ϕ ∣ is epic.

The next function, `mkti`, that takes an arbitrary algebra 𝑨 in 𝒦 and a mapping X → ∣ 𝑨 ∣ and returns the corresponding quadruple in `𝑻img 𝒦`.

<pre class="Agda">

 <a id="the-free-algebra.mkti"></a><a id="3974" href="UALib.Birkhoff.FreeAlgebra.html#3974" class="Function">mkti</a> <a id="3979" class="Symbol">:</a> <a id="3981" class="Symbol">{</a><a id="3982" href="UALib.Birkhoff.FreeAlgebra.html#3982" class="Bound">𝒦</a> <a id="3984" class="Symbol">:</a> <a id="3986" href="UALib.Relations.Unary.html#1078" class="Function">Pred</a> <a id="3991" class="Symbol">(</a><a id="3992" href="UALib.Algebras.Algebras.html#771" class="Function">Algebra</a> <a id="4000" href="UALib.Birkhoff.FreeAlgebra.html#2711" class="Bound">𝓤</a> <a id="4002" href="UALib.Birkhoff.FreeAlgebra.html#2419" class="Bound">𝑆</a><a id="4003" class="Symbol">)</a><a id="4004" href="UALib.Birkhoff.FreeAlgebra.html#2809" class="Function">𝓸𝓿𝓾</a><a id="4007" class="Symbol">}(</a><a id="4009" href="UALib.Birkhoff.FreeAlgebra.html#4009" class="Bound">𝑨</a> <a id="4011" class="Symbol">:</a> <a id="4013" href="UALib.Algebras.Algebras.html#771" class="Function">Algebra</a> <a id="4021" href="UALib.Birkhoff.FreeAlgebra.html#2711" class="Bound">𝓤</a> <a id="4023" href="UALib.Birkhoff.FreeAlgebra.html#2419" class="Bound">𝑆</a><a id="4024" class="Symbol">)(</a><a id="4026" href="UALib.Birkhoff.FreeAlgebra.html#4026" class="Bound">h</a> <a id="4028" class="Symbol">:</a> <a id="4030" href="UALib.Birkhoff.FreeAlgebra.html#2727" class="Bound">X</a> <a id="4032" class="Symbol">→</a> <a id="4034" href="UALib.Prelude.Preliminaries.html#11659" class="Function Operator">∣</a> <a id="4036" href="UALib.Birkhoff.FreeAlgebra.html#4009" class="Bound">𝑨</a> <a id="4038" href="UALib.Prelude.Preliminaries.html#11659" class="Function Operator">∣</a><a id="4039" class="Symbol">)</a> <a id="4041" class="Symbol">→</a> <a id="4043" href="UALib.Prelude.Inverses.html#2353" class="Function">Epic</a> <a id="4048" href="UALib.Birkhoff.FreeAlgebra.html#4026" class="Bound">h</a> <a id="4050" class="Symbol">→</a> <a id="4052" href="UALib.Birkhoff.FreeAlgebra.html#4009" class="Bound">𝑨</a> <a id="4054" href="UALib.Relations.Unary.html#2739" class="Function Operator">∈</a> <a id="4056" href="UALib.Birkhoff.FreeAlgebra.html#3982" class="Bound">𝒦</a> <a id="4058" class="Symbol">→</a> <a id="4060" href="UALib.Birkhoff.FreeAlgebra.html#3067" class="Function">𝑻img</a> <a id="4065" href="UALib.Birkhoff.FreeAlgebra.html#3982" class="Bound">𝒦</a>
 <a id="4068" href="UALib.Birkhoff.FreeAlgebra.html#3974" class="Function">mkti</a> <a id="4073" href="UALib.Birkhoff.FreeAlgebra.html#4073" class="Bound">𝑨</a> <a id="4075" href="UALib.Birkhoff.FreeAlgebra.html#4075" class="Bound">h</a> <a id="4077" href="UALib.Birkhoff.FreeAlgebra.html#4077" class="Bound">hE</a> <a id="4080" href="UALib.Birkhoff.FreeAlgebra.html#4080" class="Bound">ka</a> <a id="4083" class="Symbol">=</a> <a id="4085" class="Symbol">(</a><a id="4086" href="UALib.Birkhoff.FreeAlgebra.html#4073" class="Bound">𝑨</a> <a id="4088" href="UALib.Prelude.Preliminaries.html#5665" class="InductiveConstructor Operator">,</a> <a id="4090" href="UALib.Terms.Basic.html#4199" class="Function">lift-hom</a> <a id="4099" href="UALib.Birkhoff.FreeAlgebra.html#4073" class="Bound">𝑨</a> <a id="4101" href="UALib.Birkhoff.FreeAlgebra.html#4075" class="Bound">h</a> <a id="4103" href="UALib.Prelude.Preliminaries.html#5665" class="InductiveConstructor Operator">,</a> <a id="4105" href="UALib.Birkhoff.FreeAlgebra.html#4080" class="Bound">ka</a> <a id="4108" href="UALib.Prelude.Preliminaries.html#5665" class="InductiveConstructor Operator">,</a> <a id="4110" href="UALib.Terms.Basic.html#5690" class="Function">lift-of-epi-is-epi</a> <a id="4129" href="UALib.Birkhoff.FreeAlgebra.html#4073" class="Bound">𝑨</a> <a id="4131" href="UALib.Birkhoff.FreeAlgebra.html#4075" class="Bound">h</a> <a id="4133" href="UALib.Birkhoff.FreeAlgebra.html#4077" class="Bound">hE</a><a id="4135" class="Symbol">)</a>

</pre>

We now construct the congruence relation `ψCon`, modulo which `𝑻 X` will yield the relatively free algebra, `𝔉 𝒦 X := 𝑻 X ╱ ψCon`. We start by letting ψ be the collection of all identities (p, q) satisfied by all subalgebras of algebras in 𝒦.

<pre class="Agda">

 <a id="the-free-algebra.ψ"></a><a id="4409" href="UALib.Birkhoff.FreeAlgebra.html#4409" class="Function">ψ</a> <a id="4411" class="Symbol">:</a> <a id="4413" class="Symbol">(</a><a id="4414" href="UALib.Birkhoff.FreeAlgebra.html#4414" class="Bound">𝒦</a> <a id="4416" class="Symbol">:</a> <a id="4418" href="UALib.Relations.Unary.html#1078" class="Function">Pred</a> <a id="4423" class="Symbol">(</a><a id="4424" href="UALib.Algebras.Algebras.html#771" class="Function">Algebra</a> <a id="4432" href="UALib.Birkhoff.FreeAlgebra.html#2711" class="Bound">𝓤</a> <a id="4434" href="UALib.Birkhoff.FreeAlgebra.html#2419" class="Bound">𝑆</a><a id="4435" class="Symbol">)</a> <a id="4437" href="UALib.Birkhoff.FreeAlgebra.html#2809" class="Function">𝓸𝓿𝓾</a><a id="4440" class="Symbol">)</a> <a id="4442" class="Symbol">→</a> <a id="4444" href="UALib.Relations.Unary.html#1078" class="Function">Pred</a> <a id="4449" class="Symbol">(</a><a id="4450" href="UALib.Prelude.Preliminaries.html#11659" class="Function Operator">∣</a> <a id="4452" href="UALib.Terms.Basic.html#3406" class="Function">𝑻</a> <a id="4454" href="UALib.Birkhoff.FreeAlgebra.html#2727" class="Bound">X</a> <a id="4456" href="UALib.Prelude.Preliminaries.html#11659" class="Function Operator">∣</a> <a id="4458" href="MGS-MLTT.html#3515" class="Function Operator">×</a> <a id="4460" href="UALib.Prelude.Preliminaries.html#11659" class="Function Operator">∣</a> <a id="4462" href="UALib.Terms.Basic.html#3406" class="Function">𝑻</a> <a id="4464" href="UALib.Birkhoff.FreeAlgebra.html#2727" class="Bound">X</a> <a id="4466" href="UALib.Prelude.Preliminaries.html#11659" class="Function Operator">∣</a><a id="4467" class="Symbol">)</a> <a id="4469" class="Symbol">(</a><a id="4470" href="UALib.Birkhoff.FreeAlgebra.html#2713" class="Bound">𝓧</a> <a id="4472" href="Agda.Primitive.html#636" class="Function Operator">⊔</a> <a id="4474" href="UALib.Birkhoff.FreeAlgebra.html#2809" class="Function">𝓸𝓿𝓾</a><a id="4477" class="Symbol">)</a>
 <a id="4480" href="UALib.Birkhoff.FreeAlgebra.html#4409" class="Function">ψ</a> <a id="4482" href="UALib.Birkhoff.FreeAlgebra.html#4482" class="Bound">𝒦</a> <a id="4484" class="Symbol">(</a><a id="4485" href="UALib.Birkhoff.FreeAlgebra.html#4485" class="Bound">p</a> <a id="4487" href="UALib.Prelude.Preliminaries.html#5665" class="InductiveConstructor Operator">,</a> <a id="4489" href="UALib.Birkhoff.FreeAlgebra.html#4489" class="Bound">q</a><a id="4490" class="Symbol">)</a> <a id="4492" class="Symbol">=</a> <a id="4494" class="Symbol">∀(</a><a id="4496" href="UALib.Birkhoff.FreeAlgebra.html#4496" class="Bound">𝑨</a> <a id="4498" class="Symbol">:</a> <a id="4500" href="UALib.Algebras.Algebras.html#771" class="Function">Algebra</a> <a id="4508" href="UALib.Birkhoff.FreeAlgebra.html#2711" class="Bound">𝓤</a> <a id="4510" href="UALib.Birkhoff.FreeAlgebra.html#2419" class="Bound">𝑆</a><a id="4511" class="Symbol">)(</a><a id="4513" href="UALib.Birkhoff.FreeAlgebra.html#4513" class="Bound">sA</a> <a id="4516" class="Symbol">:</a> <a id="4518" href="UALib.Birkhoff.FreeAlgebra.html#4496" class="Bound">𝑨</a> <a id="4520" href="UALib.Relations.Unary.html#2739" class="Function Operator">∈</a> <a id="4522" href="UALib.Varieties.Varieties.html#2960" class="Datatype">S</a><a id="4523" class="Symbol">{</a><a id="4524" href="UALib.Birkhoff.FreeAlgebra.html#2711" class="Bound">𝓤</a><a id="4525" class="Symbol">}{</a><a id="4527" href="UALib.Birkhoff.FreeAlgebra.html#2711" class="Bound">𝓤</a><a id="4528" class="Symbol">}</a> <a id="4530" href="UALib.Birkhoff.FreeAlgebra.html#4482" class="Bound">𝒦</a><a id="4531" class="Symbol">)(</a><a id="4533" href="UALib.Birkhoff.FreeAlgebra.html#4533" class="Bound">h</a> <a id="4535" class="Symbol">:</a> <a id="4537" href="UALib.Birkhoff.FreeAlgebra.html#2727" class="Bound">X</a> <a id="4539" class="Symbol">→</a> <a id="4541" href="UALib.Prelude.Preliminaries.html#11659" class="Function Operator">∣</a> <a id="4543" href="UALib.Birkhoff.FreeAlgebra.html#4496" class="Bound">𝑨</a> <a id="4545" href="UALib.Prelude.Preliminaries.html#11659" class="Function Operator">∣</a> <a id="4547" class="Symbol">)</a>
                 <a id="4566" class="Symbol">→</a>  <a id="4569" class="Symbol">(</a><a id="4570" href="UALib.Terms.Basic.html#3932" class="Function">free-lift</a> <a id="4580" href="UALib.Birkhoff.FreeAlgebra.html#4496" class="Bound">𝑨</a> <a id="4582" href="UALib.Birkhoff.FreeAlgebra.html#4533" class="Bound">h</a><a id="4583" class="Symbol">)</a> <a id="4585" href="UALib.Birkhoff.FreeAlgebra.html#4485" class="Bound">p</a> <a id="4587" href="UALib.Prelude.Preliminaries.html#5556" class="Datatype Operator">≡</a> <a id="4589" class="Symbol">(</a><a id="4590" href="UALib.Terms.Basic.html#3932" class="Function">free-lift</a> <a id="4600" href="UALib.Birkhoff.FreeAlgebra.html#4496" class="Bound">𝑨</a> <a id="4602" href="UALib.Birkhoff.FreeAlgebra.html#4533" class="Bound">h</a><a id="4603" class="Symbol">)</a> <a id="4605" href="UALib.Birkhoff.FreeAlgebra.html#4489" class="Bound">q</a>

</pre>

We convert the predicate ψ into a relation by [currying](https://en.wikipedia.org/wiki/Currying).

<pre class="Agda">

 <a id="the-free-algebra.ψRel"></a><a id="4734" href="UALib.Birkhoff.FreeAlgebra.html#4734" class="Function">ψRel</a> <a id="4739" class="Symbol">:</a> <a id="4741" class="Symbol">(</a><a id="4742" href="UALib.Birkhoff.FreeAlgebra.html#4742" class="Bound">𝒦</a> <a id="4744" class="Symbol">:</a> <a id="4746" href="UALib.Relations.Unary.html#1078" class="Function">Pred</a> <a id="4751" class="Symbol">(</a><a id="4752" href="UALib.Algebras.Algebras.html#771" class="Function">Algebra</a> <a id="4760" href="UALib.Birkhoff.FreeAlgebra.html#2711" class="Bound">𝓤</a> <a id="4762" href="UALib.Birkhoff.FreeAlgebra.html#2419" class="Bound">𝑆</a><a id="4763" class="Symbol">)</a> <a id="4765" href="UALib.Birkhoff.FreeAlgebra.html#2809" class="Function">𝓸𝓿𝓾</a><a id="4768" class="Symbol">)</a> <a id="4770" class="Symbol">→</a> <a id="4772" href="UALib.Relations.Binary.html#1475" class="Function">Rel</a> <a id="4776" href="UALib.Prelude.Preliminaries.html#11659" class="Function Operator">∣</a> <a id="4778" class="Symbol">(</a><a id="4779" href="UALib.Terms.Basic.html#3406" class="Function">𝑻</a> <a id="4781" href="UALib.Birkhoff.FreeAlgebra.html#2727" class="Bound">X</a><a id="4782" class="Symbol">)</a> <a id="4784" href="UALib.Prelude.Preliminaries.html#11659" class="Function Operator">∣</a> <a id="4786" class="Symbol">(</a><a id="4787" href="UALib.Birkhoff.FreeAlgebra.html#2713" class="Bound">𝓧</a> <a id="4789" href="Agda.Primitive.html#636" class="Function Operator">⊔</a> <a id="4791" href="UALib.Birkhoff.FreeAlgebra.html#2809" class="Function">𝓸𝓿𝓾</a><a id="4794" class="Symbol">)</a>
 <a id="4797" href="UALib.Birkhoff.FreeAlgebra.html#4734" class="Function">ψRel</a> <a id="4802" href="UALib.Birkhoff.FreeAlgebra.html#4802" class="Bound">𝒦</a> <a id="4804" href="UALib.Birkhoff.FreeAlgebra.html#4804" class="Bound">p</a> <a id="4806" href="UALib.Birkhoff.FreeAlgebra.html#4806" class="Bound">q</a> <a id="4808" class="Symbol">=</a> <a id="4810" href="UALib.Birkhoff.FreeAlgebra.html#4409" class="Function">ψ</a> <a id="4812" href="UALib.Birkhoff.FreeAlgebra.html#4802" class="Bound">𝒦</a> <a id="4814" class="Symbol">(</a><a id="4815" href="UALib.Birkhoff.FreeAlgebra.html#4804" class="Bound">p</a> <a id="4817" href="UALib.Prelude.Preliminaries.html#5665" class="InductiveConstructor Operator">,</a> <a id="4819" href="UALib.Birkhoff.FreeAlgebra.html#4806" class="Bound">q</a><a id="4820" class="Symbol">)</a>

</pre>

To express `ψRel` as a congruence of the term algebra `𝑻 X`, we must prove that

1. `ψRel` is compatible with the operations of `𝑻 X` (which are jsut the terms themselves) and
2. `ψRel` it is an equivalence relation.

<pre class="Agda">

 <a id="the-free-algebra.ψcompatible"></a><a id="5068" href="UALib.Birkhoff.FreeAlgebra.html#5068" class="Function">ψcompatible</a> <a id="5080" class="Symbol">:</a> <a id="5082" class="Symbol">(</a><a id="5083" href="UALib.Birkhoff.FreeAlgebra.html#5083" class="Bound">𝒦</a> <a id="5085" class="Symbol">:</a> <a id="5087" href="UALib.Relations.Unary.html#1078" class="Function">Pred</a> <a id="5092" class="Symbol">(</a><a id="5093" href="UALib.Algebras.Algebras.html#771" class="Function">Algebra</a> <a id="5101" href="UALib.Birkhoff.FreeAlgebra.html#2711" class="Bound">𝓤</a> <a id="5103" href="UALib.Birkhoff.FreeAlgebra.html#2419" class="Bound">𝑆</a><a id="5104" class="Symbol">)</a> <a id="5106" href="UALib.Birkhoff.FreeAlgebra.html#2809" class="Function">𝓸𝓿𝓾</a><a id="5109" class="Symbol">)</a> <a id="5111" class="Symbol">→</a> <a id="5113" href="UALib.Algebras.Algebras.html#5416" class="Function">compatible</a> <a id="5124" class="Symbol">(</a><a id="5125" href="UALib.Terms.Basic.html#3406" class="Function">𝑻</a> <a id="5127" href="UALib.Birkhoff.FreeAlgebra.html#2727" class="Bound">X</a><a id="5128" class="Symbol">)(</a><a id="5130" href="UALib.Birkhoff.FreeAlgebra.html#4734" class="Function">ψRel</a> <a id="5135" href="UALib.Birkhoff.FreeAlgebra.html#5083" class="Bound">𝒦</a><a id="5136" class="Symbol">)</a>
 <a id="5139" href="UALib.Birkhoff.FreeAlgebra.html#5068" class="Function">ψcompatible</a> <a id="5151" href="UALib.Birkhoff.FreeAlgebra.html#5151" class="Bound">𝒦</a> <a id="5153" href="UALib.Birkhoff.FreeAlgebra.html#5153" class="Bound">f</a> <a id="5155" class="Symbol">{</a><a id="5156" href="UALib.Birkhoff.FreeAlgebra.html#5156" class="Bound">i</a><a id="5157" class="Symbol">}</a> <a id="5159" class="Symbol">{</a><a id="5160" href="UALib.Birkhoff.FreeAlgebra.html#5160" class="Bound">j</a><a id="5161" class="Symbol">}</a> <a id="5163" href="UALib.Birkhoff.FreeAlgebra.html#5163" class="Bound">iψj</a> <a id="5167" href="UALib.Birkhoff.FreeAlgebra.html#5167" class="Bound">𝑨</a> <a id="5169" href="UALib.Birkhoff.FreeAlgebra.html#5169" class="Bound">sA</a> <a id="5172" href="UALib.Birkhoff.FreeAlgebra.html#5172" class="Bound">h</a> <a id="5174" class="Symbol">=</a> <a id="5176" href="UALib.Birkhoff.FreeAlgebra.html#5229" class="Function">γ</a>
  <a id="5180" class="Keyword">where</a>
   <a id="5189" href="UALib.Birkhoff.FreeAlgebra.html#5189" class="Function">ϕ</a> <a id="5191" class="Symbol">:</a> <a id="5193" href="UALib.Homomorphisms.Basic.html#1984" class="Function">hom</a> <a id="5197" class="Symbol">(</a><a id="5198" href="UALib.Terms.Basic.html#3406" class="Function">𝑻</a> <a id="5200" href="UALib.Birkhoff.FreeAlgebra.html#2727" class="Bound">X</a><a id="5201" class="Symbol">)</a> <a id="5203" href="UALib.Birkhoff.FreeAlgebra.html#5167" class="Bound">𝑨</a>
   <a id="5208" href="UALib.Birkhoff.FreeAlgebra.html#5189" class="Function">ϕ</a> <a id="5210" class="Symbol">=</a> <a id="5212" href="UALib.Terms.Basic.html#4199" class="Function">lift-hom</a> <a id="5221" href="UALib.Birkhoff.FreeAlgebra.html#5167" class="Bound">𝑨</a> <a id="5223" href="UALib.Birkhoff.FreeAlgebra.html#5172" class="Bound">h</a>

   <a id="5229" href="UALib.Birkhoff.FreeAlgebra.html#5229" class="Function">γ</a> <a id="5231" class="Symbol">:</a> <a id="5233" href="UALib.Prelude.Preliminaries.html#11659" class="Function Operator">∣</a> <a id="5235" href="UALib.Birkhoff.FreeAlgebra.html#5189" class="Function">ϕ</a> <a id="5237" href="UALib.Prelude.Preliminaries.html#11659" class="Function Operator">∣</a> <a id="5239" class="Symbol">((</a><a id="5241" href="UALib.Birkhoff.FreeAlgebra.html#5153" class="Bound">f</a> <a id="5243" href="UALib.Algebras.Algebras.html#2921" class="Function Operator">̂</a> <a id="5245" href="UALib.Terms.Basic.html#3406" class="Function">𝑻</a> <a id="5247" href="UALib.Birkhoff.FreeAlgebra.html#2727" class="Bound">X</a><a id="5248" class="Symbol">)</a> <a id="5250" href="UALib.Birkhoff.FreeAlgebra.html#5156" class="Bound">i</a><a id="5251" class="Symbol">)</a> <a id="5253" href="UALib.Prelude.Preliminaries.html#5556" class="Datatype Operator">≡</a> <a id="5255" href="UALib.Prelude.Preliminaries.html#11659" class="Function Operator">∣</a> <a id="5257" href="UALib.Birkhoff.FreeAlgebra.html#5189" class="Function">ϕ</a> <a id="5259" href="UALib.Prelude.Preliminaries.html#11659" class="Function Operator">∣</a> <a id="5261" class="Symbol">((</a><a id="5263" href="UALib.Birkhoff.FreeAlgebra.html#5153" class="Bound">f</a> <a id="5265" href="UALib.Algebras.Algebras.html#2921" class="Function Operator">̂</a> <a id="5267" href="UALib.Terms.Basic.html#3406" class="Function">𝑻</a> <a id="5269" href="UALib.Birkhoff.FreeAlgebra.html#2727" class="Bound">X</a><a id="5270" class="Symbol">)</a> <a id="5272" href="UALib.Birkhoff.FreeAlgebra.html#5160" class="Bound">j</a><a id="5273" class="Symbol">)</a>
   <a id="5278" href="UALib.Birkhoff.FreeAlgebra.html#5229" class="Function">γ</a> <a id="5280" class="Symbol">=</a> <a id="5282" href="UALib.Prelude.Preliminaries.html#11659" class="Function Operator">∣</a> <a id="5284" href="UALib.Birkhoff.FreeAlgebra.html#5189" class="Function">ϕ</a> <a id="5286" href="UALib.Prelude.Preliminaries.html#11659" class="Function Operator">∣</a> <a id="5288" class="Symbol">((</a><a id="5290" href="UALib.Birkhoff.FreeAlgebra.html#5153" class="Bound">f</a> <a id="5292" href="UALib.Algebras.Algebras.html#2921" class="Function Operator">̂</a> <a id="5294" href="UALib.Terms.Basic.html#3406" class="Function">𝑻</a> <a id="5296" href="UALib.Birkhoff.FreeAlgebra.html#2727" class="Bound">X</a><a id="5297" class="Symbol">)</a> <a id="5299" href="UALib.Birkhoff.FreeAlgebra.html#5156" class="Bound">i</a><a id="5300" class="Symbol">)</a> <a id="5302" href="MGS-MLTT.html#5997" class="Function Operator">≡⟨</a> <a id="5305" href="UALib.Prelude.Preliminaries.html#11740" class="Function Operator">∥</a> <a id="5307" href="UALib.Birkhoff.FreeAlgebra.html#5189" class="Function">ϕ</a> <a id="5309" href="UALib.Prelude.Preliminaries.html#11740" class="Function Operator">∥</a> <a id="5311" href="UALib.Birkhoff.FreeAlgebra.html#5153" class="Bound">f</a> <a id="5313" href="UALib.Birkhoff.FreeAlgebra.html#5156" class="Bound">i</a> <a id="5315" href="MGS-MLTT.html#5997" class="Function Operator">⟩</a>
       <a id="5324" class="Symbol">(</a><a id="5325" href="UALib.Birkhoff.FreeAlgebra.html#5153" class="Bound">f</a> <a id="5327" href="UALib.Algebras.Algebras.html#2921" class="Function Operator">̂</a> <a id="5329" href="UALib.Birkhoff.FreeAlgebra.html#5167" class="Bound">𝑨</a><a id="5330" class="Symbol">)</a> <a id="5332" class="Symbol">(</a><a id="5333" href="UALib.Prelude.Preliminaries.html#11659" class="Function Operator">∣</a> <a id="5335" href="UALib.Birkhoff.FreeAlgebra.html#5189" class="Function">ϕ</a> <a id="5337" href="UALib.Prelude.Preliminaries.html#11659" class="Function Operator">∣</a> <a id="5339" href="MGS-MLTT.html#3813" class="Function Operator">∘</a> <a id="5341" href="UALib.Birkhoff.FreeAlgebra.html#5156" class="Bound">i</a><a id="5342" class="Symbol">)</a> <a id="5344" href="MGS-MLTT.html#5997" class="Function Operator">≡⟨</a> <a id="5347" href="MGS-MLTT.html#6613" class="Function">ap</a> <a id="5350" class="Symbol">(</a><a id="5351" href="UALib.Birkhoff.FreeAlgebra.html#5153" class="Bound">f</a> <a id="5353" href="UALib.Algebras.Algebras.html#2921" class="Function Operator">̂</a> <a id="5355" href="UALib.Birkhoff.FreeAlgebra.html#5167" class="Bound">𝑨</a><a id="5356" class="Symbol">)</a> <a id="5358" class="Symbol">(</a><a id="5359" href="UALib.Birkhoff.FreeAlgebra.html#2438" class="Bound">gfe</a> <a id="5363" class="Symbol">λ</a> <a id="5365" href="UALib.Birkhoff.FreeAlgebra.html#5365" class="Bound">x</a> <a id="5367" class="Symbol">→</a> <a id="5369" class="Symbol">((</a><a id="5371" href="UALib.Birkhoff.FreeAlgebra.html#5163" class="Bound">iψj</a> <a id="5375" href="UALib.Birkhoff.FreeAlgebra.html#5365" class="Bound">x</a><a id="5376" class="Symbol">)</a> <a id="5378" href="UALib.Birkhoff.FreeAlgebra.html#5167" class="Bound">𝑨</a> <a id="5380" href="UALib.Birkhoff.FreeAlgebra.html#5169" class="Bound">sA</a> <a id="5383" href="UALib.Birkhoff.FreeAlgebra.html#5172" class="Bound">h</a><a id="5384" class="Symbol">))</a> <a id="5387" href="MGS-MLTT.html#5997" class="Function Operator">⟩</a>
       <a id="5396" class="Symbol">(</a><a id="5397" href="UALib.Birkhoff.FreeAlgebra.html#5153" class="Bound">f</a> <a id="5399" href="UALib.Algebras.Algebras.html#2921" class="Function Operator">̂</a> <a id="5401" href="UALib.Birkhoff.FreeAlgebra.html#5167" class="Bound">𝑨</a><a id="5402" class="Symbol">)</a> <a id="5404" class="Symbol">(</a><a id="5405" href="UALib.Prelude.Preliminaries.html#11659" class="Function Operator">∣</a> <a id="5407" href="UALib.Birkhoff.FreeAlgebra.html#5189" class="Function">ϕ</a> <a id="5409" href="UALib.Prelude.Preliminaries.html#11659" class="Function Operator">∣</a> <a id="5411" href="MGS-MLTT.html#3813" class="Function Operator">∘</a> <a id="5413" href="UALib.Birkhoff.FreeAlgebra.html#5160" class="Bound">j</a><a id="5414" class="Symbol">)</a> <a id="5416" href="MGS-MLTT.html#5997" class="Function Operator">≡⟨</a> <a id="5419" class="Symbol">(</a><a id="5420" href="UALib.Prelude.Preliminaries.html#11740" class="Function Operator">∥</a> <a id="5422" href="UALib.Birkhoff.FreeAlgebra.html#5189" class="Function">ϕ</a> <a id="5424" href="UALib.Prelude.Preliminaries.html#11740" class="Function Operator">∥</a> <a id="5426" href="UALib.Birkhoff.FreeAlgebra.html#5153" class="Bound">f</a> <a id="5428" href="UALib.Birkhoff.FreeAlgebra.html#5160" class="Bound">j</a><a id="5429" class="Symbol">)</a><a id="5430" href="MGS-MLTT.html#6125" class="Function Operator">⁻¹</a> <a id="5433" href="MGS-MLTT.html#5997" class="Function Operator">⟩</a>
       <a id="5442" href="UALib.Prelude.Preliminaries.html#11659" class="Function Operator">∣</a> <a id="5444" href="UALib.Birkhoff.FreeAlgebra.html#5189" class="Function">ϕ</a> <a id="5446" href="UALib.Prelude.Preliminaries.html#11659" class="Function Operator">∣</a> <a id="5448" class="Symbol">((</a><a id="5450" href="UALib.Birkhoff.FreeAlgebra.html#5153" class="Bound">f</a> <a id="5452" href="UALib.Algebras.Algebras.html#2921" class="Function Operator">̂</a> <a id="5454" href="UALib.Terms.Basic.html#3406" class="Function">𝑻</a> <a id="5456" href="UALib.Birkhoff.FreeAlgebra.html#2727" class="Bound">X</a><a id="5457" class="Symbol">)</a> <a id="5459" href="UALib.Birkhoff.FreeAlgebra.html#5160" class="Bound">j</a><a id="5460" class="Symbol">)</a> <a id="5462" href="MGS-MLTT.html#6079" class="Function Operator">∎</a>

 <a id="the-free-algebra.ψRefl"></a><a id="5466" href="UALib.Birkhoff.FreeAlgebra.html#5466" class="Function">ψRefl</a> <a id="5472" class="Symbol">:</a> <a id="5474" class="Symbol">{</a><a id="5475" href="UALib.Birkhoff.FreeAlgebra.html#5475" class="Bound">𝒦</a> <a id="5477" class="Symbol">:</a> <a id="5479" href="UALib.Relations.Unary.html#1078" class="Function">Pred</a> <a id="5484" class="Symbol">(</a><a id="5485" href="UALib.Algebras.Algebras.html#771" class="Function">Algebra</a> <a id="5493" href="UALib.Birkhoff.FreeAlgebra.html#2711" class="Bound">𝓤</a> <a id="5495" href="UALib.Birkhoff.FreeAlgebra.html#2419" class="Bound">𝑆</a><a id="5496" class="Symbol">)</a> <a id="5498" href="UALib.Birkhoff.FreeAlgebra.html#2809" class="Function">𝓸𝓿𝓾</a><a id="5501" class="Symbol">}</a> <a id="5503" class="Symbol">→</a> <a id="5505" href="UALib.Relations.Quotients.html#992" class="Function">reflexive</a> <a id="5515" class="Symbol">(</a><a id="5516" href="UALib.Birkhoff.FreeAlgebra.html#4734" class="Function">ψRel</a> <a id="5521" href="UALib.Birkhoff.FreeAlgebra.html#5475" class="Bound">𝒦</a><a id="5522" class="Symbol">)</a>
 <a id="5525" href="UALib.Birkhoff.FreeAlgebra.html#5466" class="Function">ψRefl</a> <a id="5531" class="Symbol">=</a> <a id="5533" class="Symbol">λ</a> <a id="5535" href="UALib.Birkhoff.FreeAlgebra.html#5535" class="Bound">x</a> <a id="5537" href="UALib.Birkhoff.FreeAlgebra.html#5537" class="Bound">𝑪</a> <a id="5539" href="UALib.Birkhoff.FreeAlgebra.html#5539" class="Bound">ϕ</a> <a id="5541" href="UALib.Birkhoff.FreeAlgebra.html#5541" class="Bound">h</a> <a id="5543" class="Symbol">→</a> <a id="5545" href="UALib.Prelude.Preliminaries.html#5570" class="InductiveConstructor">𝓇ℯ𝒻𝓁</a>

 <a id="the-free-algebra.ψSymm"></a><a id="5552" href="UALib.Birkhoff.FreeAlgebra.html#5552" class="Function">ψSymm</a> <a id="5558" class="Symbol">:</a> <a id="5560" class="Symbol">{</a><a id="5561" href="UALib.Birkhoff.FreeAlgebra.html#5561" class="Bound">𝒦</a> <a id="5563" class="Symbol">:</a> <a id="5565" href="UALib.Relations.Unary.html#1078" class="Function">Pred</a> <a id="5570" class="Symbol">(</a><a id="5571" href="UALib.Algebras.Algebras.html#771" class="Function">Algebra</a> <a id="5579" href="UALib.Birkhoff.FreeAlgebra.html#2711" class="Bound">𝓤</a> <a id="5581" href="UALib.Birkhoff.FreeAlgebra.html#2419" class="Bound">𝑆</a><a id="5582" class="Symbol">)</a> <a id="5584" href="UALib.Birkhoff.FreeAlgebra.html#2809" class="Function">𝓸𝓿𝓾</a><a id="5587" class="Symbol">}</a> <a id="5589" class="Symbol">→</a> <a id="5591" href="UALib.Relations.Quotients.html#1080" class="Function">symmetric</a> <a id="5601" class="Symbol">(</a><a id="5602" href="UALib.Birkhoff.FreeAlgebra.html#4734" class="Function">ψRel</a> <a id="5607" href="UALib.Birkhoff.FreeAlgebra.html#5561" class="Bound">𝒦</a><a id="5608" class="Symbol">)</a>
 <a id="5611" href="UALib.Birkhoff.FreeAlgebra.html#5552" class="Function">ψSymm</a> <a id="5617" href="UALib.Birkhoff.FreeAlgebra.html#5617" class="Bound">p</a> <a id="5619" href="UALib.Birkhoff.FreeAlgebra.html#5619" class="Bound">q</a> <a id="5621" href="UALib.Birkhoff.FreeAlgebra.html#5621" class="Bound">pψRelq</a> <a id="5628" href="UALib.Birkhoff.FreeAlgebra.html#5628" class="Bound">𝑪</a> <a id="5630" href="UALib.Birkhoff.FreeAlgebra.html#5630" class="Bound">ϕ</a> <a id="5632" href="UALib.Birkhoff.FreeAlgebra.html#5632" class="Bound">h</a> <a id="5634" class="Symbol">=</a> <a id="5636" class="Symbol">(</a><a id="5637" href="UALib.Birkhoff.FreeAlgebra.html#5621" class="Bound">pψRelq</a> <a id="5644" href="UALib.Birkhoff.FreeAlgebra.html#5628" class="Bound">𝑪</a> <a id="5646" href="UALib.Birkhoff.FreeAlgebra.html#5630" class="Bound">ϕ</a> <a id="5648" href="UALib.Birkhoff.FreeAlgebra.html#5632" class="Bound">h</a><a id="5649" class="Symbol">)</a><a id="5650" href="MGS-MLTT.html#6125" class="Function Operator">⁻¹</a>

 <a id="the-free-algebra.ψTrans"></a><a id="5655" href="UALib.Birkhoff.FreeAlgebra.html#5655" class="Function">ψTrans</a> <a id="5662" class="Symbol">:</a> <a id="5664" class="Symbol">{</a><a id="5665" href="UALib.Birkhoff.FreeAlgebra.html#5665" class="Bound">𝒦</a> <a id="5667" class="Symbol">:</a> <a id="5669" href="UALib.Relations.Unary.html#1078" class="Function">Pred</a> <a id="5674" class="Symbol">(</a><a id="5675" href="UALib.Algebras.Algebras.html#771" class="Function">Algebra</a> <a id="5683" href="UALib.Birkhoff.FreeAlgebra.html#2711" class="Bound">𝓤</a> <a id="5685" href="UALib.Birkhoff.FreeAlgebra.html#2419" class="Bound">𝑆</a><a id="5686" class="Symbol">)</a> <a id="5688" href="UALib.Birkhoff.FreeAlgebra.html#2809" class="Function">𝓸𝓿𝓾</a><a id="5691" class="Symbol">}</a> <a id="5693" class="Symbol">→</a> <a id="5695" href="UALib.Relations.Quotients.html#1292" class="Function">transitive</a> <a id="5706" class="Symbol">(</a><a id="5707" href="UALib.Birkhoff.FreeAlgebra.html#4734" class="Function">ψRel</a> <a id="5712" href="UALib.Birkhoff.FreeAlgebra.html#5665" class="Bound">𝒦</a><a id="5713" class="Symbol">)</a>
 <a id="5716" href="UALib.Birkhoff.FreeAlgebra.html#5655" class="Function">ψTrans</a> <a id="5723" href="UALib.Birkhoff.FreeAlgebra.html#5723" class="Bound">p</a> <a id="5725" href="UALib.Birkhoff.FreeAlgebra.html#5725" class="Bound">q</a> <a id="5727" href="UALib.Birkhoff.FreeAlgebra.html#5727" class="Bound">r</a> <a id="5729" href="UALib.Birkhoff.FreeAlgebra.html#5729" class="Bound">pψq</a> <a id="5733" href="UALib.Birkhoff.FreeAlgebra.html#5733" class="Bound">qψr</a> <a id="5737" href="UALib.Birkhoff.FreeAlgebra.html#5737" class="Bound">𝑪</a> <a id="5739" href="UALib.Birkhoff.FreeAlgebra.html#5739" class="Bound">ϕ</a> <a id="5741" href="UALib.Birkhoff.FreeAlgebra.html#5741" class="Bound">h</a> <a id="5743" class="Symbol">=</a> <a id="5745" class="Symbol">(</a><a id="5746" href="UALib.Birkhoff.FreeAlgebra.html#5729" class="Bound">pψq</a> <a id="5750" href="UALib.Birkhoff.FreeAlgebra.html#5737" class="Bound">𝑪</a> <a id="5752" href="UALib.Birkhoff.FreeAlgebra.html#5739" class="Bound">ϕ</a> <a id="5754" href="UALib.Birkhoff.FreeAlgebra.html#5741" class="Bound">h</a><a id="5755" class="Symbol">)</a> <a id="5757" href="MGS-MLTT.html#5910" class="Function Operator">∙</a> <a id="5759" class="Symbol">(</a><a id="5760" href="UALib.Birkhoff.FreeAlgebra.html#5733" class="Bound">qψr</a> <a id="5764" href="UALib.Birkhoff.FreeAlgebra.html#5737" class="Bound">𝑪</a> <a id="5766" href="UALib.Birkhoff.FreeAlgebra.html#5739" class="Bound">ϕ</a> <a id="5768" href="UALib.Birkhoff.FreeAlgebra.html#5741" class="Bound">h</a><a id="5769" class="Symbol">)</a>

 <a id="the-free-algebra.ψIsEquivalence"></a><a id="5773" href="UALib.Birkhoff.FreeAlgebra.html#5773" class="Function">ψIsEquivalence</a> <a id="5788" class="Symbol">:</a> <a id="5790" class="Symbol">{</a><a id="5791" href="UALib.Birkhoff.FreeAlgebra.html#5791" class="Bound">𝒦</a> <a id="5793" class="Symbol">:</a> <a id="5795" href="UALib.Relations.Unary.html#1078" class="Function">Pred</a> <a id="5800" class="Symbol">(</a><a id="5801" href="UALib.Algebras.Algebras.html#771" class="Function">Algebra</a> <a id="5809" href="UALib.Birkhoff.FreeAlgebra.html#2711" class="Bound">𝓤</a> <a id="5811" href="UALib.Birkhoff.FreeAlgebra.html#2419" class="Bound">𝑆</a><a id="5812" class="Symbol">)</a> <a id="5814" href="UALib.Birkhoff.FreeAlgebra.html#2809" class="Function">𝓸𝓿𝓾</a><a id="5817" class="Symbol">}</a> <a id="5819" class="Symbol">→</a> <a id="5821" href="UALib.Relations.Quotients.html#1922" class="Record">IsEquivalence</a> <a id="5835" class="Symbol">(</a><a id="5836" href="UALib.Birkhoff.FreeAlgebra.html#4734" class="Function">ψRel</a> <a id="5841" href="UALib.Birkhoff.FreeAlgebra.html#5791" class="Bound">𝒦</a><a id="5842" class="Symbol">)</a>
 <a id="5845" href="UALib.Birkhoff.FreeAlgebra.html#5773" class="Function">ψIsEquivalence</a> <a id="5860" class="Symbol">=</a> <a id="5862" class="Keyword">record</a> <a id="5869" class="Symbol">{</a> <a id="5871" href="UALib.Relations.Quotients.html#1990" class="Field">rfl</a> <a id="5875" class="Symbol">=</a> <a id="5877" href="UALib.Birkhoff.FreeAlgebra.html#5466" class="Function">ψRefl</a> <a id="5883" class="Symbol">;</a> <a id="5885" href="UALib.Relations.Quotients.html#2015" class="Field">sym</a> <a id="5889" class="Symbol">=</a> <a id="5891" href="UALib.Birkhoff.FreeAlgebra.html#5552" class="Function">ψSymm</a> <a id="5897" class="Symbol">;</a> <a id="5899" href="UALib.Relations.Quotients.html#2040" class="Field">trans</a> <a id="5905" class="Symbol">=</a> <a id="5907" href="UALib.Birkhoff.FreeAlgebra.html#5655" class="Function">ψTrans</a> <a id="5914" class="Symbol">}</a>

</pre>

We have collected all the pieces necessary to express the collection of identities satisfied by all subalgebras of algebras in the class as a congruence relation of the term algebra. We call this congruence `ψCon` and define it using the Congruence constructor `mkcon`.

<pre class="Agda">

 <a id="the-free-algebra.ψCon"></a><a id="6215" href="UALib.Birkhoff.FreeAlgebra.html#6215" class="Function">ψCon</a> <a id="6220" class="Symbol">:</a> <a id="6222" class="Symbol">(</a><a id="6223" href="UALib.Birkhoff.FreeAlgebra.html#6223" class="Bound">𝒦</a> <a id="6225" class="Symbol">:</a> <a id="6227" href="UALib.Relations.Unary.html#1078" class="Function">Pred</a> <a id="6232" class="Symbol">(</a><a id="6233" href="UALib.Algebras.Algebras.html#771" class="Function">Algebra</a> <a id="6241" href="UALib.Birkhoff.FreeAlgebra.html#2711" class="Bound">𝓤</a> <a id="6243" href="UALib.Birkhoff.FreeAlgebra.html#2419" class="Bound">𝑆</a><a id="6244" class="Symbol">)</a> <a id="6246" href="UALib.Birkhoff.FreeAlgebra.html#2809" class="Function">𝓸𝓿𝓾</a><a id="6249" class="Symbol">)</a> <a id="6251" class="Symbol">→</a> <a id="6253" href="UALib.Algebras.Congruences.html#891" class="Record">Congruence</a> <a id="6264" class="Symbol">(</a><a id="6265" href="UALib.Terms.Basic.html#3406" class="Function">𝑻</a> <a id="6267" href="UALib.Birkhoff.FreeAlgebra.html#2727" class="Bound">X</a><a id="6268" class="Symbol">)</a>
 <a id="6271" href="UALib.Birkhoff.FreeAlgebra.html#6215" class="Function">ψCon</a> <a id="6276" href="UALib.Birkhoff.FreeAlgebra.html#6276" class="Bound">𝒦</a> <a id="6278" class="Symbol">=</a> <a id="6280" href="UALib.Algebras.Congruences.html#970" class="InductiveConstructor">mkcon</a> <a id="6286" class="Symbol">(</a><a id="6287" href="UALib.Birkhoff.FreeAlgebra.html#4734" class="Function">ψRel</a> <a id="6292" href="UALib.Birkhoff.FreeAlgebra.html#6276" class="Bound">𝒦</a><a id="6293" class="Symbol">)</a> <a id="6295" class="Symbol">(</a><a id="6296" href="UALib.Birkhoff.FreeAlgebra.html#5068" class="Function">ψcompatible</a> <a id="6308" href="UALib.Birkhoff.FreeAlgebra.html#6276" class="Bound">𝒦</a><a id="6309" class="Symbol">)</a> <a id="6311" href="UALib.Birkhoff.FreeAlgebra.html#5773" class="Function">ψIsEquivalence</a>

</pre>


Finally, we are ready to define the type representing the relatively free algebra in Agda.  We denote this type by 𝔉 and define it as the quotient `𝑻 X ╱ (ψCon 𝒦)`.

<pre class="Agda">

<a id="6520" class="Keyword">module</a> <a id="the-relatively-free-algebra"></a><a id="6527" href="UALib.Birkhoff.FreeAlgebra.html#6527" class="Module">the-relatively-free-algebra</a>
 <a id="6556" class="Symbol">{</a><a id="6557" href="UALib.Birkhoff.FreeAlgebra.html#6557" class="Bound">𝓤</a> <a id="6559" href="UALib.Birkhoff.FreeAlgebra.html#6559" class="Bound">𝓧</a> <a id="6561" class="Symbol">:</a> <a id="6563" href="universes.html#551" class="Postulate">Universe</a><a id="6571" class="Symbol">}{</a><a id="6573" href="UALib.Birkhoff.FreeAlgebra.html#6573" class="Bound">X</a> <a id="6575" class="Symbol">:</a> <a id="6577" href="UALib.Birkhoff.FreeAlgebra.html#6559" class="Bound">𝓧</a> <a id="6579" href="universes.html#758" class="Function Operator">̇</a><a id="6580" class="Symbol">}</a> <a id="6582" class="Symbol">{</a><a id="6583" href="UALib.Birkhoff.FreeAlgebra.html#6583" class="Bound">𝒦</a> <a id="6585" class="Symbol">:</a> <a id="6587" href="UALib.Relations.Unary.html#1078" class="Function">Pred</a> <a id="6592" class="Symbol">(</a><a id="6593" href="UALib.Algebras.Algebras.html#771" class="Function">Algebra</a> <a id="6601" href="UALib.Birkhoff.FreeAlgebra.html#6557" class="Bound">𝓤</a> <a id="6603" href="UALib.Birkhoff.FreeAlgebra.html#2419" class="Bound">𝑆</a><a id="6604" class="Symbol">)</a> <a id="6606" class="Symbol">(</a><a id="6607" href="UALib.Algebras.Products.html#2030" class="Function">ov</a> <a id="6610" href="UALib.Birkhoff.FreeAlgebra.html#6557" class="Bound">𝓤</a><a id="6611" class="Symbol">)}</a> <a id="6614" class="Keyword">where</a>

 <a id="6622" class="Keyword">open</a> <a id="6627" href="UALib.Birkhoff.FreeAlgebra.html#2693" class="Module">the-free-algebra</a><a id="6643" class="Symbol">{</a><a id="6644" class="Argument">𝓤</a> <a id="6646" class="Symbol">=</a> <a id="6648" href="UALib.Birkhoff.FreeAlgebra.html#6557" class="Bound">𝓤</a><a id="6649" class="Symbol">}{</a><a id="6651" class="Argument">𝓧</a> <a id="6653" class="Symbol">=</a> <a id="6655" href="UALib.Birkhoff.FreeAlgebra.html#6559" class="Bound">𝓧</a><a id="6656" class="Symbol">}{</a><a id="6658" class="Argument">X</a> <a id="6660" class="Symbol">=</a> <a id="6662" href="UALib.Birkhoff.FreeAlgebra.html#6573" class="Bound">X</a><a id="6663" class="Symbol">}</a>

 <a id="the-relatively-free-algebra.𝓕"></a><a id="6667" href="UALib.Birkhoff.FreeAlgebra.html#6667" class="Function">𝓕</a> <a id="6669" class="Symbol">:</a> <a id="6671" href="universes.html#551" class="Postulate">Universe</a> <a id="6680" class="Comment">-- (universe level of the relatively free algebra)</a>
 <a id="6732" href="UALib.Birkhoff.FreeAlgebra.html#6667" class="Function">𝓕</a> <a id="6734" class="Symbol">=</a> <a id="6736" class="Symbol">(</a><a id="6737" href="UALib.Birkhoff.FreeAlgebra.html#6559" class="Bound">𝓧</a> <a id="6739" href="Agda.Primitive.html#636" class="Function Operator">⊔</a> <a id="6741" href="UALib.Algebras.Products.html#2030" class="Function">ov</a> <a id="6744" href="UALib.Birkhoff.FreeAlgebra.html#6557" class="Bound">𝓤</a><a id="6745" class="Symbol">)</a> <a id="6747" href="universes.html#527" class="Function Operator">⁺</a>

 <a id="the-relatively-free-algebra.𝔉"></a><a id="6751" href="UALib.Birkhoff.FreeAlgebra.html#6751" class="Function">𝔉</a> <a id="6753" class="Symbol">:</a> <a id="6755" href="UALib.Algebras.Algebras.html#771" class="Function">Algebra</a> <a id="6763" href="UALib.Birkhoff.FreeAlgebra.html#6667" class="Function">𝓕</a> <a id="6765" href="UALib.Birkhoff.FreeAlgebra.html#2419" class="Bound">𝑆</a>
 <a id="6768" href="UALib.Birkhoff.FreeAlgebra.html#6751" class="Function">𝔉</a> <a id="6770" class="Symbol">=</a>  <a id="6773" href="UALib.Terms.Basic.html#3406" class="Function">𝑻</a> <a id="6775" href="UALib.Birkhoff.FreeAlgebra.html#6573" class="Bound">X</a> <a id="6777" href="UALib.Algebras.Congruences.html#3100" class="Function Operator">╱</a> <a id="6779" class="Symbol">(</a><a id="6780" href="UALib.Birkhoff.FreeAlgebra.html#6215" class="Function">ψCon</a> <a id="6785" href="UALib.Birkhoff.FreeAlgebra.html#6583" class="Bound">𝒦</a><a id="6786" class="Symbol">)</a>

</pre>

The domain ∣ 𝔉 ∣ is

`∣ 𝑻 X ∣ / ⟨ ψCon 𝒦 ⟩ = Σ C ꞉ _ ,  Σ p ꞉ ∣ 𝑻 X ∣ ,  C ≡ ( [ p ] ⟨ ψCon 𝒦 ⟩ )`,

which is the collection `{ C : ∃ p ∈ ∣ 𝑻 X ∣, C ≡ [ p ]⟨ ψCon 𝒦 ⟩ }` of `⟨ ψCon 𝒦 ⟩`-classses of `𝑻 X`, as desired.


----------------------------

<span class="footnote"><sup>1</sup>Since `X` is not a subset of 𝔉, technically it doesn't make sense to say "`X` generates 𝔉." But as long as 𝒦 contains a nontrivial algebra, we will have `ψ(𝒦, 𝑻 𝑋) ∩ X² ≠ ∅`, and we can identify `X` with `X / ψ(𝒦, 𝑻 X)` which does belong to 𝔉.</span>

[↑ UALib.Birkhoff](UALib.Birkhoff.html)
<span style="float:right;">[UALib.Birkhoff.HSPTheorem →](UALib.Birkhoff.HSPTheorem.html)</span>

{% include UALib.Links.md %}

<!--

Lemma 4.27. (Bergman) Let 𝒦 be a class of algebras, and ψCon defined as above.
                     Then 𝔽 := 𝑻 / ψCon is isomorphic to an algebra in SP(𝒦).

Proof. 𝔽 ↪ ⨅ 𝒜, where 𝒜 = {𝑨 / θ : 𝑨 / θ ∈ S 𝒦}.
       Therefore, 𝔽 ≅ 𝑩, where 𝑩 is a subalgebra of ⨅ 𝒜 ∈ PS(𝒦).
       Thus 𝔽 is isomorphic to an algebra in SPS(𝒦).
       By SPS⊆SP, 𝔽 is isomorphic to an algebra in SP(𝒦).

-->



